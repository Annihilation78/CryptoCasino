function vre(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vG={exports:{}},VT={},yG={exports:{}},Dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b=Symbol.for("react.element"),yre=Symbol.for("react.portal"),_re=Symbol.for("react.fragment"),xre=Symbol.for("react.strict_mode"),bre=Symbol.for("react.profiler"),wre=Symbol.for("react.provider"),Sre=Symbol.for("react.context"),Are=Symbol.for("react.forward_ref"),Ere=Symbol.for("react.suspense"),Tre=Symbol.for("react.memo"),Cre=Symbol.for("react.lazy"),M4=Symbol.iterator;function Mre(t){return t===null||typeof t!="object"?null:(t=M4&&t[M4]||t["@@iterator"],typeof t=="function"?t:null)}var _G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xG=Object.assign,bG={};function uy(t,e,n){this.props=t,this.context=e,this.refs=bG,this.updater=n||_G}uy.prototype.isReactComponent={};uy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wG(){}wG.prototype=uy.prototype;function FD(t,e,n){this.props=t,this.context=e,this.refs=bG,this.updater=n||_G}var UD=FD.prototype=new wG;UD.constructor=FD;xG(UD,uy.prototype);UD.isPureReactComponent=!0;var P4=Array.isArray,SG=Object.prototype.hasOwnProperty,zD={current:null},AG={key:!0,ref:!0,__self:!0,__source:!0};function EG(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SG.call(e,r)&&!AG.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_b,type:t,key:s,ref:o,props:i,_owner:zD.current}}function Pre(t,e){return{$$typeof:_b,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VD(t){return typeof t=="object"&&t!==null&&t.$$typeof===_b}function Ire(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I4=/\/+/g;function IP(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ire(""+t.key):e.toString(36)}function eA(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _b:case yre:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+IP(o,0):r,P4(i)?(n="",t!=null&&(n=t.replace(I4,"$&/")+"/"),eA(i,e,n,"",function(c){return c})):i!=null&&(VD(i)&&(i=Pre(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",P4(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+IP(s,a);o+=eA(s,e,n,l,i)}else if(l=Mre(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+IP(s,a++),o+=eA(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ow(t,e,n){if(t==null)return t;var r=[],i=0;return eA(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Rre(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ra={current:null},tA={transition:null},Lre={ReactCurrentDispatcher:Ra,ReactCurrentBatchConfig:tA,ReactCurrentOwner:zD};Dr.Children={map:ow,forEach:function(t,e,n){ow(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ow(t,function(){e++}),e},toArray:function(t){return ow(t,function(e){return e})||[]},only:function(t){if(!VD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dr.Component=uy;Dr.Fragment=_re;Dr.Profiler=bre;Dr.PureComponent=FD;Dr.StrictMode=xre;Dr.Suspense=Ere;Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lre;Dr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xG({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zD.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SG.call(e,l)&&!AG.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_b,type:t.type,key:i,ref:s,props:r,_owner:o}};Dr.createContext=function(t){return t={$$typeof:Sre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wre,_context:t},t.Consumer=t};Dr.createElement=EG;Dr.createFactory=function(t){var e=EG.bind(null,t);return e.type=t,e};Dr.createRef=function(){return{current:null}};Dr.forwardRef=function(t){return{$$typeof:Are,render:t}};Dr.isValidElement=VD;Dr.lazy=function(t){return{$$typeof:Cre,_payload:{_status:-1,_result:t},_init:Rre}};Dr.memo=function(t,e){return{$$typeof:Tre,type:t,compare:e===void 0?null:e}};Dr.startTransition=function(t){var e=tA.transition;tA.transition={};try{t()}finally{tA.transition=e}};Dr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Dr.useCallback=function(t,e){return Ra.current.useCallback(t,e)};Dr.useContext=function(t){return Ra.current.useContext(t)};Dr.useDebugValue=function(){};Dr.useDeferredValue=function(t){return Ra.current.useDeferredValue(t)};Dr.useEffect=function(t,e){return Ra.current.useEffect(t,e)};Dr.useId=function(){return Ra.current.useId()};Dr.useImperativeHandle=function(t,e,n){return Ra.current.useImperativeHandle(t,e,n)};Dr.useInsertionEffect=function(t,e){return Ra.current.useInsertionEffect(t,e)};Dr.useLayoutEffect=function(t,e){return Ra.current.useLayoutEffect(t,e)};Dr.useMemo=function(t,e){return Ra.current.useMemo(t,e)};Dr.useReducer=function(t,e,n){return Ra.current.useReducer(t,e,n)};Dr.useRef=function(t){return Ra.current.useRef(t)};Dr.useState=function(t){return Ra.current.useState(t)};Dr.useSyncExternalStore=function(t,e,n){return Ra.current.useSyncExternalStore(t,e,n)};Dr.useTransition=function(){return Ra.current.useTransition()};Dr.version="18.2.0";yG.exports=Dr;var G=yG.exports;const Te=_f(G),S2=vre({__proto__:null,default:Te},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kre=G,Ore=Symbol.for("react.element"),Dre=Symbol.for("react.fragment"),Nre=Object.prototype.hasOwnProperty,Bre=kre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fre={key:!0,ref:!0,__self:!0,__source:!0};function TG(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Nre.call(e,r)&&!Fre.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ore,type:t,key:s,ref:o,props:i,_owner:Bre.current}}VT.Fragment=Dre;VT.jsx=TG;VT.jsxs=TG;vG.exports=VT;var V=vG.exports,A2={},CG={exports:{}},Ml={},MG={exports:{}},PG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,fe){var re=J.length;J.push(fe);e:for(;0<re;){var Ce=re-1>>>1,ze=J[Ce];if(0<i(ze,fe))J[Ce]=fe,J[re]=ze,re=Ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var fe=J[0],re=J.pop();if(re!==fe){J[0]=re;e:for(var Ce=0,ze=J.length,tt=ze>>>1;Ce<tt;){var Ie=2*(Ce+1)-1,Xe=J[Ie],Re=Ie+1,qe=J[Re];if(0>i(Xe,re))Re<ze&&0>i(qe,Xe)?(J[Ce]=qe,J[Re]=re,Ce=Re):(J[Ce]=Xe,J[Ie]=re,Ce=Ie);else if(Re<ze&&0>i(qe,re))J[Ce]=qe,J[Re]=re,Ce=Re;else break e}}return fe}function i(J,fe){var re=J.sortIndex-fe.sortIndex;return re!==0?re:J.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var fe=n(c);fe!==null;){if(fe.callback===null)r(c);else if(fe.startTime<=J)r(c),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(c)}}function I(J){if(b=!1,C(J),!y)if(n(l)!==null)y=!0,Se(z);else{var fe=n(c);fe!==null&&Ue(I,fe.startTime-J)}}function z(J,fe){y=!1,b&&(b=!1,_(W),W=-1),v=!0;var re=f;try{for(C(fe),d=n(l);d!==null&&(!(d.expirationTime>fe)||J&&!ee());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,f=d.priorityLevel;var ze=Ce(d.expirationTime<=fe);fe=t.unstable_now(),typeof ze=="function"?d.callback=ze:d===n(l)&&r(l),C(fe)}else r(l);d=n(l)}if(d!==null)var tt=!0;else{var Ie=n(c);Ie!==null&&Ue(I,Ie.startTime-fe),tt=!1}return tt}finally{d=null,f=re,v=!1}}var N=!1,A=null,W=-1,U=5,F=-1;function ee(){return!(t.unstable_now()-F<U)}function se(){if(A!==null){var J=t.unstable_now();F=J;var fe=!0;try{fe=A(!0,J)}finally{fe?ne():(N=!1,A=null)}}else N=!1}var ne;if(typeof S=="function")ne=function(){S(se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,be=me.port2;me.port1.onmessage=se,ne=function(){be.postMessage(null)}}else ne=function(){w(se,0)};function Se(J){A=J,N||(N=!0,ne())}function Ue(J,fe){W=w(function(){J(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Se(z))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var fe=3;break;default:fe=f}var re=f;f=fe;try{return J()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=f;f=J;try{return fe()}finally{f=re}},t.unstable_scheduleCallback=function(J,fe,re){var Ce=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,J){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=re+ze,J={id:u++,callback:fe,priorityLevel:J,startTime:re,expirationTime:ze,sortIndex:-1},re>Ce?(J.sortIndex=re,e(c,J),n(l)===null&&J===n(c)&&(b?(_(W),W=-1):b=!0,Ue(I,re-Ce))):(J.sortIndex=ze,e(l,J),y||v||(y=!0,Se(z))),J},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(J){var fe=f;return function(){var re=f;f=fe;try{return J.apply(this,arguments)}finally{f=re}}}})(PG);MG.exports=PG;var Ure=MG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IG=G,wl=Ure;function Ct(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RG=new Set,z_={};function xm(t,e){Tv(t,e),Tv(t+"Capture",e)}function Tv(t,e){for(z_[t]=e,t=0;t<e.length;t++)RG.add(e[t])}var Sh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E2=Object.prototype.hasOwnProperty,zre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R4={},L4={};function Vre(t){return E2.call(L4,t)?!0:E2.call(R4,t)?!1:zre.test(t)?L4[t]=!0:(R4[t]=!0,!1)}function Hre(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jre(t,e,n,r){if(e===null||typeof e>"u"||Hre(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function La(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ko={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ko[t]=new La(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ko[e]=new La(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ko[t]=new La(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ko[t]=new La(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ko[t]=new La(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ko[t]=new La(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ko[t]=new La(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ko[t]=new La(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ko[t]=new La(t,5,!1,t.toLowerCase(),null,!1,!1)});var HD=/[\-:]([a-z])/g;function jD(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(HD,jD);ko[e]=new La(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(HD,jD);ko[e]=new La(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(HD,jD);ko[e]=new La(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ko[t]=new La(t,1,!1,t.toLowerCase(),null,!1,!1)});ko.xlinkHref=new La("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ko[t]=new La(t,1,!1,t.toLowerCase(),null,!0,!0)});function GD(t,e,n,r){var i=ko.hasOwnProperty(e)?ko[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jre(e,n,i,r)&&(n=null),r||i===null?Vre(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Uh=IG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aw=Symbol.for("react.element"),Sg=Symbol.for("react.portal"),Ag=Symbol.for("react.fragment"),$D=Symbol.for("react.strict_mode"),T2=Symbol.for("react.profiler"),LG=Symbol.for("react.provider"),kG=Symbol.for("react.context"),WD=Symbol.for("react.forward_ref"),C2=Symbol.for("react.suspense"),M2=Symbol.for("react.suspense_list"),XD=Symbol.for("react.memo"),yd=Symbol.for("react.lazy"),OG=Symbol.for("react.offscreen"),k4=Symbol.iterator;function Ky(t){return t===null||typeof t!="object"?null:(t=k4&&t[k4]||t["@@iterator"],typeof t=="function"?t:null)}var ji=Object.assign,RP;function k0(t){if(RP===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);RP=e&&e[1]||""}return`
`+RP+t}var LP=!1;function kP(t,e){if(!t||LP)return"";LP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{LP=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?k0(t):""}function Gre(t){switch(t.tag){case 5:return k0(t.type);case 16:return k0("Lazy");case 13:return k0("Suspense");case 19:return k0("SuspenseList");case 0:case 2:case 15:return t=kP(t.type,!1),t;case 11:return t=kP(t.type.render,!1),t;case 1:return t=kP(t.type,!0),t;default:return""}}function P2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ag:return"Fragment";case Sg:return"Portal";case T2:return"Profiler";case $D:return"StrictMode";case C2:return"Suspense";case M2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kG:return(t.displayName||"Context")+".Consumer";case LG:return(t._context.displayName||"Context")+".Provider";case WD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case XD:return e=t.displayName||null,e!==null?e:P2(t.type)||"Memo";case yd:e=t._payload,t=t._init;try{return P2(t(e))}catch{}}return null}function $re(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P2(e);case 8:return e===$D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DG(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wre(t){var e=DG(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lw(t){t._valueTracker||(t._valueTracker=Wre(t))}function NG(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DG(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I2(t,e){var n=e.checked;return ji({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BG(t,e){e=e.checked,e!=null&&GD(t,"checked",e,!1)}function R2(t,e){BG(t,e);var n=sf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?L2(t,e.type,n):e.hasOwnProperty("defaultValue")&&L2(t,e.type,sf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function D4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function L2(t,e,n){(e!=="number"||tE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var O0=Array.isArray;function nv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ct(91));return ji({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ct(92));if(O0(n)){if(1<n.length)throw Error(Ct(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sf(n)}}function FG(t,e){var n=sf(e.value),r=sf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UG(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UG(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cw,zG=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cw=cw||document.createElement("div"),cw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function V_(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var t_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xre=["Webkit","ms","Moz","O"];Object.keys(t_).forEach(function(t){Xre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),t_[e]=t_[t]})});function VG(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||t_.hasOwnProperty(t)&&t_[t]?(""+e).trim():e+"px"}function HG(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VG(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qre=ji({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D2(t,e){if(e){if(qre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ct(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ct(62))}}function N2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B2=null;function qD(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var F2=null,rv=null,iv=null;function F4(t){if(t=wb(t)){if(typeof F2!="function")throw Error(Ct(280));var e=t.stateNode;e&&(e=WT(e),F2(t.stateNode,t.type,e))}}function jG(t){rv?iv?iv.push(t):iv=[t]:rv=t}function GG(){if(rv){var t=rv,e=iv;if(iv=rv=null,F4(t),e)for(t=0;t<e.length;t++)F4(e[t])}}function $G(t,e){return t(e)}function WG(){}var OP=!1;function XG(t,e,n){if(OP)return t(e,n);OP=!0;try{return $G(t,e,n)}finally{OP=!1,(rv!==null||iv!==null)&&(WG(),GG())}}function H_(t,e){var n=t.stateNode;if(n===null)return null;var r=WT(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ct(231,e,typeof n));return n}var U2=!1;if(Sh)try{var Yy={};Object.defineProperty(Yy,"passive",{get:function(){U2=!0}}),window.addEventListener("test",Yy,Yy),window.removeEventListener("test",Yy,Yy)}catch{U2=!1}function Kre(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var n_=!1,nE=null,rE=!1,z2=null,Yre={onError:function(t){n_=!0,nE=t}};function Jre(t,e,n,r,i,s,o,a,l){n_=!1,nE=null,Kre.apply(Yre,arguments)}function Zre(t,e,n,r,i,s,o,a,l){if(Jre.apply(this,arguments),n_){if(n_){var c=nE;n_=!1,nE=null}else throw Error(Ct(198));rE||(rE=!0,z2=c)}}function bm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U4(t){if(bm(t)!==t)throw Error(Ct(188))}function Qre(t){var e=t.alternate;if(!e){if(e=bm(t),e===null)throw Error(Ct(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U4(i),t;if(s===r)return U4(i),e;s=s.sibling}throw Error(Ct(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ct(189))}}if(n.alternate!==r)throw Error(Ct(190))}if(n.tag!==3)throw Error(Ct(188));return n.stateNode.current===n?t:e}function KG(t){return t=Qre(t),t!==null?YG(t):null}function YG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YG(t);if(e!==null)return e;t=t.sibling}return null}var JG=wl.unstable_scheduleCallback,z4=wl.unstable_cancelCallback,eie=wl.unstable_shouldYield,tie=wl.unstable_requestPaint,fs=wl.unstable_now,nie=wl.unstable_getCurrentPriorityLevel,KD=wl.unstable_ImmediatePriority,ZG=wl.unstable_UserBlockingPriority,iE=wl.unstable_NormalPriority,rie=wl.unstable_LowPriority,QG=wl.unstable_IdlePriority,HT=null,fu=null;function iie(t){if(fu&&typeof fu.onCommitFiberRoot=="function")try{fu.onCommitFiberRoot(HT,t,void 0,(t.current.flags&128)===128)}catch{}}var Nc=Math.clz32?Math.clz32:aie,sie=Math.log,oie=Math.LN2;function aie(t){return t>>>=0,t===0?32:31-(sie(t)/oie|0)|0}var uw=64,hw=4194304;function D0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=D0(a):(s&=o,s!==0&&(r=D0(s)))}else o=n&~i,o!==0?r=D0(o):s!==0&&(r=D0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nc(e),i=1<<n,r|=t[n],e&=~i;return r}function lie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cie(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nc(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lie(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function V2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e$(){var t=uw;return uw<<=1,!(uw&4194240)&&(uw=64),t}function DP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xb(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nc(e),t[e]=n}function uie(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function YD(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var hi=0;function t$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n$,JD,r$,i$,s$,H2=!1,dw=[],Hd=null,jd=null,Gd=null,j_=new Map,G_=new Map,wd=[],hie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V4(t,e){switch(t){case"focusin":case"focusout":Hd=null;break;case"dragenter":case"dragleave":jd=null;break;case"mouseover":case"mouseout":Gd=null;break;case"pointerover":case"pointerout":j_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":G_.delete(e.pointerId)}}function Jy(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wb(e),e!==null&&JD(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function die(t,e,n,r,i){switch(e){case"focusin":return Hd=Jy(Hd,t,e,n,r,i),!0;case"dragenter":return jd=Jy(jd,t,e,n,r,i),!0;case"mouseover":return Gd=Jy(Gd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return j_.set(s,Jy(j_.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,G_.set(s,Jy(G_.get(s)||null,t,e,n,r,i)),!0}return!1}function o$(t){var e=bp(t.target);if(e!==null){var n=bm(e);if(n!==null){if(e=n.tag,e===13){if(e=qG(n),e!==null){t.blockedOn=e,s$(t.priority,function(){r$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B2=r,n.target.dispatchEvent(r),B2=null}else return e=wb(n),e!==null&&JD(e),t.blockedOn=n,!1;e.shift()}return!0}function H4(t,e,n){nA(t)&&n.delete(e)}function fie(){H2=!1,Hd!==null&&nA(Hd)&&(Hd=null),jd!==null&&nA(jd)&&(jd=null),Gd!==null&&nA(Gd)&&(Gd=null),j_.forEach(H4),G_.forEach(H4)}function Zy(t,e){t.blockedOn===e&&(t.blockedOn=null,H2||(H2=!0,wl.unstable_scheduleCallback(wl.unstable_NormalPriority,fie)))}function $_(t){function e(i){return Zy(i,t)}if(0<dw.length){Zy(dw[0],t);for(var n=1;n<dw.length;n++){var r=dw[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hd!==null&&Zy(Hd,t),jd!==null&&Zy(jd,t),Gd!==null&&Zy(Gd,t),j_.forEach(e),G_.forEach(e),n=0;n<wd.length;n++)r=wd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wd.length&&(n=wd[0],n.blockedOn===null);)o$(n),n.blockedOn===null&&wd.shift()}var sv=Uh.ReactCurrentBatchConfig,oE=!0;function pie(t,e,n,r){var i=hi,s=sv.transition;sv.transition=null;try{hi=1,ZD(t,e,n,r)}finally{hi=i,sv.transition=s}}function mie(t,e,n,r){var i=hi,s=sv.transition;sv.transition=null;try{hi=4,ZD(t,e,n,r)}finally{hi=i,sv.transition=s}}function ZD(t,e,n,r){if(oE){var i=j2(t,e,n,r);if(i===null)$P(t,e,r,aE,n),V4(t,r);else if(die(i,t,e,n,r))r.stopPropagation();else if(V4(t,r),e&4&&-1<hie.indexOf(t)){for(;i!==null;){var s=wb(i);if(s!==null&&n$(s),s=j2(t,e,n,r),s===null&&$P(t,e,r,aE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $P(t,e,r,null,n)}}var aE=null;function j2(t,e,n,r){if(aE=null,t=qD(r),t=bp(t),t!==null)if(e=bm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qG(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aE=t,null}function a$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nie()){case KD:return 1;case ZG:return 4;case iE:case rie:return 16;case QG:return 536870912;default:return 16}default:return 16}}var Id=null,QD=null,rA=null;function l$(){if(rA)return rA;var t,e=QD,n=e.length,r,i="value"in Id?Id.value:Id.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return rA=i.slice(t,1<r?1-r:void 0)}function iA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fw(){return!0}function j4(){return!1}function Pl(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fw:j4,this.isPropagationStopped=j4,this}return ji(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fw)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fw)},persist:function(){},isPersistent:fw}),e}var hy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eN=Pl(hy),bb=ji({},hy,{view:0,detail:0}),gie=Pl(bb),NP,BP,Qy,jT=ji({},bb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qy&&(Qy&&t.type==="mousemove"?(NP=t.screenX-Qy.screenX,BP=t.screenY-Qy.screenY):BP=NP=0,Qy=t),NP)},movementY:function(t){return"movementY"in t?t.movementY:BP}}),G4=Pl(jT),vie=ji({},jT,{dataTransfer:0}),yie=Pl(vie),_ie=ji({},bb,{relatedTarget:0}),FP=Pl(_ie),xie=ji({},hy,{animationName:0,elapsedTime:0,pseudoElement:0}),bie=Pl(xie),wie=ji({},hy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sie=Pl(wie),Aie=ji({},hy,{data:0}),$4=Pl(Aie),Eie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cie[t])?!!e[t]:!1}function tN(){return Mie}var Pie=ji({},bb,{key:function(t){if(t.key){var e=Eie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tN,charCode:function(t){return t.type==="keypress"?iA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iie=Pl(Pie),Rie=ji({},jT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W4=Pl(Rie),Lie=ji({},bb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tN}),kie=Pl(Lie),Oie=ji({},hy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Die=Pl(Oie),Nie=ji({},jT,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bie=Pl(Nie),Fie=[9,13,27,32],nN=Sh&&"CompositionEvent"in window,r_=null;Sh&&"documentMode"in document&&(r_=document.documentMode);var Uie=Sh&&"TextEvent"in window&&!r_,c$=Sh&&(!nN||r_&&8<r_&&11>=r_),X4=" ",q4=!1;function u$(t,e){switch(t){case"keyup":return Fie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eg=!1;function zie(t,e){switch(t){case"compositionend":return h$(e);case"keypress":return e.which!==32?null:(q4=!0,X4);case"textInput":return t=e.data,t===X4&&q4?null:t;default:return null}}function Vie(t,e){if(Eg)return t==="compositionend"||!nN&&u$(t,e)?(t=l$(),rA=QD=Id=null,Eg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c$&&e.locale!=="ko"?null:e.data;default:return null}}var Hie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hie[t.type]:e==="textarea"}function d$(t,e,n,r){jG(r),e=lE(e,"onChange"),0<e.length&&(n=new eN("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var i_=null,W_=null;function jie(t){S$(t,0)}function GT(t){var e=Mg(t);if(NG(e))return t}function Gie(t,e){if(t==="change")return e}var f$=!1;if(Sh){var UP;if(Sh){var zP="oninput"in document;if(!zP){var Y4=document.createElement("div");Y4.setAttribute("oninput","return;"),zP=typeof Y4.oninput=="function"}UP=zP}else UP=!1;f$=UP&&(!document.documentMode||9<document.documentMode)}function J4(){i_&&(i_.detachEvent("onpropertychange",p$),W_=i_=null)}function p$(t){if(t.propertyName==="value"&&GT(W_)){var e=[];d$(e,W_,t,qD(t)),XG(jie,e)}}function $ie(t,e,n){t==="focusin"?(J4(),i_=e,W_=n,i_.attachEvent("onpropertychange",p$)):t==="focusout"&&J4()}function Wie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return GT(W_)}function Xie(t,e){if(t==="click")return GT(e)}function qie(t,e){if(t==="input"||t==="change")return GT(e)}function Kie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fc=typeof Object.is=="function"?Object.is:Kie;function X_(t,e){if(Fc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!E2.call(e,i)||!Fc(t[i],e[i]))return!1}return!0}function Z4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q4(t,e){var n=Z4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z4(n)}}function m$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g$(){for(var t=window,e=tE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tE(t.document)}return e}function rN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yie(t){var e=g$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m$(n.ownerDocument.documentElement,n)){if(r!==null&&rN(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Q4(n,s);var o=Q4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jie=Sh&&"documentMode"in document&&11>=document.documentMode,Tg=null,G2=null,s_=null,$2=!1;function ez(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$2||Tg==null||Tg!==tE(r)||(r=Tg,"selectionStart"in r&&rN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),s_&&X_(s_,r)||(s_=r,r=lE(G2,"onSelect"),0<r.length&&(e=new eN("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tg)))}function pw(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cg={animationend:pw("Animation","AnimationEnd"),animationiteration:pw("Animation","AnimationIteration"),animationstart:pw("Animation","AnimationStart"),transitionend:pw("Transition","TransitionEnd")},VP={},v$={};Sh&&(v$=document.createElement("div").style,"AnimationEvent"in window||(delete Cg.animationend.animation,delete Cg.animationiteration.animation,delete Cg.animationstart.animation),"TransitionEvent"in window||delete Cg.transitionend.transition);function $T(t){if(VP[t])return VP[t];if(!Cg[t])return t;var e=Cg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v$)return VP[t]=e[n];return t}var y$=$T("animationend"),_$=$T("animationiteration"),x$=$T("animationstart"),b$=$T("transitionend"),w$=new Map,tz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xf(t,e){w$.set(t,e),xm(e,[t])}for(var HP=0;HP<tz.length;HP++){var jP=tz[HP],Zie=jP.toLowerCase(),Qie=jP[0].toUpperCase()+jP.slice(1);xf(Zie,"on"+Qie)}xf(y$,"onAnimationEnd");xf(_$,"onAnimationIteration");xf(x$,"onAnimationStart");xf("dblclick","onDoubleClick");xf("focusin","onFocus");xf("focusout","onBlur");xf(b$,"onTransitionEnd");Tv("onMouseEnter",["mouseout","mouseover"]);Tv("onMouseLeave",["mouseout","mouseover"]);Tv("onPointerEnter",["pointerout","pointerover"]);Tv("onPointerLeave",["pointerout","pointerover"]);xm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xm("onBeforeInput",["compositionend","keypress","textInput","paste"]);xm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var N0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ese=new Set("cancel close invalid load scroll toggle".split(" ").concat(N0));function nz(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zre(r,e,void 0,t),t.currentTarget=null}function S$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;nz(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;nz(i,a,c),s=l}}}if(rE)throw t=z2,rE=!1,z2=null,t}function Ti(t,e){var n=e[Y2];n===void 0&&(n=e[Y2]=new Set);var r=t+"__bubble";n.has(r)||(A$(e,t,2,!1),n.add(r))}function GP(t,e,n){var r=0;e&&(r|=4),A$(n,t,r,e)}var mw="_reactListening"+Math.random().toString(36).slice(2);function q_(t){if(!t[mw]){t[mw]=!0,RG.forEach(function(n){n!=="selectionchange"&&(ese.has(n)||GP(n,!1,t),GP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mw]||(e[mw]=!0,GP("selectionchange",!1,e))}}function A$(t,e,n,r){switch(a$(e)){case 1:var i=pie;break;case 4:i=mie;break;default:i=ZD}n=i.bind(null,e,n,t),i=void 0,!U2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $P(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bp(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XG(function(){var c=s,u=qD(n),d=[];e:{var f=w$.get(t);if(f!==void 0){var v=eN,y=t;switch(t){case"keypress":if(iA(n)===0)break e;case"keydown":case"keyup":v=Iie;break;case"focusin":y="focus",v=FP;break;case"focusout":y="blur",v=FP;break;case"beforeblur":case"afterblur":v=FP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=G4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=yie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=kie;break;case y$:case _$:case x$:v=bie;break;case b$:v=Die;break;case"scroll":v=gie;break;case"wheel":v=Bie;break;case"copy":case"cut":case"paste":v=Sie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=W4}var b=(e&4)!==0,w=!b&&t==="scroll",_=b?f!==null?f+"Capture":null:f;b=[];for(var S=c,C;S!==null;){C=S;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,_!==null&&(I=H_(S,_),I!=null&&b.push(K_(S,I,C)))),w)break;S=S.return}0<b.length&&(f=new v(f,y,null,n,u),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==B2&&(y=n.relatedTarget||n.fromElement)&&(bp(y)||y[Ah]))break e;if((v||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?bp(y):null,y!==null&&(w=bm(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(b=G4,I="onMouseLeave",_="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=W4,I="onPointerLeave",_="onPointerEnter",S="pointer"),w=v==null?f:Mg(v),C=y==null?f:Mg(y),f=new b(I,S+"leave",v,n,u),f.target=w,f.relatedTarget=C,I=null,bp(u)===c&&(b=new b(_,S+"enter",y,n,u),b.target=C,b.relatedTarget=w,I=b),w=I,v&&y)t:{for(b=v,_=y,S=0,C=b;C;C=Hm(C))S++;for(C=0,I=_;I;I=Hm(I))C++;for(;0<S-C;)b=Hm(b),S--;for(;0<C-S;)_=Hm(_),C--;for(;S--;){if(b===_||_!==null&&b===_.alternate)break t;b=Hm(b),_=Hm(_)}b=null}else b=null;v!==null&&rz(d,f,v,b,!1),y!==null&&w!==null&&rz(d,w,y,b,!0)}}e:{if(f=c?Mg(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var z=Gie;else if(K4(f))if(f$)z=qie;else{z=Wie;var N=$ie}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(z=Xie);if(z&&(z=z(t,c))){d$(d,z,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&L2(f,"number",f.value)}switch(N=c?Mg(c):window,t){case"focusin":(K4(N)||N.contentEditable==="true")&&(Tg=N,G2=c,s_=null);break;case"focusout":s_=G2=Tg=null;break;case"mousedown":$2=!0;break;case"contextmenu":case"mouseup":case"dragend":$2=!1,ez(d,n,u);break;case"selectionchange":if(Jie)break;case"keydown":case"keyup":ez(d,n,u)}var A;if(nN)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Eg?u$(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(c$&&n.locale!=="ko"&&(Eg||W!=="onCompositionStart"?W==="onCompositionEnd"&&Eg&&(A=l$()):(Id=u,QD="value"in Id?Id.value:Id.textContent,Eg=!0)),N=lE(c,W),0<N.length&&(W=new $4(W,t,null,n,u),d.push({event:W,listeners:N}),A?W.data=A:(A=h$(n),A!==null&&(W.data=A)))),(A=Uie?zie(t,n):Vie(t,n))&&(c=lE(c,"onBeforeInput"),0<c.length&&(u=new $4("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}S$(d,e)})}function K_(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=H_(t,n),s!=null&&r.unshift(K_(t,s,i)),s=H_(t,e),s!=null&&r.push(K_(t,s,i))),t=t.return}return r}function Hm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rz(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=H_(n,s),l!=null&&o.unshift(K_(n,l,a))):i||(l=H_(n,s),l!=null&&o.push(K_(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tse=/\r\n?/g,nse=/\u0000|\uFFFD/g;function iz(t){return(typeof t=="string"?t:""+t).replace(tse,`
`).replace(nse,"")}function gw(t,e,n){if(e=iz(e),iz(t)!==e&&n)throw Error(Ct(425))}function cE(){}var W2=null,X2=null;function q2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var K2=typeof setTimeout=="function"?setTimeout:void 0,rse=typeof clearTimeout=="function"?clearTimeout:void 0,sz=typeof Promise=="function"?Promise:void 0,ise=typeof queueMicrotask=="function"?queueMicrotask:typeof sz<"u"?function(t){return sz.resolve(null).then(t).catch(sse)}:K2;function sse(t){setTimeout(function(){throw t})}function WP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$_(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$_(e)}function $d(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dy=Math.random().toString(36).slice(2),ru="__reactFiber$"+dy,Y_="__reactProps$"+dy,Ah="__reactContainer$"+dy,Y2="__reactEvents$"+dy,ose="__reactListeners$"+dy,ase="__reactHandles$"+dy;function bp(t){var e=t[ru];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ah]||n[ru]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oz(t);t!==null;){if(n=t[ru])return n;t=oz(t)}return e}t=n,n=t.parentNode}return null}function wb(t){return t=t[ru]||t[Ah],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ct(33))}function WT(t){return t[Y_]||null}var J2=[],Pg=-1;function bf(t){return{current:t}}function Ri(t){0>Pg||(t.current=J2[Pg],J2[Pg]=null,Pg--)}function bi(t,e){Pg++,J2[Pg]=t.current,t.current=e}var of={},ca=bf(of),Ya=bf(!1),Zp=of;function Cv(t,e){var n=t.type.contextTypes;if(!n)return of;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ja(t){return t=t.childContextTypes,t!=null}function uE(){Ri(Ya),Ri(ca)}function az(t,e,n){if(ca.current!==of)throw Error(Ct(168));bi(ca,e),bi(Ya,n)}function E$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ct(108,$re(t)||"Unknown",i));return ji({},n,r)}function hE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||of,Zp=ca.current,bi(ca,t),bi(Ya,Ya.current),!0}function lz(t,e,n){var r=t.stateNode;if(!r)throw Error(Ct(169));n?(t=E$(t,e,Zp),r.__reactInternalMemoizedMergedChildContext=t,Ri(Ya),Ri(ca),bi(ca,t)):Ri(Ya),bi(Ya,n)}var Ju=null,XT=!1,XP=!1;function T$(t){Ju===null?Ju=[t]:Ju.push(t)}function lse(t){XT=!0,T$(t)}function wf(){if(!XP&&Ju!==null){XP=!0;var t=0,e=hi;try{var n=Ju;for(hi=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ju=null,XT=!1}catch(i){throw Ju!==null&&(Ju=Ju.slice(t+1)),JG(KD,wf),i}finally{hi=e,XP=!1}}return null}var Ig=[],Rg=0,dE=null,fE=0,Yl=[],Jl=0,Qp=null,sh=1,oh="";function op(t,e){Ig[Rg++]=fE,Ig[Rg++]=dE,dE=t,fE=e}function C$(t,e,n){Yl[Jl++]=sh,Yl[Jl++]=oh,Yl[Jl++]=Qp,Qp=t;var r=sh;t=oh;var i=32-Nc(r)-1;r&=~(1<<i),n+=1;var s=32-Nc(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,sh=1<<32-Nc(e)+i|n<<i|r,oh=s+t}else sh=1<<s|n<<i|r,oh=t}function iN(t){t.return!==null&&(op(t,1),C$(t,1,0))}function sN(t){for(;t===dE;)dE=Ig[--Rg],Ig[Rg]=null,fE=Ig[--Rg],Ig[Rg]=null;for(;t===Qp;)Qp=Yl[--Jl],Yl[Jl]=null,oh=Yl[--Jl],Yl[Jl]=null,sh=Yl[--Jl],Yl[Jl]=null}var gl=null,fl=null,Di=!1,Pc=null;function M$(t,e){var n=ic(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gl=t,fl=$d(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gl=t,fl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qp!==null?{id:sh,overflow:oh}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ic(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gl=t,fl=null,!0):!1;default:return!1}}function Z2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Q2(t){if(Di){var e=fl;if(e){var n=e;if(!cz(t,e)){if(Z2(t))throw Error(Ct(418));e=$d(n.nextSibling);var r=gl;e&&cz(t,e)?M$(r,n):(t.flags=t.flags&-4097|2,Di=!1,gl=t)}}else{if(Z2(t))throw Error(Ct(418));t.flags=t.flags&-4097|2,Di=!1,gl=t}}}function uz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gl=t}function vw(t){if(t!==gl)return!1;if(!Di)return uz(t),Di=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!q2(t.type,t.memoizedProps)),e&&(e=fl)){if(Z2(t))throw P$(),Error(Ct(418));for(;e;)M$(t,e),e=$d(e.nextSibling)}if(uz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ct(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fl=$d(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fl=null}}else fl=gl?$d(t.stateNode.nextSibling):null;return!0}function P$(){for(var t=fl;t;)t=$d(t.nextSibling)}function Mv(){fl=gl=null,Di=!1}function oN(t){Pc===null?Pc=[t]:Pc.push(t)}var cse=Uh.ReactCurrentBatchConfig;function Tc(t,e){if(t&&t.defaultProps){e=ji({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pE=bf(null),mE=null,Lg=null,aN=null;function lN(){aN=Lg=mE=null}function cN(t){var e=pE.current;Ri(pE),t._currentValue=e}function eL(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ov(t,e){mE=t,aN=Lg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qa=!0),t.firstContext=null)}function lc(t){var e=t._currentValue;if(aN!==t)if(t={context:t,memoizedValue:e,next:null},Lg===null){if(mE===null)throw Error(Ct(308));Lg=t,mE.dependencies={lanes:0,firstContext:t}}else Lg=Lg.next=t;return e}var wp=null;function uN(t){wp===null?wp=[t]:wp.push(t)}function I$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uN(e)):(n.next=i.next,i.next=n),e.interleaved=n,Eh(t,r)}function Eh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _d=!1;function hN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mh(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wd(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$r&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Eh(t,n)}return i=r.interleaved,i===null?(e.next=e,uN(r)):(e.next=i.next,i.next=e),r.interleaved=e,Eh(t,n)}function sA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YD(t,n)}}function hz(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gE(t,e,n,r){var i=t.updateQueue;_d=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,v=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(f=e,v=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(v,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,f=typeof y=="function"?y.call(v,d,f):y,f==null)break e;d=ji({},d,f);break e;case 2:_d=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=v,l=d):u=u.next=v,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);tm|=o,t.lanes=o,t.memoizedState=d}}function dz(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ct(191,i));i.call(r)}}}var L$=new IG.Component().refs;function tL(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ji({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qT={isMounted:function(t){return(t=t._reactInternals)?bm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ma(),i=qd(t),s=mh(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wd(t,s,i),e!==null&&(Bc(e,t,i,r),sA(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ma(),i=qd(t),s=mh(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wd(t,s,i),e!==null&&(Bc(e,t,i,r),sA(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ma(),r=qd(t),i=mh(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wd(t,i,r),e!==null&&(Bc(e,t,r,n),sA(e,t,r))}};function fz(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!X_(n,r)||!X_(i,s):!0}function k$(t,e,n){var r=!1,i=of,s=e.contextType;return typeof s=="object"&&s!==null?s=lc(s):(i=Ja(e)?Zp:ca.current,r=e.contextTypes,s=(r=r!=null)?Cv(t,i):of),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qT,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pz(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qT.enqueueReplaceState(e,e.state,null)}function nL(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=L$,hN(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=lc(s):(s=Ja(e)?Zp:ca.current,i.context=Cv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tL(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qT.enqueueReplaceState(i,i.state,null),gE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function e0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ct(309));var r=n.stateNode}if(!r)throw Error(Ct(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===L$&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ct(284));if(!n._owner)throw Error(Ct(290,t))}return t}function yw(t,e){throw t=Object.prototype.toString.call(e),Error(Ct(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mz(t){var e=t._init;return e(t._payload)}function O$(t){function e(_,S){if(t){var C=_.deletions;C===null?(_.deletions=[S],_.flags|=16):C.push(S)}}function n(_,S){if(!t)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=Kd(_,S),_.index=0,_.sibling=null,_}function s(_,S,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<S?(_.flags|=2,S):C):(_.flags|=2,S)):(_.flags|=1048576,S)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,S,C,I){return S===null||S.tag!==6?(S=eI(C,_.mode,I),S.return=_,S):(S=i(S,C),S.return=_,S)}function l(_,S,C,I){var z=C.type;return z===Ag?u(_,S,C.props.children,I,C.key):S!==null&&(S.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===yd&&mz(z)===S.type)?(I=i(S,C.props),I.ref=e0(_,S,C),I.return=_,I):(I=hA(C.type,C.key,C.props,null,_.mode,I),I.ref=e0(_,S,C),I.return=_,I)}function c(_,S,C,I){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=tI(C,_.mode,I),S.return=_,S):(S=i(S,C.children||[]),S.return=_,S)}function u(_,S,C,I,z){return S===null||S.tag!==7?(S=Up(C,_.mode,I,z),S.return=_,S):(S=i(S,C),S.return=_,S)}function d(_,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=eI(""+S,_.mode,C),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case aw:return C=hA(S.type,S.key,S.props,null,_.mode,C),C.ref=e0(_,null,S),C.return=_,C;case Sg:return S=tI(S,_.mode,C),S.return=_,S;case yd:var I=S._init;return d(_,I(S._payload),C)}if(O0(S)||Ky(S))return S=Up(S,_.mode,C,null),S.return=_,S;yw(_,S)}return null}function f(_,S,C,I){var z=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return z!==null?null:a(_,S,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case aw:return C.key===z?l(_,S,C,I):null;case Sg:return C.key===z?c(_,S,C,I):null;case yd:return z=C._init,f(_,S,z(C._payload),I)}if(O0(C)||Ky(C))return z!==null?null:u(_,S,C,I,null);yw(_,C)}return null}function v(_,S,C,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(C)||null,a(S,_,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case aw:return _=_.get(I.key===null?C:I.key)||null,l(S,_,I,z);case Sg:return _=_.get(I.key===null?C:I.key)||null,c(S,_,I,z);case yd:var N=I._init;return v(_,S,C,N(I._payload),z)}if(O0(I)||Ky(I))return _=_.get(C)||null,u(S,_,I,z,null);yw(S,I)}return null}function y(_,S,C,I){for(var z=null,N=null,A=S,W=S=0,U=null;A!==null&&W<C.length;W++){A.index>W?(U=A,A=null):U=A.sibling;var F=f(_,A,C[W],I);if(F===null){A===null&&(A=U);break}t&&A&&F.alternate===null&&e(_,A),S=s(F,S,W),N===null?z=F:N.sibling=F,N=F,A=U}if(W===C.length)return n(_,A),Di&&op(_,W),z;if(A===null){for(;W<C.length;W++)A=d(_,C[W],I),A!==null&&(S=s(A,S,W),N===null?z=A:N.sibling=A,N=A);return Di&&op(_,W),z}for(A=r(_,A);W<C.length;W++)U=v(A,_,W,C[W],I),U!==null&&(t&&U.alternate!==null&&A.delete(U.key===null?W:U.key),S=s(U,S,W),N===null?z=U:N.sibling=U,N=U);return t&&A.forEach(function(ee){return e(_,ee)}),Di&&op(_,W),z}function b(_,S,C,I){var z=Ky(C);if(typeof z!="function")throw Error(Ct(150));if(C=z.call(C),C==null)throw Error(Ct(151));for(var N=z=null,A=S,W=S=0,U=null,F=C.next();A!==null&&!F.done;W++,F=C.next()){A.index>W?(U=A,A=null):U=A.sibling;var ee=f(_,A,F.value,I);if(ee===null){A===null&&(A=U);break}t&&A&&ee.alternate===null&&e(_,A),S=s(ee,S,W),N===null?z=ee:N.sibling=ee,N=ee,A=U}if(F.done)return n(_,A),Di&&op(_,W),z;if(A===null){for(;!F.done;W++,F=C.next())F=d(_,F.value,I),F!==null&&(S=s(F,S,W),N===null?z=F:N.sibling=F,N=F);return Di&&op(_,W),z}for(A=r(_,A);!F.done;W++,F=C.next())F=v(A,_,W,F.value,I),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?W:F.key),S=s(F,S,W),N===null?z=F:N.sibling=F,N=F);return t&&A.forEach(function(se){return e(_,se)}),Di&&op(_,W),z}function w(_,S,C,I){if(typeof C=="object"&&C!==null&&C.type===Ag&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case aw:e:{for(var z=C.key,N=S;N!==null;){if(N.key===z){if(z=C.type,z===Ag){if(N.tag===7){n(_,N.sibling),S=i(N,C.props.children),S.return=_,_=S;break e}}else if(N.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===yd&&mz(z)===N.type){n(_,N.sibling),S=i(N,C.props),S.ref=e0(_,N,C),S.return=_,_=S;break e}n(_,N);break}else e(_,N);N=N.sibling}C.type===Ag?(S=Up(C.props.children,_.mode,I,C.key),S.return=_,_=S):(I=hA(C.type,C.key,C.props,null,_.mode,I),I.ref=e0(_,S,C),I.return=_,_=I)}return o(_);case Sg:e:{for(N=C.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(_,S.sibling),S=i(S,C.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else e(_,S);S=S.sibling}S=tI(C,_.mode,I),S.return=_,_=S}return o(_);case yd:return N=C._init,w(_,S,N(C._payload),I)}if(O0(C))return y(_,S,C,I);if(Ky(C))return b(_,S,C,I);yw(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,C),S.return=_,_=S):(n(_,S),S=eI(C,_.mode,I),S.return=_,_=S),o(_)):n(_,S)}return w}var Pv=O$(!0),D$=O$(!1),Sb={},pu=bf(Sb),J_=bf(Sb),Z_=bf(Sb);function Sp(t){if(t===Sb)throw Error(Ct(174));return t}function dN(t,e){switch(bi(Z_,e),bi(J_,t),bi(pu,Sb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:O2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=O2(e,t)}Ri(pu),bi(pu,e)}function Iv(){Ri(pu),Ri(J_),Ri(Z_)}function N$(t){Sp(Z_.current);var e=Sp(pu.current),n=O2(e,t.type);e!==n&&(bi(J_,t),bi(pu,n))}function fN(t){J_.current===t&&(Ri(pu),Ri(J_))}var Fi=bf(0);function vE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qP=[];function pN(){for(var t=0;t<qP.length;t++)qP[t]._workInProgressVersionPrimary=null;qP.length=0}var oA=Uh.ReactCurrentDispatcher,KP=Uh.ReactCurrentBatchConfig,em=0,Hi=null,Ns=null,ro=null,yE=!1,o_=!1,Q_=0,use=0;function Wo(){throw Error(Ct(321))}function mN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fc(t[n],e[n]))return!1;return!0}function gN(t,e,n,r,i,s){if(em=s,Hi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oA.current=t===null||t.memoizedState===null?pse:mse,t=n(r,i),o_){s=0;do{if(o_=!1,Q_=0,25<=s)throw Error(Ct(301));s+=1,ro=Ns=null,e.updateQueue=null,oA.current=gse,t=n(r,i)}while(o_)}if(oA.current=_E,e=Ns!==null&&Ns.next!==null,em=0,ro=Ns=Hi=null,yE=!1,e)throw Error(Ct(300));return t}function vN(){var t=Q_!==0;return Q_=0,t}function Zc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ro===null?Hi.memoizedState=ro=t:ro=ro.next=t,ro}function cc(){if(Ns===null){var t=Hi.alternate;t=t!==null?t.memoizedState:null}else t=Ns.next;var e=ro===null?Hi.memoizedState:ro.next;if(e!==null)ro=e,Ns=t;else{if(t===null)throw Error(Ct(310));Ns=t,t={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},ro===null?Hi.memoizedState=ro=t:ro=ro.next=t}return ro}function ex(t,e){return typeof e=="function"?e(t):e}function YP(t){var e=cc(),n=e.queue;if(n===null)throw Error(Ct(311));n.lastRenderedReducer=t;var r=Ns,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((em&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Hi.lanes|=u,tm|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fc(r,e.memoizedState)||(qa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Hi.lanes|=s,tm|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function JP(t){var e=cc(),n=e.queue;if(n===null)throw Error(Ct(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fc(s,e.memoizedState)||(qa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function B$(){}function F$(t,e){var n=Hi,r=cc(),i=e(),s=!Fc(r.memoizedState,i);if(s&&(r.memoizedState=i,qa=!0),r=r.queue,yN(V$.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ro!==null&&ro.memoizedState.tag&1){if(n.flags|=2048,tx(9,z$.bind(null,n,r,i,e),void 0,null),io===null)throw Error(Ct(349));em&30||U$(n,e,i)}return i}function U$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Hi.updateQueue,e===null?(e={lastEffect:null,stores:null},Hi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z$(t,e,n,r){e.value=n,e.getSnapshot=r,H$(e)&&j$(t)}function V$(t,e,n){return n(function(){H$(e)&&j$(t)})}function H$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fc(t,n)}catch{return!0}}function j$(t){var e=Eh(t,1);e!==null&&Bc(e,t,1,-1)}function gz(t){var e=Zc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ex,lastRenderedState:t},e.queue=t,t=t.dispatch=fse.bind(null,Hi,t),[e.memoizedState,t]}function tx(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Hi.updateQueue,e===null?(e={lastEffect:null,stores:null},Hi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G$(){return cc().memoizedState}function aA(t,e,n,r){var i=Zc();Hi.flags|=t,i.memoizedState=tx(1|e,n,void 0,r===void 0?null:r)}function KT(t,e,n,r){var i=cc();r=r===void 0?null:r;var s=void 0;if(Ns!==null){var o=Ns.memoizedState;if(s=o.destroy,r!==null&&mN(r,o.deps)){i.memoizedState=tx(e,n,s,r);return}}Hi.flags|=t,i.memoizedState=tx(1|e,n,s,r)}function vz(t,e){return aA(8390656,8,t,e)}function yN(t,e){return KT(2048,8,t,e)}function $$(t,e){return KT(4,2,t,e)}function W$(t,e){return KT(4,4,t,e)}function X$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q$(t,e,n){return n=n!=null?n.concat([t]):null,KT(4,4,X$.bind(null,e,t),n)}function _N(){}function K$(t,e){var n=cc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y$(t,e){var n=cc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mN(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J$(t,e,n){return em&21?(Fc(n,e)||(n=e$(),Hi.lanes|=n,tm|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qa=!0),t.memoizedState=n)}function hse(t,e){var n=hi;hi=n!==0&&4>n?n:4,t(!0);var r=KP.transition;KP.transition={};try{t(!1),e()}finally{hi=n,KP.transition=r}}function Z$(){return cc().memoizedState}function dse(t,e,n){var r=qd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q$(t))eW(e,n);else if(n=I$(t,e,n,r),n!==null){var i=Ma();Bc(n,t,r,i),tW(n,e,r)}}function fse(t,e,n){var r=qd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q$(t))eW(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fc(a,o)){var l=e.interleaved;l===null?(i.next=i,uN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=I$(t,e,i,r),n!==null&&(i=Ma(),Bc(n,t,r,i),tW(n,e,r))}}function Q$(t){var e=t.alternate;return t===Hi||e!==null&&e===Hi}function eW(t,e){o_=yE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tW(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YD(t,n)}}var _E={readContext:lc,useCallback:Wo,useContext:Wo,useEffect:Wo,useImperativeHandle:Wo,useInsertionEffect:Wo,useLayoutEffect:Wo,useMemo:Wo,useReducer:Wo,useRef:Wo,useState:Wo,useDebugValue:Wo,useDeferredValue:Wo,useTransition:Wo,useMutableSource:Wo,useSyncExternalStore:Wo,useId:Wo,unstable_isNewReconciler:!1},pse={readContext:lc,useCallback:function(t,e){return Zc().memoizedState=[t,e===void 0?null:e],t},useContext:lc,useEffect:vz,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,aA(4194308,4,X$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return aA(4194308,4,t,e)},useInsertionEffect:function(t,e){return aA(4,2,t,e)},useMemo:function(t,e){var n=Zc();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zc();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dse.bind(null,Hi,t),[r.memoizedState,t]},useRef:function(t){var e=Zc();return t={current:t},e.memoizedState=t},useState:gz,useDebugValue:_N,useDeferredValue:function(t){return Zc().memoizedState=t},useTransition:function(){var t=gz(!1),e=t[0];return t=hse.bind(null,t[1]),Zc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Hi,i=Zc();if(Di){if(n===void 0)throw Error(Ct(407));n=n()}else{if(n=e(),io===null)throw Error(Ct(349));em&30||U$(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vz(V$.bind(null,r,s,t),[t]),r.flags|=2048,tx(9,z$.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zc(),e=io.identifierPrefix;if(Di){var n=oh,r=sh;n=(r&~(1<<32-Nc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Q_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=use++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mse={readContext:lc,useCallback:K$,useContext:lc,useEffect:yN,useImperativeHandle:q$,useInsertionEffect:$$,useLayoutEffect:W$,useMemo:Y$,useReducer:YP,useRef:G$,useState:function(){return YP(ex)},useDebugValue:_N,useDeferredValue:function(t){var e=cc();return J$(e,Ns.memoizedState,t)},useTransition:function(){var t=YP(ex)[0],e=cc().memoizedState;return[t,e]},useMutableSource:B$,useSyncExternalStore:F$,useId:Z$,unstable_isNewReconciler:!1},gse={readContext:lc,useCallback:K$,useContext:lc,useEffect:yN,useImperativeHandle:q$,useInsertionEffect:$$,useLayoutEffect:W$,useMemo:Y$,useReducer:JP,useRef:G$,useState:function(){return JP(ex)},useDebugValue:_N,useDeferredValue:function(t){var e=cc();return Ns===null?e.memoizedState=t:J$(e,Ns.memoizedState,t)},useTransition:function(){var t=JP(ex)[0],e=cc().memoizedState;return[t,e]},useMutableSource:B$,useSyncExternalStore:F$,useId:Z$,unstable_isNewReconciler:!1};function Rv(t,e){try{var n="",r=e;do n+=Gre(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ZP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rL(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vse=typeof WeakMap=="function"?WeakMap:Map;function nW(t,e,n){n=mh(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bE||(bE=!0,fL=r),rL(t,e)},n}function rW(t,e,n){n=mh(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rL(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rL(t,e),typeof r!="function"&&(Xd===null?Xd=new Set([this]):Xd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yz(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vse;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Rse.bind(null,t,e,n),e.then(t,t))}function _z(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xz(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mh(-1,1),e.tag=2,Wd(n,e,1))),n.lanes|=1),t)}var yse=Uh.ReactCurrentOwner,qa=!1;function wa(t,e,n,r){e.child=t===null?D$(e,null,n,r):Pv(e,t.child,n,r)}function bz(t,e,n,r,i){n=n.render;var s=e.ref;return ov(e,i),r=gN(t,e,n,r,s,i),n=vN(),t!==null&&!qa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Th(t,e,i)):(Di&&n&&iN(e),e.flags|=1,wa(t,e,r,i),e.child)}function wz(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!CN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iW(t,e,s,r,i)):(t=hA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:X_,n(o,r)&&t.ref===e.ref)return Th(t,e,i)}return e.flags|=1,t=Kd(s,r),t.ref=e.ref,t.return=e,e.child=t}function iW(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(X_(s,r)&&t.ref===e.ref)if(qa=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qa=!0);else return e.lanes=t.lanes,Th(t,e,i)}return iL(t,e,n,r,i)}function sW(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(Og,cl),cl|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bi(Og,cl),cl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,bi(Og,cl),cl|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,bi(Og,cl),cl|=r;return wa(t,e,i,n),e.child}function oW(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iL(t,e,n,r,i){var s=Ja(n)?Zp:ca.current;return s=Cv(e,s),ov(e,i),n=gN(t,e,n,r,s,i),r=vN(),t!==null&&!qa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Th(t,e,i)):(Di&&r&&iN(e),e.flags|=1,wa(t,e,n,i),e.child)}function Sz(t,e,n,r,i){if(Ja(n)){var s=!0;hE(e)}else s=!1;if(ov(e,i),e.stateNode===null)lA(t,e),k$(e,n,r),nL(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=lc(c):(c=Ja(n)?Zp:ca.current,c=Cv(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&pz(e,o,r,c),_d=!1;var f=e.memoizedState;o.state=f,gE(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ya.current||_d?(typeof u=="function"&&(tL(e,n,u,r),l=e.memoizedState),(a=_d||fz(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,R$(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tc(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lc(l):(l=Ja(n)?Zp:ca.current,l=Cv(e,l));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&pz(e,o,r,l),_d=!1,f=e.memoizedState,o.state=f,gE(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Ya.current||_d?(typeof v=="function"&&(tL(e,n,v,r),y=e.memoizedState),(c=_d||fz(e,n,c,r,f,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return sL(t,e,n,r,s,i)}function sL(t,e,n,r,i,s){oW(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lz(e,n,!1),Th(t,e,s);r=e.stateNode,yse.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pv(e,t.child,null,s),e.child=Pv(e,null,a,s)):wa(t,e,a,s),e.memoizedState=r.state,i&&lz(e,n,!0),e.child}function aW(t){var e=t.stateNode;e.pendingContext?az(t,e.pendingContext,e.pendingContext!==e.context):e.context&&az(t,e.context,!1),dN(t,e.containerInfo)}function Az(t,e,n,r,i){return Mv(),oN(i),e.flags|=256,wa(t,e,n,r),e.child}var oL={dehydrated:null,treeContext:null,retryLane:0};function aL(t){return{baseLanes:t,cachePool:null,transitions:null}}function lW(t,e,n){var r=e.pendingProps,i=Fi.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bi(Fi,i&1),t===null)return Q2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ZT(o,r,0,null),t=Up(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=aL(n),e.memoizedState=oL,t):xN(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _se(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kd(a,s):(s=Up(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?aL(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=oL,r}return s=t.child,t=s.sibling,r=Kd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xN(t,e){return e=ZT({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _w(t,e,n,r){return r!==null&&oN(r),Pv(e,t.child,null,n),t=xN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _se(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ZP(Error(Ct(422))),_w(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ZT({mode:"visible",children:r.children},i,0,null),s=Up(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pv(e,t.child,null,o),e.child.memoizedState=aL(o),e.memoizedState=oL,s);if(!(e.mode&1))return _w(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ct(419)),r=ZP(s,r,void 0),_w(t,e,o,r)}if(a=(o&t.childLanes)!==0,qa||a){if(r=io,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Eh(t,i),Bc(r,t,i,-1))}return TN(),r=ZP(Error(Ct(421))),_w(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Lse.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fl=$d(i.nextSibling),gl=e,Di=!0,Pc=null,t!==null&&(Yl[Jl++]=sh,Yl[Jl++]=oh,Yl[Jl++]=Qp,sh=t.id,oh=t.overflow,Qp=e),e=xN(e,r.children),e.flags|=4096,e)}function Ez(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eL(t.return,e,n)}function QP(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cW(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wa(t,e,r.children,n),r=Fi.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ez(t,n,e);else if(t.tag===19)Ez(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bi(Fi,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),QP(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}QP(e,!0,n,null,s);break;case"together":QP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lA(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Th(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tm|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ct(153));if(e.child!==null){for(t=e.child,n=Kd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xse(t,e,n){switch(e.tag){case 3:aW(e),Mv();break;case 5:N$(e);break;case 1:Ja(e.type)&&hE(e);break;case 4:dN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bi(pE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bi(Fi,Fi.current&1),e.flags|=128,null):n&e.child.childLanes?lW(t,e,n):(bi(Fi,Fi.current&1),t=Th(t,e,n),t!==null?t.sibling:null);bi(Fi,Fi.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cW(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(Fi,Fi.current),r)break;return null;case 22:case 23:return e.lanes=0,sW(t,e,n)}return Th(t,e,n)}var uW,lL,hW,dW;uW=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lL=function(){};hW=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sp(pu.current);var s=null;switch(n){case"input":i=I2(t,i),r=I2(t,r),s=[];break;case"select":i=ji({},i,{value:void 0}),r=ji({},r,{value:void 0}),s=[];break;case"textarea":i=k2(t,i),r=k2(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cE)}D2(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(z_.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(z_.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ti("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dW=function(t,e,n,r){n!==r&&(e.flags|=4)};function t0(t,e){if(!Di)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bse(t,e,n){var r=e.pendingProps;switch(sN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(e),null;case 1:return Ja(e.type)&&uE(),Xo(e),null;case 3:return r=e.stateNode,Iv(),Ri(Ya),Ri(ca),pN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pc!==null&&(gL(Pc),Pc=null))),lL(t,e),Xo(e),null;case 5:fN(e);var i=Sp(Z_.current);if(n=e.type,t!==null&&e.stateNode!=null)hW(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ct(166));return Xo(e),null}if(t=Sp(pu.current),vw(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ru]=e,r[Y_]=s,t=(e.mode&1)!==0,n){case"dialog":Ti("cancel",r),Ti("close",r);break;case"iframe":case"object":case"embed":Ti("load",r);break;case"video":case"audio":for(i=0;i<N0.length;i++)Ti(N0[i],r);break;case"source":Ti("error",r);break;case"img":case"image":case"link":Ti("error",r),Ti("load",r);break;case"details":Ti("toggle",r);break;case"input":O4(r,s),Ti("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ti("invalid",r);break;case"textarea":N4(r,s),Ti("invalid",r)}D2(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gw(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gw(r.textContent,a,t),i=["children",""+a]):z_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ti("scroll",r)}switch(n){case"input":lw(r),D4(r,s,!0);break;case"textarea":lw(r),B4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UG(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ru]=e,t[Y_]=r,uW(t,e,!1,!1),e.stateNode=t;e:{switch(o=N2(n,r),n){case"dialog":Ti("cancel",t),Ti("close",t),i=r;break;case"iframe":case"object":case"embed":Ti("load",t),i=r;break;case"video":case"audio":for(i=0;i<N0.length;i++)Ti(N0[i],t);i=r;break;case"source":Ti("error",t),i=r;break;case"img":case"image":case"link":Ti("error",t),Ti("load",t),i=r;break;case"details":Ti("toggle",t),i=r;break;case"input":O4(t,r),i=I2(t,r),Ti("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ji({},r,{value:void 0}),Ti("invalid",t);break;case"textarea":N4(t,r),i=k2(t,r),Ti("invalid",t);break;default:i=r}D2(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?HG(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zG(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&V_(t,l):typeof l=="number"&&V_(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(z_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ti("scroll",t):l!=null&&GD(t,s,l,o))}switch(n){case"input":lw(t),D4(t,r,!1);break;case"textarea":lw(t),B4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sf(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?nv(t,!!r.multiple,s,!1):r.defaultValue!=null&&nv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xo(e),null;case 6:if(t&&e.stateNode!=null)dW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ct(166));if(n=Sp(Z_.current),Sp(pu.current),vw(e)){if(r=e.stateNode,n=e.memoizedProps,r[ru]=e,(s=r.nodeValue!==n)&&(t=gl,t!==null))switch(t.tag){case 3:gw(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gw(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ru]=e,e.stateNode=r}return Xo(e),null;case 13:if(Ri(Fi),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Di&&fl!==null&&e.mode&1&&!(e.flags&128))P$(),Mv(),e.flags|=98560,s=!1;else if(s=vw(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ct(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ct(317));s[ru]=e}else Mv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xo(e),s=!1}else Pc!==null&&(gL(Pc),Pc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fi.current&1?Fs===0&&(Fs=3):TN())),e.updateQueue!==null&&(e.flags|=4),Xo(e),null);case 4:return Iv(),lL(t,e),t===null&&q_(e.stateNode.containerInfo),Xo(e),null;case 10:return cN(e.type._context),Xo(e),null;case 17:return Ja(e.type)&&uE(),Xo(e),null;case 19:if(Ri(Fi),s=e.memoizedState,s===null)return Xo(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)t0(s,!1);else{if(Fs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vE(t),o!==null){for(e.flags|=128,t0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bi(Fi,Fi.current&1|2),e.child}t=t.sibling}s.tail!==null&&fs()>Lv&&(e.flags|=128,r=!0,t0(s,!1),e.lanes=4194304)}else{if(!r)if(t=vE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),t0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Di)return Xo(e),null}else 2*fs()-s.renderingStartTime>Lv&&n!==1073741824&&(e.flags|=128,r=!0,t0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fs(),e.sibling=null,n=Fi.current,bi(Fi,r?n&1|2:n&1),e):(Xo(e),null);case 22:case 23:return EN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cl&1073741824&&(Xo(e),e.subtreeFlags&6&&(e.flags|=8192)):Xo(e),null;case 24:return null;case 25:return null}throw Error(Ct(156,e.tag))}function wse(t,e){switch(sN(e),e.tag){case 1:return Ja(e.type)&&uE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Iv(),Ri(Ya),Ri(ca),pN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fN(e),null;case 13:if(Ri(Fi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ct(340));Mv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ri(Fi),null;case 4:return Iv(),null;case 10:return cN(e.type._context),null;case 22:case 23:return EN(),null;case 24:return null;default:return null}}var xw=!1,ta=!1,Sse=typeof WeakSet=="function"?WeakSet:Set,fn=null;function kg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){es(t,e,r)}else n.current=null}function cL(t,e,n){try{n()}catch(r){es(t,e,r)}}var Tz=!1;function Ase(t,e){if(W2=oE,t=g$(),rN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(X2={focusedElem:t,selectionRange:n},oE=!1,fn=e;fn!==null;)if(e=fn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fn=t;else for(;fn!==null;){e=fn;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Tc(e.type,b),w);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ct(163))}}catch(I){es(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,fn=t;break}fn=e.return}return y=Tz,Tz=!1,y}function a_(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cL(e,n,s)}i=i.next}while(i!==r)}}function YT(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uL(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fW(t){var e=t.alternate;e!==null&&(t.alternate=null,fW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ru],delete e[Y_],delete e[Y2],delete e[ose],delete e[ase])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pW(t){return t.tag===5||t.tag===3||t.tag===4}function Cz(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hL(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cE));else if(r!==4&&(t=t.child,t!==null))for(hL(t,e,n),t=t.sibling;t!==null;)hL(t,e,n),t=t.sibling}function dL(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dL(t,e,n),t=t.sibling;t!==null;)dL(t,e,n),t=t.sibling}var bo=null,Mc=!1;function td(t,e,n){for(n=n.child;n!==null;)mW(t,e,n),n=n.sibling}function mW(t,e,n){if(fu&&typeof fu.onCommitFiberUnmount=="function")try{fu.onCommitFiberUnmount(HT,n)}catch{}switch(n.tag){case 5:ta||kg(n,e);case 6:var r=bo,i=Mc;bo=null,td(t,e,n),bo=r,Mc=i,bo!==null&&(Mc?(t=bo,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bo.removeChild(n.stateNode));break;case 18:bo!==null&&(Mc?(t=bo,n=n.stateNode,t.nodeType===8?WP(t.parentNode,n):t.nodeType===1&&WP(t,n),$_(t)):WP(bo,n.stateNode));break;case 4:r=bo,i=Mc,bo=n.stateNode.containerInfo,Mc=!0,td(t,e,n),bo=r,Mc=i;break;case 0:case 11:case 14:case 15:if(!ta&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cL(n,e,o),i=i.next}while(i!==r)}td(t,e,n);break;case 1:if(!ta&&(kg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){es(n,e,a)}td(t,e,n);break;case 21:td(t,e,n);break;case 22:n.mode&1?(ta=(r=ta)||n.memoizedState!==null,td(t,e,n),ta=r):td(t,e,n);break;default:td(t,e,n)}}function Mz(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sse),e.forEach(function(r){var i=kse.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _c(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bo=a.stateNode,Mc=!1;break e;case 3:bo=a.stateNode.containerInfo,Mc=!0;break e;case 4:bo=a.stateNode.containerInfo,Mc=!0;break e}a=a.return}if(bo===null)throw Error(Ct(160));mW(s,o,i),bo=null,Mc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){es(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gW(e,t),e=e.sibling}function gW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_c(e,t),Kc(t),r&4){try{a_(3,t,t.return),YT(3,t)}catch(b){es(t,t.return,b)}try{a_(5,t,t.return)}catch(b){es(t,t.return,b)}}break;case 1:_c(e,t),Kc(t),r&512&&n!==null&&kg(n,n.return);break;case 5:if(_c(e,t),Kc(t),r&512&&n!==null&&kg(n,n.return),t.flags&32){var i=t.stateNode;try{V_(i,"")}catch(b){es(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BG(i,s),N2(a,o);var c=N2(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?HG(i,d):u==="dangerouslySetInnerHTML"?zG(i,d):u==="children"?V_(i,d):GD(i,u,d,c)}switch(a){case"input":R2(i,s);break;case"textarea":FG(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?nv(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?nv(i,!!s.multiple,s.defaultValue,!0):nv(i,!!s.multiple,s.multiple?[]:"",!1))}i[Y_]=s}catch(b){es(t,t.return,b)}}break;case 6:if(_c(e,t),Kc(t),r&4){if(t.stateNode===null)throw Error(Ct(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){es(t,t.return,b)}}break;case 3:if(_c(e,t),Kc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$_(e.containerInfo)}catch(b){es(t,t.return,b)}break;case 4:_c(e,t),Kc(t);break;case 13:_c(e,t),Kc(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(SN=fs())),r&4&&Mz(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ta=(c=ta)||u,_c(e,t),ta=c):_c(e,t),Kc(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fn=t,u=t.child;u!==null;){for(d=fn=u;fn!==null;){switch(f=fn,v=f.child,f.tag){case 0:case 11:case 14:case 15:a_(4,f,f.return);break;case 1:kg(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){es(r,n,b)}}break;case 5:kg(f,f.return);break;case 22:if(f.memoizedState!==null){Iz(d);continue}}v!==null?(v.return=f,fn=v):Iz(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VG("display",o))}catch(b){es(t,t.return,b)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){es(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_c(e,t),Kc(t),r&4&&Mz(t);break;case 21:break;default:_c(e,t),Kc(t)}}function Kc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pW(n)){var r=n;break e}n=n.return}throw Error(Ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(V_(i,""),r.flags&=-33);var s=Cz(t);dL(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Cz(t);hL(t,a,o);break;default:throw Error(Ct(161))}}catch(l){es(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ese(t,e,n){fn=t,vW(t)}function vW(t,e,n){for(var r=(t.mode&1)!==0;fn!==null;){var i=fn,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xw;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ta;a=xw;var c=ta;if(xw=o,(ta=l)&&!c)for(fn=i;fn!==null;)o=fn,l=o.child,o.tag===22&&o.memoizedState!==null?Rz(i):l!==null?(l.return=o,fn=l):Rz(i);for(;s!==null;)fn=s,vW(s),s=s.sibling;fn=i,xw=a,ta=c}Pz(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fn=s):Pz(t)}}function Pz(t){for(;fn!==null;){var e=fn;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ta||YT(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ta)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dz(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dz(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$_(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ct(163))}ta||e.flags&512&&uL(e)}catch(f){es(e,e.return,f)}}if(e===t){fn=null;break}if(n=e.sibling,n!==null){n.return=e.return,fn=n;break}fn=e.return}}function Iz(t){for(;fn!==null;){var e=fn;if(e===t){fn=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fn=n;break}fn=e.return}}function Rz(t){for(;fn!==null;){var e=fn;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{YT(4,e)}catch(l){es(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){es(e,i,l)}}var s=e.return;try{uL(e)}catch(l){es(e,s,l)}break;case 5:var o=e.return;try{uL(e)}catch(l){es(e,o,l)}}}catch(l){es(e,e.return,l)}if(e===t){fn=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fn=a;break}fn=e.return}}var Tse=Math.ceil,xE=Uh.ReactCurrentDispatcher,bN=Uh.ReactCurrentOwner,oc=Uh.ReactCurrentBatchConfig,$r=0,io=null,Ms=null,Mo=0,cl=0,Og=bf(0),Fs=0,nx=null,tm=0,JT=0,wN=0,l_=null,Ga=null,SN=0,Lv=1/0,qu=null,bE=!1,fL=null,Xd=null,bw=!1,Rd=null,wE=0,c_=0,pL=null,cA=-1,uA=0;function Ma(){return $r&6?fs():cA!==-1?cA:cA=fs()}function qd(t){return t.mode&1?$r&2&&Mo!==0?Mo&-Mo:cse.transition!==null?(uA===0&&(uA=e$()),uA):(t=hi,t!==0||(t=window.event,t=t===void 0?16:a$(t.type)),t):1}function Bc(t,e,n,r){if(50<c_)throw c_=0,pL=null,Error(Ct(185));xb(t,n,r),(!($r&2)||t!==io)&&(t===io&&(!($r&2)&&(JT|=n),Fs===4&&Sd(t,Mo)),Za(t,r),n===1&&$r===0&&!(e.mode&1)&&(Lv=fs()+500,XT&&wf()))}function Za(t,e){var n=t.callbackNode;cie(t,e);var r=sE(t,t===io?Mo:0);if(r===0)n!==null&&z4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&z4(n),e===1)t.tag===0?lse(Lz.bind(null,t)):T$(Lz.bind(null,t)),ise(function(){!($r&6)&&wf()}),n=null;else{switch(t$(r)){case 1:n=KD;break;case 4:n=ZG;break;case 16:n=iE;break;case 536870912:n=QG;break;default:n=iE}n=EW(n,yW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yW(t,e){if(cA=-1,uA=0,$r&6)throw Error(Ct(327));var n=t.callbackNode;if(av()&&t.callbackNode!==n)return null;var r=sE(t,t===io?Mo:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=SE(t,r);else{e=r;var i=$r;$r|=2;var s=xW();(io!==t||Mo!==e)&&(qu=null,Lv=fs()+500,Fp(t,e));do try{Pse();break}catch(a){_W(t,a)}while(!0);lN(),xE.current=s,$r=i,Ms!==null?e=0:(io=null,Mo=0,e=Fs)}if(e!==0){if(e===2&&(i=V2(t),i!==0&&(r=i,e=mL(t,i))),e===1)throw n=nx,Fp(t,0),Sd(t,r),Za(t,fs()),n;if(e===6)Sd(t,r);else{if(i=t.current.alternate,!(r&30)&&!Cse(i)&&(e=SE(t,r),e===2&&(s=V2(t),s!==0&&(r=s,e=mL(t,s))),e===1))throw n=nx,Fp(t,0),Sd(t,r),Za(t,fs()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ct(345));case 2:ap(t,Ga,qu);break;case 3:if(Sd(t,r),(r&130023424)===r&&(e=SN+500-fs(),10<e)){if(sE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ma(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=K2(ap.bind(null,t,Ga,qu),e);break}ap(t,Ga,qu);break;case 4:if(Sd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nc(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tse(r/1960))-r,10<r){t.timeoutHandle=K2(ap.bind(null,t,Ga,qu),r);break}ap(t,Ga,qu);break;case 5:ap(t,Ga,qu);break;default:throw Error(Ct(329))}}}return Za(t,fs()),t.callbackNode===n?yW.bind(null,t):null}function mL(t,e){var n=l_;return t.current.memoizedState.isDehydrated&&(Fp(t,e).flags|=256),t=SE(t,e),t!==2&&(e=Ga,Ga=n,e!==null&&gL(e)),t}function gL(t){Ga===null?Ga=t:Ga.push.apply(Ga,t)}function Cse(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fc(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sd(t,e){for(e&=~wN,e&=~JT,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nc(e),r=1<<n;t[n]=-1,e&=~r}}function Lz(t){if($r&6)throw Error(Ct(327));av();var e=sE(t,0);if(!(e&1))return Za(t,fs()),null;var n=SE(t,e);if(t.tag!==0&&n===2){var r=V2(t);r!==0&&(e=r,n=mL(t,r))}if(n===1)throw n=nx,Fp(t,0),Sd(t,e),Za(t,fs()),n;if(n===6)throw Error(Ct(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ap(t,Ga,qu),Za(t,fs()),null}function AN(t,e){var n=$r;$r|=1;try{return t(e)}finally{$r=n,$r===0&&(Lv=fs()+500,XT&&wf())}}function nm(t){Rd!==null&&Rd.tag===0&&!($r&6)&&av();var e=$r;$r|=1;var n=oc.transition,r=hi;try{if(oc.transition=null,hi=1,t)return t()}finally{hi=r,oc.transition=n,$r=e,!($r&6)&&wf()}}function EN(){cl=Og.current,Ri(Og)}function Fp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rse(n)),Ms!==null)for(n=Ms.return;n!==null;){var r=n;switch(sN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uE();break;case 3:Iv(),Ri(Ya),Ri(ca),pN();break;case 5:fN(r);break;case 4:Iv();break;case 13:Ri(Fi);break;case 19:Ri(Fi);break;case 10:cN(r.type._context);break;case 22:case 23:EN()}n=n.return}if(io=t,Ms=t=Kd(t.current,null),Mo=cl=e,Fs=0,nx=null,wN=JT=tm=0,Ga=l_=null,wp!==null){for(e=0;e<wp.length;e++)if(n=wp[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wp=null}return t}function _W(t,e){do{var n=Ms;try{if(lN(),oA.current=_E,yE){for(var r=Hi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yE=!1}if(em=0,ro=Ns=Hi=null,o_=!1,Q_=0,bN.current=null,n===null||n.return===null){Fs=1,nx=e,Ms=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=_z(o);if(v!==null){v.flags&=-257,xz(v,o,a,s,e),v.mode&1&&yz(s,c,e),e=v,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){yz(s,c,e),TN();break e}l=Error(Ct(426))}}else if(Di&&a.mode&1){var w=_z(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xz(w,o,a,s,e),oN(Rv(l,a));break e}}s=l=Rv(l,a),Fs!==4&&(Fs=2),l_===null?l_=[s]:l_.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=nW(s,l,e);hz(s,_);break e;case 1:a=l;var S=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Xd===null||!Xd.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=rW(s,a,e);hz(s,I);break e}}s=s.return}while(s!==null)}wW(n)}catch(z){e=z,Ms===n&&n!==null&&(Ms=n=n.return);continue}break}while(!0)}function xW(){var t=xE.current;return xE.current=_E,t===null?_E:t}function TN(){(Fs===0||Fs===3||Fs===2)&&(Fs=4),io===null||!(tm&268435455)&&!(JT&268435455)||Sd(io,Mo)}function SE(t,e){var n=$r;$r|=2;var r=xW();(io!==t||Mo!==e)&&(qu=null,Fp(t,e));do try{Mse();break}catch(i){_W(t,i)}while(!0);if(lN(),$r=n,xE.current=r,Ms!==null)throw Error(Ct(261));return io=null,Mo=0,Fs}function Mse(){for(;Ms!==null;)bW(Ms)}function Pse(){for(;Ms!==null&&!eie();)bW(Ms)}function bW(t){var e=AW(t.alternate,t,cl);t.memoizedProps=t.pendingProps,e===null?wW(t):Ms=e,bN.current=null}function wW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wse(n,e),n!==null){n.flags&=32767,Ms=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fs=6,Ms=null;return}}else if(n=bse(n,e,cl),n!==null){Ms=n;return}if(e=e.sibling,e!==null){Ms=e;return}Ms=e=t}while(e!==null);Fs===0&&(Fs=5)}function ap(t,e,n){var r=hi,i=oc.transition;try{oc.transition=null,hi=1,Ise(t,e,n,r)}finally{oc.transition=i,hi=r}return null}function Ise(t,e,n,r){do av();while(Rd!==null);if($r&6)throw Error(Ct(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ct(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uie(t,s),t===io&&(Ms=io=null,Mo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bw||(bw=!0,EW(iE,function(){return av(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oc.transition,oc.transition=null;var o=hi;hi=1;var a=$r;$r|=4,bN.current=null,Ase(t,n),gW(n,t),Yie(X2),oE=!!W2,X2=W2=null,t.current=n,Ese(n),tie(),$r=a,hi=o,oc.transition=s}else t.current=n;if(bw&&(bw=!1,Rd=t,wE=i),s=t.pendingLanes,s===0&&(Xd=null),iie(n.stateNode),Za(t,fs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bE)throw bE=!1,t=fL,fL=null,t;return wE&1&&t.tag!==0&&av(),s=t.pendingLanes,s&1?t===pL?c_++:(c_=0,pL=t):c_=0,wf(),null}function av(){if(Rd!==null){var t=t$(wE),e=oc.transition,n=hi;try{if(oc.transition=null,hi=16>t?16:t,Rd===null)var r=!1;else{if(t=Rd,Rd=null,wE=0,$r&6)throw Error(Ct(331));var i=$r;for($r|=4,fn=t.current;fn!==null;){var s=fn,o=s.child;if(fn.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fn=c;fn!==null;){var u=fn;switch(u.tag){case 0:case 11:case 15:a_(8,u,s)}var d=u.child;if(d!==null)d.return=u,fn=d;else for(;fn!==null;){u=fn;var f=u.sibling,v=u.return;if(fW(u),u===c){fn=null;break}if(f!==null){f.return=v,fn=f;break}fn=v}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}fn=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fn=o;else e:for(;fn!==null;){if(s=fn,s.flags&2048)switch(s.tag){case 0:case 11:case 15:a_(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,fn=_;break e}fn=s.return}}var S=t.current;for(fn=S;fn!==null;){o=fn;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,fn=C;else e:for(o=S;fn!==null;){if(a=fn,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:YT(9,a)}}catch(z){es(a,a.return,z)}if(a===o){fn=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,fn=I;break e}fn=a.return}}if($r=i,wf(),fu&&typeof fu.onPostCommitFiberRoot=="function")try{fu.onPostCommitFiberRoot(HT,t)}catch{}r=!0}return r}finally{hi=n,oc.transition=e}}return!1}function kz(t,e,n){e=Rv(n,e),e=nW(t,e,1),t=Wd(t,e,1),e=Ma(),t!==null&&(xb(t,1,e),Za(t,e))}function es(t,e,n){if(t.tag===3)kz(t,t,n);else for(;e!==null;){if(e.tag===3){kz(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xd===null||!Xd.has(r))){t=Rv(n,t),t=rW(e,t,1),e=Wd(e,t,1),t=Ma(),e!==null&&(xb(e,1,t),Za(e,t));break}}e=e.return}}function Rse(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ma(),t.pingedLanes|=t.suspendedLanes&n,io===t&&(Mo&n)===n&&(Fs===4||Fs===3&&(Mo&130023424)===Mo&&500>fs()-SN?Fp(t,0):wN|=n),Za(t,e)}function SW(t,e){e===0&&(t.mode&1?(e=hw,hw<<=1,!(hw&130023424)&&(hw=4194304)):e=1);var n=Ma();t=Eh(t,e),t!==null&&(xb(t,e,n),Za(t,n))}function Lse(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SW(t,n)}function kse(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ct(314))}r!==null&&r.delete(e),SW(t,n)}var AW;AW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ya.current)qa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qa=!1,xse(t,e,n);qa=!!(t.flags&131072)}else qa=!1,Di&&e.flags&1048576&&C$(e,fE,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lA(t,e),t=e.pendingProps;var i=Cv(e,ca.current);ov(e,n),i=gN(null,e,r,t,i,n);var s=vN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ja(r)?(s=!0,hE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hN(e),i.updater=qT,e.stateNode=i,i._reactInternals=e,nL(e,r,t,n),e=sL(null,e,r,!0,s,n)):(e.tag=0,Di&&s&&iN(e),wa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lA(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Dse(r),t=Tc(r,t),i){case 0:e=iL(null,e,r,t,n);break e;case 1:e=Sz(null,e,r,t,n);break e;case 11:e=bz(null,e,r,t,n);break e;case 14:e=wz(null,e,r,Tc(r.type,t),n);break e}throw Error(Ct(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tc(r,i),iL(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tc(r,i),Sz(t,e,r,i,n);case 3:e:{if(aW(e),t===null)throw Error(Ct(387));r=e.pendingProps,s=e.memoizedState,i=s.element,R$(t,e),gE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rv(Error(Ct(423)),e),e=Az(t,e,r,n,i);break e}else if(r!==i){i=Rv(Error(Ct(424)),e),e=Az(t,e,r,n,i);break e}else for(fl=$d(e.stateNode.containerInfo.firstChild),gl=e,Di=!0,Pc=null,n=D$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mv(),r===i){e=Th(t,e,n);break e}wa(t,e,r,n)}e=e.child}return e;case 5:return N$(e),t===null&&Q2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,q2(r,i)?o=null:s!==null&&q2(r,s)&&(e.flags|=32),oW(t,e),wa(t,e,o,n),e.child;case 6:return t===null&&Q2(e),null;case 13:return lW(t,e,n);case 4:return dN(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pv(e,null,r,n):wa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tc(r,i),bz(t,e,r,i,n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:return wa(t,e,e.pendingProps.children,n),e.child;case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bi(pE,r._currentValue),r._currentValue=o,s!==null)if(Fc(s.value,o)){if(s.children===i.children&&!Ya.current){e=Th(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=mh(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),eL(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ct(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),eL(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ov(e,n),i=lc(i),r=r(i),e.flags|=1,wa(t,e,r,n),e.child;case 14:return r=e.type,i=Tc(r,e.pendingProps),i=Tc(r.type,i),wz(t,e,r,i,n);case 15:return iW(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tc(r,i),lA(t,e),e.tag=1,Ja(r)?(t=!0,hE(e)):t=!1,ov(e,n),k$(e,r,i),nL(e,r,i,n),sL(null,e,r,!0,t,n);case 19:return cW(t,e,n);case 22:return sW(t,e,n)}throw Error(Ct(156,e.tag))};function EW(t,e){return JG(t,e)}function Ose(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ic(t,e,n,r){return new Ose(t,e,n,r)}function CN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dse(t){if(typeof t=="function")return CN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===WD)return 11;if(t===XD)return 14}return 2}function Kd(t,e){var n=t.alternate;return n===null?(n=ic(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hA(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")CN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ag:return Up(n.children,i,s,e);case $D:o=8,i|=8;break;case T2:return t=ic(12,n,e,i|2),t.elementType=T2,t.lanes=s,t;case C2:return t=ic(13,n,e,i),t.elementType=C2,t.lanes=s,t;case M2:return t=ic(19,n,e,i),t.elementType=M2,t.lanes=s,t;case OG:return ZT(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LG:o=10;break e;case kG:o=9;break e;case WD:o=11;break e;case XD:o=14;break e;case yd:o=16,r=null;break e}throw Error(Ct(130,t==null?t:typeof t,""))}return e=ic(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Up(t,e,n,r){return t=ic(7,t,r,e),t.lanes=n,t}function ZT(t,e,n,r){return t=ic(22,t,r,e),t.elementType=OG,t.lanes=n,t.stateNode={isHidden:!1},t}function eI(t,e,n){return t=ic(6,t,null,e),t.lanes=n,t}function tI(t,e,n){return e=ic(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nse(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=DP(0),this.expirationTimes=DP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MN(t,e,n,r,i,s,o,a,l){return t=new Nse(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ic(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hN(s),t}function Bse(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TW(t){if(!t)return of;t=t._reactInternals;e:{if(bm(t)!==t||t.tag!==1)throw Error(Ct(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ja(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ct(171))}if(t.tag===1){var n=t.type;if(Ja(n))return E$(t,n,e)}return e}function CW(t,e,n,r,i,s,o,a,l){return t=MN(n,r,!0,t,i,s,o,a,l),t.context=TW(null),n=t.current,r=Ma(),i=qd(n),s=mh(r,i),s.callback=e??null,Wd(n,s,i),t.current.lanes=i,xb(t,i,r),Za(t,r),t}function QT(t,e,n,r){var i=e.current,s=Ma(),o=qd(i);return n=TW(n),e.context===null?e.context=n:e.pendingContext=n,e=mh(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wd(i,e,o),t!==null&&(Bc(t,i,o,s),sA(t,i,o)),o}function AE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Oz(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function PN(t,e){Oz(t,e),(t=t.alternate)&&Oz(t,e)}function Fse(){return null}var MW=typeof reportError=="function"?reportError:function(t){console.error(t)};function IN(t){this._internalRoot=t}eC.prototype.render=IN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ct(409));QT(t,e,null,null)};eC.prototype.unmount=IN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nm(function(){QT(null,t,null,null)}),e[Ah]=null}};function eC(t){this._internalRoot=t}eC.prototype.unstable_scheduleHydration=function(t){if(t){var e=i$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wd.length&&e!==0&&e<wd[n].priority;n++);wd.splice(n,0,t),n===0&&o$(t)}};function RN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dz(){}function Use(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=AE(o);s.call(c)}}var o=CW(e,r,t,0,null,!1,!1,"",Dz);return t._reactRootContainer=o,t[Ah]=o.current,q_(t.nodeType===8?t.parentNode:t),nm(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=AE(l);a.call(c)}}var l=MN(t,0,!1,null,null,!1,!1,"",Dz);return t._reactRootContainer=l,t[Ah]=l.current,q_(t.nodeType===8?t.parentNode:t),nm(function(){QT(e,l,n,r)}),l}function nC(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=AE(o);a.call(l)}}QT(e,o,t,i)}else o=Use(n,e,t,i,r);return AE(o)}n$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=D0(e.pendingLanes);n!==0&&(YD(e,n|1),Za(e,fs()),!($r&6)&&(Lv=fs()+500,wf()))}break;case 13:nm(function(){var r=Eh(t,1);if(r!==null){var i=Ma();Bc(r,t,1,i)}}),PN(t,1)}};JD=function(t){if(t.tag===13){var e=Eh(t,134217728);if(e!==null){var n=Ma();Bc(e,t,134217728,n)}PN(t,134217728)}};r$=function(t){if(t.tag===13){var e=qd(t),n=Eh(t,e);if(n!==null){var r=Ma();Bc(n,t,e,r)}PN(t,e)}};i$=function(){return hi};s$=function(t,e){var n=hi;try{return hi=t,e()}finally{hi=n}};F2=function(t,e,n){switch(e){case"input":if(R2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=WT(r);if(!i)throw Error(Ct(90));NG(r),R2(r,i)}}}break;case"textarea":FG(t,n);break;case"select":e=n.value,e!=null&&nv(t,!!n.multiple,e,!1)}};$G=AN;WG=nm;var zse={usingClientEntryPoint:!1,Events:[wb,Mg,WT,jG,GG,AN]},n0={findFiberByHostInstance:bp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vse={bundleType:n0.bundleType,version:n0.version,rendererPackageName:n0.rendererPackageName,rendererConfig:n0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KG(t),t===null?null:t.stateNode},findFiberByHostInstance:n0.findFiberByHostInstance||Fse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ww=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ww.isDisabled&&ww.supportsFiber)try{HT=ww.inject(Vse),fu=ww}catch{}}Ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zse;Ml.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RN(e))throw Error(Ct(200));return Bse(t,e,null,n)};Ml.createRoot=function(t,e){if(!RN(t))throw Error(Ct(299));var n=!1,r="",i=MW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MN(t,1,!1,null,null,n,!1,r,i),t[Ah]=e.current,q_(t.nodeType===8?t.parentNode:t),new IN(e)};Ml.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ct(188)):(t=Object.keys(t).join(","),Error(Ct(268,t)));return t=KG(e),t=t===null?null:t.stateNode,t};Ml.flushSync=function(t){return nm(t)};Ml.hydrate=function(t,e,n){if(!tC(e))throw Error(Ct(200));return nC(null,t,e,!0,n)};Ml.hydrateRoot=function(t,e,n){if(!RN(t))throw Error(Ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CW(e,null,t,1,n??null,i,!1,s,o),t[Ah]=e.current,q_(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eC(e)};Ml.render=function(t,e,n){if(!tC(e))throw Error(Ct(200));return nC(null,t,e,!1,n)};Ml.unmountComponentAtNode=function(t){if(!tC(t))throw Error(Ct(40));return t._reactRootContainer?(nm(function(){nC(null,null,t,!1,function(){t._reactRootContainer=null,t[Ah]=null})}),!0):!1};Ml.unstable_batchedUpdates=AN;Ml.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tC(n))throw Error(Ct(200));if(t==null||t._reactInternals===void 0)throw Error(Ct(38));return nC(t,e,n,!1,r)};Ml.version="18.2.0-next-9e3b772b8-20220608";function PW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PW)}catch(t){console.error(t)}}PW(),CG.exports=Ml;var Ab=CG.exports,Nz=Ab;A2.createRoot=Nz.createRoot,A2.hydrateRoot=Nz.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}var Ld;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ld||(Ld={}));const Bz="popstate";function Hse(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=wm(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),vL("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:EE(s))}function r(i,s){LN(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Gse(e,n,r,t)}function vs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jse(){return Math.random().toString(36).substr(2,8)}function Fz(t,e){return{usr:t.state,key:t.key,idx:e}}function vL(t,e,n,r){return n===void 0&&(n=null),rx({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wm(e):e,{state:n,key:e&&e.key||r||jse()})}function EE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Gse(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ld.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(rx({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ld.Pop;let w=u(),_=w==null?null:w-c;c=w,l&&l({action:a,location:b.location,delta:_})}function f(w,_){a=Ld.Push;let S=vL(b.location,w,_);n&&n(S,w),c=u()+1;let C=Fz(S,c),I=b.createHref(S);try{o.pushState(C,"",I)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(I)}s&&l&&l({action:a,location:b.location,delta:1})}function v(w,_){a=Ld.Replace;let S=vL(b.location,w,_);n&&n(S,w),c=u();let C=Fz(S,c),I=b.createHref(S);o.replaceState(C,"",I),s&&l&&l({action:a,location:b.location,delta:0})}function y(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:EE(w);return S=S.replace(/ $/,"%20"),vs(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let b={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Bz,d),l=w,()=>{i.removeEventListener(Bz,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let _=y(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:v,go(w){return o.go(w)}};return b}var Uz;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uz||(Uz={}));function $se(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?wm(e):e,i=kN(r.pathname||"/",n);if(i==null)return null;let s=IW(t);Wse(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=ioe(i);o=toe(s[a],l)}return o}function IW(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vs(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Yd([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(vs(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IW(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Qse(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of RW(s.path))i(s,o,l)}),e}function RW(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=RW(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Wse(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eoe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xse=/^:[\w-]+$/,qse=3,Kse=2,Yse=1,Jse=10,Zse=-2,zz=t=>t==="*";function Qse(t,e){let n=t.split("/"),r=n.length;return n.some(zz)&&(r+=Zse),e&&(r+=Kse),n.filter(i=>!zz(i)).reduce((i,s)=>i+(Xse.test(s)?qse:s===""?Yse:Jse),r)}function eoe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function toe(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=noe({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Yd([i,u.pathname]),pathnameBase:loe(Yd([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Yd([i,u.pathnameBase]))}return s}function noe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=roe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:v}=u;if(f==="*"){let b=a[d]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[d];return v&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function roe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),LN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ioe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function soe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wm(t):t;return{pathname:n?n.startsWith("/")?n:ooe(n,e):e,search:coe(r),hash:uoe(i)}}function ooe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nI(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aoe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ON(t,e){let n=aoe(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function DN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wm(t):(i=rx({},t),vs(!i.pathname||!i.pathname.includes("?"),nI("?","pathname","search",i)),vs(!i.pathname||!i.pathname.includes("#"),nI("#","pathname","hash",i)),vs(!i.search||!i.search.includes("#"),nI("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=soe(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Yd=t=>t.join("/").replace(/\/\/+/g,"/"),loe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),coe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uoe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LW=["post","put","patch","delete"];new Set(LW);const doe=["get",...LW];new Set(doe);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}const NN=G.createContext(null),foe=G.createContext(null),Sf=G.createContext(null),rC=G.createContext(null),Af=G.createContext({outlet:null,matches:[],isDataRoute:!1}),kW=G.createContext(null);function poe(t,e){let{relative:n}=e===void 0?{}:e;fy()||vs(!1);let{basename:r,navigator:i}=G.useContext(Sf),{hash:s,pathname:o,search:a}=DW(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Yd([r,o])),i.createHref({pathname:l,search:a,hash:s})}function fy(){return G.useContext(rC)!=null}function Eb(){return fy()||vs(!1),G.useContext(rC).location}function OW(t){G.useContext(Sf).static||G.useLayoutEffect(t)}function py(){let{isDataRoute:t}=G.useContext(Af);return t?Coe():moe()}function moe(){fy()||vs(!1);let t=G.useContext(NN),{basename:e,future:n,navigator:r}=G.useContext(Sf),{matches:i}=G.useContext(Af),{pathname:s}=Eb(),o=JSON.stringify(ON(i,n.v7_relativeSplatPath)),a=G.useRef(!1);return OW(()=>{a.current=!0}),G.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=DN(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yd([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function DW(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=G.useContext(Sf),{matches:i}=G.useContext(Af),{pathname:s}=Eb(),o=JSON.stringify(ON(i,r.v7_relativeSplatPath));return G.useMemo(()=>DN(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function goe(t,e){return voe(t,e)}function voe(t,e,n,r){fy()||vs(!1);let{navigator:i}=G.useContext(Sf),{matches:s}=G.useContext(Af),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Eb(),u;if(e){var d;let w=typeof e=="string"?wm(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||vs(!1),u=w}else u=c;let f=u.pathname||"/",v=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=$se(t,{pathname:v}),b=woe(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Yd([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Yd([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&b?G.createElement(rC.Provider,{value:{location:ix({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ld.Pop}},b):b}function yoe(){let t=Toe(),e=hoe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,null)}const _oe=G.createElement(yoe,null);class xoe extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?G.createElement(Af.Provider,{value:this.props.routeContext},G.createElement(kW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function boe(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(NN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(Af.Provider,{value:e},r)}function woe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||vs(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:v}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let v,y=!1,b=null,w=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,b=d.route.errorElement||_oe,l&&(c<0&&f===0?(Moe("route-fallback",!1),y=!0,w=null):c===f&&(y=!0,w=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),S=()=>{let C;return v?C=b:y?C=w:d.route.Component?C=G.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,G.createElement(boe,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?G.createElement(xoe,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var NW=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NW||{}),TE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TE||{});function Soe(t){let e=G.useContext(NN);return e||vs(!1),e}function Aoe(t){let e=G.useContext(foe);return e||vs(!1),e}function Eoe(t){let e=G.useContext(Af);return e||vs(!1),e}function BW(t){let e=Eoe(),n=e.matches[e.matches.length-1];return n.route.id||vs(!1),n.route.id}function Toe(){var t;let e=G.useContext(kW),n=Aoe(TE.UseRouteError),r=BW(TE.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Coe(){let{router:t}=Soe(NW.UseNavigateStable),e=BW(TE.UseNavigateStable),n=G.useRef(!1);return OW(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ix({fromRouteId:e},s)))},[t,e])}const Vz={};function Moe(t,e,n){!e&&!Vz[t]&&(Vz[t]=!0)}function Poe(t){let{to:e,replace:n,state:r,relative:i}=t;fy()||vs(!1);let{future:s,static:o}=G.useContext(Sf),{matches:a}=G.useContext(Af),{pathname:l}=Eb(),c=py(),u=DN(e,ON(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return G.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Ec(t){vs(!1)}function Ioe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ld.Pop,navigator:s,static:o=!1,future:a}=t;fy()&&vs(!1);let l=e.replace(/^\/*/,"/"),c=G.useMemo(()=>({basename:l,navigator:s,static:o,future:ix({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=wm(r));let{pathname:u="/",search:d="",hash:f="",state:v=null,key:y="default"}=r,b=G.useMemo(()=>{let w=kN(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:v,key:y},navigationType:i}},[l,u,d,f,v,y,i]);return b==null?null:G.createElement(Sf.Provider,{value:c},G.createElement(rC.Provider,{children:n,value:b}))}function Roe(t){let{children:e,location:n}=t;return goe(yL(e),n)}new Promise(()=>{});function yL(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){n.push.apply(n,yL(r.props.children,s));return}r.type!==Ec&&vs(!1),!r.props.index||!r.props.children||vs(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yL(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _L(){return _L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_L.apply(this,arguments)}function Loe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function koe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ooe(t,e){return t.button===0&&(!e||e==="_self")&&!koe(t)}const Doe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Noe="6";try{window.__reactRouterVersion=Noe}catch{}const Boe="startTransition",Hz=S2[Boe];function Foe(t){let{basename:e,children:n,future:r,window:i}=t,s=G.useRef();s.current==null&&(s.current=Hse({window:i,v5Compat:!0}));let o=s.current,[a,l]=G.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=G.useCallback(d=>{c&&Hz?Hz(()=>l(d)):l(d)},[l,c]);return G.useLayoutEffect(()=>o.listen(u),[o,u]),G.createElement(Ioe,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Uoe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zoe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Loe(e,Doe),{basename:v}=G.useContext(Sf),y,b=!1;if(typeof c=="string"&&zoe.test(c)&&(y=c,Uoe))try{let C=new URL(window.location.href),I=c.startsWith("//")?new URL(C.protocol+c):new URL(c),z=kN(I.pathname,v);I.origin===C.origin&&z!=null?c=z+I.search+I.hash:b=!0}catch{}let w=poe(c,{relative:i}),_=Voe(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function S(C){r&&r(C),C.defaultPrevented||_(C)}return G.createElement("a",_L({},f,{href:y||w,onClick:b||s?r:S,ref:n,target:l}))});var jz;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jz||(jz={}));var Gz;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gz||(Gz={}));function Voe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=py(),c=Eb(),u=DW(t,{relative:o});return G.useCallback(d=>{if(Ooe(d,n)){d.preventDefault();let f=r!==void 0?r:EE(c)===EE(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function iC(){return V.jsx("nav",{className:"main-nav",children:V.jsxs("ul",{children:[V.jsx("li",{children:V.jsx(ra,{to:"/",children:"Inicio"})}),V.jsx("li",{children:V.jsx(ra,{to:"/Games",children:"Juegos"})}),V.jsx("li",{children:V.jsx(ra,{to:"/Promotions",children:"Promociones"})}),V.jsx("li",{children:V.jsx(ra,{to:"/Support",children:"Soporte"})}),V.jsx("li",{children:V.jsx(ra,{to:"/contact",children:"Contacto"})})]})})}var $z={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hoe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},UW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[u],n[d],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hoe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new joe;const f=s<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class joe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Goe=function(t){const e=FW(t);return UW.encodeByteArray(e,!0)},CE=function(t){return Goe(t).replace(/\./g,"")},zW=function(t){try{return UW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Woe=()=>$oe().__FIREBASE_DEFAULTS__,Xoe=()=>{if(typeof process>"u"||typeof $z>"u")return;const t=$z.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qoe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zW(t[1]);return e&&JSON.parse(e)},sC=()=>{try{return Woe()||Xoe()||qoe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VW=t=>{var e,n;return(n=(e=sC())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Koe=t=>{const e=VW(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HW=()=>{var t;return(t=sC())===null||t===void 0?void 0:t.config},jW=t=>{var e;return(e=sC())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Joe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[CE(JSON.stringify(n)),CE(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zoe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oo())}function Qoe(){var t;const e=(t=sC())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eae(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nae(){const t=Oo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rae(){return!Qoe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iae(){try{return typeof indexedDB=="object"}catch{return!1}}function sae(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae="FirebaseError";class zh extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oae,Object.setPrototypeOf(this,zh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tb.prototype.create)}}class Tb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aae(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zh(i,a,r)}}function aae(t,e){return t.replace(lae,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lae=/\{\$([^}]+)}/g;function cae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ME(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Wz(s)&&Wz(o)){if(!ME(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wz(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function B0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function F0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uae(t,e){const n=new hae(t,e);return n.subscribe.bind(n)}class hae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dae(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rI),i.error===void 0&&(i.error=rI),i.complete===void 0&&(i.complete=rI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dae(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rI(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t){return t&&t._delegate?t._delegate:t}class rm{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fae=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yoe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mae(e))try{this.getOrInitializeService({instanceIdentifier:lp})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lp){return this.instances.has(e)}getOptions(e=lp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pae(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lp){return this.component?this.component.multipleInstances?e:lp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pae(t){return t===lp?void 0:t}function mae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Br||(Br={}));const vae={debug:Br.DEBUG,verbose:Br.VERBOSE,info:Br.INFO,warn:Br.WARN,error:Br.ERROR,silent:Br.SILENT},yae=Br.INFO,_ae={[Br.DEBUG]:"log",[Br.VERBOSE]:"log",[Br.INFO]:"info",[Br.WARN]:"warn",[Br.ERROR]:"error"},xae=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_ae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class BN{constructor(e){this.name=e,this._logLevel=yae,this._logHandler=xae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Br))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Br.DEBUG,...e),this._logHandler(this,Br.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Br.VERBOSE,...e),this._logHandler(this,Br.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Br.INFO,...e),this._logHandler(this,Br.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Br.WARN,...e),this._logHandler(this,Br.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Br.ERROR,...e),this._logHandler(this,Br.ERROR,...e)}}const bae=(t,e)=>e.some(n=>t instanceof n);let Xz,qz;function wae(){return Xz||(Xz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sae(){return qz||(qz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GW=new WeakMap,xL=new WeakMap,$W=new WeakMap,iI=new WeakMap,FN=new WeakMap;function Aae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jd(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GW.set(n,t)}).catch(()=>{}),FN.set(e,t),e}function Eae(t){if(xL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xL.set(t,e)}let bL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$W.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tae(t){bL=t(bL)}function Cae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sI(this),e,...n);return $W.set(r,e.sort?e.sort():[e]),Jd(r)}:Sae().includes(t)?function(...e){return t.apply(sI(this),e),Jd(GW.get(this))}:function(...e){return Jd(t.apply(sI(this),e))}}function Mae(t){return typeof t=="function"?Cae(t):(t instanceof IDBTransaction&&Eae(t),bae(t,wae())?new Proxy(t,bL):t)}function Jd(t){if(t instanceof IDBRequest)return Aae(t);if(iI.has(t))return iI.get(t);const e=Mae(t);return e!==t&&(iI.set(t,e),FN.set(e,t)),e}const sI=t=>FN.get(t);function Pae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jd(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jd(o.result),l.oldVersion,l.newVersion,Jd(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Iae=["get","getKey","getAll","getAllKeys","count"],Rae=["put","add","delete","clear"],oI=new Map;function Kz(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oI.get(e))return oI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Iae.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return oI.set(e,s),s}Tae(t=>({...t,get:(e,n,r)=>Kz(e,n)||t.get(e,n,r),has:(e,n)=>!!Kz(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kae(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wL="@firebase/app",Yz="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new BN("@firebase/app"),Oae="@firebase/app-compat",Dae="@firebase/analytics-compat",Nae="@firebase/analytics",Bae="@firebase/app-check-compat",Fae="@firebase/app-check",Uae="@firebase/auth",zae="@firebase/auth-compat",Vae="@firebase/database",Hae="@firebase/database-compat",jae="@firebase/functions",Gae="@firebase/functions-compat",$ae="@firebase/installations",Wae="@firebase/installations-compat",Xae="@firebase/messaging",qae="@firebase/messaging-compat",Kae="@firebase/performance",Yae="@firebase/performance-compat",Jae="@firebase/remote-config",Zae="@firebase/remote-config-compat",Qae="@firebase/storage",ele="@firebase/storage-compat",tle="@firebase/firestore",nle="@firebase/firestore-compat",rle="firebase",ile="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="[DEFAULT]",sle={[wL]:"fire-core",[Oae]:"fire-core-compat",[Nae]:"fire-analytics",[Dae]:"fire-analytics-compat",[Fae]:"fire-app-check",[Bae]:"fire-app-check-compat",[Uae]:"fire-auth",[zae]:"fire-auth-compat",[Vae]:"fire-rtdb",[Hae]:"fire-rtdb-compat",[jae]:"fire-fn",[Gae]:"fire-fn-compat",[$ae]:"fire-iid",[Wae]:"fire-iid-compat",[Xae]:"fire-fcm",[qae]:"fire-fcm-compat",[Kae]:"fire-perf",[Yae]:"fire-perf-compat",[Jae]:"fire-rc",[Zae]:"fire-rc-compat",[Qae]:"fire-gcs",[ele]:"fire-gcs-compat",[tle]:"fire-fst",[nle]:"fire-fst-compat","fire-js":"fire-js",[rle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map,ole=new Map,AL=new Map;function Jz(t,e){try{t.container.addComponent(e)}catch(n){im.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kv(t){const e=t.name;if(AL.has(e))return im.debug(`There were multiple attempts to register component ${e}.`),!1;AL.set(e,t);for(const n of PE.values())Jz(n,t);for(const n of ole.values())Jz(n,t);return!0}function UN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function su(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ale={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zd=new Tb("app","Firebase",ale);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=ile;function WW(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:SL,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zd.create("bad-app-name",{appName:String(i)});if(n||(n=HW()),!n)throw Zd.create("no-options");const s=PE.get(i);if(s){if(ME(n,s.options)&&ME(r,s.config))return s;throw Zd.create("duplicate-app",{appName:i})}const o=new gae(i);for(const l of AL.values())o.addComponent(l);const a=new lle(n,r,o);return PE.set(i,a),a}function XW(t=SL){const e=PE.get(t);if(!e&&t===SL&&HW())return WW();if(!e)throw Zd.create("no-app",{appName:t});return e}function Qd(t,e,n){var r;let i=(r=sle[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),im.warn(a.join(" "));return}kv(new rm(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle="firebase-heartbeat-database",ule=1,sx="firebase-heartbeat-store";let aI=null;function qW(){return aI||(aI=Pae(cle,ule,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sx)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zd.create("idb-open",{originalErrorMessage:t.message})})),aI}async function hle(t){try{const n=(await qW()).transaction(sx),r=await n.objectStore(sx).get(KW(t));return await n.done,r}catch(e){if(e instanceof zh)im.warn(e.message);else{const n=Zd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});im.warn(n.message)}}}async function Zz(t,e){try{const r=(await qW()).transaction(sx,"readwrite");await r.objectStore(sx).put(e,KW(t)),await r.done}catch(n){if(n instanceof zh)im.warn(n.message);else{const r=Zd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});im.warn(r.message)}}}function KW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle=1024,fle=30*24*60*60*1e3;class ple{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qz();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fle}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qz(),{heartbeatsToSend:r,unsentEntries:i}=mle(this._heartbeatsCache.heartbeats),s=CE(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qz(){return new Date().toISOString().substring(0,10)}function mle(t,e=dle){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),e5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iae()?sae().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zz(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zz(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function e5(t){return CE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vle(t){kv(new rm("platform-logger",e=>new Lae(e),"PRIVATE")),kv(new rm("heartbeat",e=>new ple(e),"PRIVATE")),Qd(wL,Yz,t),Qd(wL,Yz,"esm2017"),Qd("fire-js","")}vle("");function zN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yle=YW,JW=new Tb("auth","Firebase",YW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new BN("@firebase/auth");function _le(t,...e){IE.logLevel<=Br.WARN&&IE.warn(`Auth (${my}): ${t}`,...e)}function dA(t,...e){IE.logLevel<=Br.ERROR&&IE.error(`Auth (${my}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,...e){throw VN(t,...e)}function mu(t,...e){return VN(t,...e)}function ZW(t,e,n){const r=Object.assign(Object.assign({},yle()),{[e]:n});return new Tb("auth","Firebase",r).create(e,{appName:t.name})}function gh(t){return ZW(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JW.create(t,...e)}function nr(t,e,...n){if(!t)throw VN(e,...n)}function ah(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dA(e),new Error(e)}function Ch(t,e){t||ah(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xle(){return t5()==="http:"||t5()==="https:"}function t5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xle()||eae()||"connection"in navigator)?navigator.onLine:!0}function wle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ch(n>e,"Short delay should be less than long delay!"),this.isMobile=Zoe()||tae()}get(){return ble()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){Ch(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ah("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ah("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ah("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale=new Mb(3e4,6e4);function Ef(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vh(t,e,n,r,i={}){return e7(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Cb(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),QW.fetch()(t7(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function e7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sle),e);try{const i=new Tle(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Sw(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sw(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sw(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sw(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZW(t,u,c);Uc(t,u)}}catch(i){if(i instanceof zh)throw i;Uc(t,"network-request-failed",{message:String(i)})}}async function Pb(t,e,n,r,i={}){const s=await Vh(t,e,n,r,i);return"mfaPendingCredential"in s&&Uc(t,"multi-factor-auth-required",{_serverResponse:s}),s}function t7(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?HN(t.config,i):`${t.config.apiScheme}://${i}`}function Ele(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mu(this.auth,"network-request-failed")),Ale.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sw(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mu(t,e,r);return i.customData._tokenResponse=n,i}function n5(t){return t!==void 0&&t.enterprise!==void 0}class Cle{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ele(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Mle(t,e){return Vh(t,"GET","/v2/recaptchaConfig",Ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ple(t,e){return Vh(t,"POST","/v1/accounts:delete",e)}async function n7(t,e){return Vh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ile(t,e=!1){const n=Do(t),r=await n.getIdToken(e),i=jN(r);nr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:u_(lI(i.auth_time)),issuedAtTime:u_(lI(i.iat)),expirationTime:u_(lI(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lI(t){return Number(t)*1e3}function jN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dA("JWT malformed, contained fewer than 3 sections"),null;try{const i=zW(n);return i?JSON.parse(i):(dA("Failed to decode base64 JWT payload"),null)}catch(i){return dA("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r5(t){const e=jN(t);return nr(e,"internal-error"),nr(typeof e.exp<"u","internal-error"),nr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zh&&Rle(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Rle({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=u_(this.lastLoginAt),this.creationTime=u_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ov(t,n7(n,{idToken:r}));nr(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r7(s.providerUserInfo):[],a=Ole(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new TL(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function kle(t){const e=Do(t);await RE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ole(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r7(t){return t.map(e=>{var{providerId:n}=e,r=zN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(t,e){const n=await e7(t,{},async()=>{const r=Cb({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=t7(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QW.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nle(t,e){return Vh(t,"POST","/v2/accounts:revokeToken",Ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nr(e.idToken,"internal-error"),nr(typeof e.idToken<"u","internal-error"),nr(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nr(e.length!==0,"internal-error");const n=r5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Dle(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lv;return r&&(nr(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(nr(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(nr(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lv,this.toJSON())}_performRefresh(){return ah("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e){nr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lh{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new TL(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ov(this,this.stsTokenManager.getToken(this.auth,e));return nr(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ile(this,e)}reload(){return kle(this)}_assign(e){this!==e&&(nr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){nr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await RE(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(su(this.auth.app))return Promise.reject(gh(this.auth));const e=await this.getIdToken();return await Ov(this,Ple(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:C,emailVerified:I,isAnonymous:z,providerData:N,stsTokenManager:A}=n;nr(C&&A,e,"internal-error");const W=lv.fromJSON(this.name,A);nr(typeof C=="string",e,"internal-error"),nd(d,e.name),nd(f,e.name),nr(typeof I=="boolean",e,"internal-error"),nr(typeof z=="boolean",e,"internal-error"),nd(v,e.name),nd(y,e.name),nd(b,e.name),nd(w,e.name),nd(_,e.name),nd(S,e.name);const U=new lh({uid:C,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:z,photoURL:y,phoneNumber:v,tenantId:b,stsTokenManager:W,createdAt:_,lastLoginAt:S});return N&&Array.isArray(N)&&(U.providerData=N.map(F=>Object.assign({},F))),w&&(U._redirectEventId=w),U}static async _fromIdTokenResponse(e,n,r=!1){const i=new lv;i.updateFromServerResponse(n);const s=new lh({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await RE(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];nr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?r7(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new lv;a.updateFromIdToken(r);const l=new lh({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new TL(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Map;function ch(t){Ch(t instanceof Function,"Expected a class definition");let e=i5.get(t);return e?(Ch(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i7.type="NONE";const s5=i7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e,n){return`firebase:${t}:${e}:${n}`}class cv{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fA(this.userKey,i.apiKey,s),this.fullPersistenceKey=fA("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lh._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cv(ch(s5),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ch(s5);const o=fA(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=lh._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new cv(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new cv(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c7(e))return"Blackberry";if(u7(e))return"Webos";if(GN(e))return"Safari";if((e.includes("chrome/")||o7(e))&&!e.includes("edge/"))return"Chrome";if(l7(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function s7(t=Oo()){return/firefox\//i.test(t)}function GN(t=Oo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o7(t=Oo()){return/crios\//i.test(t)}function a7(t=Oo()){return/iemobile/i.test(t)}function l7(t=Oo()){return/android/i.test(t)}function c7(t=Oo()){return/blackberry/i.test(t)}function u7(t=Oo()){return/webos/i.test(t)}function oC(t=Oo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ble(t=Oo()){var e;return oC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fle(){return nae()&&document.documentMode===10}function h7(t=Oo()){return oC(t)||l7(t)||u7(t)||c7(t)||/windows phone/i.test(t)||a7(t)}function Ule(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t,e=[]){let n;switch(t){case"Browser":n=o5(Oo());break;case"Worker":n=`${o5(Oo())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${my}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vle(t,e={}){return Vh(t,"GET","/v2/passwordPolicy",Ef(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle=6;class jle{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hle,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a5(this),this.idTokenSubscription=new a5(this),this.beforeStateQueue=new zle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ch(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await cv.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n7(this,{idToken:e}),r=await lh._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(su(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await RE(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wle()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(su(this.app))return Promise.reject(gh(this));const n=e?Do(e):null;return n&&nr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&nr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return su(this.app)?Promise.reject(gh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return su(this.app)?Promise.reject(gh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ch(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vle(this),n=new jle(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tb("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nle(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ch(e)||this._popupRedirectResolver;nr(n,this,"argument-error"),this.redirectPersistenceManager=await cv.create(this,[ch(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(nr(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_le(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sm(t){return Do(t)}class a5{constructor(e){this.auth=e,this.observer=null,this.addObserver=uae(n=>this.observer=n)}get next(){return nr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $le(t){aC=t}function f7(t){return aC.loadJS(t)}function Wle(){return aC.recaptchaEnterpriseScript}function Xle(){return aC.gapiScript}function qle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kle="recaptcha-enterprise",Yle="NO_RECAPTCHA";class Jle{constructor(e){this.type=Kle,this.auth=Sm(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Mle(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Cle(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;n5(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Yle)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&n5(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Wle();l.length!==0&&(l+=a),f7(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function l5(t,e,n,r=!1){const i=new Jle(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function CL(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await l5(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await l5(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(t,e){const n=UN(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ME(s,e??{}))return i;Uc(i,"already-initialized")}return n.initialize({options:e})}function Qle(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ch);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ece(t,e,n){const r=Sm(t);nr(r._canInitEmulator,r,"emulator-config-failed"),nr(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=p7(e),{host:o,port:a}=tce(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nce()}function p7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tce(t){const e=p7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:c5(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:c5(o)}}}function c5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nce(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ah("not implemented")}_getIdTokenResponse(e){return ah("not implemented")}_linkToIdToken(e,n){return ah("not implemented")}_getReauthenticationResolver(e){return ah("not implemented")}}async function rce(t,e){return Vh(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ice(t,e){return Pb(t,"POST","/v1/accounts:signInWithPassword",Ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(t,e){return Pb(t,"POST","/v1/accounts:signInWithEmailLink",Ef(t,e))}async function oce(t,e){return Pb(t,"POST","/v1/accounts:signInWithEmailLink",Ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends $N{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ox(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ox(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CL(e,n,"signInWithPassword",ice);case"emailLink":return sce(e,{email:this._email,oobCode:this._password});default:Uc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CL(e,r,"signUpPassword",rce);case"emailLink":return oce(e,{idToken:n,email:this._email,oobCode:this._password});default:Uc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(t,e){return Pb(t,"POST","/v1/accounts:signInWithIdp",Ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace="http://localhost";class sm extends $N{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Uc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zN(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new sm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uv(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uv(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uv(e,n)}buildRequest(){const e={requestUri:ace,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cb(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cce(t){const e=B0(F0(t)).link,n=e?B0(F0(e)).deep_link_id:null,r=B0(F0(t)).deep_link_id;return(r?B0(F0(r)).link:null)||r||n||e||t}class WN{constructor(e){var n,r,i,s,o,a;const l=B0(F0(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=lce((i=l.mode)!==null&&i!==void 0?i:null);nr(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=cce(e);try{return new WN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.providerId=gy.PROVIDER_ID}static credential(e,n){return ox._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=WN.parseLink(n);return nr(r,"argument-error"),ox._fromEmailAndCode(e,r.code,r.tenantId)}}gy.PROVIDER_ID="password";gy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends m7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Ib{constructor(){super("facebook.com")}static credential(e){return sm._fromParams({providerId:Ad.PROVIDER_ID,signInMethod:Ad.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ad.credentialFromTaggedObject(e)}static credentialFromError(e){return Ad.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ad.credential(e.oauthAccessToken)}catch{return null}}}Ad.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ad.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Ib{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sm._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ed.credentialFromTaggedObject(e)}static credentialFromError(e){return Ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ed.credential(n,r)}catch{return null}}}Ed.GOOGLE_SIGN_IN_METHOD="google.com";Ed.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Ib{constructor(){super("github.com")}static credential(e){return sm._fromParams({providerId:Td.PROVIDER_ID,signInMethod:Td.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Td.credentialFromTaggedObject(e)}static credentialFromError(e){return Td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Td.credential(e.oauthAccessToken)}catch{return null}}}Td.GITHUB_SIGN_IN_METHOD="github.com";Td.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Ib{constructor(){super("twitter.com")}static credential(e,n){return sm._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cd.credential(n,r)}catch{return null}}}Cd.TWITTER_SIGN_IN_METHOD="twitter.com";Cd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uce(t,e){return Pb(t,"POST","/v1/accounts:signUp",Ef(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await lh._fromIdTokenResponse(e,r,i),o=u5(r);return new om({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=u5(r);return new om({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function u5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends zh{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,LE.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new LE(e,n,r,i)}}function g7(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?LE._fromErrorAndOperation(t,s,e,r):s})}async function hce(t,e,n=!1){const r=await Ov(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return om._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dce(t,e,n=!1){const{auth:r}=t;if(su(r.app))return Promise.reject(gh(r));const i="reauthenticate";try{const s=await Ov(t,g7(r,i,e,t),n);nr(s.idToken,r,"internal-error");const o=jN(s.idToken);nr(o,r,"internal-error");const{sub:a}=o;return nr(t.uid===a,r,"user-mismatch"),om._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Uc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e,n=!1){if(su(t.app))return Promise.reject(gh(t));const r="signIn",i=await g7(t,r,e),s=await om._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fce(t,e){return v7(Sm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7(t){const e=Sm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pce(t,e,n){if(su(t.app))return Promise.reject(gh(t));const r=Sm(t),o=await CL(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uce).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&y7(t),l}),a=await om._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _7(t,e,n){return su(t.app)?Promise.reject(gh(t)):fce(Do(t),gy.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&y7(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mce(t,e){return Vh(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gce(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Do(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ov(r,mce(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function vce(t,e,n,r){return Do(t).onIdTokenChanged(e,n,r)}function yce(t,e,n){return Do(t).beforeAuthStateChanged(e,n)}function _ce(t,e,n,r){return Do(t).onAuthStateChanged(e,n,r)}function xce(t){return Do(t).signOut()}const kE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kE,"1"),this.storage.removeItem(kE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bce(){const t=Oo();return GN(t)||oC(t)}const wce=1e3,Sce=10;class b7 extends x7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bce()&&Ule(),this.fallbackToPolling=h7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fle()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Sce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b7.type="LOCAL";const Ace=b7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7 extends x7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w7.type="SESSION";const S7=w7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ece(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lC(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Ece(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lC.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=XN("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(){return window}function Cce(t){gu().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(){return typeof gu().WorkerGlobalScope<"u"&&typeof gu().importScripts=="function"}async function Mce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ice(){return A7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="firebaseLocalStorageDb",Rce=1,OE="firebaseLocalStorage",T7="fbase_key";class Rb{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cC(t,e){return t.transaction([OE],e?"readwrite":"readonly").objectStore(OE)}function Lce(){const t=indexedDB.deleteDatabase(E7);return new Rb(t).toPromise()}function ML(){const t=indexedDB.open(E7,Rce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(OE,{keyPath:T7})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(OE)?e(r):(r.close(),await Lce(),e(await ML()))})})}async function h5(t,e,n){const r=cC(t,!0).put({[T7]:e,value:n});return new Rb(r).toPromise()}async function kce(t,e){const n=cC(t,!1).get(e),r=await new Rb(n).toPromise();return r===void 0?null:r.value}function d5(t,e){const n=cC(t,!0).delete(e);return new Rb(n).toPromise()}const Oce=800,Dce=3;class C7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ML(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lC._getInstance(Ice()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Mce(),!this.activeServiceWorker)return;this.sender=new Tce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ML();return await h5(e,kE,"1"),await d5(e,kE),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cC(i,!1).getAll();return new Rb(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Oce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C7.type="LOCAL";const Nce=C7;new Mb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(t,e){return e?ch(e):(nr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends $N{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uv(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fce(t){return v7(t.auth,new qN(t),t.bypassAuthState)}function Uce(t){const{auth:e,user:n}=t;return nr(n,e,"internal-error"),dce(n,new qN(t),t.bypassAuthState)}async function zce(t){const{auth:e,user:n}=t;return nr(n,e,"internal-error"),hce(n,new qN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fce;case"linkViaPopup":case"linkViaRedirect":return zce;case"reauthViaPopup":case"reauthViaRedirect":return Uce;default:Uc(this.auth,"internal-error")}}resolve(e){Ch(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ch(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=new Mb(2e3,1e4);class Dg extends M7{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Dg.currentPopupAction&&Dg.currentPopupAction.cancel(),Dg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nr(e,this.auth,"internal-error"),e}async onExecution(){Ch(this.filter.length===1,"Popup operations only handle one event");const e=XN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vce.get())};e()}}Dg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce="pendingRedirect",pA=new Map;class jce extends M7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pA.get(this.auth._key());if(!e){try{const r=await Gce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pA.set(this.auth._key(),e)}return this.bypassAuthState||pA.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gce(t,e){const n=Xce(e),r=Wce(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $ce(t,e){pA.set(t._key(),e)}function Wce(t){return ch(t._redirectPersistence)}function Xce(t){return fA(Hce,t.config.apiKey,t.name)}async function qce(t,e,n=!1){if(su(t.app))return Promise.reject(gh(t));const r=Sm(t),i=Bce(r,e),o=await new jce(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kce=10*60*1e3;class Yce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mu(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kce&&this.cachedEventUids.clear(),this.cachedEventUids.has(f5(e))}saveEventToCache(e){this.cachedEventUids.add(f5(e)),this.lastProcessedEventTime=Date.now()}}function f5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zce(t,e={}){return Vh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eue=/^https?/;async function tue(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zce(t);for(const n of e)try{if(nue(n))return}catch{}Uc(t,"unauthorized-domain")}function nue(t){const e=EL(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!eue.test(n))return!1;if(Qce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue=new Mb(3e4,6e4);function p5(){const t=gu().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iue(t){return new Promise((e,n)=>{var r,i,s;function o(){p5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p5(),n(mu(t,"network-request-failed"))},timeout:rue.get()})}if(!((i=(r=gu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gu().gapi)===null||s===void 0)&&s.load)o();else{const a=qle("iframefcb");return gu()[a]=()=>{gapi.load?o():n(mu(t,"network-request-failed"))},f7(`${Xle()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mA=null,e})}let mA=null;function sue(t){return mA=mA||iue(t),mA}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue=new Mb(5e3,15e3),aue="__/auth/iframe",lue="emulator/auth/iframe",cue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hue(t){const e=t.config;nr(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?HN(e,lue):`https://${t.config.authDomain}/${aue}`,r={apiKey:e.apiKey,appName:t.name,v:my},i=uue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cb(r).slice(1)}`}async function due(t){const e=await sue(t),n=gu().gapi;return nr(n,t,"internal-error"),e.open({where:document.body,url:hue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mu(t,"network-request-failed"),a=gu().setTimeout(()=>{s(o)},oue.get());function l(){gu().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pue=500,mue=600,gue="_blank",vue="http://localhost";class m5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yue(t,e,n,r=pue,i=mue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fue),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Oo().toLowerCase();n&&(a=o7(c)?gue:n),s7(c)&&(e=e||vue,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[v,y])=>`${f}${v}=${y},`,"");if(Ble(c)&&a!=="_self")return _ue(e||"",a),new m5(null);const d=window.open(e||"",a,u);nr(d,t,"popup-blocked");try{d.focus()}catch{}return new m5(d)}function _ue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue="__/auth/handler",bue="emulator/auth/handler",wue=encodeURIComponent("fac");async function g5(t,e,n,r,i,s){nr(t.config.authDomain,t,"auth-domain-config-required"),nr(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:my,eventId:i};if(e instanceof m7){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cae(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Ib){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${wue}=${encodeURIComponent(l)}`:"";return`${Sue(t)}?${Cb(a).slice(1)}${c}`}function Sue({config:t}){return t.emulator?HN(t,bue):`https://${t.authDomain}/${xue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="webStorageSupport";class Aue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S7,this._completeRedirectFn=qce,this._overrideRedirectResult=$ce}async _openPopup(e,n,r,i){var s;Ch((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await g5(e,n,r,EL(),i);return yue(e,o,XN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await g5(e,n,r,EL(),i);return Cce(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ch(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await due(e),r=new Yce(e);return n.register("authEvent",i=>(nr(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cI,{type:cI},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cI];o!==void 0&&n(!!o),Uc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tue(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h7()||GN()||oC()}}const Eue=Aue;var v5="@firebase/auth",y5="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mue(t){kv(new rm("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;nr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d7(t)},c=new Gle(r,i,s,l);return Qle(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kv(new rm("auth-internal",e=>{const n=Sm(e.getProvider("auth").getImmediate());return(r=>new Tue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qd(v5,y5,Cue(t)),Qd(v5,y5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue=5*60,Iue=jW("authIdTokenMaxAge")||Pue;let _5=null;const Rue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Iue)return;const i=n==null?void 0:n.token;_5!==i&&(_5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Lue(t=XW()){const e=UN(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zle(t,{popupRedirectResolver:Eue,persistence:[Nce,Ace,S7]}),r=jW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Rue(s.toString());yce(n,o,()=>o(n.currentUser)),vce(n,a=>o(a))}}const i=VW("auth");return i&&ece(n,`http://${i}`),n}function kue(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$le({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mue("Browser");var I7={exports:{}},Oue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Due=Oue,Nue=Due;function R7(){}function L7(){}L7.resetWarningCache=R7;var Bue=function(){function t(r,i,s,o,a,l){if(l!==Nue){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:L7,resetWarningCache:R7};return n.PropTypes=n,n};I7.exports=Bue();var Fue=I7.exports;const jt=_f(Fue);var Uue="firebase",zue="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qd(Uue,zue,"app");var Vue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},en,KN=KN||{},cr=Vue||self;function uC(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Lb(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Hue(t){return Object.prototype.hasOwnProperty.call(t,uI)&&t[uI]||(t[uI]=++jue)}var uI="closure_uid_"+(1e9*Math.random()>>>0),jue=0;function Gue(t,e,n){return t.call.apply(t.bind,arguments)}function $ue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sa(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sa=Gue:sa=$ue,sa.apply(null,arguments)}function Aw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ao(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Tf(){this.s=this.s,this.o=this.o}var Wue=0;Tf.prototype.s=!1;Tf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Wue!=0)&&Hue(this)};Tf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k7=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function YN(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function x5(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(uC(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function oa(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}oa.prototype.h=function(){this.defaultPrevented=!0};var Xue=function(){if(!cr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};cr.addEventListener("test",n,e),cr.removeEventListener("test",n,e)}catch{}return t}();function ax(t){return/^[\s\xa0]*$/.test(t)}function hC(){var t=cr.navigator;return t&&(t=t.userAgent)?t:""}function iu(t){return hC().indexOf(t)!=-1}function JN(t){return JN[" "](t),t}JN[" "]=function(){};function que(t,e){var n=zhe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Kue=iu("Opera"),Dv=iu("Trident")||iu("MSIE"),O7=iu("Edge"),PL=O7||Dv,D7=iu("Gecko")&&!(hC().toLowerCase().indexOf("webkit")!=-1&&!iu("Edge"))&&!(iu("Trident")||iu("MSIE"))&&!iu("Edge"),Yue=hC().toLowerCase().indexOf("webkit")!=-1&&!iu("Edge");function N7(){var t=cr.document;return t?t.documentMode:void 0}var IL;e:{var hI="",dI=function(){var t=hC();if(D7)return/rv:([^\);]+)(\)|;)/.exec(t);if(O7)return/Edge\/([\d\.]+)/.exec(t);if(Dv)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Yue)return/WebKit\/(\S+)/.exec(t);if(Kue)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dI&&(hI=dI?dI[1]:""),Dv){var fI=N7();if(fI!=null&&fI>parseFloat(hI)){IL=String(fI);break e}}IL=hI}var RL;if(cr.document&&Dv){var b5=N7();RL=b5||parseInt(IL,10)||void 0}else RL=void 0;var Jue=RL;function lx(t,e){if(oa.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(D7){e:{try{JN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Zue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lx.$.h.call(this)}}ao(lx,oa);var Zue={2:"touch",3:"pen",4:"mouse"};lx.prototype.h=function(){lx.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kb="closure_listenable_"+(1e6*Math.random()|0),Que=0;function ehe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Que,this.fa=this.ia=!1}function dC(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ZN(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function the(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function B7(t){const e={};for(const n in t)e[n]=t[n];return e}const w5="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F7(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<w5.length;s++)n=w5[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fC(t){this.src=t,this.g={},this.h=0}fC.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=kL(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ehe(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function LL(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=k7(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(dC(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kL(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var QN="closure_lm_"+(1e6*Math.random()|0),pI={};function U7(t,e,n,r,i){if(r&&r.once)return V7(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)U7(t,e[s],n,r,i);return null}return n=nB(n),t&&t[kb]?t.O(e,n,Lb(r)?!!r.capture:!!r,i):z7(t,e,n,!1,r,i)}function z7(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Lb(i)?!!i.capture:!!i,a=tB(t);if(a||(t[QN]=a=new fC(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=nhe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xue||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(j7(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nhe(){function t(n){return e.call(t.src,t.listener,n)}const e=rhe;return t}function V7(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)V7(t,e[s],n,r,i);return null}return n=nB(n),t&&t[kb]?t.P(e,n,Lb(r)?!!r.capture:!!r,i):z7(t,e,n,!0,r,i)}function H7(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)H7(t,e[s],n,r,i);else r=Lb(r)?!!r.capture:!!r,n=nB(n),t&&t[kb]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=kL(s,n,r,i),-1<n&&(dC(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tB(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kL(e,n,r,i)),(n=-1<t?e[t]:null)&&eB(n))}function eB(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[kb])LL(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(j7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tB(e))?(LL(n,t),n.h==0&&(n.src=null,e[QN]=null)):dC(t)}}}function j7(t){return t in pI?pI[t]:pI[t]="on"+t}function rhe(t,e){if(t.fa)t=!0;else{e=new lx(e,this);var n=t.listener,r=t.la||t.src;t.ia&&eB(t),t=n.call(r,e)}return t}function tB(t){return t=t[QN],t instanceof fC?t:null}var mI="__closure_events_fn_"+(1e9*Math.random()>>>0);function nB(t){return typeof t=="function"?t:(t[mI]||(t[mI]=function(e){return t.handleEvent(e)}),t[mI])}function oo(){Tf.call(this),this.i=new fC(this),this.S=this,this.J=null}ao(oo,Tf);oo.prototype[kb]=!0;oo.prototype.removeEventListener=function(t,e,n,r){H7(this,t,e,n,r)};function Po(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new oa(e,t);else if(e instanceof oa)e.target=e.target||t;else{var i=e;e=new oa(r,t),F7(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ew(o,r,!0,e)&&i}if(o=e.g=t,i=Ew(o,r,!0,e)&&i,i=Ew(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ew(o,r,!1,e)&&i}oo.prototype.N=function(){if(oo.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dC(n[r]);delete t.g[e],t.h--}}this.J=null};oo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};oo.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ew(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&LL(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var rB=cr.JSON.stringify;class ihe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function she(){var t=iB;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ohe{constructor(){this.h=this.g=null}add(e,n){const r=G7.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var G7=new ihe(()=>new ahe,t=>t.reset());class ahe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lhe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function che(t){cr.setTimeout(()=>{throw t},0)}let cx,ux=!1,iB=new ohe,$7=()=>{const t=cr.Promise.resolve(void 0);cx=()=>{t.then(uhe)}};var uhe=()=>{for(var t;t=she();){try{t.h.call(t.g)}catch(n){che(n)}var e=G7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ux=!1};function pC(t,e){oo.call(this),this.h=t||1,this.g=e||cr,this.j=sa(this.qb,this),this.l=Date.now()}ao(pC,oo);en=pC.prototype;en.ga=!1;en.T=null;en.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Po(this,"tick"),this.ga&&(sB(this),this.start()))}};en.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sB(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}en.N=function(){pC.$.N.call(this),sB(this),delete this.g};function oB(t,e,n){if(typeof t=="function")n&&(t=sa(t,n));else if(t&&typeof t.handleEvent=="function")t=sa(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:cr.setTimeout(t,e||0)}function W7(t){t.g=oB(()=>{t.g=null,t.i&&(t.i=!1,W7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hhe extends Tf{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:W7(this)}N(){super.N(),this.g&&(cr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hx(t){Tf.call(this),this.h=t,this.g={}}ao(hx,Tf);var S5=[];function X7(t,e,n,r){Array.isArray(n)||(n&&(S5[0]=n.toString()),n=S5);for(var i=0;i<n.length;i++){var s=U7(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function q7(t){ZN(t.g,function(e,n){this.g.hasOwnProperty(n)&&eB(e)},t),t.g={}}hx.prototype.N=function(){hx.$.N.call(this),q7(this)};hx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mC(){this.g=!0}mC.prototype.Ea=function(){this.g=!1};function dhe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fhe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ng(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+mhe(t,n)+(r?" "+r:"")})}function phe(t,e){t.info(function(){return"TIMEOUT: "+e})}mC.prototype.info=function(){};function mhe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rB(n)}catch{return e}}var Am={},A5=null;function gC(){return A5=A5||new oo}Am.Ta="serverreachability";function K7(t){oa.call(this,Am.Ta,t)}ao(K7,oa);function dx(t){const e=gC();Po(e,new K7(e))}Am.STAT_EVENT="statevent";function Y7(t,e){oa.call(this,Am.STAT_EVENT,t),this.stat=e}ao(Y7,oa);function Ea(t){const e=gC();Po(e,new Y7(e,t))}Am.Ua="timingevent";function J7(t,e){oa.call(this,Am.Ua,t),this.size=e}ao(J7,oa);function Ob(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return cr.setTimeout(function(){t()},e)}var vC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Z7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aB(){}aB.prototype.h=null;function E5(t){return t.h||(t.h=t.i())}function Q7(){}var Db={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lB(){oa.call(this,"d")}ao(lB,oa);function cB(){oa.call(this,"c")}ao(cB,oa);var OL;function yC(){}ao(yC,aB);yC.prototype.g=function(){return new XMLHttpRequest};yC.prototype.i=function(){return{}};OL=new yC;function Nb(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hx(this),this.P=ghe,t=PL?125:void 0,this.V=new pC(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eX}function eX(){this.i=null,this.g="",this.h=!1}var ghe=45e3,tX={},DL={};en=Nb.prototype;en.setTimeout=function(t){this.P=t};function NL(t,e,n){t.L=1,t.A=xC(Mh(e)),t.u=n,t.S=!0,nX(t,null)}function nX(t,e){t.G=Date.now(),Bb(t),t.B=Mh(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uX(n.i,"t",r),t.o=0,n=t.l.J,t.h=new eX,t.g=RX(t.l,n?e:null,!t.u),0<t.O&&(t.M=new hhe(sa(t.Pa,t,t.g),t.O)),X7(t.U,t.g,"readystatechange",t.nb),e=t.I?B7(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),dx(),dhe(t.j,t.v,t.B,t.m,t.W,t.u)}en.nb=function(t){t=t.target;const e=this.M;e&&ou(t)==3?e.l():this.Pa(t)};en.Pa=function(t){try{if(t==this.g)e:{const u=ou(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||PL||this.g&&(this.h.h||this.g.ja()||P5(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?dx(3):dx(2)),_C(this);var n=this.g.da();this.ca=n;t:if(rX(this)){var r=P5(this.g);t="";var i=r.length,s=ou(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ap(this),h_(this);var o="";break t}this.h.i=new cr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fhe(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ax(a)){var c=a;break t}}c=null}if(n=c)Ng(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,BL(this,n);else{this.i=!1,this.s=3,Ea(12),Ap(this),h_(this);break e}}this.S?(iX(this,u,o),PL&&this.i&&u==3&&(X7(this.U,this.V,"tick",this.mb),this.V.start())):(Ng(this.j,this.m,o,null),BL(this,o)),u==4&&Ap(this),this.i&&!this.J&&(u==4?CX(this.l,this):(this.i=!1,Bb(this)))}else Bhe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ea(12)):(this.s=0,Ea(13)),Ap(this),h_(this)}}}catch{}finally{}};function rX(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function iX(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=vhe(t,n),i==DL){e==4&&(t.s=4,Ea(14),r=!1),Ng(t.j,t.m,null,"[Incomplete Response]");break}else if(i==tX){t.s=4,Ea(15),Ng(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ng(t.j,t.m,i,null),BL(t,i);rX(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ea(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mB(e),e.M=!0,Ea(11))):(Ng(t.j,t.m,n,"[Invalid Chunked Response]"),Ap(t),h_(t))}en.mb=function(){if(this.g){var t=ou(this.g),e=this.g.ja();this.o<e.length&&(_C(this),iX(this,t,e),this.i&&t!=4&&Bb(this))}};function vhe(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?DL:(n=Number(e.substring(n,r)),isNaN(n)?tX:(r+=1,r+n>e.length?DL:(e=e.slice(r,r+n),t.o=r+n,e)))}en.cancel=function(){this.J=!0,Ap(this)};function Bb(t){t.Y=Date.now()+t.P,sX(t,t.P)}function sX(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ob(sa(t.lb,t),e)}function _C(t){t.C&&(cr.clearTimeout(t.C),t.C=null)}en.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(phe(this.j,this.B),this.L!=2&&(dx(),Ea(17)),Ap(this),this.s=2,h_(this)):sX(this,this.Y-t)};function h_(t){t.l.H==0||t.J||CX(t.l,t)}function Ap(t){_C(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sB(t.V),q7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function BL(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||FL(n.i,t))){if(!t.K&&FL(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)BE(n),SC(n);else break e;pB(n),Ea(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ob(sa(n.ib,n),6e3));if(1>=fX(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ep(n,11)}else if((t.K||n.g==t)&&BE(n),!ax(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const y=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uB(s,s.h),s.h=null))}if(r.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,Pi(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IX(r,r.J?r.pa:null,r.Y),o.K){pX(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(_C(a),Bb(a)),r.g=o}else EX(r);0<n.j.length&&AC(n)}else c[0]!="stop"&&c[0]!="close"||Ep(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ep(n,7):fB(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}dx(4)}catch{}}function yhe(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(uC(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _he(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(uC(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oX(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(uC(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_he(t),r=yhe(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var aX=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xhe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function zp(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof zp){this.h=t.h,DE(this,t.j),this.s=t.s,this.g=t.g,NE(this,t.m),this.l=t.l;var e=t.i,n=new fx;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),T5(this,n),this.o=t.o}else t&&(e=String(t).match(aX))?(this.h=!1,DE(this,e[1]||"",!0),this.s=U0(e[2]||""),this.g=U0(e[3]||"",!0),NE(this,e[4]),this.l=U0(e[5]||"",!0),T5(this,e[6]||"",!0),this.o=U0(e[7]||"")):(this.h=!1,this.i=new fx(null,this.h))}zp.prototype.toString=function(){var t=[],e=this.j;e&&t.push(z0(e,C5,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(z0(e,C5,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(z0(n,n.charAt(0)=="/"?She:whe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",z0(n,Ehe)),t.join("")};function Mh(t){return new zp(t)}function DE(t,e,n){t.j=n?U0(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function NE(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function T5(t,e,n){e instanceof fx?(t.i=e,The(t.i,t.h)):(n||(e=z0(e,Ahe)),t.i=new fx(e,t.h))}function Pi(t,e,n){t.i.set(e,n)}function xC(t){return Pi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function U0(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function z0(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bhe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bhe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var C5=/[#\/\?@]/g,whe=/[#\?:]/g,She=/[#\?]/g,Ahe=/[#\?@]/g,Ehe=/#/g;function fx(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cf(t){t.g||(t.g=new Map,t.h=0,t.i&&xhe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}en=fx.prototype;en.add=function(t,e){Cf(this),this.i=null,t=vy(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lX(t,e){Cf(t),e=vy(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cX(t,e){return Cf(t),e=vy(t,e),t.g.has(e)}en.forEach=function(t,e){Cf(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};en.ta=function(){Cf(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};en.Z=function(t){Cf(this);let e=[];if(typeof t=="string")cX(this,t)&&(e=e.concat(this.g.get(vy(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};en.set=function(t,e){return Cf(this),this.i=null,t=vy(this,t),cX(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};en.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uX(t,e,n){lX(t,e),0<n.length&&(t.i=null,t.g.set(vy(t,e),YN(n)),t.h+=n.length)}en.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function vy(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function The(t,e){e&&!t.j&&(Cf(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lX(this,r),uX(this,i,n))},t)),t.j=e}var Che=class{constructor(t,e){this.g=t,this.map=e}};function hX(t){this.l=t||Mhe,cr.PerformanceNavigationTiming?(t=cr.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(cr.g&&cr.g.Ka&&cr.g.Ka()&&cr.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mhe=10;function dX(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fX(t){return t.h?1:t.g?t.g.size:0}function FL(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uB(t,e){t.g?t.g.add(e):t.h=e}function pX(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hX.prototype.cancel=function(){if(this.i=mX(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function mX(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return YN(t.i)}var Phe=class{stringify(t){return cr.JSON.stringify(t,void 0)}parse(t){return cr.JSON.parse(t,void 0)}};function Ihe(){this.g=new Phe}function Rhe(t,e,n){const r=n||"";try{oX(t,function(i,s){let o=i;Lb(i)&&(o=rB(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lhe(t,e){const n=new mC;if(cr.Image){const r=new Image;r.onload=Aw(Tw,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Aw(Tw,n,r,"TestLoadImage: error",!1,e),r.onabort=Aw(Tw,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Aw(Tw,n,r,"TestLoadImage: timeout",!1,e),cr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tw(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fb(t){this.l=t.ec||null,this.j=t.ob||!1}ao(Fb,aB);Fb.prototype.g=function(){return new bC(this.l,this.j)};Fb.prototype.i=function(t){return function(){return t}}({});function bC(t,e){oo.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hB,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ao(bC,oo);var hB=0;en=bC.prototype;en.open=function(t,e){if(this.readyState!=hB)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,px(this)};en.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||cr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};en.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ub(this)),this.readyState=hB};en.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,px(this)),this.g&&(this.readyState=3,px(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof cr.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gX(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gX(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}en.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ub(this):px(this),this.readyState==3&&gX(this)}};en.Za=function(t){this.g&&(this.response=this.responseText=t,Ub(this))};en.Ya=function(t){this.g&&(this.response=t,Ub(this))};en.ka=function(){this.g&&Ub(this)};function Ub(t){t.readyState=4,t.l=null,t.j=null,t.A=null,px(t)}en.setRequestHeader=function(t,e){this.v.append(t,e)};en.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};en.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function px(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bC.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var khe=cr.JSON.parse;function rs(t){oo.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vX,this.L=this.M=!1}ao(rs,oo);var vX="",Ohe=/^https?$/i,Dhe=["POST","PUT"];en=rs.prototype;en.Oa=function(t){this.M=t};en.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():OL.g(),this.C=this.u?E5(this.u):E5(OL),this.g.onreadystatechange=sa(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){M5(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=cr.FormData&&t instanceof cr.FormData,!(0<=k7(Dhe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xX(this),0<this.B&&((this.L=Nhe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sa(this.ua,this)):this.A=oB(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){M5(this,s)}};function Nhe(t){return Dv&&typeof t.timeout=="number"&&t.ontimeout!==void 0}en.ua=function(){typeof KN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Po(this,"timeout"),this.abort(8))};function M5(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yX(t),wC(t)}function yX(t){t.F||(t.F=!0,Po(t,"complete"),Po(t,"error"))}en.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Po(this,"complete"),Po(this,"abort"),wC(this))};en.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wC(this,!0)),rs.$.N.call(this)};en.La=function(){this.s||(this.G||this.v||this.l?_X(this):this.kb())};en.kb=function(){_X(this)};function _X(t){if(t.h&&typeof KN<"u"&&(!t.C[1]||ou(t)!=4||t.da()!=2)){if(t.v&&ou(t)==4)oB(t.La,0,t);else if(Po(t,"readystatechange"),ou(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(aX)[1]||null;!i&&cr.self&&cr.self.location&&(i=cr.self.location.protocol.slice(0,-1)),r=!Ohe.test(i?i.toLowerCase():"")}n=r}if(n)Po(t,"complete"),Po(t,"success");else{t.m=6;try{var s=2<ou(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",yX(t)}}finally{wC(t)}}}}function wC(t,e){if(t.g){xX(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Po(t,"ready");try{n.onreadystatechange=r}catch{}}}function xX(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(cr.clearTimeout(t.A),t.A=null)}en.isActive=function(){return!!this.g};function ou(t){return t.g?t.g.readyState:0}en.da=function(){try{return 2<ou(this)?this.g.status:-1}catch{return-1}};en.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};en.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),khe(e)}};function P5(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vX:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Bhe(t){const e={};t=(t.g&&2<=ou(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ax(t[r]))continue;var n=lhe(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}the(e,function(r){return r.join(", ")})}en.Ia=function(){return this.m};en.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bX(t){let e="";return ZN(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dB(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bX(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pi(t,e,n))}function r0(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wX(t){this.Ga=0,this.j=[],this.l=new mC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=r0("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=r0("baseRetryDelayMs",5e3,t),this.hb=r0("retryDelaySeedMs",1e4,t),this.eb=r0("forwardChannelMaxRetries",2,t),this.xa=r0("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hX(t&&t.concurrentRequestLimit),this.Ja=new Ihe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}en=wX.prototype;en.ra=8;en.H=1;function fB(t){if(SX(t),t.H==3){var e=t.W++,n=Mh(t.I);if(Pi(n,"SID",t.K),Pi(n,"RID",e),Pi(n,"TYPE","terminate"),zb(t,n),e=new Nb(t,t.l,e),e.L=2,e.A=xC(Mh(n)),n=!1,cr.navigator&&cr.navigator.sendBeacon)try{n=cr.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&cr.Image&&(new Image().src=e.A,n=!0),n||(e.g=RX(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Bb(e)}PX(t)}function SC(t){t.g&&(mB(t),t.g.cancel(),t.g=null)}function SX(t){SC(t),t.u&&(cr.clearTimeout(t.u),t.u=null),BE(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&cr.clearTimeout(t.m),t.m=null)}function AC(t){if(!dX(t.i)&&!t.m){t.m=!0;var e=t.Na;cx||$7(),ux||(cx(),ux=!0),iB.add(e,t),t.C=0}}function Fhe(t,e){return fX(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ob(sa(t.Na,t,e),MX(t,t.C)),t.C++,!0)}en.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nb(this,this.l,t);let s=this.s;if(this.U&&(s?(s=B7(s),F7(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AX(this,i,e),n=Mh(this.I),Pi(n,"RID",t),Pi(n,"CVER",22),this.F&&Pi(n,"X-HTTP-Session-Id",this.F),zb(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(bX(s)))+"&"+e:this.o&&dB(n,this.o,s)),uB(this.i,i),this.bb&&Pi(n,"TYPE","init"),this.P?(Pi(n,"$req",e),Pi(n,"SID","null"),i.aa=!0,NL(i,n,null)):NL(i,n,e),this.H=2}}else this.H==3&&(t?I5(this,t):this.j.length==0||dX(this.i)||I5(this))};function I5(t,e){var n;e?n=e.m:n=t.W++;const r=Mh(t.I);Pi(r,"SID",t.K),Pi(r,"RID",n),Pi(r,"AID",t.V),zb(t,r),t.o&&t.s&&dB(r,t.o,t.s),n=new Nb(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AX(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uB(t.i,n),NL(n,r,e)}function zb(t,e){t.na&&ZN(t.na,function(n,r){Pi(e,r,n)}),t.h&&oX({},function(n,r){Pi(e,r,n)})}function AX(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sa(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Rhe(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function EX(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;cx||$7(),ux||(cx(),ux=!0),iB.add(e,t),t.A=0}}function pB(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ob(sa(t.Ma,t),MX(t,t.A)),t.A++,!0)}en.Ma=function(){if(this.u=null,TX(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ob(sa(this.jb,this),t)}};en.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ea(10),SC(this),TX(this))};function mB(t){t.B!=null&&(cr.clearTimeout(t.B),t.B=null)}function TX(t){t.g=new Nb(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Mh(t.wa);Pi(e,"RID","rpc"),Pi(e,"SID",t.K),Pi(e,"AID",t.V),Pi(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pi(e,"TO",t.qa),Pi(e,"TYPE","xmlhttp"),zb(t,e),t.o&&t.s&&dB(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=xC(Mh(e)),n.u=null,n.S=!0,nX(n,t)}en.ib=function(){this.v!=null&&(this.v=null,SC(this),pB(this),Ea(19))};function BE(t){t.v!=null&&(cr.clearTimeout(t.v),t.v=null)}function CX(t,e){var n=null;if(t.g==e){BE(t),mB(t),t.g=null;var r=2}else if(FL(t.i,e))n=e.F,pX(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=gC(),Po(r,new J7(r,n)),AC(t)}else EX(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Fhe(t,e)||r==2&&pB(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ep(t,5);break;case 4:Ep(t,10);break;case 3:Ep(t,6);break;default:Ep(t,2)}}}function MX(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ep(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=sa(t.pb,t);n||(n=new zp("//www.google.com/images/cleardot.gif"),cr.location&&cr.location.protocol=="http"||DE(n,"https"),xC(n)),Lhe(n.toString(),r)}else Ea(2);t.H=0,t.h&&t.h.za(e),PX(t),SX(t)}en.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ea(2)):(this.l.info("Failed to ping google.com"),Ea(1))};function PX(t){if(t.H=0,t.ma=[],t.h){const e=mX(t.i);(e.length!=0||t.j.length!=0)&&(x5(t.ma,e),x5(t.ma,t.j),t.i.i.length=0,YN(t.j),t.j.length=0),t.h.ya()}}function IX(t,e,n){var r=n instanceof zp?Mh(n):new zp(n);if(r.g!="")e&&(r.g=e+"."+r.g),NE(r,r.m);else{var i=cr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new zp(null);r&&DE(s,r),e&&(s.g=e),i&&NE(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Pi(r,n,e),Pi(r,"VER",t.ra),zb(t,r),r}function RX(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rs(new Fb({ob:n})):new rs(t.va),e.Oa(t.J),e}en.isActive=function(){return!!this.h&&this.h.isActive(this)};function LX(){}en=LX.prototype;en.Ba=function(){};en.Aa=function(){};en.za=function(){};en.ya=function(){};en.isActive=function(){return!0};en.Va=function(){};function FE(){if(Dv&&!(10<=Number(Jue)))throw Error("Environmental error: no available transport.")}FE.prototype.g=function(t,e){return new Sl(t,e)};function Sl(t,e){oo.call(this),this.g=new wX(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ax(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ax(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yy(this)}ao(Sl,oo);Sl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ea(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IX(t,null,t.Y),AC(t)};Sl.prototype.close=function(){fB(this.g)};Sl.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rB(t),t=n);e.j.push(new Che(e.fb++,t)),e.H==3&&AC(e)};Sl.prototype.N=function(){this.g.h=null,delete this.j,fB(this.g),delete this.g,Sl.$.N.call(this)};function kX(t){lB.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ao(kX,lB);function OX(){cB.call(this),this.status=1}ao(OX,cB);function yy(t){this.g=t}ao(yy,LX);yy.prototype.Ba=function(){Po(this.g,"a")};yy.prototype.Aa=function(t){Po(this.g,new kX(t))};yy.prototype.za=function(t){Po(this.g,new OX)};yy.prototype.ya=function(){Po(this.g,"b")};function Uhe(){this.blockSize=-1}function zc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ao(zc,Uhe);zc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function gI(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}zc.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)gI(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){gI(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){gI(this,r),i=0;break}}this.h=i,this.i+=e};zc.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function di(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var zhe={};function gB(t){return-128<=t&&128>t?que(t,function(e){return new di([e|0],0>e?-1:0)}):new di([t|0],0>t?-1:0)}function au(t){if(isNaN(t)||!isFinite(t))return hv;if(0>t)return Eo(au(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=UL;return new di(e,0)}function DX(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Eo(DX(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=au(Math.pow(e,8)),r=hv,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=au(Math.pow(e,s)),r=r.R(s).add(au(o))):(r=r.R(n),r=r.add(au(o)))}return r}var UL=4294967296,hv=gB(0),zL=gB(1),R5=gB(16777216);en=di.prototype;en.ea=function(){if(Ql(this))return-Eo(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:UL+r)*e,e*=UL}return t};en.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(uh(this))return"0";if(Ql(this))return"-"+Eo(this).toString(t);for(var e=au(Math.pow(t,6)),n=this,r="";;){var i=zE(n,e).g;n=UE(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,uh(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};en.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function uh(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ql(t){return t.h==-1}en.X=function(t){return t=UE(this,t),Ql(t)?-1:uh(t)?0:1};function Eo(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new di(n,~t.h).add(zL)}en.abs=function(){return Ql(this)?Eo(this):this};en.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new di(n,n[n.length-1]&-2147483648?-1:0)};function UE(t,e){return t.add(Eo(e))}en.R=function(t){if(uh(this)||uh(t))return hv;if(Ql(this))return Ql(t)?Eo(this).R(Eo(t)):Eo(Eo(this).R(t));if(Ql(t))return Eo(this.R(Eo(t)));if(0>this.X(R5)&&0>t.X(R5))return au(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Cw(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Cw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cw(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new di(n,0)};function Cw(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function i0(t,e){this.g=t,this.h=e}function zE(t,e){if(uh(e))throw Error("division by zero");if(uh(t))return new i0(hv,hv);if(Ql(t))return e=zE(Eo(t),e),new i0(Eo(e.g),Eo(e.h));if(Ql(e))return e=zE(t,Eo(e)),new i0(Eo(e.g),e.h);if(30<t.g.length){if(Ql(t)||Ql(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zL,r=e;0>=r.X(t);)n=L5(n),r=L5(r);var i=jm(n,1),s=jm(r,1);for(r=jm(r,2),n=jm(n,2);!uh(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=jm(r,1),n=jm(n,1)}return e=UE(t,i.R(e)),new i0(i,e)}for(i=hv;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=au(n),o=s.R(e);Ql(o)||0<o.X(t);)n-=r,s=au(n),o=s.R(e);uh(s)&&(s=zL),i=i.add(s),t=UE(t,o)}return new i0(i,t)}en.gb=function(t){return zE(this,t).h};en.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new di(n,this.h&t.h)};en.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new di(n,this.h|t.h)};en.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new di(n,this.h^t.h)};function L5(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new di(n,t.h)}function jm(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new di(i,t.h)}FE.prototype.createWebChannel=FE.prototype.g;Sl.prototype.send=Sl.prototype.u;Sl.prototype.open=Sl.prototype.m;Sl.prototype.close=Sl.prototype.close;vC.NO_ERROR=0;vC.TIMEOUT=8;vC.HTTP_ERROR=6;Z7.COMPLETE="complete";Q7.EventType=Db;Db.OPEN="a";Db.CLOSE="b";Db.ERROR="c";Db.MESSAGE="d";oo.prototype.listen=oo.prototype.O;rs.prototype.listenOnce=rs.prototype.P;rs.prototype.getLastError=rs.prototype.Sa;rs.prototype.getLastErrorCode=rs.prototype.Ia;rs.prototype.getStatus=rs.prototype.da;rs.prototype.getResponseJson=rs.prototype.Wa;rs.prototype.getResponseText=rs.prototype.ja;rs.prototype.send=rs.prototype.ha;rs.prototype.setWithCredentials=rs.prototype.Oa;zc.prototype.digest=zc.prototype.l;zc.prototype.reset=zc.prototype.reset;zc.prototype.update=zc.prototype.j;di.prototype.add=di.prototype.add;di.prototype.multiply=di.prototype.R;di.prototype.modulo=di.prototype.gb;di.prototype.compare=di.prototype.X;di.prototype.toNumber=di.prototype.ea;di.prototype.toString=di.prototype.toString;di.prototype.getBits=di.prototype.D;di.fromNumber=au;di.fromString=DX;var Vhe=function(){return new FE},Hhe=function(){return gC()},vI=vC,jhe=Z7,Ghe=Am,k5={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$he=Fb,Mw=Q7,Whe=rs,Xhe=zc,dv=di;const O5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ea.UNAUTHENTICATED=new ea(null),ea.GOOGLE_CREDENTIALS=new ea("google-credentials-uid"),ea.FIRST_PARTY=new ea("first-party-uid"),ea.MOCK_USER=new ea("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new BN("@firebase/firestore");function s0(){return am.logLevel}function wn(t,...e){if(am.logLevel<=Br.DEBUG){const n=e.map(vB);am.debug(`Firestore (${_y}): ${t}`,...n)}}function Ph(t,...e){if(am.logLevel<=Br.ERROR){const n=e.map(vB);am.error(`Firestore (${_y}): ${t}`,...n)}}function Nv(t,...e){if(am.logLevel<=Br.WARN){const n=e.map(vB);am.warn(`Firestore (${_y}): ${t}`,...n)}}function vB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t="Unexpected state"){const e=`FIRESTORE (${_y}) INTERNAL ASSERTION FAILED: `+t;throw Ph(e),new Error(e)}function wi(t,e){t||ur()}function mr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xn extends zh{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ea.UNAUTHENTICATED))}shutdown(){}}class Khe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yhe{constructor(e){this.t=e,this.currentUser=ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ef;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ef,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{wn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(wn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ef)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(wn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wi(typeof r.accessToken=="string"),new NX(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wi(e===null||typeof e=="string"),new ea(e)}}class Jhe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ea.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zhe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jhe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ea.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qhe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ede{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&wn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,wn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{wn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):wn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wi(typeof n.token=="string"),this.R=n.token,new Qhe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ti(t,e){return t<e?-1:t>e?1:0}function Bv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xn(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xn(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Xn(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xn(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vs.fromMillis(Date.now())}static fromDate(e){return Vs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ti(this.nanoseconds,e.nanoseconds):ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hr(e)}static min(){return new hr(new Vs(0,0))}static max(){return new hr(new Vs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r){n===void 0?n=0:n>e.length&&ur(),r===void 0?r=e.length-n:r>e.length-n&&ur(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mx.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mx?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ts extends mx{construct(e,n,r){return new ts(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xn(Tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ts(n)}static emptyPath(){return new ts([])}}const nde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class To extends mx{construct(e,n,r){return new To(e,n,r)}static isValidIdentifier(e){return nde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),To.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new To(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Xn(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Xn(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xn(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Xn(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new To(n)}static emptyPath(){return new To([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.path=e}static fromPath(e){return new qn(ts.fromString(e))}static fromName(e){return new qn(ts.fromString(e).popFirst(5))}static empty(){return new qn(ts.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ts.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ts.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qn(new ts(e.slice()))}}function rde(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=hr.fromTimestamp(r===1e9?new Vs(n+1,0):new Vs(n,r));return new af(i,qn.empty(),e)}function ide(t){return new af(t.readTime,t.key,-1)}class af{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new af(hr.min(),qn.empty(),-1)}static max(){return new af(hr.max(),qn.empty(),-1)}}function sde(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qn.comparator(t.documentKey,e.documentKey),n!==0?n:ti(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ade{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t){if(t.code!==Tt.FAILED_PRECONDITION||t.message!==ode)throw t;wn("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ur(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new At((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof At?n:At.resolve(n)}catch(n){return At.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):At.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):At.reject(n)}static resolve(e){return new At((n,r)=>{n(e)})}static reject(e){return new At((n,r)=>{r(e)})}static waitFor(e){return new At((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=At.resolve(!1);for(const r of e)n=n.next(i=>i?At.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new At((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new At((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function lde(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hb(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yB.oe=-1;function EC(t){return t==null}function VE(t){return t===0&&1/t==-1/0}function cde(t){return typeof t=="number"&&Number.isInteger(t)&&!VE(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Em(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.comparator=e,this.root=n||So.EMPTY}insert(e,n){return new Gi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,So.BLACK,null,null))}remove(e){return new Gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,So.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pw(this.root,e,this.comparator,!0)}}class Pw{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class So{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??So.RED,this.left=i??So.EMPTY,this.right=s??So.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new So(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return So.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return So.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,So.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,So.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ur();const e=this.left.check();if(e!==this.right.check())throw ur();return e+(this.isRed()?0:1)}}So.EMPTY=null,So.RED=!0,So.BLACK=!1;So.EMPTY=new class{constructor(){this.size=0}get key(){throw ur()}get value(){throw ur()}get color(){throw ur()}get left(){throw ur()}get right(){throw ur()}copy(e,n,r,i,s){return this}insert(e,n,r){return new So(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N5(this.data.getIterator())}getIteratorFrom(e){return new N5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Io(this.comparator);return n.data=e,n}}class N5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.fields=e,e.sort(To.comparator)}static empty(){return new pl([])}unionWith(e){let n=new Io(To.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UX("Invalid base64 string: "+s):s}}(e);return new ua(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ua(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ua.EMPTY_BYTE_STRING=new ua("");const ude=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lf(t){if(wi(!!t),typeof t=="string"){let e=0;const n=ude.exec(t);if(wi(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Es(t.seconds),nanos:Es(t.nanos)}}function Es(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lm(t){return typeof t=="string"?ua.fromBase64String(t):ua.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xB(t){const e=t.mapValue.fields.__previous_value__;return _B(e)?xB(e):e}function gx(t){const e=lf(t.mapValue.fields.__local_write_time__.timestampValue);return new Vs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class vx{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vx("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_B(t)?4:dde(t)?9007199254740991:10:ur()}function Cu(t,e){if(t===e)return!0;const n=cm(t);if(n!==cm(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gx(t).isEqual(gx(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=lf(i.timestampValue),a=lf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lm(i.bytesValue).isEqual(lm(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Es(i.geoPointValue.latitude)===Es(s.geoPointValue.latitude)&&Es(i.geoPointValue.longitude)===Es(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Es(i.integerValue)===Es(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Es(i.doubleValue),a=Es(s.doubleValue);return o===a?VE(o)===VE(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bv(t.arrayValue.values||[],e.arrayValue.values||[],Cu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(D5(o)!==D5(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cu(o[l],a[l])))return!1;return!0}(t,e);default:return ur()}}function yx(t,e){return(t.values||[]).find(n=>Cu(n,e))!==void 0}function Fv(t,e){if(t===e)return 0;const n=cm(t),r=cm(e);if(n!==r)return ti(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ti(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Es(s.integerValue||s.doubleValue),l=Es(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return B5(t.timestampValue,e.timestampValue);case 4:return B5(gx(t),gx(e));case 5:return ti(t.stringValue,e.stringValue);case 6:return function(s,o){const a=lm(s),l=lm(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ti(a[c],l[c]);if(u!==0)return u}return ti(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ti(Es(s.latitude),Es(o.latitude));return a!==0?a:ti(Es(s.longitude),Es(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Fv(a[c],l[c]);if(u)return u}return ti(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Iw.mapValue&&o===Iw.mapValue)return 0;if(s===Iw.mapValue)return 1;if(o===Iw.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=ti(l[d],u[d]);if(f!==0)return f;const v=Fv(a[l[d]],c[u[d]]);if(v!==0)return v}return ti(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ur()}}function B5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ti(t,e);const n=lf(t),r=lf(e),i=ti(n.seconds,r.seconds);return i!==0?i:ti(n.nanos,r.nanos)}function Uv(t){return VL(t)}function VL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lm(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qn.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=VL(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${VL(n.fields[o])}`;return i+"}"}(t.mapValue):ur()}function HL(t){return!!t&&"integerValue"in t}function bB(t){return!!t&&"arrayValue"in t}function F5(t){return!!t&&"nullValue"in t}function U5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gA(t){return!!t&&"mapValue"in t}function d_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Em(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=d_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=d_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dde(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.value=e}static empty(){return new Wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gA(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=d_(n)}setAll(e){let n=To.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=d_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gA(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gA(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Em(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wa(d_(this.value))}}function zX(t){const e=[];return Em(t.fields,(n,r)=>{const i=new To([n]);if(gA(r)){const s=zX(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new na(e,0,hr.min(),hr.min(),hr.min(),Wa.empty(),0)}static newFoundDocument(e,n,r,i){return new na(e,1,n,hr.min(),r,i,0)}static newNoDocument(e,n){return new na(e,2,n,hr.min(),hr.min(),Wa.empty(),0)}static newUnknownDocument(e,n){return new na(e,3,n,hr.min(),hr.min(),Wa.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(hr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof na&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new na(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.position=e,this.inclusive=n}}function z5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=qn.comparator(qn.fromName(o.referenceValue),n.key):r=Fv(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function V5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n="asc"){this.field=e,this.dir=n}}function fde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{}class Bs extends VX{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mde(e,n,r):n==="array-contains"?new yde(e,r):n==="in"?new _de(e,r):n==="not-in"?new xde(e,r):n==="array-contains-any"?new bde(e,r):new Bs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gde(e,r):new vde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fv(n,this.value)):n!==null&&cm(this.value)===cm(n)&&this.matchesComparison(Fv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ur()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mu extends VX{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mu(e,n)}matches(e){return HX(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HX(t){return t.op==="and"}function jX(t){return pde(t)&&HX(t)}function pde(t){for(const e of t.filters)if(e instanceof Mu)return!1;return!0}function jL(t){if(t instanceof Bs)return t.field.canonicalString()+t.op.toString()+Uv(t.value);if(jX(t))return t.filters.map(e=>jL(e)).join(",");{const e=t.filters.map(n=>jL(n)).join(",");return`${t.op}(${e})`}}function GX(t,e){return t instanceof Bs?function(r,i){return i instanceof Bs&&r.op===i.op&&r.field.isEqual(i.field)&&Cu(r.value,i.value)}(t,e):t instanceof Mu?function(r,i){return i instanceof Mu&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&GX(o,i.filters[a]),!0):!1}(t,e):void ur()}function $X(t){return t instanceof Bs?function(n){return`${n.field.canonicalString()} ${n.op} ${Uv(n.value)}`}(t):t instanceof Mu?function(n){return n.op.toString()+" {"+n.getFilters().map($X).join(" ,")+"}"}(t):"Filter"}class mde extends Bs{constructor(e,n,r){super(e,n,r),this.key=qn.fromName(r.referenceValue)}matches(e){const n=qn.comparator(e.key,this.key);return this.matchesComparison(n)}}class gde extends Bs{constructor(e,n){super(e,"in",n),this.keys=WX("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vde extends Bs{constructor(e,n){super(e,"not-in",n),this.keys=WX("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WX(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qn.fromName(r.referenceValue))}class yde extends Bs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bB(n)&&yx(n.arrayValue,this.value)}}class _de extends Bs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yx(this.value.arrayValue,n)}}class xde extends Bs{constructor(e,n){super(e,"not-in",n)}matches(e){if(yx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yx(this.value.arrayValue,n)}}class bde extends Bs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yx(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function H5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wde(t,e,n,r,i,s,o)}function wB(t){const e=mr(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),EC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uv(r)).join(",")),e.ue=n}return e.ue}function SB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GX(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V5(t.startAt,e.startAt)&&V5(t.endAt,e.endAt)}function GL(t){return qn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sde(t,e,n,r,i,s,o,a){return new TC(t,e,n,r,i,s,o,a)}function AB(t){return new TC(t)}function j5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ade(t){return t.collectionGroup!==null}function f_(t){const e=mr(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Io(To.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jE(s,r))}),n.has(To.keyField().canonicalString())||e.ce.push(new jE(To.keyField(),r))}return e.ce}function vu(t){const e=mr(t);return e.le||(e.le=Ede(e,f_(t))),e.le}function Ede(t,e){if(t.limitType==="F")return H5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jE(i.field,s)});const n=t.endAt?new HE(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new HE(t.startAt.position,t.startAt.inclusive):null;return H5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $L(t,e,n){return new TC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function CC(t,e){return SB(vu(t),vu(e))&&t.limitType===e.limitType}function XX(t){return`${wB(vu(t))}|lt:${t.limitType}`}function gg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$X(i)).join(", ")}]`),EC(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uv(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uv(i)).join(",")),`Target(${r})`}(vu(t))}; limitType=${t.limitType})`}function MC(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of f_(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=z5(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,f_(r),i)||r.endAt&&!function(o,a,l){const c=z5(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,f_(r),i))}(t,e)}function Tde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qX(t){return(e,n)=>{let r=!1;for(const i of f_(t)){const s=Cde(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Cde(t,e,n){const r=t.field.isKeyField()?qn.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Fv(l,c):ur()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ur()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Em(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FX(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mde=new Gi(qn.comparator);function Ih(){return Mde}const KX=new Gi(qn.comparator);function V0(...t){let e=KX;for(const n of t)e=e.insert(n.key,n);return e}function YX(t){let e=KX;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Tp(){return p_()}function JX(){return p_()}function p_(){return new xy(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pde=new Gi(qn.comparator),Ide=new Io(qn.comparator);function Or(...t){let e=Ide;for(const n of t)e=e.add(n);return e}const Rde=new Io(ti);function Lde(){return Rde}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VE(e)?"-0":e}}function QX(t){return{integerValue:""+t}}function kde(t,e){return cde(e)?QX(e):ZX(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this._=void 0}}function Ode(t,e,n){return t instanceof GE?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_B(s)&&(s=xB(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof _x?tq(t,e):t instanceof xx?nq(t,e):function(i,s){const o=eq(i,s),a=G5(o)+G5(i.Pe);return HL(o)&&HL(i.Pe)?QX(a):ZX(i.serializer,a)}(t,e)}function Dde(t,e,n){return t instanceof _x?tq(t,e):t instanceof xx?nq(t,e):n}function eq(t,e){return t instanceof $E?function(r){return HL(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class GE extends PC{}class _x extends PC{constructor(e){super(),this.elements=e}}function tq(t,e){const n=rq(e);for(const r of t.elements)n.some(i=>Cu(i,r))||n.push(r);return{arrayValue:{values:n}}}class xx extends PC{constructor(e){super(),this.elements=e}}function nq(t,e){let n=rq(e);for(const r of t.elements)n=n.filter(i=>!Cu(i,r));return{arrayValue:{values:n}}}class $E extends PC{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function G5(t){return Es(t.integerValue||t.doubleValue)}function rq(t){return bB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nde(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _x&&i instanceof _x||r instanceof xx&&i instanceof xx?Bv(r.elements,i.elements,Cu):r instanceof $E&&i instanceof $E?Cu(r.Pe,i.Pe):r instanceof GE&&i instanceof GE}(t.transform,e.transform)}class Bde{constructor(e,n){this.version=e,this.transformResults=n}}class yu{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yu}static exists(e){return new yu(void 0,e)}static updateTime(e){return new yu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vA(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class IC{}function iq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oq(t.key,yu.none()):new jb(t.key,t.data,yu.none());{const n=t.data,r=Wa.empty();let i=new Io(To.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mf(t.key,r,new pl(i.toArray()),yu.none())}}function Fde(t,e,n){t instanceof jb?function(i,s,o){const a=i.value.clone(),l=W5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mf?function(i,s,o){if(!vA(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=W5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sq(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function m_(t,e,n,r){return t instanceof jb?function(s,o,a,l){if(!vA(s.precondition,o))return a;const c=s.value.clone(),u=X5(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mf?function(s,o,a,l){if(!vA(s.precondition,o))return a;const c=X5(s.fieldTransforms,l,o),u=o.data;return u.setAll(sq(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return vA(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Ude(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eq(r.transform,i||null);s!=null&&(n===null&&(n=Wa.empty()),n.set(r.field,s))}return n||null}function $5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bv(r,i,(s,o)=>Nde(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jb extends IC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mf extends IC{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sq(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W5(t,e,n){const r=new Map;wi(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dde(o,a,n[i]))}return r}function X5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ode(s,o,e))}return r}class oq extends IC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zde extends IC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Fde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=m_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=m_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JX();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iq(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(hr.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Or())}isEqual(e){return this.batchId===e.batchId&&Bv(this.mutations,e.mutations,(n,r)=>$5(n,r))&&Bv(this.baseMutations,e.baseMutations,(n,r)=>$5(n,r))}}class EB{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wi(e.mutations.length===r.length);let i=function(){return Pde}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new EB(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hde=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var As,zr;function Gde(t){switch(t){default:return ur();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function aq(t){if(t===void 0)return Ph("GRPC error has no .code"),Tt.UNKNOWN;switch(t){case As.OK:return Tt.OK;case As.CANCELLED:return Tt.CANCELLED;case As.UNKNOWN:return Tt.UNKNOWN;case As.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case As.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case As.INTERNAL:return Tt.INTERNAL;case As.UNAVAILABLE:return Tt.UNAVAILABLE;case As.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case As.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case As.NOT_FOUND:return Tt.NOT_FOUND;case As.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case As.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case As.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case As.ABORTED:return Tt.ABORTED;case As.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case As.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case As.DATA_LOSS:return Tt.DATA_LOSS;default:return ur()}}(zr=As||(As={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wde=new dv([4294967295,4294967295],0);function q5(t){const e=$de().encode(t),n=new Xhe;return n.update(e),new Uint8Array(n.digest())}function K5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new dv([n,r],0),new dv([i,s],0)]}class TB{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new H0(`Invalid padding: ${n}`);if(r<0)throw new H0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new H0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new H0(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=dv.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(dv.fromNumber(r)));return i.compare(Wde)===1&&(i=new dv([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=q5(e),[r,i]=K5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new TB(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=q5(e),[r,i]=K5(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class H0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gb.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new RC(hr.min(),i,new Gi(ti),Ih(),Or())}}class Gb{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gb(r,n,Or(),Or(),Or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class lq{constructor(e,n){this.targetId=e,this.me=n}}class cq{constructor(e,n,r=ua.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y5{constructor(){this.fe=0,this.ge=Z5(),this.pe=ua.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Or(),n=Or(),r=Or();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ur()}}),new Gb(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Z5()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wi(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xde{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ih(),this.qe=J5(),this.Qe=new Gi(ti)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ur()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(GL(s))if(r===0){const o=new qn(s.path);this.Ue(n,o,na.newNoDocument(o,hr.min()))}else wi(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=lm(r).toUint8Array()}catch(l){if(l instanceof UX)return Nv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TB(o,i,s)}catch(l){return Nv(l instanceof H0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&GL(a.target)){const l=new qn(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,na.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Or();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new RC(e,n,this.Qe,this.ke,r);return this.ke=Ih(),this.qe=J5(),this.Qe=new Gi(ti),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Y5,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Io(ti),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||wn("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Y5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function J5(){return new Gi(qn.comparator)}function Z5(){return new Gi(qn.comparator)}const qde={asc:"ASCENDING",desc:"DESCENDING"},Kde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yde={and:"AND",or:"OR"};class Jde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function WL(t,e){return t.useProto3Json||EC(e)?e:{value:e}}function WE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zde(t,e){return WE(t,e.toTimestamp())}function _u(t){return wi(!!t),hr.fromTimestamp(function(n){const r=lf(n);return new Vs(r.seconds,r.nanos)}(t))}function CB(t,e){return XL(t,e).canonicalString()}function XL(t,e){const n=function(i){return new ts(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hq(t){const e=ts.fromString(t);return wi(gq(e)),e}function qL(t,e){return CB(t.databaseId,e.path)}function yI(t,e){const n=hq(e);if(n.get(1)!==t.databaseId.projectId)throw new Xn(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xn(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qn(fq(n))}function dq(t,e){return CB(t.databaseId,e)}function Qde(t){const e=hq(t);return e.length===4?ts.emptyPath():fq(e)}function KL(t){return new ts(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fq(t){return wi(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q5(t,e,n){return{name:qL(t,e),fields:n.value.mapValue.fields}}function efe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ur()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(wi(u===void 0||typeof u=="string"),ua.fromBase64String(u||"")):(wi(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ua.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Tt.UNKNOWN:aq(c.code);return new Xn(u,c.message||"")}(o);n=new cq(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yI(t,r.document.name),s=_u(r.document.updateTime),o=r.document.createTime?_u(r.document.createTime):hr.min(),a=new Wa({mapValue:{fields:r.document.fields}}),l=na.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new yA(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yI(t,r.document),s=r.readTime?_u(r.readTime):hr.min(),o=na.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yA([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yI(t,r.document),s=r.removedTargetIds||[];n=new yA([],s,i,null)}else{if(!("filter"in e))return ur();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jde(i,s),a=r.targetId;n=new lq(a,o)}}return n}function tfe(t,e){let n;if(e instanceof jb)n={update:Q5(t,e.key,e.value)};else if(e instanceof oq)n={delete:qL(t,e.key)};else if(e instanceof Mf)n={update:Q5(t,e.key,e.data),updateMask:ufe(e.fieldMask)};else{if(!(e instanceof zde))return ur();n={verify:qL(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof GE)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _x)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xx)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $E)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ur()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Zde(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ur()}(t,e.precondition)),n}function nfe(t,e){return t&&t.length>0?(wi(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_u(i.updateTime):_u(s);return o.isEqual(hr.min())&&(o=_u(s)),new Bde(o,i.transformResults||[])}(n,e))):[]}function rfe(t,e){return{documents:[dq(t,e.path)]}}function ife(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dq(t,i);const s=function(c){if(c.length!==0)return mq(Mu.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:vg(f.field),direction:afe(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=WL(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function sfe(t){let e=Qde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wi(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=pq(d);return f instanceof Mu&&jX(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new jE(yg(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,EC(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,v=d.values||[];return new HE(v,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,v=d.values||[];return new HE(v,f)}(n.endAt)),Sde(e,i,o,s,a,"F",l,c)}function ofe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ur()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pq(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yg(n.unaryFilter.field);return Bs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yg(n.unaryFilter.field);return Bs.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yg(n.unaryFilter.field);return Bs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yg(n.unaryFilter.field);return Bs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ur()}}(t):t.fieldFilter!==void 0?function(n){return Bs.create(yg(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ur()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mu.create(n.compositeFilter.filters.map(r=>pq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ur()}}(n.compositeFilter.op))}(t):ur()}function afe(t){return qde[t]}function lfe(t){return Kde[t]}function cfe(t){return Yde[t]}function vg(t){return{fieldPath:t.canonicalString()}}function yg(t){return To.fromServerFormat(t.fieldPath)}function mq(t){return t instanceof Bs?function(n){if(n.op==="=="){if(U5(n.value))return{unaryFilter:{field:vg(n.field),op:"IS_NAN"}};if(F5(n.value))return{unaryFilter:{field:vg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U5(n.value))return{unaryFilter:{field:vg(n.field),op:"IS_NOT_NAN"}};if(F5(n.value))return{unaryFilter:{field:vg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vg(n.field),op:lfe(n.op),value:n.value}}}(t):t instanceof Mu?function(n){const r=n.getFilters().map(i=>mq(i));return r.length===1?r[0]:{compositeFilter:{op:cfe(n.op),filters:r}}}(t):ur()}function ufe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i,s=hr.min(),o=hr.min(),a=ua.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e){this.ut=e}}function dfe(t){const e=sfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$L(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(){this.on=new pfe}addToCollectionParentIndex(e,n){return this.on.add(n),At.resolve()}getCollectionParents(e,n){return At.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return At.resolve()}deleteFieldIndex(e,n){return At.resolve()}deleteAllFieldIndexes(e){return At.resolve()}createTargetIndexes(e,n){return At.resolve()}getDocumentsMatchingTarget(e,n){return At.resolve(null)}getIndexType(e,n){return At.resolve(0)}getFieldIndexes(e,n){return At.resolve([])}getNextCollectionGroupToUpdate(e){return At.resolve(null)}getMinOffset(e,n){return At.resolve(af.min())}getMinOffsetFromCollectionGroup(e,n){return At.resolve(af.min())}updateCollectionGroup(e,n,r){return At.resolve()}updateIndexEntries(e,n){return At.resolve()}}class pfe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Io(ts.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Io(ts.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new zv(0)}static Nn(){return new zv(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(){this.changes=new xy(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,na.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?At.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&m_(r.mutation,i,pl.empty(),Vs.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Or()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Or()){const i=Tp();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=V0();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Tp();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Or()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ih();const o=p_(),a=function(){return p_()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Mf)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),m_(u.mutation,c,u.mutation.getFieldMask(),Vs.now())):o.set(c.key,pl.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new gfe(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=p_();let i=new Gi((o,a)=>o-a),s=Or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||pl.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Or()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=JX();u.forEach(f=>{if(!s.has(f)){const v=iq(n.get(f),r.get(f));v!==null&&d.set(f,v),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return At.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return qn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ade(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):At.resolve(Tp());let a=-1,l=s;return o.next(c=>At.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?At.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Or())).next(u=>({batchId:a,changes:YX(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qn(n)).next(r=>{let i=V0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=V0();return this.indexManager.getCollectionParents(e,s).next(a=>At.forEach(a,l=>{const c=function(d,f){return new TC(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,na.newInvalidDocument(u)))});let a=V0();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&m_(u.mutation,c,pl.empty(),Vs.now()),MC(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return At.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_u(i.createTime)}}(n)),At.resolve()}getNamedQuery(e,n){return At.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:dfe(i.bundledQuery),readTime:_u(i.readTime)}}(n)),At.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(){this.overlays=new Gi(qn.comparator),this.lr=new Map}getOverlay(e,n){return At.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Tp();return At.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),At.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),At.resolve()}getOverlaysForCollection(e,n,r){const i=Tp(),s=n.length+1,o=new qn(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return At.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gi((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Tp(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Tp(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return At.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hde(n,r));let s=this.lr.get(n);s===void 0&&(s=Or(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.hr=new Io(no.Pr),this.Ir=new Io(no.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new no(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new no(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new qn(new ts([])),r=new no(n,e),i=new no(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new qn(new ts([])),r=new no(n,e),i=new no(n,e+1);let s=Or();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new no(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class no{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return qn.comparator(e.key,n.key)||ti(e.gr,n.gr)}static Tr(e,n){return ti(e.gr,n.gr)||qn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Io(no.Pr)}checkEmpty(e){return At.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Vde(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new no(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return At.resolve(o)}lookupMutationBatch(e,n){return At.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return At.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new no(n,0),i=new no(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),At.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Io(ti);return n.forEach(i=>{const s=new no(i,0),o=new no(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),At.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qn.isDocumentKey(s)||(s=s.child(""));const o=new no(new qn(s),0);let a=new Io(ti);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),At.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){wi(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return At.forEach(n.mutations,i=>{const s=new no(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new no(n,0),i=this.yr.firstAfterOrEqual(r);return At.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,At.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e){this.Cr=e,this.docs=function(){return new Gi(qn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return At.resolve(r?r.document.mutableCopy():na.newInvalidDocument(n))}getEntries(e,n){let r=Ih();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():na.newInvalidDocument(i))}),At.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ih();const o=n.path,a=new qn(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||sde(ide(u),r)<=0||(i.has(u.key)||MC(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return At.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ur()}vr(e,n){return At.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wfe(this)}getSize(e){return At.resolve(this.size)}}class wfe extends mfe{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),At.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e){this.persistence=e,this.Fr=new xy(n=>wB(n),SB),this.lastRemoteSnapshotVersion=hr.min(),this.highestTargetId=0,this.Mr=0,this.Or=new MB,this.targetCount=0,this.Nr=zv.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),At.resolve()}getLastRemoteSnapshotVersion(e){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return At.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),At.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new zv(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,At.resolve()}updateTargetData(e,n){return this.kn(n),At.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,At.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),At.waitFor(s).next(()=>i)}getTargetCount(e){return At.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return At.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),At.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),At.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),At.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return At.resolve(r)}containsKey(e,n){return At.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e,n){this.Lr={},this.overlays={},this.Br=new yB(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Sfe(this),this.indexManager=new ffe,this.remoteDocumentCache=function(i){return new bfe(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new hfe(n),this.Kr=new yfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _fe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new xfe(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){wn("MemoryPersistence","Starting transaction:",e);const i=new Efe(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return At.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Efe extends ade{constructor(e){super(),this.currentSequenceNumber=e}}class PB{constructor(e){this.persistence=e,this.Gr=new MB,this.zr=null}static jr(e){return new PB(e)}get Hr(){if(this.zr)return this.zr;throw ur()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),At.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),At.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),At.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Hr,r=>{const i=qn.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,hr.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return At.or([()=>At.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Or(),i=Or();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new IB(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return rae()?8:lde(Oo())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Tfe;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(s0()<=Br.DEBUG&&wn("QueryEngine","SDK will not create cache indexes for query:",gg(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),At.resolve()):(s0()<=Br.DEBUG&&wn("QueryEngine","Query:",gg(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(s0()<=Br.DEBUG&&wn("QueryEngine","The SDK decides to create cache indexes for query:",gg(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vu(n))):At.resolve())}zi(e,n){if(j5(n))return At.resolve(null);let r=vu(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$L(n,null,"F"),r=vu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Or(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,$L(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return j5(n)||i.isEqual(hr.min())?At.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?At.resolve(null):(s0()<=Br.DEBUG&&wn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gg(n)),this.Xi(e,o,n,rde(i,-1)).next(a=>a))})}Yi(e,n){let r=new Io(qX(e));return n.forEach((i,s)=>{MC(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return s0()<=Br.DEBUG&&wn("QueryEngine","Using full collection scan to execute query:",gg(n)),this.Gi.getDocumentsMatchingQuery(e,n,af.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Gi(ti),this.ns=new xy(s=>wB(s),SB),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vfe(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Pfe(t,e,n,r){return new Mfe(t,e,n,r)}async function vq(t,e){const n=mr(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Or();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function Ife(t,e){const n=mr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let v=At.resolve();return f.forEach(y=>{v=v.next(()=>u.getEntry(l,y)).next(b=>{const w=c.docVersions.get(y);wi(w!==null),b.version.compareTo(w)<0&&(d.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Or();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yq(t){const e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Rfe(t,e){const n=mr(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let v=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?v=v.withResumeToken(ua.EMPTY_BYTE_STRING,hr.min()).withLastLimboFreeSnapshotVersion(hr.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,r)),i=i.insert(d,v),function(b,w,_){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,v,u)&&a.push(n.qr.updateTargetData(s,v))});let l=Ih(),c=Or();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Lfe(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(hr.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return At.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function Lfe(t,e,n){let r=Or(),i=Or();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ih();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(hr.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):wn("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function kfe(t,e){const n=mr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ofe(t,e){const n=mr(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,At.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new kd(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function YL(t,e,n){const r=mr(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hb(o))throw o;wn("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function eV(t,e,n){const r=mr(t);let i=hr.min(),s=Or();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=mr(l),f=d.ns.get(u);return f!==void 0?At.resolve(d.ts.get(f)):d.qr.getTargetData(c,u)}(r,o,vu(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:hr.min(),n?s:Or())).next(a=>(Dfe(r,Tde(e),a),{documents:a,ls:s})))}function Dfe(t,e,n){let r=t.rs.get(e)||hr.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class tV{constructor(){this.activeTargetIds=Lde()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nfe{constructor(){this.eo=new tV,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new tV,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){wn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){wn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rw=null;function _I(){return Rw===null?Rw=function(){return 268435456+Math.round(2147483648*Math.random())}():Rw++,"0x"+Rw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ffe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="WebChannelConnection";class zfe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){const a=_I(),l=this.Co(n,r.toUriEncodedString());wn("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,o),this.Fo(n,l,c,i).then(u=>(wn("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Nv("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_y}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){const i=Ffe[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const s=_I();return new Promise((o,a)=>{const l=new Whe;l.setWithCredentials(!0),l.listenOnce(jhe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vI.NO_ERROR:const u=l.getResponseJson();wn(qo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case vI.TIMEOUT:wn(qo,`RPC '${e}' ${s} timed out`),a(new Xn(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case vI.HTTP_ERROR:const d=l.getStatus();if(wn(qo,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const y=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(_)>=0?_:Tt.UNKNOWN}(v.status);a(new Xn(y,v.message))}else a(new Xn(Tt.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Xn(Tt.UNAVAILABLE,"Connection failed."));break;default:ur()}}finally{wn(qo,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);wn(qo,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}xo(e,n,r){const i=_I(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vhe(),a=Hhe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new $he({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");wn(qo,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,v=!1;const y=new Ufe({co:w=>{v?wn(qo,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(wn(qo,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),wn(qo,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),b=(w,_,S)=>{w.listen(_,C=>{try{S(C)}catch(I){setTimeout(()=>{throw I},0)}})};return b(d,Mw.EventType.OPEN,()=>{v||(wn(qo,`RPC '${e}' stream ${i} transport opened.`),y.Vo())}),b(d,Mw.EventType.CLOSE,()=>{v||(v=!0,wn(qo,`RPC '${e}' stream ${i} transport closed`),y.fo())}),b(d,Mw.EventType.ERROR,w=>{v||(v=!0,Nv(qo,`RPC '${e}' stream ${i} transport errored:`,w),y.fo(new Xn(Tt.UNAVAILABLE,"The operation could not be completed")))}),b(d,Mw.EventType.MESSAGE,w=>{var _;if(!v){const S=w.data[0];wi(!!S);const C=S,I=C.error||((_=C[0])===null||_===void 0?void 0:_.error);if(I){wn(qo,`RPC '${e}' stream ${i} received error:`,I);const z=I.status;let N=function(U){const F=As[U];if(F!==void 0)return aq(F)}(z),A=I.message;N===void 0&&(N=Tt.INTERNAL,A="Unknown error status: "+z+" with message "+I.message),v=!0,y.fo(new Xn(N,A)),d.close()}else wn(qo,`RPC '${e}' stream ${i} received:`,S),y.po(S)}}),b(a,Ghe.STAT_EVENT,w=>{w.stat===k5.PROXY?wn(qo,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===k5.NOPROXY&&wn(qo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.mo()},0),y}}function xI(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){return new Jde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&wn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new _q(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===Tt.RESOURCE_EXHAUSTED?(Ph(n.toString()),Ph("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===Tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Xn(Tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return wn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(wn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vfe extends xq{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=efe(this.serializer,e),r=function(s){if(!("targetChange"in s))return hr.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?hr.min():o.readTime?_u(o.readTime):hr.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=KL(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=GL(l)?{documents:rfe(s,l)}:{query:ife(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uq(s,o.resumeToken);const c=WL(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(hr.min())>0){a.readTime=WE(s,o.snapshotVersion.toTimestamp());const c=WL(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=ofe(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=KL(this.serializer),n.removeTarget=e,this.r_(n)}}class Hfe extends xq{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(wi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=nfe(e.writeResults,e.commitTime),r=_u(e.commitTime);return this.listener.d_(r,n)}return wi(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=KL(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tfe(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jfe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Xn(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,XL(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xn(Tt.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,XL(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xn(Tt.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Gfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ph(n),this.y_=!1):wn("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(async()=>{Tm(this)&&(wn("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=mr(l);c.M_.add(4),await $b(c),c.N_.set("Unknown"),c.M_.delete(4),await kC(c)}(this))})}),this.N_=new Gfe(r,i)}}async function kC(t){if(Tm(t))for(const e of t.x_)await e(!0)}async function $b(t){for(const e of t.x_)await e(!1)}function bq(t,e){const n=mr(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),OB(n)?kB(n):by(n).Zo()&&LB(n,e))}function RB(t,e){const n=mr(t),r=by(n);n.F_.delete(e),r.Zo()&&wq(n,e),n.F_.size===0&&(r.Zo()?r.t_():Tm(n)&&n.N_.set("Unknown"))}function LB(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hr.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}by(t).h_(e)}function wq(t,e){t.L_.xe(e),by(t).P_(e)}function kB(t){t.L_=new Xde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),by(t).start(),t.N_.w_()}function OB(t){return Tm(t)&&!by(t).Yo()&&t.F_.size>0}function Tm(t){return mr(t).M_.size===0}function Sq(t){t.L_=void 0}async function Wfe(t){t.N_.set("Online")}async function Xfe(t){t.F_.forEach((e,n)=>{LB(t,e)})}async function qfe(t,e){Sq(t),OB(t)?(t.N_.D_(e),kB(t)):t.N_.set("Unknown")}async function Kfe(t,e,n){if(t.N_.set("Online"),e instanceof cq&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){wn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await XE(t,r)}else if(e instanceof yA?t.L_.Ke(e):e instanceof lq?t.L_.He(e):t.L_.We(e),!n.isEqual(hr.min()))try{const r=await yq(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(ua.EMPTY_BYTE_STRING,u.snapshotVersion)),wq(s,l);const d=new kd(u.target,l,c,u.sequenceNumber);LB(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){wn("RemoteStore","Failed to raise snapshot:",r),await XE(t,r)}}async function XE(t,e,n){if(!Hb(e))throw e;t.M_.add(1),await $b(t),t.N_.set("Offline"),n||(n=()=>yq(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{wn("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await kC(t)})}function Aq(t,e){return e().catch(n=>XE(t,n,e))}async function OC(t){const e=mr(t),n=cf(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Yfe(e);)try{const i=await kfe(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,Jfe(e,i)}catch(i){await XE(e,i)}Eq(e)&&Tq(e)}function Yfe(t){return Tm(t)&&t.v_.length<10}function Jfe(t,e){t.v_.push(e);const n=cf(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function Eq(t){return Tm(t)&&!cf(t).Yo()&&t.v_.length>0}function Tq(t){cf(t).start()}async function Zfe(t){cf(t).R_()}async function Qfe(t){const e=cf(t);for(const n of t.v_)e.E_(n.mutations)}async function epe(t,e,n){const r=t.v_.shift(),i=EB.from(r,e,n);await Aq(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await OC(t)}async function tpe(t,e){e&&cf(t).T_&&await async function(r,i){if(function(o){return Gde(o)&&o!==Tt.ABORTED}(i.code)){const s=r.v_.shift();cf(r).e_(),await Aq(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await OC(r)}}(t,e),Eq(t)&&Tq(t)}async function rV(t,e){const n=mr(t);n.asyncQueue.verifyOperationInProgress(),wn("RemoteStore","RemoteStore received new credentials");const r=Tm(n);n.M_.add(3),await $b(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await kC(n)}async function npe(t,e){const n=mr(t);e?(n.M_.delete(2),await kC(n)):e||(n.M_.add(2),await $b(n),n.N_.set("Unknown"))}function by(t){return t.B_||(t.B_=function(n,r,i){const s=mr(n);return s.m_(),new Vfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Wfe.bind(null,t),Io:Xfe.bind(null,t),Eo:qfe.bind(null,t),l_:Kfe.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),OB(t)?kB(t):t.N_.set("Unknown")):(await t.B_.stop(),Sq(t))})),t.B_}function cf(t){return t.k_||(t.k_=function(n,r,i){const s=mr(n);return s.m_(),new Hfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:Zfe.bind(null,t),Eo:tpe.bind(null,t),A_:Qfe.bind(null,t),d_:epe.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await OC(t)):(await t.k_.stop(),t.v_.length>0&&(wn("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ef,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new DB(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xn(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NB(t,e){if(Ph("AsyncQueue",`${e}: ${t}`),Hb(t))return new Xn(Tt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qn.comparator(n.key,r.key):(n,r)=>qn.comparator(n.key,r.key),this.keyedMap=V0(),this.sortedSet=new Gi(this.comparator)}static emptySet(e){return new fv(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fv)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.q_=new Gi(qn.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ur():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vv{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vv(e,n,fv.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&CC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rpe{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class ipe{constructor(){this.queries=new xy(e=>XX(e),CC),this.onlineState="Unknown",this.z_=new Set}}async function spe(t,e){const n=mr(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new rpe,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=NB(o,`Initialization of query '${gg(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&BB(n)}async function ope(t,e){const n=mr(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ape(t,e){const n=mr(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&BB(n)}function lpe(t,e,n){const r=mr(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function BB(t){t.z_.forEach(e=>{e.next()})}var JL,sV;(sV=JL||(JL={})).J_="default",sV.Cache="cache";class cpe{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Vv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==JL.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.key=e}}class Mq{constructor(e){this.key=e}}class upe{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Or(),this.mutatedKeys=Or(),this.Ia=qX(e),this.Ta=new fv(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new iV,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),v=MC(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;f&&v?f.data.isEqual(v.data)?y!==b&&(r.track({type:3,doc:v}),w=!0):this.Ra(f,v)||(r.track({type:2,doc:v}),w=!0,(l&&this.Ia(v,l)>0||c&&this.Ia(v,c)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),w=!0):f&&!v&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(v?(o=o.add(v),s=b?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((u,d)=>function(v,y){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ur()}};return b(v)-b(y)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Vv(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new iV,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Or(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Mq(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Cq(r))}),n}pa(e){this.la=e.ls,this.Pa=Or();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Vv.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class hpe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dpe{constructor(e){this.key=e,this.wa=!1}}class fpe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new xy(a=>XX(a),CC),this.Da=new Map,this.Ca=new Set,this.va=new Gi(qn.comparator),this.Fa=new Map,this.Ma=new MB,this.xa={},this.Oa=new Map,this.Na=zv.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ppe(t,e,n=!0){const r=Oq(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Pq(r,e,n,!0),i}async function mpe(t,e){const n=Oq(t);await Pq(n,e,!0,!1)}async function Pq(t,e,n,r){const i=await Ofe(t.localStore,vu(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await gpe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bq(t.remoteStore,i),a}async function gpe(t,e,n,r,i){t.Ba=(d,f,v)=>async function(b,w,_,S){let C=w.view.da(_);C.Zi&&(C=await eV(b.localStore,w.query,!1).then(({documents:A})=>w.view.da(A,C)));const I=S&&S.targetChanges.get(w.targetId),z=S&&S.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(C,b.isPrimaryClient,I,z);return aV(b,w.targetId,N.fa),N.snapshot}(t,d,f,v);const s=await eV(t.localStore,e,!0),o=new upe(e,s.ls),a=o.da(s.documents),l=Gb.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);aV(t,n,c.fa);const u=new hpe(e,n,o);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function vpe(t,e,n){const r=mr(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!CC(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await YL(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RB(r.remoteStore,i.targetId),ZL(r,i.targetId)}).catch(Vb)):(ZL(r,i.targetId),await YL(r.localStore,i.targetId,!0))}async function ype(t,e){const n=mr(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RB(n.remoteStore,r.targetId))}async function _pe(t,e,n){const r=Tpe(t);try{const i=await function(o,a){const l=mr(o),c=Vs.now(),u=a.reduce((v,y)=>v.add(y.key),Or());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let y=Ih(),b=Or();return l.ss.getEntries(v,u).next(w=>{y=w,y.forEach((_,S)=>{S.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,y)).next(w=>{d=w;const _=[];for(const S of a){const C=Ude(S,d.get(S.key).overlayedDocument);C!=null&&_.push(new Mf(S.key,C,zX(C.value.mapValue),yu.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,_,a)}).next(w=>{f=w;const _=w.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(v,w.batchId,_)})}).then(()=>({batchId:f.batchId,changes:YX(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Gi(ti)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Wb(r,i.changes),await OC(r.remoteStore)}catch(i){const s=NB(i,"Failed to persist write");n.reject(s)}}async function Iq(t,e){const n=mr(t);try{const r=await Rfe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(wi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?wi(o.wa):i.removedDocuments.size>0&&(wi(o.wa),o.wa=!1))}),await Wb(n,r,e)}catch(r){await Vb(r)}}function oV(t,e,n){const r=mr(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=mr(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.U_)f.j_(a)&&(c=!0)}),c&&BB(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xpe(t,e,n){const r=mr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Gi(qn.comparator);o=o.insert(s,na.newNoDocument(s,hr.min()));const a=Or().add(s),l=new RC(hr.min(),new Map,new Gi(ti),o,a);await Iq(r,l),r.va=r.va.remove(s),r.Fa.delete(e),FB(r)}else await YL(r.localStore,e,!1).then(()=>ZL(r,e,n)).catch(Vb)}async function bpe(t,e){const n=mr(t),r=e.batch.batchId;try{const i=await Ife(n.localStore,e);Lq(n,r,null),Rq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wb(n,i)}catch(i){await Vb(i)}}async function wpe(t,e,n){const r=mr(t);try{const i=await function(o,a){const l=mr(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(wi(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Lq(r,e,n),Rq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wb(r,i)}catch(i){await Vb(i)}}function Rq(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Lq(t,e,n){const r=mr(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function ZL(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||kq(t,r)})}function kq(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(RB(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),FB(t))}function aV(t,e,n){for(const r of n)r instanceof Cq?(t.Ma.addReference(r.key,e),Spe(t,r)):r instanceof Mq?(wn("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||kq(t,r.key)):ur()}function Spe(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(wn("SyncEngine","New document in limbo: "+n),t.Ca.add(r),FB(t))}function FB(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new qn(ts.fromString(e)),r=t.Na.next();t.Fa.set(r,new dpe(n)),t.va=t.va.insert(n,r),bq(t.remoteStore,new kd(vu(AB(n.path)),r,"TargetPurposeLimboResolution",yB.oe))}}async function Wb(t,e,n){const r=mr(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=IB.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.Sa.l_(i),await async function(l,c){const u=mr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>At.forEach(c,f=>At.forEach(f.ki,v=>u.persistence.referenceDelegate.addReference(d,f.targetId,v)).next(()=>At.forEach(f.qi,v=>u.persistence.referenceDelegate.removeReference(d,f.targetId,v)))))}catch(d){if(!Hb(d))throw d;wn("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const v=u.ts.get(f),y=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(y);u.ts=u.ts.insert(f,b)}}}(r.localStore,s))}async function Ape(t,e){const n=mr(t);if(!n.currentUser.isEqual(e)){wn("SyncEngine","User change. New user:",e.toKey());const r=await vq(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Xn(Tt.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wb(n,r._s)}}function Epe(t,e){const n=mr(t),r=n.Fa.get(e);if(r&&r.wa)return Or().add(r.key);{let i=Or();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function Oq(t){const e=mr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Epe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xpe.bind(null,e),e.Sa.l_=ape.bind(null,e.eventManager),e.Sa.ka=lpe.bind(null,e.eventManager),e}function Tpe(t){const e=mr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wpe.bind(null,e),e}class lV{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=LC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Pfe(this.persistence,new Cfe,e.initialUser,this.serializer)}createPersistence(e){return new Afe(PB.jr,this.serializer)}createSharedClientState(e){return new Nfe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Cpe{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ape.bind(null,this.syncEngine),await npe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ipe}()}createDatastore(e){const n=LC(e.databaseInfo.databaseId),r=function(s){return new zfe(s)}(e.databaseInfo);return function(s,o,a,l){return new jfe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $fe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oV(this.syncEngine,n,0),function(){return nV.D()?new nV:new Bfe}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new fpe(i,s,o,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=mr(r);wn("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await $b(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ph("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ea.UNAUTHENTICATED,this.clientId=BX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{wn("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(wn("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xn(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ef;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=NB(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bI(t,e){t.asyncQueue.verifyOperationInProgress(),wn("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vq(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cV(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rpe(t);wn("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rV(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rV(e.remoteStore,i)),t._onlineComponents=e}function Ipe(t){return t.name==="FirebaseError"?t.code===Tt.FAILED_PRECONDITION||t.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Rpe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){wn("FirestoreClient","Using user provided OfflineComponentProvider");try{await bI(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Ipe(n))throw n;Nv("Error using user provided cache. Falling back to memory cache: "+n),await bI(t,new lV)}}else wn("FirestoreClient","Using default OfflineComponentProvider"),await bI(t,new lV);return t._offlineComponents}async function Dq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(wn("FirestoreClient","Using user provided OnlineComponentProvider"),await cV(t,t._uninitializedComponentsProvider._online)):(wn("FirestoreClient","Using default OnlineComponentProvider"),await cV(t,new Cpe))),t._onlineComponents}function Lpe(t){return Dq(t).then(e=>e.syncEngine)}async function kpe(t){const e=await Dq(t),n=e.eventManager;return n.onListen=ppe.bind(null,e.syncEngine),n.onUnlisten=vpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ype.bind(null,e.syncEngine),n}function Ope(t,e,n={}){const r=new ef;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Mpe({next:f=>{o.enqueueAndForget(()=>ope(s,d));const v=f.docs.has(a);!v&&f.fromCache?c.reject(new Xn(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?c.reject(new Xn(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new cpe(AB(a.path),u,{includeMetadataChanges:!0,ra:!0});return spe(s,d)}(await kpe(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dpe(t,e,n){if(!n)throw new Xn(Tt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Npe(t,e,n,r){if(e===!0&&r===!0)throw new Xn(Tt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hV(t){if(!qn.isDocumentKey(t))throw new Xn(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UB(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ur()}function um(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xn(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=UB(t);throw new Xn(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Xn(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Xn(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Npe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Xn(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Xn(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Xn(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zB{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xn(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Xn(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dV(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qhe;switch(r.type){case"firstParty":return new Zhe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xn(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uV.get(n);r&&(wn("ComponentProvider","Removing Datastore"),uV.delete(n),r.terminate())}(this),Promise.resolve()}}function Bpe(t,e,n,r={}){var i;const s=(t=um(t,zB))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ea.MOCK_USER;else{a=Joe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Xn(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ea(c)}t._authCredentials=new Khe(new NX(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new VB(this.firestore,e,this._query)}}class vl{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vl(this.firestore,e,this._key)}}class bx extends VB{constructor(e,n,r){super(e,n,AB(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vl(this.firestore,null,new qn(e))}withConverter(e){return new bx(this.firestore,e,this._path)}}function hm(t,e,...n){if(t=Do(t),arguments.length===1&&(e=BX.newId()),Dpe("doc","path",e),t instanceof zB){const r=ts.fromString(e,...n);return hV(r),new vl(t,null,new qn(r))}{if(!(t instanceof vl||t instanceof bx))throw new Xn(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ts.fromString(e,...n));return hV(r),new vl(t.firestore,t instanceof bx?t.converter:null,new qn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fpe{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new _q(this,"async_queue_retry"),this.hu=()=>{const n=xI();n&&wn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=xI();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=xI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ef;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Hb(e))throw e;wn("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ph("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=DB.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ur()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class DC extends zB{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Fpe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fq(this),this._firestoreClient.terminate()}}function Upe(t,e){const n=typeof t=="object"?t:XW(),r=typeof t=="string"?t:e||"(default)",i=UN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Koe("firestore");s&&Bpe(i,...s)}return i}function Bq(t){return t._firestoreClient||Fq(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fq(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new hde(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Nq(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ppe(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hv(ua.fromBase64String(e))}catch(n){throw new Xn(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hv(ua.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xn(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new To(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xn(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xn(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ti(this._lat,e._lat)||ti(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zpe=/^__.*__$/;class Vpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mf(e,this.data,this.fieldMask,n,this.fieldTransforms):new jb(e,this.data,n,this.fieldTransforms)}}class Uq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur()}}class GB{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new GB(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return qE(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(zq(this.fu)&&zpe.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Hpe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||LC(e)}Fu(e,n,r,i=!1){return new GB({fu:e,methodName:n,vu:r,path:To.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vq(t){const e=t._freezeSettings(),n=LC(t._databaseId);return new Hpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jpe(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);$B("Data must be an object, but it was:",o,r);const a=Hq(r,o);let l,c;if(s.merge)l=new pl(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=QL(e,d,n);if(!o.contains(f))throw new Xn(Tt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Gq(u,f)||u.push(f)}l=new pl(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Vpe(new Wa(a),l,c)}class BC extends HB{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof BC}}function Gpe(t,e,n,r){const i=t.Fu(1,e,n);$B("Data must be an object, but it was:",i,r);const s=[],o=Wa.empty();Em(r,(l,c)=>{const u=WB(e,l,n);c=Do(c);const d=i.Su(u);if(c instanceof BC)s.push(u);else{const f=FC(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new pl(s);return new Uq(o,a,i.fieldTransforms)}function $pe(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[QL(e,r,n)],l=[i];if(s.length%2!=0)throw new Xn(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(QL(e,s[f])),l.push(s[f+1]);const c=[],u=Wa.empty();for(let f=a.length-1;f>=0;--f)if(!Gq(c,a[f])){const v=a[f];let y=l[f];y=Do(y);const b=o.Su(v);if(y instanceof BC)c.push(v);else{const w=FC(y,b);w!=null&&(c.push(v),u.set(v,w))}}const d=new pl(c);return new Uq(u,d,o.fieldTransforms)}function FC(t,e){if(jq(t=Do(t)))return $B("Unsupported field value:",e,t),Hq(t,e);if(t instanceof HB)return function(r,i){if(!zq(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=FC(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Do(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kde(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vs.fromDate(r);return{timestampValue:WE(i.serializer,s)}}if(r instanceof Vs){const s=new Vs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:WE(i.serializer,s)}}if(r instanceof jB)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hv)return{bytesValue:uq(i.serializer,r._byteString)};if(r instanceof vl){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:CB(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${UB(r)}`)}(t,e)}function Hq(t,e){const n={};return FX(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Em(t,(r,i)=>{const s=FC(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vs||t instanceof jB||t instanceof Hv||t instanceof vl||t instanceof HB)}function $B(t,e,n){if(!jq(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=UB(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function QL(t,e,n){if((e=Do(e))instanceof NC)return e._internalPath;if(typeof e=="string")return WB(t,e);throw qE("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wpe=new RegExp("[~\\*/\\[\\]]");function WB(t,e,n){if(e.search(Wpe)>=0)throw qE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new NC(...e.split("."))._internalPath}catch{throw qE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qE(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Xn(Tt.INVALID_ARGUMENT,a+t+l)}function Gq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wq("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xpe extends $q{data(){return super.data()}}function Wq(t,e){return typeof e=="string"?WB(t,e):e instanceof NC?e._internalPath:e._delegate._internalPath}class qpe{convertValue(e,n="none"){switch(cm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ur()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Em(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new jB(Es(e.latitude),Es(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gx(e));default:return null}}convertTimestamp(e){const n=lf(e);return new Vs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ts.fromString(e);wi(gq(r));const i=new vx(r.get(1),r.get(3)),s=new qn(r.popFirst(5));return i.isEqual(n)||Ph(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kpe(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ype{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xq extends $q{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jpe(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wq("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jpe extends Xq{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){t=um(t,vl);const e=um(t.firestore,DC);return Ope(Bq(e),t._key).then(n=>eme(e,t,n))}class Zpe extends qpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hv(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vl(this.firestore,null,n)}}function Qpe(t,e,n){t=um(t,vl);const r=um(t.firestore,DC),i=Kpe(t.converter,e,n);return qq(r,[jpe(Vq(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yu.none())])}function qB(t,e,n,...r){t=um(t,vl);const i=um(t.firestore,DC),s=Vq(i);let o;return o=typeof(e=Do(e))=="string"||e instanceof NC?$pe(s,"updateDoc",t._key,e,n,r):Gpe(s,"updateDoc",t._key,e),qq(i,[o.toMutation(t._key,yu.exists(!0))])}function qq(t,e){return function(r,i){const s=new ef;return r.asyncQueue.enqueueAndForget(async()=>_pe(await Lpe(r),i,s)),s.promise}(Bq(t),e)}function eme(t,e,n){const r=n.docs.get(e._key),i=new Zpe(t);return new Xq(t,i,e._key,r,new Ype(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_y=i})(my),kv(new rm("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new DC(new Yhe(r.getProvider("auth-internal")),new ede(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xn(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vx(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qd(O5,"4.6.1",e),Qd(O5,"4.6.1","esm2017")})();const tme={apiKey:"AIzaSyASp1N2mdEe_mYuu6FRWLlzVk5wYA53aQI",authDomain:"cryptocasino-5b8a3.firebaseapp.com",projectId:"cryptocasino-5b8a3",storageBucket:"cryptocasino-5b8a3.appspot.com",messagingSenderId:"1094051952550",appId:"1:1094051952550:web:787a406da3884a85f3c167",measurementId:"G-NGP1PE8G89"},Kq=WW(tme),Od=Lue(Kq),jv=Upe(Kq),Pu=G.createContext(null),Yq=({children:t})=>{const[e,n]=G.useState(null),[r,i]=G.useState(!0),s=py(),o=(u,d)=>pce(Od,u,d),a=(u,d)=>_7(Od,u,d),l=()=>(alert("Cierre de sesión exitoso!"),s("/login"),xce(Od));G.useEffect(()=>{const u=_ce(Od,d=>{n(d),i(!1)});return()=>{u()}},[]);const c={createUser:o,user:e,loginUser:a,logOut:l,loading:r};return V.jsx(Pu.Provider,{value:c,children:t})};Yq.propTypes={children:jt.node.isRequired};function Cm({title:t}){const{logOut:e}=G.useContext(Pu);return V.jsxs("header",{children:[V.jsx("h1",{className:"title",children:V.jsxs(ra,{to:"/",children:[V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Logo.png",alt:"Logo"}),t]})}),V.jsx("div",{children:V.jsx("button",{className:"logout-btn",onClick:e,children:"Cerrar sesión"})}),V.jsx("div",{children:V.jsx("button",{className:"profile-btn",children:V.jsx(ra,{to:"/Profile",children:"Perfil"})})}),V.jsx(iC,{})]})}var nme=Object.defineProperty,rme=(t,e)=>{for(var n in e)nme(t,n,{get:e[n],enumerable:!0})},Vc={};rme(Vc,{assign:()=>ome,colors:()=>tf,createStringInterpolator:()=>t3,skipAnimation:()=>rK,to:()=>nK,willAdvance:()=>n3});var KB=qb(),pr=t=>Xb(t,KB),YB=qb();pr.write=t=>Xb(t,YB);var UC=qb();pr.onStart=t=>Xb(t,UC);var JB=qb();pr.onFrame=t=>Xb(t,JB);var ZB=qb();pr.onFinish=t=>Xb(t,ZB);var pv=[];pr.setTimeout=(t,e)=>{const n=pr.now()+e,r=()=>{const s=pv.findIndex(o=>o.cancel==r);~s&&pv.splice(s,1),Nd-=~s?1:0},i={time:n,handler:t,cancel:r};return pv.splice(Jq(n),0,i),Nd+=1,Zq(),i};var Jq=t=>~(~pv.findIndex(e=>e.time>t)||~pv.length);pr.cancel=t=>{UC.delete(t),JB.delete(t),ZB.delete(t),KB.delete(t),YB.delete(t)};pr.sync=t=>{ek=!0,pr.batchedUpdates(t),ek=!1};pr.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,pr.onStart(n)}return r.handler=t,r.cancel=()=>{UC.delete(n),e=null},r};var QB=typeof window<"u"?window.requestAnimationFrame:()=>{};pr.use=t=>QB=t;pr.now=typeof performance<"u"?()=>performance.now():Date.now;pr.batchedUpdates=t=>t();pr.catch=console.error;pr.frameLoop="always";pr.advance=()=>{pr.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):eK()};var Dd=-1,Nd=0,ek=!1;function Xb(t,e){ek?(e.delete(t),t(0)):(e.add(t),Zq())}function Zq(){Dd<0&&(Dd=0,pr.frameLoop!=="demand"&&QB(Qq))}function ime(){Dd=-1}function Qq(){~Dd&&(QB(Qq),pr.batchedUpdates(eK))}function eK(){const t=Dd;Dd=pr.now();const e=Jq(Dd);if(e&&(tK(pv.splice(0,e),n=>n.handler()),Nd-=e),!Nd){ime();return}UC.flush(),KB.flush(t?Math.min(64,Dd-t):16.667),JB.flush(),YB.flush(),ZB.flush()}function qb(){let t=new Set,e=t;return{add(n){Nd+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Nd-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Nd-=e.size,tK(e,r=>r(n)&&t.add(r)),Nd+=t.size,e=t)}}}function tK(t,e){t.forEach(n=>{try{e(n)}catch(r){pr.catch(r)}})}function tk(){}var sme=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Ft={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Ku(t,e){if(Ft.arr(t)){if(!Ft.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Fr=(t,e)=>t.forEach(e);function Iu(t,e,n){if(Ft.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var ml=t=>Ft.und(t)?[]:Ft.arr(t)?t:[t];function g_(t,e){if(t.size){const n=Array.from(t);t.clear(),Fr(n,e)}}var j0=(t,...e)=>g_(t,n=>n(...e)),e3=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),t3,nK,tf=null,rK=!1,n3=tk,ome=t=>{t.to&&(nK=t.to),t.now&&(pr.now=t.now),t.colors!==void 0&&(tf=t.colors),t.skipAnimation!=null&&(rK=t.skipAnimation),t.createStringInterpolator&&(t3=t.createStringInterpolator),t.requestAnimationFrame&&pr.use(t.requestAnimationFrame),t.batchedUpdates&&(pr.batchedUpdates=t.batchedUpdates),t.willAdvance&&(n3=t.willAdvance),t.frameLoop&&(pr.frameLoop=t.frameLoop)},v_=new Set,ec=[],wI=[],KE=0,zC={get idle(){return!v_.size&&!ec.length},start(t){KE>t.priority?(v_.add(t),pr.onStart(ame)):(iK(t),pr(nk))},advance:nk,sort(t){if(KE)pr.onFrame(()=>zC.sort(t));else{const e=ec.indexOf(t);~e&&(ec.splice(e,1),sK(t))}},clear(){ec=[],v_.clear()}};function ame(){v_.forEach(iK),v_.clear(),pr(nk)}function iK(t){ec.includes(t)||sK(t)}function sK(t){ec.splice(lme(ec,e=>e.priority>t.priority),0,t)}function nk(t){const e=wI;for(let n=0;n<ec.length;n++){const r=ec[n];KE=r.priority,r.idle||(n3(r),r.advance(t),r.idle||e.push(r))}return KE=0,wI=ec,wI.length=0,ec=e,ec.length>0}function lme(t,e){const n=t.findIndex(e);return n<0?t.length:n}var cme=(t,e,n)=>Math.min(Math.max(n,t),e),ume={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Oc="[-+]?\\d*\\.?\\d+",YE=Oc+"%";function VC(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var hme=new RegExp("rgb"+VC(Oc,Oc,Oc)),dme=new RegExp("rgba"+VC(Oc,Oc,Oc,Oc)),fme=new RegExp("hsl"+VC(Oc,YE,YE)),pme=new RegExp("hsla"+VC(Oc,YE,YE,Oc)),mme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,gme=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,vme=/^#([0-9a-fA-F]{6})$/,yme=/^#([0-9a-fA-F]{8})$/;function _me(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=vme.exec(t))?parseInt(e[1]+"ff",16)>>>0:tf&&tf[t]!==void 0?tf[t]:(e=hme.exec(t))?(Gm(e[1])<<24|Gm(e[2])<<16|Gm(e[3])<<8|255)>>>0:(e=dme.exec(t))?(Gm(e[1])<<24|Gm(e[2])<<16|Gm(e[3])<<8|mV(e[4]))>>>0:(e=mme.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=yme.exec(t))?parseInt(e[1],16)>>>0:(e=gme.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=fme.exec(t))?(fV(pV(e[1]),Lw(e[2]),Lw(e[3]))|255)>>>0:(e=pme.exec(t))?(fV(pV(e[1]),Lw(e[2]),Lw(e[3]))|mV(e[4]))>>>0:null}function SI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fV(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=SI(i,r,t+1/3),o=SI(i,r,t),a=SI(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Gm(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function pV(t){return(parseFloat(t)%360+360)%360/360}function mV(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Lw(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function gV(t){let e=_me(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var wx=(t,e,n)=>{if(Ft.fun(t))return t;if(Ft.arr(t))return wx({range:t,output:e,extrapolate:n});if(Ft.str(t.output[0]))return t3(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=bme(c,s);return xme(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function xme(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function bme(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var wme=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return cme(0,1,i/t)},JE=1.70158,kw=JE*1.525,vV=JE+1,yV=2*Math.PI/3,_V=2*Math.PI/4.5,Ow=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Sme={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>vV*t*t*t-JE*t*t,easeOutBack:t=>1+vV*Math.pow(t-1,3)+JE*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((kw+1)*2*t-kw)/2:(Math.pow(2*t-2,2)*((kw+1)*(t*2-2)+kw)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*yV),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*yV)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*_V))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*_V)/2+1,easeInBounce:t=>1-Ow(1-t),easeOutBounce:Ow,easeInOutBounce:t=>t<.5?(1-Ow(1-2*t))/2:(1+Ow(2*t-1))/2,steps:wme},Sx=Symbol.for("FluidValue.get"),Gv=Symbol.for("FluidValue.observers"),Zl=t=>!!(t&&t[Sx]),ja=t=>t&&t[Sx]?t[Sx]():t,xV=t=>t[Gv]||null;function Ame(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Ax(t,e){const n=t[Gv];n&&n.forEach(r=>{Ame(r,e)})}var oK=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Eme(this,t)}},Eme=(t,e)=>aK(t,Sx,e);function wy(t,e){if(t[Sx]){let n=t[Gv];n||aK(t,Gv,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Ex(t,e){const n=t[Gv];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Gv]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var aK=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),_A=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Tme=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,bV=new RegExp(`(${_A.source})(%|[a-z]+)`,"i"),Cme=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,HC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,lK=t=>{const[e,n]=Mme(t);if(!e||e3())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&HC.test(n))return lK(n);if(n)return n}return t},Mme=t=>{const e=HC.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},AI,Pme=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,cK=t=>{AI||(AI=tf?new RegExp(`(${Object.keys(tf).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>ja(s).replace(HC,lK).replace(Tme,gV).replace(AI,gV)),n=e.map(s=>s.match(_A).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>wx({...t,output:s}));return s=>{var l;const o=!bV.test(e[0])&&((l=e.find(c=>bV.test(c)))==null?void 0:l.replace(_A,""));let a=0;return e[0].replace(_A,()=>`${i[a++](s)}${o||""}`).replace(Cme,Pme)}},r3="react-spring: ",uK=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${r3}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},Ime=uK(console.warn);function Rme(){Ime(`${r3}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Lme=uK(console.warn);function kme(){Lme(`${r3}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function jC(t){return Ft.str(t)&&(t[0]=="#"||/\d/.test(t)||!e3()&&HC.test(t)||t in(tf||{}))}var i3=e3()?G.useEffect:G.useLayoutEffect,Ome=()=>{const t=G.useRef(!1);return i3(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function hK(){const t=G.useState()[1],e=Ome();return()=>{e.current&&t(Math.random())}}function Dme(t,e){const[n]=G.useState(()=>({inputs:e,result:t()})),r=G.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&Nme(e,s.inputs)||(s={inputs:e,result:t()}):s=n,G.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Nme(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var dK=t=>G.useEffect(t,Bme),Bme=[];function wV(t){const e=G.useRef();return G.useEffect(()=>{e.current=t}),e.current}var Tx=Symbol.for("Animated:node"),Fme=t=>!!t&&t[Tx]===t,Qc=t=>t&&t[Tx],s3=(t,e)=>sme(t,Tx,e),GC=t=>t&&t[Tx]&&t[Tx].getPayload(),fK=class{constructor(){s3(this,this)}getPayload(){return this.payload||[]}},Kb=class extends fK{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Ft.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Kb(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Ft.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Ft.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Cx=class extends Kb{constructor(t){super(0),this._string=null,this._toString=wx({output:[t,t]})}static create(t){return new Cx(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Ft.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=wx({output:[this.getValue(),t]})),this._value=0,super.reset()}},ZE={dependencies:null},$C=class extends fK{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Iu(this.source,(n,r)=>{Fme(n)?e[r]=n.getValue(t):Zl(n)?e[r]=ja(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Fr(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Iu(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){ZE.dependencies&&Zl(t)&&ZE.dependencies.add(t);const e=GC(t);e&&Fr(e,n=>this.add(n))}},pK=class extends $C{constructor(t){super(t)}static create(t){return new pK(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(Ume)),!0)}};function Ume(t){return(jC(t)?Cx:Kb).create(t)}function rk(t){const e=Qc(t);return e?e.constructor:Ft.arr(t)?pK:jC(t)?Cx:Kb}var SV=(t,e)=>{const n=!Ft.fun(t)||t.prototype&&t.prototype.isReactComponent;return G.forwardRef((r,i)=>{const s=G.useRef(null),o=n&&G.useCallback(y=>{s.current=Hme(i,y)},[i]),[a,l]=Vme(r,e),c=hK(),u=()=>{const y=s.current;if(n&&!y)return;(y?e.applyAnimatedValues(y,a.getValue(!0)):!1)===!1&&c()},d=new zme(u,l),f=G.useRef();i3(()=>(f.current=d,Fr(l,y=>wy(y,d)),()=>{f.current&&(Fr(f.current.deps,y=>Ex(y,f.current)),pr.cancel(f.current.update))})),G.useEffect(u,[]),dK(()=>()=>{const y=f.current;Fr(y.deps,b=>Ex(b,y))});const v=e.getComponentProps(a.getValue());return G.createElement(t,{...v,ref:o})})},zme=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&pr.write(this.update)}};function Vme(t,e){const n=new Set;return ZE.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new $C(t),ZE.dependencies=null,[t,n]}function Hme(t,e){return t&&(Ft.fun(t)?t(e):t.current=e),e}var AV=Symbol.for("AnimatedComponent"),jme=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new $C(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=EV(o)||"Anonymous";return Ft.str(o)?o=s[o]||(s[o]=SV(o,i)):o=o[AV]||(o[AV]=SV(o,i)),o.displayName=`Animated(${a})`,o};return Iu(t,(o,a)=>{Ft.arr(t)&&(a=EV(o)),s[a]=s(o)}),{animated:s}},EV=t=>Ft.str(t)?t:t&&Ft.str(t.displayName)?t.displayName:Ft.fun(t)&&t.name||null;function vp(t,...e){return Ft.fun(t)?t(...e):t}var y_=(t,e)=>t===!0||!!(e&&t&&(Ft.fun(t)?t(e):ml(t).includes(e))),mK=(t,e)=>Ft.obj(t)?e&&t[e]:t,gK=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Gme=t=>t,o3=(t,e=Gme)=>{let n=$me;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Ft.und(s)||(r[i]=s)}return r},$me=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Wme={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Xme(t){const e={};let n=0;if(Iu(t,(r,i)=>{Wme[i]||(e[i]=r,n++)}),n)return e}function vK(t){const e=Xme(t);if(e){const n={to:e};return Iu(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function Mx(t){return t=ja(t),Ft.arr(t)?t.map(Mx):jC(t)?Vc.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function qme(t){for(const e in t)return!0;return!1}function ik(t){return Ft.fun(t)||Ft.arr(t)&&Ft.obj(t[0])}function Kme(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function Yme(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var Jme={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},sk={...Jme.default,mass:1,damping:1,easing:Sme.linear,clamp:!1},Zme=class{constructor(){this.velocity=0,Object.assign(this,sk)}};function Qme(t,e,n){n&&(n={...n},TV(n,e),e={...n,...e}),TV(t,e),Object.assign(t,e);for(const o in sk)t[o]==null&&(t[o]=sk[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Ft.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function TV(t,e){if(!Ft.und(e.decay))t.duration=void 0;else{const n=!Ft.und(e.tension)||!Ft.und(e.friction);(n||!Ft.und(e.frequency)||!Ft.und(e.damping)||!Ft.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var CV=[],ege=class{constructor(){this.changed=!1,this.values=CV,this.toValues=null,this.fromValues=CV,this.config=new Zme,this.immediate=!1}};function yK(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,c,u=y_(n.cancel??(r==null?void 0:r.cancel),e);if(u)v();else{Ft.und(n.pause)||(i.paused=y_(n.pause,e));let y=r==null?void 0:r.pause;y!==!0&&(y=i.paused||y_(y,e)),l=vp(n.delay||0,e),y?(i.resumeQueue.add(f),s.pause()):(s.resume(),f())}function d(){i.resumeQueue.add(f),i.timeouts.delete(c),c.cancel(),l=c.time-pr.now()}function f(){l>0&&!Vc.skipAnimation?(i.delayed=!0,c=pr.setTimeout(v,l),i.pauseQueue.add(d),i.timeouts.add(c)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(c),t<=(i.cancelId||0)&&(u=!0);try{s.start({...n,callId:t,cancel:u},o)}catch(y){a(y)}}})}var a3=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?mv(t.get()):e.every(n=>n.noop)?_K(t.get()):Ic(t.get(),e.every(n=>n.finished)),_K=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Ic=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),mv=t=>({value:t,cancelled:!0,finished:!1});function xK(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=o3(e,(w,_)=>_==="onRest"?void 0:w);let u,d;const f=new Promise((w,_)=>(u=w,d=_)),v=w=>{const _=i<=(n.cancelId||0)&&mv(r)||i!==n.asyncId&&Ic(r,!1);if(_)throw w.result=_,d(w),w},y=(w,_)=>{const S=new MV,C=new PV;return(async()=>{if(Vc.skipAnimation)throw Px(n),C.result=Ic(r,!1),d(C),C;v(S);const I=Ft.obj(w)?{...w}:{..._,to:w};I.parentId=i,Iu(c,(N,A)=>{Ft.und(I[A])&&(I[A]=N)});const z=await r.start(I);return v(S),n.paused&&await new Promise(N=>{n.resumeQueue.add(N)}),z})()};let b;if(Vc.skipAnimation)return Px(n),Ic(r,!1);try{let w;Ft.arr(t)?w=(async _=>{for(const S of _)await y(S)})(t):w=Promise.resolve(t(y,r.stop.bind(r))),await Promise.all([w.then(u),f]),b=Ic(r.get(),!0,!1)}catch(w){if(w instanceof MV)b=w.result;else if(w instanceof PV)b=w.result;else throw w}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Ft.fun(o)&&pr.batchedUpdates(()=>{o(b,r,r.item)}),b})()}function Px(t,e){g_(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var MV=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},PV=class extends Error{constructor(){super("SkipAnimationSignal")}},ok=t=>t instanceof l3,tge=1,l3=class extends oK{constructor(){super(...arguments),this.id=tge++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Qc(this);return t&&t.getValue()}to(...t){return Vc.to(this,t)}interpolate(...t){return Rme(),Vc.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Ax(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||zC.sort(this),Ax(this,{type:"priority",parent:this,priority:t})}},dm=Symbol.for("SpringPhase"),bK=1,ak=2,lk=4,EI=t=>(t[dm]&bK)>0,rd=t=>(t[dm]&ak)>0,o0=t=>(t[dm]&lk)>0,IV=(t,e)=>e?t[dm]|=ak|bK:t[dm]&=~ak,RV=(t,e)=>e?t[dm]|=lk:t[dm]&=~lk,nge=class extends l3{constructor(t,e){if(super(),this.animation=new ege,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ft.und(t)||!Ft.und(e)){const n=Ft.obj(t)?{...t}:{...e,from:t};Ft.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(rd(this)||this._state.asyncTo)||o0(this)}get goal(){return ja(this.animation.to)}get velocity(){const t=Qc(this);return t instanceof Kb?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return EI(this)}get isAnimating(){return rd(this)}get isPaused(){return o0(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=GC(r.to);!o&&Zl(r.to)&&(i=ml(ja(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const d=c.constructor==Cx?1:o?o[u].lastPosition:i[u];let f=r.immediate,v=d;if(!f){if(v=c.lastPosition,s.tension<=0){c.done=!0;return}let y=c.elapsedTime+=t;const b=r.fromValues[u],w=c.v0!=null?c.v0:c.v0=Ft.arr(s.velocity)?s.velocity[u]:s.velocity;let _;const S=s.precision||(b==d?.005:Math.min(1,Math.abs(d-b)*.001));if(Ft.und(s.duration))if(s.decay){const C=s.decay===!0?.998:s.decay,I=Math.exp(-(1-C)*y);v=b+w/(1-C)*(1-I),f=Math.abs(c.lastPosition-v)<=S,_=w*I}else{_=c.lastVelocity==null?w:c.lastVelocity;const C=s.restVelocity||S/10,I=s.clamp?0:s.bounce,z=!Ft.und(I),N=b==d?c.v0>0:b<d;let A,W=!1;const U=1,F=Math.ceil(t/U);for(let ee=0;ee<F&&(A=Math.abs(_)>C,!(!A&&(f=Math.abs(d-v)<=S,f)));++ee){z&&(W=v==d||v>d==N,W&&(_=-_*I,v=d));const se=-s.tension*1e-6*(v-d),ne=-s.friction*.001*_,me=(se+ne)/s.mass;_=_+me*U,v=v+_*U}}else{let C=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,y=c.elapsedTime+=t)),C=(s.progress||0)+y/this._memoizedDuration,C=C>1?1:C<0?0:C,c.durationProgress=C),v=b+s.easing(C)*(d-b),_=(v-c.lastPosition)/t,f=C==1}c.lastVelocity=_,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),f=!0)}o&&!o[u].done&&(f=!1),f?c.done=!0:e=!1,c.setValue(v,s.round)&&(n=!0)});const a=Qc(this),l=a.getValue();if(e){const c=ja(r.to);(l!==c||n)&&!s.decay?(a.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return pr.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(rd(this)){const{to:t,config:e}=this.animation;pr.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Ft.und(t)?(n=this.queue||[],this.queue=[]):n=[Ft.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>a3(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Px(this._state,t&&this._lastCallId),pr.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Ft.obj(n)?n[e]:n,(n==null||ik(n))&&(n=void 0),r=Ft.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return EI(this)||(t.reverse&&([n,r]=[r,n]),r=ja(r),Ft.und(r)?Qc(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,o3(t,(o,a)=>/^on/.test(a)?mK(o,n):o)),kV(this,t,"onProps"),l0(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return yK(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{o0(this)||(RV(this,!0),j0(s.pauseQueue),l0(this,"onPause",Ic(this,a0(this,this.animation.to)),this))},resume:()=>{o0(this)&&(RV(this,!1),rd(this)&&this._resume(),j0(s.resumeQueue),l0(this,"onResume",Ic(this,a0(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=wK(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(mv(this));const r=!Ft.und(t.to),i=!Ft.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(mv(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:d=c}=t;i&&!r&&(!e.default||Ft.und(u))&&(u=d),e.reverse&&([u,d]=[d,u]);const f=!Ku(d,c);f&&(a.from=d),d=ja(d);const v=!Ku(u,l);v&&this._focus(u);const y=ik(e.to),{config:b}=a,{decay:w,velocity:_}=b;(r||i)&&(b.velocity=0),e.config&&!y&&Qme(b,vp(e.config,s),e.config!==o.config?vp(o.config,s):void 0);let S=Qc(this);if(!S||Ft.und(u))return n(Ic(this,!0));const C=Ft.und(e.reset)?i&&!e.default:!Ft.und(d)&&y_(e.reset,s),I=C?d:this.get(),z=Mx(u),N=Ft.num(z)||Ft.arr(z)||jC(z),A=!y&&(!N||y_(o.immediate||e.immediate,s));if(v){const ee=rk(u);if(ee!==S.constructor)if(A)S=this._set(z);else throw Error(`Cannot animate between ${S.constructor.name} and ${ee.name}, as the "to" prop suggests`)}const W=S.constructor;let U=Zl(u),F=!1;if(!U){const ee=C||!EI(this)&&f;(v||ee)&&(F=Ku(Mx(I),z),U=!F),(!Ku(a.immediate,A)&&!A||!Ku(b.decay,w)||!Ku(b.velocity,_))&&(U=!0)}if(F&&rd(this)&&(a.changed&&!C?U=!0:U||this._stop(l)),!y&&((U||Zl(l))&&(a.values=S.getPayload(),a.toValues=Zl(u)?null:W==Cx?[1]:ml(z)),a.immediate!=A&&(a.immediate=A,!A&&!C&&this._set(l)),U)){const{onRest:ee}=a;Fr(ige,ne=>kV(this,e,ne));const se=Ic(this,a0(this,l));j0(this._pendingCalls,se),this._pendingCalls.add(n),a.changed&&pr.batchedUpdates(()=>{var ne;a.changed=!C,ee==null||ee(se,this),C?vp(o.onRest,se):(ne=a.onStart)==null||ne.call(a,se,this)})}C&&this._set(I),y?n(xK(e.to,e,this._state,this)):U?this._start():rd(this)&&!v?this._pendingCalls.add(n):n(_K(I))}_focus(t){const e=this.animation;t!==e.to&&(xV(this)&&this._detach(),e.to=t,xV(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Zl(e)&&(wy(e,this),ok(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Zl(t)&&Ex(t,this)}_set(t,e=!0){const n=ja(t);if(!Ft.und(n)){const r=Qc(this);if(!r||!Ku(n,r.getValue())){const i=rk(n);!r||r.constructor!=i?s3(this,i.create(n)):r.setValue(n),r&&pr.batchedUpdates(()=>{this._onChange(n,e)})}}return Qc(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,l0(this,"onStart",Ic(this,a0(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),vp(this.animation.onChange,t,this)),vp(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Qc(this).reset(ja(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),rd(this)||(IV(this,!0),o0(this)||this._resume())}_resume(){Vc.skipAnimation?this.finish():zC.start(this)}_stop(t,e){if(rd(this)){IV(this,!1);const n=this.animation;Fr(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ax(this,{type:"idle",parent:this});const r=e?mv(this.get()):Ic(this.get(),a0(this,t??n.to));j0(this._pendingCalls,r),n.changed&&(n.changed=!1,l0(this,"onRest",r,this))}}};function a0(t,e){const n=Mx(e),r=Mx(t.get());return Ku(r,n)}function wK(t,e=t.loop,n=t.to){const r=vp(e);if(r){const i=r!==!0&&vK(r),s=(i||t).reverse,o=!i||i.reset;return Ix({...t,loop:e,default:!1,pause:void 0,to:!s||ik(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function Ix(t){const{to:e,from:n}=t=vK(t),r=new Set;return Ft.obj(e)&&LV(e,r),Ft.obj(n)&&LV(n,r),t.keys=r.size?Array.from(r):null,t}function rge(t){const e=Ix(t);return Ft.und(e.default)&&(e.default=o3(e)),e}function LV(t,e){Iu(t,(n,r)=>n!=null&&e.add(r))}var ige=["onStart","onRest","onChange","onPause","onResume"];function kV(t,e,n){t.animation[n]=e[n]!==gK(e,n)?mK(e[n],t.key):void 0}function l0(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var sge=["onStart","onChange","onRest"],oge=1,age=class{constructor(t,e){this.id=oge++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];Ft.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(Ix(t)),this}start(t){let{queue:e}=this;return t?e=ml(t).map(Ix):this.queue=[],this._flush?this._flush(this,e):(CK(this,e),ck(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;Fr(ml(e),r=>n[r].stop(!!t))}else Px(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(Ft.und(t))this.start({pause:!0});else{const e=this.springs;Fr(ml(t),n=>e[n].pause())}return this}resume(t){if(Ft.und(t))this.start({pause:!1});else{const e=this.springs;Fr(ml(t),n=>e[n].resume())}return this}each(t){Iu(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,g_(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&g_(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,g_(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;pr.onFrame(this._onFrame)}};function ck(t,e){return Promise.all(e.map(n=>SK(t,n))).then(n=>a3(t,n))}async function SK(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=Ft.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=Ft.arr(i)||Ft.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Fr(sge,b=>{const w=e[b];if(Ft.fun(w)){const _=t._events[b];e[b]=({finished:S,cancelled:C})=>{const I=_.get(w);I?(S||(I.finished=!1),C&&(I.cancelled=!0)):_.set(w,{value:null,finished:S||!1,cancelled:C||!1})},c&&(c[b]=e[b])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,j0(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const f=(r||Object.keys(t.springs)).map(b=>t.springs[b].start(e)),v=e.cancel===!0||gK(e,"cancel")===!0;(u||v&&d.asyncId)&&f.push(yK(++t._lastAsyncId,{props:e,state:d,actions:{pause:tk,resume:tk,start(b,w){v?(Px(d,t._lastAsyncId),w(mv(t))):(b.onRest=a,w(xK(u,b,d,t)))}}})),d.paused&&await new Promise(b=>{d.resumeQueue.add(b)});const y=a3(t,await Promise.all(f));if(o&&y.finished&&!(n&&y.noop)){const b=wK(e,o,i);if(b)return CK(t,[b]),SK(t,b,!0)}return l&&pr.batchedUpdates(()=>l(y,t,t.item)),y}function OV(t,e){const n={...t.springs};return e&&Fr(ml(e),r=>{Ft.und(r.keys)&&(r=Ix(r)),Ft.obj(r.to)||(r={...r,to:void 0}),TK(n,r,i=>EK(i))}),AK(t,n),n}function AK(t,e){Iu(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,wy(n,t))})}function EK(t,e){const n=new nge;return n.key=t,e&&wy(n,e),n}function TK(t,e,n){e.keys&&Fr(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function CK(t,e){Fr(e,n=>{TK(t.springs,n,r=>EK(r,t))})}var WC=({children:t,...e})=>{const n=G.useContext(QE),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=Dme(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=QE;return G.createElement(s,{value:e},t)},QE=lge(WC,{});WC.Provider=QE.Provider;WC.Consumer=QE.Consumer;function lge(t,e){return Object.assign(t,G.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var cge=()=>{const t=[],e=function(r){kme();const i=[];return Fr(t,(s,o)=>{if(Ft.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return Fr(t,r=>r.pause(...arguments)),this},e.resume=function(){return Fr(t,r=>r.resume(...arguments)),this},e.set=function(r){Fr(t,(i,s)=>{const o=Ft.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return Fr(t,(s,o)=>{if(Ft.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Fr(t,r=>r.stop(...arguments)),this},e.update=function(r){return Fr(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Ft.fun(r)?r(s,i):r};return e._getProps=n,e};function uge(t,e,n){const r=Ft.fun(e)&&e;r&&!n&&(n=[]);const i=G.useMemo(()=>r||arguments.length==3?cge():void 0,[]),s=G.useRef(0),o=hK(),a=G.useMemo(()=>({ctrls:[],queue:[],flush(_,S){const C=OV(_,S);return s.current>0&&!a.queue.length&&!Object.keys(C).some(z=>!_.springs[z])?ck(_,S):new Promise(z=>{AK(_,C),a.queue.push(()=>{z(ck(_,S))}),o()})}}),[]),l=G.useRef([...a.ctrls]),c=[],u=wV(t)||0;G.useMemo(()=>{Fr(l.current.slice(t,u),_=>{Kme(_,i),_.stop(!0)}),l.current.length=t,d(u,t)},[t]),G.useMemo(()=>{d(0,Math.min(u,t))},n);function d(_,S){for(let C=_;C<S;C++){const I=l.current[C]||(l.current[C]=new age(null,a.flush)),z=r?r(C,I):e[C];z&&(c[C]=rge(z))}}const f=l.current.map((_,S)=>OV(_,c[S])),v=G.useContext(WC),y=wV(v),b=v!==y&&qme(v);i3(()=>{s.current++,a.ctrls=l.current;const{queue:_}=a;_.length&&(a.queue=[],Fr(_,S=>S())),Fr(l.current,(S,C)=>{i==null||i.add(S),b&&S.start({default:v});const I=c[C];I&&(Yme(S,I.ref),S.ref?S.queue.push(I):S.start(I))})}),dK(()=>()=>{Fr(a.ctrls,_=>_.stop(!0))});const w=f.map(_=>({..._}));return i?[w,i]:w}function Rh(t,e){const n=Ft.fun(t),[[r],i]=uge(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}var hge=class extends l3{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=wx(...e);const n=this._get(),r=rk(n);s3(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Ku(e,n)||(Qc(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&DV(this._active)&&TI(this)}_get(){const t=Ft.arr(this.source)?this.source.map(ja):ml(ja(this.source));return this.calc(...t)}_start(){this.idle&&!DV(this._active)&&(this.idle=!1,Fr(GC(this),t=>{t.done=!1}),Vc.skipAnimation?(pr.batchedUpdates(()=>this.advance()),TI(this)):zC.start(this))}_attach(){let t=1;Fr(ml(this.source),e=>{Zl(e)&&wy(e,this),ok(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Fr(ml(this.source),t=>{Zl(t)&&Ex(t,this)}),this._active.clear(),TI(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=ml(this.source).reduce((e,n)=>Math.max(e,(ok(n)?n.priority:0)+1),0))}};function dge(t){return t.idle!==!1}function DV(t){return!t.size||Array.from(t).every(dge)}function TI(t){t.idle||(t.idle=!0,Fr(GC(t),e=>{e.done=!0}),Ax(t,{type:"idle",parent:t}))}Vc.assign({createStringInterpolator:cK,to:(t,e)=>new hge(t,e)});var MK=/^--/;function fge(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!MK.test(t)&&!(__.hasOwnProperty(t)&&__[t])?e+"px":(""+e).trim()}var NV={};function pge(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,c=Object.values(l),u=Object.keys(l).map(d=>n||t.hasAttribute(d)?d:NV[d]||(NV[d]=d.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(t.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const f=fge(d,r[d]);MK.test(d)?t.style.setProperty(d,f):t.style[d]=f}u.forEach((d,f)=>{t.setAttribute(d,c[f])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var __={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mge=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),gge=["Webkit","Ms","Moz","O"];__=Object.keys(__).reduce((t,e)=>(gge.forEach(n=>t[mge(n,e)]=t[e]),t),__);var vge=/^(matrix|translate|scale|rotate|skew)/,yge=/^(translate)/,_ge=/^(rotate|skew)/,CI=(t,e)=>Ft.num(t)&&t!==0?t+e:t,xA=(t,e)=>Ft.arr(t)?t.every(n=>xA(n,e)):Ft.num(t)?t===e:parseFloat(t)===e,xge=class extends $C{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>CI(a,"px")).join(",")})`,xA(o,0)])),Iu(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(vge.test(a)){if(delete r[a],Ft.und(o))return;const l=yge.test(a)?"px":_ge.test(a)?"deg":"";i.push(ml(o)),s.push(a==="rotate3d"?([c,u,d,f])=>[`rotate3d(${c},${u},${d},${CI(f,l)})`,xA(f,0)]:c=>[`${a}(${c.map(u=>CI(u,l)).join(",")})`,xA(c,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new bge(i,s)),super(r)}},bge=class extends oK{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Fr(this.inputs,(n,r)=>{const i=ja(n[0]),[s,o]=this.transforms[r](Ft.arr(i)?i:n.map(ja));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&Fr(this.inputs,e=>Fr(e,n=>Zl(n)&&wy(n,this)))}observerRemoved(t){t==0&&Fr(this.inputs,e=>Fr(e,n=>Zl(n)&&Ex(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Ax(this,t)}},wge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Vc.assign({batchedUpdates:Ab.unstable_batchedUpdates,createStringInterpolator:cK,colors:ume});var Sge=jme(wge,{applyAnimatedValues:pge,createAnimatedStyle:t=>new xge(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Lh=Sge.animated;function Age(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Ege(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Tge=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ege(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Age(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Zo="-ms-",eT="-moz-",Qr="-webkit-",PK="comm",c3="rule",u3="decl",Cge="@import",IK="@keyframes",Mge="@layer",Pge=Math.abs,XC=String.fromCharCode,Ige=Object.assign;function Rge(t,e){return Ao(t,0)^45?(((e<<2^Ao(t,0))<<2^Ao(t,1))<<2^Ao(t,2))<<2^Ao(t,3):0}function RK(t){return t.trim()}function Lge(t,e){return(t=e.exec(t))?t[0]:t}function ei(t,e,n){return t.replace(e,n)}function uk(t,e){return t.indexOf(e)}function Ao(t,e){return t.charCodeAt(e)|0}function Rx(t,e,n){return t.slice(e,n)}function tu(t){return t.length}function h3(t){return t.length}function Dw(t,e){return e.push(t),t}function kge(t,e){return t.map(e).join("")}var qC=1,$v=1,LK=0,Qa=0,Cs=0,Sy="";function KC(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:qC,column:$v,length:o,return:""}}function c0(t,e){return Ige(KC("",null,null,"",null,null,0),t,{length:-t.length},e)}function Oge(){return Cs}function Dge(){return Cs=Qa>0?Ao(Sy,--Qa):0,$v--,Cs===10&&($v=1,qC--),Cs}function yl(){return Cs=Qa<LK?Ao(Sy,Qa++):0,$v++,Cs===10&&($v=1,qC++),Cs}function xu(){return Ao(Sy,Qa)}function bA(){return Qa}function Yb(t,e){return Rx(Sy,t,e)}function Lx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kK(t){return qC=$v=1,LK=tu(Sy=t),Qa=0,[]}function OK(t){return Sy="",t}function wA(t){return RK(Yb(Qa-1,hk(t===91?t+2:t===40?t+1:t)))}function Nge(t){for(;(Cs=xu())&&Cs<33;)yl();return Lx(t)>2||Lx(Cs)>3?"":" "}function Bge(t,e){for(;--e&&yl()&&!(Cs<48||Cs>102||Cs>57&&Cs<65||Cs>70&&Cs<97););return Yb(t,bA()+(e<6&&xu()==32&&yl()==32))}function hk(t){for(;yl();)switch(Cs){case t:return Qa;case 34:case 39:t!==34&&t!==39&&hk(Cs);break;case 40:t===41&&hk(t);break;case 92:yl();break}return Qa}function Fge(t,e){for(;yl()&&t+Cs!==57;)if(t+Cs===84&&xu()===47)break;return"/*"+Yb(e,Qa-1)+"*"+XC(t===47?t:yl())}function Uge(t){for(;!Lx(xu());)yl();return Yb(t,Qa)}function zge(t){return OK(SA("",null,null,null,[""],t=kK(t),0,[0],t))}function SA(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,v=0,y=0,b=1,w=1,_=1,S=0,C="",I=i,z=s,N=r,A=C;w;)switch(y=S,S=yl()){case 40:if(y!=108&&Ao(A,d-1)==58){uk(A+=ei(wA(S),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:A+=wA(S);break;case 9:case 10:case 13:case 32:A+=Nge(y);break;case 92:A+=Bge(bA()-1,7);continue;case 47:switch(xu()){case 42:case 47:Dw(Vge(Fge(yl(),bA()),e,n),l);break;default:A+="/"}break;case 123*b:a[c++]=tu(A)*_;case 125*b:case 59:case 0:switch(S){case 0:case 125:w=0;case 59+u:_==-1&&(A=ei(A,/\f/g,"")),v>0&&tu(A)-d&&Dw(v>32?FV(A+";",r,n,d-1):FV(ei(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(Dw(N=BV(A,e,n,c,u,i,a,C,I=[],z=[],d),s),S===123)if(u===0)SA(A,e,N,N,I,s,d,a,z);else switch(f===99&&Ao(A,3)===110?100:f){case 100:case 108:case 109:case 115:SA(t,N,N,r&&Dw(BV(t,N,N,0,0,i,a,C,i,I=[],d),z),i,z,d,a,r?I:z);break;default:SA(A,N,N,N,[""],z,0,a,z)}}c=u=v=0,b=_=1,C=A="",d=o;break;case 58:d=1+tu(A),v=y;default:if(b<1){if(S==123)--b;else if(S==125&&b++==0&&Dge()==125)continue}switch(A+=XC(S),S*b){case 38:_=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(tu(A)-1)*_,_=1;break;case 64:xu()===45&&(A+=wA(yl())),f=xu(),u=d=tu(C=A+=Uge(bA())),S++;break;case 45:y===45&&tu(A)==2&&(b=0)}}return s}function BV(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],v=h3(f),y=0,b=0,w=0;y<r;++y)for(var _=0,S=Rx(t,d+1,d=Pge(b=o[y])),C=t;_<v;++_)(C=RK(b>0?f[_]+" "+S:ei(S,/&\f/g,f[_])))&&(l[w++]=C);return KC(t,e,n,i===0?c3:a,l,c,u)}function Vge(t,e,n){return KC(t,e,n,PK,XC(Oge()),Rx(t,2,-2),0)}function FV(t,e,n,r){return KC(t,e,n,u3,Rx(t,0,r),Rx(t,r+1,-1),r)}function gv(t,e){for(var n="",r=h3(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Hge(t,e,n,r){switch(t.type){case Mge:if(t.children.length)break;case Cge:case u3:return t.return=t.return||t.value;case PK:return"";case IK:return t.return=t.value+"{"+gv(t.children,r)+"}";case c3:t.value=t.props.join(",")}return tu(n=gv(t.children,r))?t.return=t.value+"{"+n+"}":""}function jge(t){var e=h3(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Gge(t){return function(e){e.root||(e=e.return)&&t(e)}}var UV=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function DK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $ge=function(e,n,r){for(var i=0,s=0;i=s,s=xu(),i===38&&s===12&&(n[r]=1),!Lx(s);)yl();return Yb(e,Qa)},Wge=function(e,n){var r=-1,i=44;do switch(Lx(i)){case 0:i===38&&xu()===12&&(n[r]=1),e[r]+=$ge(Qa-1,n,r);break;case 2:e[r]+=wA(i);break;case 4:if(i===44){e[++r]=xu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=XC(i)}while(i=yl());return e},Xge=function(e,n){return OK(Wge(kK(e),n))},zV=new WeakMap,qge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zV.get(r))&&!i){zV.set(e,!0);for(var s=[],o=Xge(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Kge=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function NK(t,e){switch(Rge(t,e)){case 5103:return Qr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qr+t+eT+t+Zo+t+t;case 6828:case 4268:return Qr+t+Zo+t+t;case 6165:return Qr+t+Zo+"flex-"+t+t;case 5187:return Qr+t+ei(t,/(\w+).+(:[^]+)/,Qr+"box-$1$2"+Zo+"flex-$1$2")+t;case 5443:return Qr+t+Zo+"flex-item-"+ei(t,/flex-|-self/,"")+t;case 4675:return Qr+t+Zo+"flex-line-pack"+ei(t,/align-content|flex-|-self/,"")+t;case 5548:return Qr+t+Zo+ei(t,"shrink","negative")+t;case 5292:return Qr+t+Zo+ei(t,"basis","preferred-size")+t;case 6060:return Qr+"box-"+ei(t,"-grow","")+Qr+t+Zo+ei(t,"grow","positive")+t;case 4554:return Qr+ei(t,/([^-])(transform)/g,"$1"+Qr+"$2")+t;case 6187:return ei(ei(ei(t,/(zoom-|grab)/,Qr+"$1"),/(image-set)/,Qr+"$1"),t,"")+t;case 5495:case 3959:return ei(t,/(image-set\([^]*)/,Qr+"$1$`$1");case 4968:return ei(ei(t,/(.+:)(flex-)?(.*)/,Qr+"box-pack:$3"+Zo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qr+t+t;case 4095:case 3583:case 4068:case 2532:return ei(t,/(.+)-inline(.+)/,Qr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tu(t)-1-e>6)switch(Ao(t,e+1)){case 109:if(Ao(t,e+4)!==45)break;case 102:return ei(t,/(.+:)(.+)-([^]+)/,"$1"+Qr+"$2-$3$1"+eT+(Ao(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~uk(t,"stretch")?NK(ei(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ao(t,e+1)!==115)break;case 6444:switch(Ao(t,tu(t)-3-(~uk(t,"!important")&&10))){case 107:return ei(t,":",":"+Qr)+t;case 101:return ei(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qr+(Ao(t,14)===45?"inline-":"")+"box$3$1"+Qr+"$2$3$1"+Zo+"$2box$3")+t}break;case 5936:switch(Ao(t,e+11)){case 114:return Qr+t+Zo+ei(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qr+t+Zo+ei(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qr+t+Zo+ei(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qr+t+Zo+t+t}return t}var Yge=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case u3:e.return=NK(e.value,e.length);break;case IK:return gv([c0(e,{value:ei(e.value,"@","@"+Qr)})],i);case c3:if(e.length)return kge(e.props,function(s){switch(Lge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gv([c0(e,{props:[ei(s,/:(read-\w+)/,":"+eT+"$1")]})],i);case"::placeholder":return gv([c0(e,{props:[ei(s,/:(plac\w+)/,":"+Qr+"input-$1")]}),c0(e,{props:[ei(s,/:(plac\w+)/,":"+eT+"$1")]}),c0(e,{props:[ei(s,/:(plac\w+)/,Zo+"input-$1")]})],i)}return""})}},Jge=[Yge],Zge=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var w=b.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||Jge,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var w=b.getAttribute("data-emotion").split(" "),_=1;_<w.length;_++)s[w[_]]=!0;a.push(b)});var l,c=[qge,Kge];{var u,d=[Hge,Gge(function(b){u.insert(b)})],f=jge(c.concat(i,d)),v=function(w){return gv(zge(w),f)};l=function(w,_,S,C){u=S,v(w?w+"{"+_.styles+"}":_.styles),C&&(y.inserted[_.name]=!0)}}var y={key:n,sheet:new Tge({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y};function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}var BK={exports:{}},fi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=typeof Symbol=="function"&&Symbol.for,d3=lo?Symbol.for("react.element"):60103,f3=lo?Symbol.for("react.portal"):60106,YC=lo?Symbol.for("react.fragment"):60107,JC=lo?Symbol.for("react.strict_mode"):60108,ZC=lo?Symbol.for("react.profiler"):60114,QC=lo?Symbol.for("react.provider"):60109,eM=lo?Symbol.for("react.context"):60110,p3=lo?Symbol.for("react.async_mode"):60111,tM=lo?Symbol.for("react.concurrent_mode"):60111,nM=lo?Symbol.for("react.forward_ref"):60112,rM=lo?Symbol.for("react.suspense"):60113,Qge=lo?Symbol.for("react.suspense_list"):60120,iM=lo?Symbol.for("react.memo"):60115,sM=lo?Symbol.for("react.lazy"):60116,eve=lo?Symbol.for("react.block"):60121,tve=lo?Symbol.for("react.fundamental"):60117,nve=lo?Symbol.for("react.responder"):60118,rve=lo?Symbol.for("react.scope"):60119;function Il(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case d3:switch(t=t.type,t){case p3:case tM:case YC:case ZC:case JC:case rM:return t;default:switch(t=t&&t.$$typeof,t){case eM:case nM:case sM:case iM:case QC:return t;default:return e}}case f3:return e}}}function FK(t){return Il(t)===tM}fi.AsyncMode=p3;fi.ConcurrentMode=tM;fi.ContextConsumer=eM;fi.ContextProvider=QC;fi.Element=d3;fi.ForwardRef=nM;fi.Fragment=YC;fi.Lazy=sM;fi.Memo=iM;fi.Portal=f3;fi.Profiler=ZC;fi.StrictMode=JC;fi.Suspense=rM;fi.isAsyncMode=function(t){return FK(t)||Il(t)===p3};fi.isConcurrentMode=FK;fi.isContextConsumer=function(t){return Il(t)===eM};fi.isContextProvider=function(t){return Il(t)===QC};fi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===d3};fi.isForwardRef=function(t){return Il(t)===nM};fi.isFragment=function(t){return Il(t)===YC};fi.isLazy=function(t){return Il(t)===sM};fi.isMemo=function(t){return Il(t)===iM};fi.isPortal=function(t){return Il(t)===f3};fi.isProfiler=function(t){return Il(t)===ZC};fi.isStrictMode=function(t){return Il(t)===JC};fi.isSuspense=function(t){return Il(t)===rM};fi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===YC||t===tM||t===ZC||t===JC||t===rM||t===Qge||typeof t=="object"&&t!==null&&(t.$$typeof===sM||t.$$typeof===iM||t.$$typeof===QC||t.$$typeof===eM||t.$$typeof===nM||t.$$typeof===tve||t.$$typeof===nve||t.$$typeof===rve||t.$$typeof===eve)};fi.typeOf=Il;BK.exports=fi;var ive=BK.exports,UK=ive,sve={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ove={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zK={};zK[UK.ForwardRef]=sve;zK[UK.Memo]=ove;var ave=!0;function lve(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var VK=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||ave===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},HK=function(e,n,r){VK(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function cve(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var uve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hve=/[A-Z]|^ms/g,dve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jK=function(e){return e.charCodeAt(1)===45},VV=function(e){return e!=null&&typeof e!="boolean"},MI=DK(function(t){return jK(t)?t:t.replace(hve,"-$&").toLowerCase()}),HV=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dve,function(r,i,s){return nu={name:i,styles:s,next:nu},i})}return uve[e]!==1&&!jK(e)&&typeof n=="number"&&n!==0?n+"px":n};function kx(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return nu={name:n.name,styles:n.styles,next:nu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)nu={name:r.name,styles:r.styles,next:nu},r=r.next;var i=n.styles+";";return i}return fve(t,e,n)}case"function":{if(t!==void 0){var s=nu,o=n(t);return nu=s,kx(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function fve(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=kx(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":VV(o)&&(r+=MI(s)+":"+HV(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)VV(o[a])&&(r+=MI(s)+":"+HV(s,o[a])+";");else{var l=kx(t,e,o);switch(s){case"animation":case"animationName":{r+=MI(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var jV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,nu,m3=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";nu=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=kx(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=kx(r,n,e[a]),i&&(s+=o[a]);jV.lastIndex=0;for(var l="",c;(c=jV.exec(s))!==null;)l+="-"+c[1];var u=cve(s)+l;return{name:u,styles:s,next:nu}},pve=function(e){return e()},GK=S2.useInsertionEffect?S2.useInsertionEffect:!1,mve=GK||pve,GV=GK||G.useLayoutEffect,$K=G.createContext(typeof HTMLElement<"u"?Zge({key:"css"}):null);$K.Provider;var WK=function(e){return G.forwardRef(function(n,r){var i=G.useContext($K);return e(n,i,r)})},Ox=G.createContext({}),gve=function(e,n){if(typeof n=="function"){var r=n(e);return r}return fm({},e,n)},vve=UV(function(t){return UV(function(e){return gve(t,e)})}),yve=function(e){var n=G.useContext(Ox);return e.theme!==n&&(n=vve(n)(e.theme)),G.createElement(Ox.Provider,{value:n},e.children)},oM=WK(function(t,e){var n=t.styles,r=m3([n],void 0,G.useContext(Ox)),i=G.useRef();return GV(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),GV(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&HK(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function _ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m3(e)}var xve=function(){var e=_ve.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},XK=String.raw,qK=XK`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,bve=()=>V.jsx(oM,{styles:qK}),wve=({scope:t=""})=>V.jsx(oM,{styles:XK`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${qK}
    `});function Sve(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Ou(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=G.createContext(o);a.displayName=e;function l(){var c;const u=G.useContext(a);if(!u&&n){const d=new Error(s??Sve(r,i));throw d.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,d,l),d}return u}return[a.Provider,l,a]}var[Ave,Eve]=Ou({strict:!1,name:"PortalManagerContext"});function KK(t){const{children:e,zIndex:n}=t;return V.jsx(Ave,{value:{zIndex:n},children:e})}KK.displayName="PortalManager";var tT=globalThis!=null&&globalThis.document?G.useLayoutEffect:G.useEffect,[YK,Tve]=Ou({strict:!1,name:"PortalContext"}),g3="chakra-portal",Cve=".chakra-portal",Mve=t=>V.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),Pve=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=G.useState(null),s=G.useRef(null),[,o]=G.useState({});G.useEffect(()=>o({}),[]);const a=Tve(),l=Eve();tT(()=>{if(!r)return;const u=r.ownerDocument,d=e?a??u.body:u.body;if(!d)return;s.current=u.createElement("div"),s.current.className=g3,d.appendChild(s.current),o({});const f=s.current;return()=>{d.contains(f)&&d.removeChild(f)}},[r]);const c=l!=null&&l.zIndex?V.jsx(Mve,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?Ab.createPortal(V.jsx(YK,{value:s.current,children:c}),s.current):V.jsx("span",{ref:u=>{u&&i(u)}})},Ive=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=G.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=g3),l},[i]),[,a]=G.useState({});return tT(()=>a({}),[]),tT(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?Ab.createPortal(V.jsx(YK,{value:r?o:null,children:e}),o):null};function aM(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?V.jsx(Ive,{containerRef:n,...r}):V.jsx(Pve,{...r})}aM.className=g3;aM.selector=Cve;aM.displayName="Portal";function Rve(){const t=G.useContext(Ox);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var v3=G.createContext({});v3.displayName="ColorModeContext";function y3(){const t=G.useContext(v3);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var Nw={light:"chakra-ui-light",dark:"chakra-ui-dark"};function Lve(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?Nw.dark:Nw.light),document.body.classList.remove(r?Nw.light:Nw.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var kve="chakra-ui-color-mode";function Ove(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var Dve=Ove(kve),$V=()=>{};function WV(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function JK(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=Dve}=t,a=i==="dark"?"dark":"light",[l,c]=G.useState(()=>WV(o,a)),[u,d]=G.useState(()=>WV(o)),{getSystemTheme:f,setClassName:v,setDataset:y,addListener:b}=G.useMemo(()=>Lve({preventTransition:s}),[s]),w=i==="system"&&!l?u:l,_=G.useCallback(I=>{const z=I==="system"?f():I;c(z),v(z==="dark"),y(z),o.set(z)},[o,f,v,y]);tT(()=>{i==="system"&&d(f())},[]),G.useEffect(()=>{const I=o.get();if(I){_(I);return}if(i==="system"){_("system");return}_(a)},[o,a,i,_]);const S=G.useCallback(()=>{_(w==="dark"?"light":"dark")},[w,_]);G.useEffect(()=>{if(r)return b(_)},[r,b,_]);const C=G.useMemo(()=>({colorMode:e??w,toggleColorMode:e?$V:S,setColorMode:e?$V:_,forced:e!==void 0}),[w,S,_,e]);return V.jsx(v3.Provider,{value:C,children:n})}JK.displayName="ColorModeProvider";function Nve(){const t=y3(),e=Rve();return{...t,theme:e}}var ka=(...t)=>t.filter(Boolean).join(" ");function Bve(){return!1}function bu(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}var Jb=t=>{const{condition:e,message:n}=t;e&&Bve()&&console.warn(n)};function Bd(t,...e){return Fve(t)?t(...e):t}var Fve=t=>typeof t=="function",XV=t=>t?"":void 0;function PI(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var nT={exports:{}};nT.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",v="[object Function]",y="[object GeneratorFunction]",b="[object Map]",w="[object Number]",_="[object Null]",S="[object Object]",C="[object Proxy]",I="[object RegExp]",z="[object Set]",N="[object String]",A="[object Undefined]",W="[object WeakMap]",U="[object ArrayBuffer]",F="[object DataView]",ee="[object Float32Array]",se="[object Float64Array]",ne="[object Int8Array]",me="[object Int16Array]",be="[object Int32Array]",Se="[object Uint8Array]",Ue="[object Uint8ClampedArray]",J="[object Uint16Array]",fe="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,Ce=/^\[object .+?Constructor\]$/,ze=/^(?:0|[1-9]\d*)$/,tt={};tt[ee]=tt[se]=tt[ne]=tt[me]=tt[be]=tt[Se]=tt[Ue]=tt[J]=tt[fe]=!0,tt[a]=tt[l]=tt[U]=tt[u]=tt[F]=tt[d]=tt[f]=tt[v]=tt[b]=tt[w]=tt[S]=tt[I]=tt[z]=tt[N]=tt[W]=!1;var Ie=typeof wg=="object"&&wg&&wg.Object===Object&&wg,Xe=typeof self=="object"&&self&&self.Object===Object&&self,Re=Ie||Xe||Function("return this")(),qe=e&&!e.nodeType&&e,Ot=qe&&!0&&t&&!t.nodeType&&t,ln=Ot&&Ot.exports===qe,Me=ln&&Ie.process,rn=function(){try{var he=Ot&&Ot.require&&Ot.require("util").types;return he||Me&&Me.binding&&Me.binding("util")}catch{}}(),We=rn&&rn.isTypedArray;function rt(he,Oe,Ke){switch(Ke.length){case 0:return he.call(Oe);case 1:return he.call(Oe,Ke[0]);case 2:return he.call(Oe,Ke[0],Ke[1]);case 3:return he.call(Oe,Ke[0],Ke[1],Ke[2])}return he.apply(Oe,Ke)}function lt(he,Oe){for(var Ke=-1,nn=Array(he);++Ke<he;)nn[Ke]=Oe(Ke);return nn}function bt(he){return function(Oe){return he(Oe)}}function mt(he,Oe){return he==null?void 0:he[Oe]}function Rt(he,Oe){return function(Ke){return he(Oe(Ke))}}var Ut=Array.prototype,X=Function.prototype,j=Object.prototype,ae=Re["__core-js_shared__"],ve=X.toString,de=j.hasOwnProperty,xe=function(){var he=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return he?"Symbol(src)_1."+he:""}(),Ee=j.toString,Ze=ve.call(Object),vt=RegExp("^"+ve.call(de).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=ln?Re.Buffer:void 0,yt=Re.Symbol,zt=Re.Uint8Array,bn=Xt?Xt.allocUnsafe:void 0,Yt=Rt(Object.getPrototypeOf,Object),St=Object.create,Vt=j.propertyIsEnumerable,Ae=Ut.splice,dt=yt?yt.toStringTag:void 0,pt=function(){try{var he=Nn(Object,"defineProperty");return he({},"",{}),he}catch{}}(),ye=Xt?Xt.isBuffer:void 0,ct=Math.max,Le=Date.now,_t=Nn(Re,"Map"),Pt=Nn(Object,"create"),Bn=function(){function he(){}return function(Oe){if(!ho(Oe))return{};if(St)return St(Oe);he.prototype=Oe;var Ke=new he;return he.prototype=void 0,Ke}}();function gn(he){var Oe=-1,Ke=he==null?0:he.length;for(this.clear();++Oe<Ke;){var nn=he[Oe];this.set(nn[0],nn[1])}}function En(){this.__data__=Pt?Pt(null):{},this.size=0}function kn(he){var Oe=this.has(he)&&delete this.__data__[he];return this.size-=Oe?1:0,Oe}function Fn(he){var Oe=this.__data__;if(Pt){var Ke=Oe[he];return Ke===r?void 0:Ke}return de.call(Oe,he)?Oe[he]:void 0}function Gr(he){var Oe=this.__data__;return Pt?Oe[he]!==void 0:de.call(Oe,he)}function Kn(he,Oe){var Ke=this.__data__;return this.size+=this.has(he)?0:1,Ke[he]=Pt&&Oe===void 0?r:Oe,this}gn.prototype.clear=En,gn.prototype.delete=kn,gn.prototype.get=Fn,gn.prototype.has=Gr,gn.prototype.set=Kn;function vi(he){var Oe=-1,Ke=he==null?0:he.length;for(this.clear();++Oe<Ke;){var nn=he[Oe];this.set(nn[0],nn[1])}}function is(){this.__data__=[],this.size=0}function vn(he){var Oe=this.__data__,Ke=st(Oe,he);if(Ke<0)return!1;var nn=Oe.length-1;return Ke==nn?Oe.pop():Ae.call(Oe,Ke,1),--this.size,!0}function In(he){var Oe=this.__data__,Ke=st(Oe,he);return Ke<0?void 0:Oe[Ke][1]}function Dn(he){return st(this.__data__,he)>-1}function Et(he,Oe){var Ke=this.__data__,nn=st(Ke,he);return nn<0?(++this.size,Ke.push([he,Oe])):Ke[nn][1]=Oe,this}vi.prototype.clear=is,vi.prototype.delete=vn,vi.prototype.get=In,vi.prototype.has=Dn,vi.prototype.set=Et;function Mn(he){var Oe=-1,Ke=he==null?0:he.length;for(this.clear();++Oe<Ke;){var nn=he[Oe];this.set(nn[0],nn[1])}}function xn(){this.size=0,this.__data__={hash:new gn,map:new(_t||vi),string:new gn}}function ir(he){var Oe=sr(this,he).delete(he);return this.size-=Oe?1:0,Oe}function Ur(he){return sr(this,he).get(he)}function Y(he){return sr(this,he).has(he)}function O(he,Oe){var Ke=sr(this,he),nn=Ke.size;return Ke.set(he,Oe),this.size+=Ke.size==nn?0:1,this}Mn.prototype.clear=xn,Mn.prototype.delete=ir,Mn.prototype.get=Ur,Mn.prototype.has=Y,Mn.prototype.set=O;function Z(he){var Oe=this.__data__=new vi(he);this.size=Oe.size}function ie(){this.__data__=new vi,this.size=0}function le(he){var Oe=this.__data__,Ke=Oe.delete(he);return this.size=Oe.size,Ke}function ce(he){return this.__data__.get(he)}function Ve(he){return this.__data__.has(he)}function He(he,Oe){var Ke=this.__data__;if(Ke instanceof vi){var nn=Ke.__data__;if(!_t||nn.length<n-1)return nn.push([he,Oe]),this.size=++Ke.size,this;Ke=this.__data__=new Mn(nn)}return Ke.set(he,Oe),this.size=Ke.size,this}Z.prototype.clear=ie,Z.prototype.delete=le,Z.prototype.get=ce,Z.prototype.has=Ve,Z.prototype.set=He;function Qe(he,Oe){var Ke=Ll(he),nn=!Ke&&vr(he),Jn=!Ke&&!nn&&uo(he),dn=!Ke&&!nn&&!Jn&&Na(he),Pr=Ke||nn||Jn||dn,Vn=Pr?lt(he.length,String):[],or=Vn.length;for(var $i in he)(Oe||de.call(he,$i))&&!(Pr&&($i=="length"||Jn&&($i=="offset"||$i=="parent")||dn&&($i=="buffer"||$i=="byteLength"||$i=="byteOffset")||Cr($i,or)))&&Vn.push($i);return Vn}function it(he,Oe,Ke){(Ke!==void 0&&!Uo(he[Oe],Ke)||Ke===void 0&&!(Oe in he))&&Gt(he,Oe,Ke)}function at(he,Oe,Ke){var nn=he[Oe];(!(de.call(he,Oe)&&Uo(nn,Ke))||Ke===void 0&&!(Oe in he))&&Gt(he,Oe,Ke)}function st(he,Oe){for(var Ke=he.length;Ke--;)if(Uo(he[Ke][0],Oe))return Ke;return-1}function Gt(he,Oe,Ke){Oe=="__proto__"&&pt?pt(he,Oe,{configurable:!0,enumerable:!0,value:Ke,writable:!0}):he[Oe]=Ke}var Lt=Wr();function Bt(he){return he==null?he===void 0?A:_:dt&&dt in Object(he)?si(he):co(he)}function un(he){return nl(he)&&Bt(he)==a}function yn(he){if(!ho(he)||Oa(he))return!1;var Oe=Lr(he)?vt:Ce;return Oe.test(pc(he))}function qt(he){return nl(he)&&yi(he.length)&&!!tt[Bt(he)]}function Nt(he){if(!ho(he))return Xs(he);var Oe=Bo(he),Ke=[];for(var nn in he)nn=="constructor"&&(Oe||!de.call(he,nn))||Ke.push(nn);return Ke}function pn(he,Oe,Ke,nn,Jn){he!==Oe&&Lt(Oe,function(dn,Pr){if(Jn||(Jn=new Z),ho(dn))Ht(he,Oe,Pr,Ke,pn,nn,Jn);else{var Vn=nn?nn(tl(he,Pr),dn,Pr+"",he,Oe,Jn):void 0;Vn===void 0&&(Vn=dn),it(he,Pr,Vn)}},ss)}function Ht(he,Oe,Ke,nn,Jn,dn,Pr){var Vn=tl(he,Ke),or=tl(Oe,Ke),$i=Pr.get(or);if($i){it(he,Ke,$i);return}var Wi=dn?dn(Vn,or,Ke+"",he,Oe,Pr):void 0,Ks=Wi===void 0;if(Ks){var x=Ll(or),M=!x&&uo(or),k=!x&&!M&&Na(or);Wi=or,x||M||k?Ll(Vn)?Wi=Vn:tr(Vn)?Wi=Sr(Vn):M?(Ks=!1,Wi=kt(or,!0)):k?(Ks=!1,Wi=er(or,!0)):Wi=[]:mc(or)||vr(or)?(Wi=Vn,vr(Vn)?Wi=Ol(Vn):(!ho(Vn)||Lr(Vn))&&(Wi=Ws(or))):Ks=!1}Ks&&(Pr.set(or,Wi),Jn(Wi,or,nn,dn,Pr),Pr.delete(or)),it(he,Ke,Wi)}function Fe(he,Oe){return Fo(fc(he,Oe,Rs),he+"")}var Mt=pt?function(he,Oe){return pt(he,"toString",{configurable:!0,enumerable:!1,value:da(Oe),writable:!0})}:Rs;function kt(he,Oe){if(Oe)return he.slice();var Ke=he.length,nn=bn?bn(Ke):new he.constructor(Ke);return he.copy(nn),nn}function Yn(he){var Oe=new he.constructor(he.byteLength);return new zt(Oe).set(new zt(he)),Oe}function er(he,Oe){var Ke=Oe?Yn(he.buffer):he.buffer;return new he.constructor(Ke,he.byteOffset,he.length)}function Sr(he,Oe){var Ke=-1,nn=he.length;for(Oe||(Oe=Array(nn));++Ke<nn;)Oe[Ke]=he[Ke];return Oe}function hn(he,Oe,Ke,nn){var Jn=!Ke;Ke||(Ke={});for(var dn=-1,Pr=Oe.length;++dn<Pr;){var Vn=Oe[dn],or=nn?nn(Ke[Vn],he[Vn],Vn,Ke,he):void 0;or===void 0&&(or=he[Vn]),Jn?Gt(Ke,Vn,or):at(Ke,Vn,or)}return Ke}function on(he){return Fe(function(Oe,Ke){var nn=-1,Jn=Ke.length,dn=Jn>1?Ke[Jn-1]:void 0,Pr=Jn>2?Ke[2]:void 0;for(dn=he.length>3&&typeof dn=="function"?(Jn--,dn):void 0,Pr&&Rr(Ke[0],Ke[1],Pr)&&(dn=Jn<3?void 0:dn,Jn=1),Oe=Object(Oe);++nn<Jn;){var Vn=Ke[nn];Vn&&he(Oe,Vn,nn,dn)}return Oe})}function Wr(he){return function(Oe,Ke,nn){for(var Jn=-1,dn=Object(Oe),Pr=nn(Oe),Vn=Pr.length;Vn--;){var or=Pr[he?Vn:++Jn];if(Ke(dn[or],or,dn)===!1)break}return Oe}}function sr(he,Oe){var Ke=he.__data__;return ys(Oe)?Ke[typeof Oe=="string"?"string":"hash"]:Ke.map}function Nn(he,Oe){var Ke=mt(he,Oe);return yn(Ke)?Ke:void 0}function si(he){var Oe=de.call(he,dt),Ke=he[dt];try{he[dt]=void 0;var nn=!0}catch{}var Jn=Ee.call(he);return nn&&(Oe?he[dt]=Ke:delete he[dt]),Jn}function Ws(he){return typeof he.constructor=="function"&&!Bo(he)?Bn(Yt(he)):{}}function Cr(he,Oe){var Ke=typeof he;return Oe=Oe??o,!!Oe&&(Ke=="number"||Ke!="symbol"&&ze.test(he))&&he>-1&&he%1==0&&he<Oe}function Rr(he,Oe,Ke){if(!ho(Ke))return!1;var nn=typeof Oe;return(nn=="number"?kl(Ke)&&Cr(Oe,Ke.length):nn=="string"&&Oe in Ke)?Uo(Ke[Oe],he):!1}function ys(he){var Oe=typeof he;return Oe=="string"||Oe=="number"||Oe=="symbol"||Oe=="boolean"?he!=="__proto__":he===null}function Oa(he){return!!xe&&xe in he}function Bo(he){var Oe=he&&he.constructor,Ke=typeof Oe=="function"&&Oe.prototype||j;return he===Ke}function Xs(he){var Oe=[];if(he!=null)for(var Ke in Object(he))Oe.push(Ke);return Oe}function co(he){return Ee.call(he)}function fc(he,Oe,Ke){return Oe=ct(Oe===void 0?he.length-1:Oe,0),function(){for(var nn=arguments,Jn=-1,dn=ct(nn.length-Oe,0),Pr=Array(dn);++Jn<dn;)Pr[Jn]=nn[Oe+Jn];Jn=-1;for(var Vn=Array(Oe+1);++Jn<Oe;)Vn[Jn]=nn[Jn];return Vn[Oe]=Ke(Pr),rt(he,this,Vn)}}function tl(he,Oe){if(!(Oe==="constructor"&&typeof he[Oe]=="function")&&Oe!="__proto__")return he[Oe]}var Fo=Da(Mt);function Da(he){var Oe=0,Ke=0;return function(){var nn=Le(),Jn=s-(nn-Ke);if(Ke=nn,Jn>0){if(++Oe>=i)return arguments[0]}else Oe=0;return he.apply(void 0,arguments)}}function pc(he){if(he!=null){try{return ve.call(he)}catch{}try{return he+""}catch{}}return""}function Uo(he,Oe){return he===Oe||he!==he&&Oe!==Oe}var vr=un(function(){return arguments}())?un:function(he){return nl(he)&&de.call(he,"callee")&&!Vt.call(he,"callee")},Ll=Array.isArray;function kl(he){return he!=null&&yi(he.length)&&!Lr(he)}function tr(he){return nl(he)&&kl(he)}var uo=ye||qs;function Lr(he){if(!ho(he))return!1;var Oe=Bt(he);return Oe==v||Oe==y||Oe==c||Oe==C}function yi(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=o}function ho(he){var Oe=typeof he;return he!=null&&(Oe=="object"||Oe=="function")}function nl(he){return he!=null&&typeof he=="object"}function mc(he){if(!nl(he)||Bt(he)!=S)return!1;var Oe=Yt(he);if(Oe===null)return!0;var Ke=de.call(Oe,"constructor")&&Oe.constructor;return typeof Ke=="function"&&Ke instanceof Ke&&ve.call(Ke)==Ze}var Na=We?bt(We):qt;function Ol(he){return hn(he,ss(he))}function ss(he){return kl(he)?Qe(he,!0):Nt(he)}var Li=on(function(he,Oe,Ke,nn){pn(he,Oe,Ke,nn)});function da(he){return function(){return he}}function Rs(he){return he}function qs(){return!1}t.exports=Li})(nT,nT.exports);var Uve=nT.exports;const lu=_f(Uve);var zve=t=>/!(important)?$/.test(t),qV=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,Vve=(t,e)=>n=>{const r=String(e),i=zve(r),s=qV(r),o=t?`${t}.${s}`:s;let a=bu(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=qV(a),i?`${a} !important`:a};function _3(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{var a;const l=Vve(e,s)(o);let c=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var Bw=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Hl(t,e){return n=>{const r={property:n,scale:t};return r.transform=_3({scale:t,transform:e}),r}}var Hve=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function jve(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:Hve(e),transform:n?_3({scale:n,compose:r}):r}}var ZK=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function Gve(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...ZK].join(" ")}function $ve(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...ZK].join(" ")}var Wve={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Xve={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function qve(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var Kve={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},dk={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Yve=new Set(Object.values(dk)),fk=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Jve=t=>t.trim();function Zve(t,e){if(t==null||fk.has(t))return t;if(!(pk(t)||fk.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...c]=o.split(",").map(Jve).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const u=l in dk?dk[l]:l;c.unshift(u);const d=c.map(f=>{if(Yve.has(f))return f;const v=f.indexOf(" "),[y,b]=v!==-1?[f.substr(0,v),f.substr(v+1)]:[f],w=pk(b)?b:b&&b.split(" "),_=`colors.${y}`,S=_ in e.__cssMap?e.__cssMap[_].varRef:y;return w?[S,...Array.isArray(w)?w:[w]].join(" "):S});return`${a}(${d.join(", ")})`}var pk=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),Qve=(t,e)=>Zve(t,e??{});function eye(t){return/^var\(--.+\)$/.test(t)}var tye=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Yc=t=>e=>`${t}(${e})`,Nr={filter(t){return t!=="auto"?t:Wve},backdropFilter(t){return t!=="auto"?t:Xve},ring(t){return qve(Nr.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?Gve():t==="auto-gpu"?$ve():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=tye(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(eye(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:Qve,blur:Yc("blur"),opacity:Yc("opacity"),brightness:Yc("brightness"),contrast:Yc("contrast"),dropShadow:Yc("drop-shadow"),grayscale:Yc("grayscale"),hueRotate:t=>Yc("hue-rotate")(Nr.degree(t)),invert:Yc("invert"),saturate:Yc("saturate"),sepia:Yc("sepia"),bgImage(t){return t==null||pk(t)||fk.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=Kve[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},Ne={borderWidths:Hl("borderWidths"),borderStyles:Hl("borderStyles"),colors:Hl("colors"),borders:Hl("borders"),gradients:Hl("gradients",Nr.gradient),radii:Hl("radii",Nr.px),space:Hl("space",Bw(Nr.vh,Nr.px)),spaceT:Hl("space",Bw(Nr.vh,Nr.px)),degreeT(t){return{property:t,transform:Nr.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:_3({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Hl("sizes",Bw(Nr.vh,Nr.px)),sizesT:Hl("sizes",Bw(Nr.vh,Nr.fraction)),shadows:Hl("shadows"),logical:jve,blur:Hl("blur",Nr.blur)},AA={background:Ne.colors("background"),backgroundColor:Ne.colors("backgroundColor"),backgroundImage:Ne.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Nr.bgClip},bgSize:Ne.prop("backgroundSize"),bgPosition:Ne.prop("backgroundPosition"),bg:Ne.colors("background"),bgColor:Ne.colors("backgroundColor"),bgPos:Ne.prop("backgroundPosition"),bgRepeat:Ne.prop("backgroundRepeat"),bgAttachment:Ne.prop("backgroundAttachment"),bgGradient:Ne.gradients("backgroundImage"),bgClip:{transform:Nr.bgClip}};Object.assign(AA,{bgImage:AA.backgroundImage,bgImg:AA.backgroundImage});var Zr={border:Ne.borders("border"),borderWidth:Ne.borderWidths("borderWidth"),borderStyle:Ne.borderStyles("borderStyle"),borderColor:Ne.colors("borderColor"),borderRadius:Ne.radii("borderRadius"),borderTop:Ne.borders("borderTop"),borderBlockStart:Ne.borders("borderBlockStart"),borderTopLeftRadius:Ne.radii("borderTopLeftRadius"),borderStartStartRadius:Ne.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Ne.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Ne.radii("borderTopRightRadius"),borderStartEndRadius:Ne.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Ne.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Ne.borders("borderRight"),borderInlineEnd:Ne.borders("borderInlineEnd"),borderBottom:Ne.borders("borderBottom"),borderBlockEnd:Ne.borders("borderBlockEnd"),borderBottomLeftRadius:Ne.radii("borderBottomLeftRadius"),borderBottomRightRadius:Ne.radii("borderBottomRightRadius"),borderLeft:Ne.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Ne.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Ne.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Ne.borders(["borderLeft","borderRight"]),borderInline:Ne.borders("borderInline"),borderY:Ne.borders(["borderTop","borderBottom"]),borderBlock:Ne.borders("borderBlock"),borderTopWidth:Ne.borderWidths("borderTopWidth"),borderBlockStartWidth:Ne.borderWidths("borderBlockStartWidth"),borderTopColor:Ne.colors("borderTopColor"),borderBlockStartColor:Ne.colors("borderBlockStartColor"),borderTopStyle:Ne.borderStyles("borderTopStyle"),borderBlockStartStyle:Ne.borderStyles("borderBlockStartStyle"),borderBottomWidth:Ne.borderWidths("borderBottomWidth"),borderBlockEndWidth:Ne.borderWidths("borderBlockEndWidth"),borderBottomColor:Ne.colors("borderBottomColor"),borderBlockEndColor:Ne.colors("borderBlockEndColor"),borderBottomStyle:Ne.borderStyles("borderBottomStyle"),borderBlockEndStyle:Ne.borderStyles("borderBlockEndStyle"),borderLeftWidth:Ne.borderWidths("borderLeftWidth"),borderInlineStartWidth:Ne.borderWidths("borderInlineStartWidth"),borderLeftColor:Ne.colors("borderLeftColor"),borderInlineStartColor:Ne.colors("borderInlineStartColor"),borderLeftStyle:Ne.borderStyles("borderLeftStyle"),borderInlineStartStyle:Ne.borderStyles("borderInlineStartStyle"),borderRightWidth:Ne.borderWidths("borderRightWidth"),borderInlineEndWidth:Ne.borderWidths("borderInlineEndWidth"),borderRightColor:Ne.colors("borderRightColor"),borderInlineEndColor:Ne.colors("borderInlineEndColor"),borderRightStyle:Ne.borderStyles("borderRightStyle"),borderInlineEndStyle:Ne.borderStyles("borderInlineEndStyle"),borderTopRadius:Ne.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Ne.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Ne.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Ne.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Zr,{rounded:Zr.borderRadius,roundedTop:Zr.borderTopRadius,roundedTopLeft:Zr.borderTopLeftRadius,roundedTopRight:Zr.borderTopRightRadius,roundedTopStart:Zr.borderStartStartRadius,roundedTopEnd:Zr.borderStartEndRadius,roundedBottom:Zr.borderBottomRadius,roundedBottomLeft:Zr.borderBottomLeftRadius,roundedBottomRight:Zr.borderBottomRightRadius,roundedBottomStart:Zr.borderEndStartRadius,roundedBottomEnd:Zr.borderEndEndRadius,roundedLeft:Zr.borderLeftRadius,roundedRight:Zr.borderRightRadius,roundedStart:Zr.borderInlineStartRadius,roundedEnd:Zr.borderInlineEndRadius,borderStart:Zr.borderInlineStart,borderEnd:Zr.borderInlineEnd,borderTopStartRadius:Zr.borderStartStartRadius,borderTopEndRadius:Zr.borderStartEndRadius,borderBottomStartRadius:Zr.borderEndStartRadius,borderBottomEndRadius:Zr.borderEndEndRadius,borderStartRadius:Zr.borderInlineStartRadius,borderEndRadius:Zr.borderInlineEndRadius,borderStartWidth:Zr.borderInlineStartWidth,borderEndWidth:Zr.borderInlineEndWidth,borderStartColor:Zr.borderInlineStartColor,borderEndColor:Zr.borderInlineEndColor,borderStartStyle:Zr.borderInlineStartStyle,borderEndStyle:Zr.borderInlineEndStyle});var nye={color:Ne.colors("color"),textColor:Ne.colors("color"),fill:Ne.colors("fill"),stroke:Ne.colors("stroke")},mk={boxShadow:Ne.shadows("boxShadow"),mixBlendMode:!0,blendMode:Ne.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Ne.prop("backgroundBlendMode"),opacity:!0};Object.assign(mk,{shadow:mk.boxShadow});var rye={filter:{transform:Nr.filter},blur:Ne.blur("--chakra-blur"),brightness:Ne.propT("--chakra-brightness",Nr.brightness),contrast:Ne.propT("--chakra-contrast",Nr.contrast),hueRotate:Ne.propT("--chakra-hue-rotate",Nr.hueRotate),invert:Ne.propT("--chakra-invert",Nr.invert),saturate:Ne.propT("--chakra-saturate",Nr.saturate),dropShadow:Ne.propT("--chakra-drop-shadow",Nr.dropShadow),backdropFilter:{transform:Nr.backdropFilter},backdropBlur:Ne.blur("--chakra-backdrop-blur"),backdropBrightness:Ne.propT("--chakra-backdrop-brightness",Nr.brightness),backdropContrast:Ne.propT("--chakra-backdrop-contrast",Nr.contrast),backdropHueRotate:Ne.propT("--chakra-backdrop-hue-rotate",Nr.hueRotate),backdropInvert:Ne.propT("--chakra-backdrop-invert",Nr.invert),backdropSaturate:Ne.propT("--chakra-backdrop-saturate",Nr.saturate)},rT={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Nr.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Ne.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Ne.space("gap"),rowGap:Ne.space("rowGap"),columnGap:Ne.space("columnGap")};Object.assign(rT,{flexDir:rT.flexDirection});var QK={gridGap:Ne.space("gridGap"),gridColumnGap:Ne.space("gridColumnGap"),gridRowGap:Ne.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},iye={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Nr.outline},outlineOffset:!0,outlineColor:Ne.colors("outlineColor")},Wl={width:Ne.sizesT("width"),inlineSize:Ne.sizesT("inlineSize"),height:Ne.sizes("height"),blockSize:Ne.sizes("blockSize"),boxSize:Ne.sizes(["width","height"]),minWidth:Ne.sizes("minWidth"),minInlineSize:Ne.sizes("minInlineSize"),minHeight:Ne.sizes("minHeight"),minBlockSize:Ne.sizes("minBlockSize"),maxWidth:Ne.sizes("maxWidth"),maxInlineSize:Ne.sizes("maxInlineSize"),maxHeight:Ne.sizes("maxHeight"),maxBlockSize:Ne.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Ne.propT("float",Nr.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Wl,{w:Wl.width,h:Wl.height,minW:Wl.minWidth,maxW:Wl.maxWidth,minH:Wl.minHeight,maxH:Wl.maxHeight,overscroll:Wl.overscrollBehavior,overscrollX:Wl.overscrollBehaviorX,overscrollY:Wl.overscrollBehaviorY});var sye={listStyleType:!0,listStylePosition:!0,listStylePos:Ne.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Ne.prop("listStyleImage")};function oye(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var aye=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},lye=aye(oye),cye={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},uye={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},II=(t,e,n)=>{const r={},i=lye(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},hye={srOnly:{transform(t){return t===!0?cye:t==="focusable"?uye:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>II(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>II(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>II(e,t,n)}},x_={position:!0,pos:Ne.prop("position"),zIndex:Ne.prop("zIndex","zIndices"),inset:Ne.spaceT("inset"),insetX:Ne.spaceT(["left","right"]),insetInline:Ne.spaceT("insetInline"),insetY:Ne.spaceT(["top","bottom"]),insetBlock:Ne.spaceT("insetBlock"),top:Ne.spaceT("top"),insetBlockStart:Ne.spaceT("insetBlockStart"),bottom:Ne.spaceT("bottom"),insetBlockEnd:Ne.spaceT("insetBlockEnd"),left:Ne.spaceT("left"),insetInlineStart:Ne.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Ne.spaceT("right"),insetInlineEnd:Ne.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(x_,{insetStart:x_.insetInlineStart,insetEnd:x_.insetInlineEnd});var dye={ring:{transform:Nr.ring},ringColor:Ne.colors("--chakra-ring-color"),ringOffset:Ne.prop("--chakra-ring-offset-width"),ringOffsetColor:Ne.colors("--chakra-ring-offset-color"),ringInset:Ne.prop("--chakra-ring-inset")},Ci={margin:Ne.spaceT("margin"),marginTop:Ne.spaceT("marginTop"),marginBlockStart:Ne.spaceT("marginBlockStart"),marginRight:Ne.spaceT("marginRight"),marginInlineEnd:Ne.spaceT("marginInlineEnd"),marginBottom:Ne.spaceT("marginBottom"),marginBlockEnd:Ne.spaceT("marginBlockEnd"),marginLeft:Ne.spaceT("marginLeft"),marginInlineStart:Ne.spaceT("marginInlineStart"),marginX:Ne.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Ne.spaceT("marginInline"),marginY:Ne.spaceT(["marginTop","marginBottom"]),marginBlock:Ne.spaceT("marginBlock"),padding:Ne.space("padding"),paddingTop:Ne.space("paddingTop"),paddingBlockStart:Ne.space("paddingBlockStart"),paddingRight:Ne.space("paddingRight"),paddingBottom:Ne.space("paddingBottom"),paddingBlockEnd:Ne.space("paddingBlockEnd"),paddingLeft:Ne.space("paddingLeft"),paddingInlineStart:Ne.space("paddingInlineStart"),paddingInlineEnd:Ne.space("paddingInlineEnd"),paddingX:Ne.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Ne.space("paddingInline"),paddingY:Ne.space(["paddingTop","paddingBottom"]),paddingBlock:Ne.space("paddingBlock")};Object.assign(Ci,{m:Ci.margin,mt:Ci.marginTop,mr:Ci.marginRight,me:Ci.marginInlineEnd,marginEnd:Ci.marginInlineEnd,mb:Ci.marginBottom,ml:Ci.marginLeft,ms:Ci.marginInlineStart,marginStart:Ci.marginInlineStart,mx:Ci.marginX,my:Ci.marginY,p:Ci.padding,pt:Ci.paddingTop,py:Ci.paddingY,px:Ci.paddingX,pb:Ci.paddingBottom,pl:Ci.paddingLeft,ps:Ci.paddingInlineStart,paddingStart:Ci.paddingInlineStart,pr:Ci.paddingRight,pe:Ci.paddingInlineEnd,paddingEnd:Ci.paddingInlineEnd});var fye={textDecorationColor:Ne.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Ne.shadows("textShadow")},pye={clipPath:!0,transform:Ne.propT("transform",Nr.transform),transformOrigin:!0,translateX:Ne.spaceT("--chakra-translate-x"),translateY:Ne.spaceT("--chakra-translate-y"),skewX:Ne.degreeT("--chakra-skew-x"),skewY:Ne.degreeT("--chakra-skew-y"),scaleX:Ne.prop("--chakra-scale-x"),scaleY:Ne.prop("--chakra-scale-y"),scale:Ne.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Ne.degreeT("--chakra-rotate")},mye={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Ne.prop("transitionDuration","transition.duration"),transitionProperty:Ne.prop("transitionProperty","transition.property"),transitionTimingFunction:Ne.prop("transitionTimingFunction","transition.easing")},gye={fontFamily:Ne.prop("fontFamily","fonts"),fontSize:Ne.prop("fontSize","fontSizes",Nr.px),fontWeight:Ne.prop("fontWeight","fontWeights"),lineHeight:Ne.prop("lineHeight","lineHeights"),letterSpacing:Ne.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},vye={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Ne.spaceT("scrollMargin"),scrollMarginTop:Ne.spaceT("scrollMarginTop"),scrollMarginBottom:Ne.spaceT("scrollMarginBottom"),scrollMarginLeft:Ne.spaceT("scrollMarginLeft"),scrollMarginRight:Ne.spaceT("scrollMarginRight"),scrollMarginX:Ne.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Ne.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Ne.spaceT("scrollPadding"),scrollPaddingTop:Ne.spaceT("scrollPaddingTop"),scrollPaddingBottom:Ne.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Ne.spaceT("scrollPaddingLeft"),scrollPaddingRight:Ne.spaceT("scrollPaddingRight"),scrollPaddingX:Ne.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Ne.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function eY(t){return bu(t)&&t.reference?t.reference:String(t)}var lM=(t,...e)=>e.map(eY).join(` ${t} `).replace(/calc/g,""),KV=(...t)=>`calc(${lM("+",...t)})`,YV=(...t)=>`calc(${lM("-",...t)})`,gk=(...t)=>`calc(${lM("*",...t)})`,JV=(...t)=>`calc(${lM("/",...t)})`,ZV=t=>{const e=eY(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:gk(e,-1)},yp=Object.assign(t=>({add:(...e)=>yp(KV(t,...e)),subtract:(...e)=>yp(YV(t,...e)),multiply:(...e)=>yp(gk(t,...e)),divide:(...e)=>yp(JV(t,...e)),negate:()=>yp(ZV(t)),toString:()=>t.toString()}),{add:KV,subtract:YV,multiply:gk,divide:JV,negate:ZV});function yye(t,e="-"){return t.replace(/\s+/g,e)}function _ye(t){const e=yye(t.toString());return bye(xye(e))}function xye(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function bye(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function wye(t,e=""){return[e,t].filter(Boolean).join("-")}function Sye(t,e){return`var(${t}${e?`, ${e}`:""})`}function Aye(t,e=""){return _ye(`--${wye(t,e)}`)}function $n(t,e,n){const r=Aye(t,n);return{variable:r,reference:Sye(r,e)}}function Eye(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=$n(`${t}-${i}`,s);continue}n[r]=$n(`${t}-${r}`)}return n}function Tye(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function Cye(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function vk(t){if(t==null)return t;const{unitless:e}=Cye(t);return e||typeof t=="number"?`${t}px`:t}var tY=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,x3=t=>Object.fromEntries(Object.entries(t).sort(tY));function QV(t){const e=x3(t);return Object.assign(Object.values(e),e)}function Mye(t){const e=Object.keys(x3(t));return new Set(e)}function e9(t){var e;if(!t)return t;t=(e=vk(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function G0(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${vk(t)})`),e&&n.push("and",`(max-width: ${vk(e)})`),n.join(" ")}function Pye(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=QV(t),r=Object.entries(t).sort(tY).map(([o,a],l,c)=>{var u;let[,d]=(u=c[l+1])!=null?u:[];return d=parseFloat(d)>0?e9(d):void 0,{_minW:e9(a),breakpoint:o,minW:a,maxW:d,maxWQuery:G0(null,d),minWQuery:G0(a),minMaxQuery:G0(a,d)}}),i=Mye(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:x3(t),asArray:QV(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>G0(o)).slice(1)],toArrayValue(o){if(!bu(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var c;return(c=o[l])!=null?c:null});for(;Tye(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const u=s[c];return u!=null&&l!=null&&(a[u]=l),a},{})}}}var _o={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},id=t=>nY(e=>t(e,"&"),"[role=group]","[data-group]",".group"),zu=t=>nY(e=>t(e,"~ &"),"[data-peer]",".peer"),nY=(t,...e)=>e.map(t).join(", "),cM={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:id(_o.hover),_peerHover:zu(_o.hover),_groupFocus:id(_o.focus),_peerFocus:zu(_o.focus),_groupFocusVisible:id(_o.focusVisible),_peerFocusVisible:zu(_o.focusVisible),_groupActive:id(_o.active),_peerActive:zu(_o.active),_groupDisabled:id(_o.disabled),_peerDisabled:zu(_o.disabled),_groupInvalid:id(_o.invalid),_peerInvalid:zu(_o.invalid),_groupChecked:id(_o.checked),_peerChecked:zu(_o.checked),_groupFocusWithin:id(_o.focusWithin),_peerFocusWithin:zu(_o.focusWithin),_peerPlaceholderShown:zu(_o.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},rY=Object.keys(cM);function t9(t,e){return $n(String(t).replace(/\./g,"-"),void 0,e)}function Iye(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=t9(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const f=i.split("."),[v,...y]=f,b=`${v}.-${y.join(".")}`,w=yp.negate(a),_=yp.negate(c);r[b]={value:w,var:l,varRef:_}}n[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=f=>{const y=[String(i).split(".")[0],f].join(".");if(!t[y])return f;const{reference:w}=t9(y,e==null?void 0:e.cssVarPrefix);return w},d=bu(a)?a:{default:a};n=lu(n,Object.entries(d).reduce((f,[v,y])=>{var b,w;if(!y)return f;const _=u(`${y}`);if(v==="default")return f[l]=_,f;const S=(w=(b=cM)==null?void 0:b[v])!=null?w:v;return f[S]={[l]:_},f},{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}function Rye(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function Lye(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function kye(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function n9(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){var l;if(kye(o)||Array.isArray(o)){const c={};for(const[u,d]of Object.entries(o)){const f=(l=i==null?void 0:i(u))!=null?l:u,v=[...a,f];if(r!=null&&r(o,v))return e(o,a);c[f]=s(d,v)}return c}return e(o,a)}return s(t)}var Oye=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Dye(t){return Lye(t,Oye)}function Nye(t){return t.semanticTokens}function Bye(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var Fye=t=>rY.includes(t)||t==="default";function Uye({tokens:t,semanticTokens:e}){const n={};return n9(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),n9(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(Fye)}),n}function zye(t){var e;const n=Bye(t),r=Dye(n),i=Nye(n),s=Uye({tokens:r,semanticTokens:i}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=Iye(s,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:Pye(n.breakpoints)}),n}var b3=lu({},AA,Zr,nye,rT,Wl,rye,dye,iye,QK,hye,x_,mk,Ci,vye,gye,fye,pye,sye,mye);Object.assign({},Ci,Wl,rT,QK,x_);var Vye=[...Object.keys(b3),...rY],Hye={...b3,...cM},jye=t=>t in Hye,Gye=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=Bd(t[o],e);if(a==null)continue;if(a=bu(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const u=i==null?void 0:i[c];if(!u){s[o]=a[c];continue}s[u]=s[u]||{},a[c]!=null&&(s[u][o]=a[c])}}return s};function $ye(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function Wye(t){return/^var\(--.+\)$/.test(t)}var Xye=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!Wye(e),qye=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var c,u;return(u=(c=t.__cssMap)==null?void 0:c[l])==null?void 0:u.varRef},s=l=>{var c;return(c=i(l))!=null?c:l},[o,a]=$ye(e);return e=(r=(n=i(o))!=null?n:s(a))!=null?r:s(e),e};function Kye(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var a,l,c;const u=Bd(s,r),d=Gye(u)(r);let f={};for(let v in d){const y=d[v];let b=Bd(y,r);v in n&&(v=n[v]),Xye(v,b)&&(b=qye(r,b));let w=e[v];if(w===!0&&(w={property:v}),bu(b)){f[v]=(a=f[v])!=null?a:{},f[v]=lu({},f[v],i(b,!0));continue}let _=(c=(l=w==null?void 0:w.transform)==null?void 0:l.call(w,b,r,u))!=null?c:b;_=w!=null&&w.processResult?i(_,!0):_;const S=Bd(w==null?void 0:w.property,r);if(!o&&(w!=null&&w.static)){const C=Bd(w.static,r);f=lu({},f,C)}if(S&&Array.isArray(S)){for(const C of S)f[C]=_;continue}if(S){S==="&"&&bu(_)?f=lu({},f,_):f[S]=_;continue}if(bu(_)){f=lu({},f,_);continue}f[v]=_}return f};return i}var iY=t=>e=>Kye({theme:e,pseudos:cM,configs:b3})(t);function Si(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function Yye(t,e){if(Array.isArray(t))return t;if(bu(t))return e(t);if(t!=null)return[t]}function Jye(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function Zye(t){const e=t.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const c={},u=Yye(s,e.toArrayValue);if(!u)return c;const d=u.length,f=d===1,v=!!r.parts;for(let y=0;y<d;y++){const b=e.details[y],w=e.details[Jye(u,y)],_=G0(b.minW,w==null?void 0:w._minW),S=Bd((a=r[i])==null?void 0:a[u[y]],o);if(S){if(v){(l=r.parts)==null||l.forEach(C=>{lu(c,{[C]:f?S[C]:{[_]:S[C]}})});continue}if(!v){f?lu(c,S):c[_]=S;continue}c[_]=S}}return c}}function Qye(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,o=Zye(s);return lu({},Bd((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",i,e),o(t,"variants",r,e))}}function Zb(t){return Rye(t,["styleConfig","size","variant","colorScheme"])}var e0e={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},t0e={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},n0e={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},r0e={property:e0e,easing:t0e,duration:n0e},i0e=r0e,s0e={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},o0e=s0e,a0e={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},l0e=a0e,c0e={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},u0e=c0e,h0e={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},d0e=h0e,f0e={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},p0e=f0e,m0e={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},g0e=m0e,v0e={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},y0e=v0e,_0e={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},sY=_0e,oY={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},x0e={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},b0e={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},w0e={...oY,...x0e,container:b0e},aY=w0e,S0e={breakpoints:u0e,zIndices:o0e,radii:p0e,blur:y0e,colors:d0e,...sY,sizes:aY,shadows:g0e,space:oY,borders:l0e,transition:i0e},{defineMultiStyleConfig:A0e,definePartsStyle:$0}=Si(["stepper","step","title","description","indicator","separator","icon","number"]),th=$n("stepper-indicator-size"),Bg=$n("stepper-icon-size"),Fg=$n("stepper-title-font-size"),W0=$n("stepper-description-font-size"),u0=$n("stepper-accent-color"),E0e=$0(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[u0.variable]:`colors.${t}.500`,_dark:{[u0.variable]:`colors.${t}.200`}},title:{fontSize:Fg.reference,fontWeight:"medium"},description:{fontSize:W0.reference,color:"chakra-subtle-text"},number:{fontSize:Fg.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Bg.reference,height:Bg.reference},indicator:{flexShrink:0,borderRadius:"full",width:th.reference,height:th.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:u0.reference},"&[data-status=complete]":{bg:u0.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:u0.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${th.reference} - 8px)`,top:`calc(${th.reference} + 4px)`,insetStart:`calc(${th.reference} / 2 - 1px)`}}})),T0e=A0e({baseStyle:E0e,sizes:{xs:$0({stepper:{[th.variable]:"sizes.4",[Bg.variable]:"sizes.3",[Fg.variable]:"fontSizes.xs",[W0.variable]:"fontSizes.xs"}}),sm:$0({stepper:{[th.variable]:"sizes.6",[Bg.variable]:"sizes.4",[Fg.variable]:"fontSizes.sm",[W0.variable]:"fontSizes.xs"}}),md:$0({stepper:{[th.variable]:"sizes.8",[Bg.variable]:"sizes.5",[Fg.variable]:"fontSizes.md",[W0.variable]:"fontSizes.sm"}}),lg:$0({stepper:{[th.variable]:"sizes.10",[Bg.variable]:"sizes.6",[Fg.variable]:"fontSizes.lg",[W0.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function ii(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...u){r();for(const d of u)e[d]=l(d);return ii(t,e)}function s(...u){for(const d of u)d in e||(e[d]=l(d));return ii(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,f.className]))}function l(u){const v=`chakra-${(["container","root"].includes(u??"")?[t]:[t,u]).filter(Boolean).join("__")}`;return{className:v,selector:`.${v}`,toString:()=>u}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var C0e=ii("accordion").parts("root","container","button","panel").extend("icon"),M0e=ii("alert").parts("title","description","container").extend("icon","spinner"),P0e=ii("avatar").parts("label","badge","container").extend("excessLabel","group"),I0e=ii("breadcrumb").parts("link","item","container").extend("separator");ii("button").parts();var R0e=ii("checkbox").parts("control","icon","container").extend("label");ii("progress").parts("track","filledTrack").extend("label");var L0e=ii("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),k0e=ii("editable").parts("preview","input","textarea"),O0e=ii("form").parts("container","requiredIndicator","helperText"),D0e=ii("formError").parts("text","icon"),N0e=ii("input").parts("addon","field","element","group"),B0e=ii("list").parts("container","item","icon"),F0e=ii("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),U0e=ii("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),z0e=ii("numberinput").parts("root","field","stepperGroup","stepper");ii("pininput").parts("field");var V0e=ii("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),H0e=ii("progress").parts("label","filledTrack","track"),j0e=ii("radio").parts("container","control","label"),G0e=ii("select").parts("field","icon"),$0e=ii("slider").parts("container","track","thumb","filledTrack","mark"),W0e=ii("stat").parts("container","label","helpText","number","icon"),X0e=ii("switch").parts("container","track","thumb","label"),q0e=ii("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),K0e=ii("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Y0e=ii("tag").parts("container","label","closeButton"),J0e=ii("card").parts("container","header","body","footer");ii("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Cp(t,e,n){return Math.min(Math.max(t,n),e)}class Z0e extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var X0=Z0e;function w3(t){if(typeof t!="string")throw new X0(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=o_e.test(t)?t_e(t):t;const n=n_e.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(Dx(a,2),16)),parseInt(Dx(o[3]||"f",2),16)/255]}const r=r_e.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=i_e.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=s_e.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(Cp(0,100,a)!==a)throw new X0(t);if(Cp(0,100,l)!==l)throw new X0(t);return[...a_e(o,a,l),Number.isNaN(c)?1:c]}throw new X0(t)}function Q0e(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const r9=t=>parseInt(t.replace(/_/g,""),36),e_e="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=r9(e.substring(0,3)),r=r9(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function t_e(t){const e=t.toLowerCase().trim(),n=e_e[Q0e(e)];if(!n)throw new X0(t);return`#${n}`}const Dx=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),n_e=new RegExp(`^#${Dx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),r_e=new RegExp(`^#${Dx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),i_e=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Dx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),s_e=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,o_e=/^[a-z]+$/i,i9=t=>Math.round(t*255),a_e=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(i9);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,c=o):i>=3&&i<4?(l=o,c=s):i>=4&&i<5?(a=o,c=s):i>=5&&i<6&&(a=s,c=o);const u=r-s/2,d=a+u,f=l+u,v=c+u;return[d,f,v].map(i9)};function l_e(t,e,n,r){return`rgba(${Cp(0,255,t).toFixed()}, ${Cp(0,255,e).toFixed()}, ${Cp(0,255,n).toFixed()}, ${parseFloat(Cp(0,1,r).toFixed(3))})`}function c_e(t,e){const[n,r,i,s]=w3(t);return l_e(n,r,i,s-e)}function u_e(t){const[e,n,r,i]=w3(t);let s=o=>{const a=Cp(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function h_e(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var d_e=t=>Object.keys(t).length===0,Ta=(t,e,n)=>{const r=h_e(t,`colors.${e}`,e);try{return u_e(r),r}catch{return n??"#000000"}},f_e=t=>{const[e,n,r]=w3(t);return(e*299+n*587+r*114)/1e3},p_e=t=>e=>{const n=Ta(e,t);return f_e(n)<128?"dark":"light"},m_e=t=>e=>p_e(t)(e)==="dark",Wv=(t,e)=>n=>{const r=Ta(n,t);return c_e(r,1-e)};function s9(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var g_e=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function v_e(t){const e=g_e();return!t||d_e(t)?e:t.string&&t.colors?__e(t.string,t.colors):t.string&&!t.colors?y_e(t.string):t.colors&&!t.string?x_e(t.colors):e}function y_e(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function __e(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function x_e(t){return t[Math.floor(Math.random()*t.length)]}function Gn(t,e){return n=>n.colorMode==="dark"?e:t}function S3(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function lY(t){return bu(t)&&t.reference?t.reference:String(t)}var uM=(t,...e)=>e.map(lY).join(` ${t} `).replace(/calc/g,""),o9=(...t)=>`calc(${uM("+",...t)})`,a9=(...t)=>`calc(${uM("-",...t)})`,yk=(...t)=>`calc(${uM("*",...t)})`,l9=(...t)=>`calc(${uM("/",...t)})`,c9=t=>{const e=lY(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:yk(e,-1)},nh=Object.assign(t=>({add:(...e)=>nh(o9(t,...e)),subtract:(...e)=>nh(a9(t,...e)),multiply:(...e)=>nh(yk(t,...e)),divide:(...e)=>nh(l9(t,...e)),negate:()=>nh(c9(t)),toString:()=>t.toString()}),{add:o9,subtract:a9,multiply:yk,divide:l9,negate:c9});function b_e(t){return!Number.isInteger(parseFloat(t.toString()))}function w_e(t,e="-"){return t.replace(/\s+/g,e)}function cY(t){const e=w_e(t.toString());return e.includes("\\.")?t:b_e(t)?e.replace(".","\\."):t}function S_e(t,e=""){return[e,cY(t)].filter(Boolean).join("-")}function A_e(t,e){return`var(${cY(t)}${e?`, ${e}`:""})`}function E_e(t,e=""){return`--${S_e(t,e)}`}function $s(t,e){const n=E_e(t,e==null?void 0:e.prefix);return{variable:n,reference:A_e(n,T_e(e==null?void 0:e.fallback))}}function T_e(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:C_e,definePartsStyle:EA}=Si(X0e.keys),b_=$s("switch-track-width"),Vp=$s("switch-track-height"),RI=$s("switch-track-diff"),M_e=nh.subtract(b_,Vp),_k=$s("switch-thumb-x"),h0=$s("switch-bg"),P_e=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[b_.reference],height:[Vp.reference],transitionProperty:"common",transitionDuration:"fast",[h0.variable]:"colors.gray.300",_dark:{[h0.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[h0.variable]:`colors.${e}.500`,_dark:{[h0.variable]:`colors.${e}.200`}},bg:h0.reference}},I_e={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Vp.reference],height:[Vp.reference],_checked:{transform:`translateX(${_k.reference})`}},R_e=EA(t=>({container:{[RI.variable]:M_e,[_k.variable]:RI.reference,_rtl:{[_k.variable]:nh(RI).negate().toString()}},track:P_e(t),thumb:I_e})),L_e={sm:EA({container:{[b_.variable]:"1.375rem",[Vp.variable]:"sizes.3"}}),md:EA({container:{[b_.variable]:"1.875rem",[Vp.variable]:"sizes.4"}}),lg:EA({container:{[b_.variable]:"2.875rem",[Vp.variable]:"sizes.6"}})},k_e=C_e({baseStyle:R_e,sizes:L_e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:O_e,definePartsStyle:vv}=Si(q0e.keys),D_e=vv({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),iT={"&[data-is-numeric=true]":{textAlign:"end"}},N_e=vv(t=>{const{colorScheme:e}=t;return{th:{color:Gn("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Gn(`${e}.100`,`${e}.700`)(t),...iT},td:{borderBottom:"1px",borderColor:Gn(`${e}.100`,`${e}.700`)(t),...iT},caption:{color:Gn("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),B_e=vv(t=>{const{colorScheme:e}=t;return{th:{color:Gn("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Gn(`${e}.100`,`${e}.700`)(t),...iT},td:{borderBottom:"1px",borderColor:Gn(`${e}.100`,`${e}.700`)(t),...iT},caption:{color:Gn("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Gn(`${e}.100`,`${e}.700`)(t)},td:{background:Gn(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),F_e={simple:N_e,striped:B_e,unstyled:{}},U_e={sm:vv({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:vv({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:vv({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},z_e=O_e({baseStyle:D_e,variants:F_e,sizes:U_e,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Xa=$n("tabs-color"),Lc=$n("tabs-bg"),Fw=$n("tabs-border-color"),{defineMultiStyleConfig:V_e,definePartsStyle:wu}=Si(K0e.keys),H_e=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},j_e=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},G_e=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},$_e={p:4},W_e=wu(t=>({root:H_e(t),tab:j_e(t),tablist:G_e(t),tabpanel:$_e})),X_e={sm:wu({tab:{py:1,px:4,fontSize:"sm"}}),md:wu({tab:{fontSize:"md",py:2,px:4}}),lg:wu({tab:{fontSize:"lg",py:3,px:4}})},q_e=wu(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[Xa.variable]:`colors.${e}.600`,_dark:{[Xa.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Lc.variable]:"colors.gray.200",_dark:{[Lc.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Xa.reference,bg:Lc.reference}}}),K_e=wu(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Fw.variable]:"transparent",_selected:{[Xa.variable]:`colors.${e}.600`,[Fw.variable]:"colors.white",_dark:{[Xa.variable]:`colors.${e}.300`,[Fw.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Fw.reference},color:Xa.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Y_e=wu(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Lc.variable]:"colors.gray.50",_dark:{[Lc.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Lc.variable]:"colors.white",[Xa.variable]:`colors.${e}.600`,_dark:{[Lc.variable]:"colors.gray.800",[Xa.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Xa.reference,bg:Lc.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),J_e=wu(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Ta(n,`${e}.700`),bg:Ta(n,`${e}.100`)}}}}),Z_e=wu(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[Xa.variable]:"colors.gray.600",_dark:{[Xa.variable]:"inherit"},_selected:{[Xa.variable]:"colors.white",[Lc.variable]:`colors.${e}.600`,_dark:{[Xa.variable]:"colors.gray.800",[Lc.variable]:`colors.${e}.300`}},color:Xa.reference,bg:Lc.reference}}}),Q_e=wu({}),exe={line:q_e,enclosed:K_e,"enclosed-colored":Y_e,"soft-rounded":J_e,"solid-rounded":Z_e,unstyled:Q_e},txe=V_e({baseStyle:W_e,sizes:X_e,variants:exe,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),ps=Eye("badge",["bg","color","shadow"]),nxe={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:ps.bg.reference,color:ps.color.reference,boxShadow:ps.shadow.reference},rxe=t=>{const{colorScheme:e,theme:n}=t,r=Wv(`${e}.500`,.6)(n);return{[ps.bg.variable]:`colors.${e}.500`,[ps.color.variable]:"colors.white",_dark:{[ps.bg.variable]:r,[ps.color.variable]:"colors.whiteAlpha.800"}}},ixe=t=>{const{colorScheme:e,theme:n}=t,r=Wv(`${e}.200`,.16)(n);return{[ps.bg.variable]:`colors.${e}.100`,[ps.color.variable]:`colors.${e}.800`,_dark:{[ps.bg.variable]:r,[ps.color.variable]:`colors.${e}.200`}}},sxe=t=>{const{colorScheme:e,theme:n}=t,r=Wv(`${e}.200`,.8)(n);return{[ps.color.variable]:`colors.${e}.500`,_dark:{[ps.color.variable]:r},[ps.shadow.variable]:`inset 0 0 0px 1px ${ps.color.reference}`}},oxe={solid:rxe,subtle:ixe,outline:sxe},w_={baseStyle:nxe,variants:oxe,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:axe,definePartsStyle:Hp}=Si(Y0e.keys),u9=$n("tag-bg"),h9=$n("tag-color"),LI=$n("tag-shadow"),TA=$n("tag-min-height"),CA=$n("tag-min-width"),MA=$n("tag-font-size"),PA=$n("tag-padding-inline"),lxe={fontWeight:"medium",lineHeight:1.2,outline:0,[h9.variable]:ps.color.reference,[u9.variable]:ps.bg.reference,[LI.variable]:ps.shadow.reference,color:h9.reference,bg:u9.reference,boxShadow:LI.reference,borderRadius:"md",minH:TA.reference,minW:CA.reference,fontSize:MA.reference,px:PA.reference,_focusVisible:{[LI.variable]:"shadows.outline"}},cxe={lineHeight:1.2,overflow:"visible"},uxe={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},hxe=Hp({container:lxe,label:cxe,closeButton:uxe}),dxe={sm:Hp({container:{[TA.variable]:"sizes.5",[CA.variable]:"sizes.5",[MA.variable]:"fontSizes.xs",[PA.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Hp({container:{[TA.variable]:"sizes.6",[CA.variable]:"sizes.6",[MA.variable]:"fontSizes.sm",[PA.variable]:"space.2"}}),lg:Hp({container:{[TA.variable]:"sizes.8",[CA.variable]:"sizes.8",[MA.variable]:"fontSizes.md",[PA.variable]:"space.3"}})},fxe={subtle:Hp(t=>{var e;return{container:(e=w_.variants)==null?void 0:e.subtle(t)}}),solid:Hp(t=>{var e;return{container:(e=w_.variants)==null?void 0:e.solid(t)}}),outline:Hp(t=>{var e;return{container:(e=w_.variants)==null?void 0:e.outline(t)}})},pxe=axe({variants:fxe,baseStyle:hxe,sizes:dxe,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:hh,defineMultiStyleConfig:mxe}=Si(N0e.keys),Ug=$n("input-height"),zg=$n("input-font-size"),Vg=$n("input-padding"),Hg=$n("input-border-radius"),gxe=hh({addon:{height:Ug.reference,fontSize:zg.reference,px:Vg.reference,borderRadius:Hg.reference},field:{width:"100%",height:Ug.reference,fontSize:zg.reference,px:Vg.reference,borderRadius:Hg.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),sd={lg:{[zg.variable]:"fontSizes.lg",[Vg.variable]:"space.4",[Hg.variable]:"radii.md",[Ug.variable]:"sizes.12"},md:{[zg.variable]:"fontSizes.md",[Vg.variable]:"space.4",[Hg.variable]:"radii.md",[Ug.variable]:"sizes.10"},sm:{[zg.variable]:"fontSizes.sm",[Vg.variable]:"space.3",[Hg.variable]:"radii.sm",[Ug.variable]:"sizes.8"},xs:{[zg.variable]:"fontSizes.xs",[Vg.variable]:"space.2",[Hg.variable]:"radii.sm",[Ug.variable]:"sizes.6"}},vxe={lg:hh({field:sd.lg,group:sd.lg}),md:hh({field:sd.md,group:sd.md}),sm:hh({field:sd.sm,group:sd.sm}),xs:hh({field:sd.xs,group:sd.xs})};function A3(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Gn("blue.500","blue.300")(t),errorBorderColor:n||Gn("red.500","red.300")(t)}}var yxe=hh(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=A3(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Gn("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ta(e,r),boxShadow:`0 0 0 1px ${Ta(e,r)}`},_focusVisible:{zIndex:1,borderColor:Ta(e,n),boxShadow:`0 0 0 1px ${Ta(e,n)}`}},addon:{border:"1px solid",borderColor:Gn("inherit","whiteAlpha.50")(t),bg:Gn("gray.100","whiteAlpha.300")(t)}}}),_xe=hh(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=A3(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Gn("gray.100","whiteAlpha.50")(t),_hover:{bg:Gn("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ta(e,r)},_focusVisible:{bg:"transparent",borderColor:Ta(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Gn("gray.100","whiteAlpha.50")(t)}}}),xxe=hh(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=A3(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ta(e,r),boxShadow:`0px 1px 0px 0px ${Ta(e,r)}`},_focusVisible:{borderColor:Ta(e,n),boxShadow:`0px 1px 0px 0px ${Ta(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),bxe=hh({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),wxe={outline:yxe,filled:_xe,flushed:xxe,unstyled:bxe},ni=mxe({baseStyle:gxe,sizes:vxe,variants:wxe,defaultProps:{size:"md",variant:"outline"}}),d9,Sxe={...(d9=ni.baseStyle)==null?void 0:d9.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},f9,p9,Axe={outline:t=>{var e,n;return(n=(e=ni.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=ni.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=ni.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(p9=(f9=ni.variants)==null?void 0:f9.unstyled.field)!=null?p9:{}},m9,g9,v9,y9,_9,x9,b9,w9,Exe={xs:(g9=(m9=ni.sizes)==null?void 0:m9.xs.field)!=null?g9:{},sm:(y9=(v9=ni.sizes)==null?void 0:v9.sm.field)!=null?y9:{},md:(x9=(_9=ni.sizes)==null?void 0:_9.md.field)!=null?x9:{},lg:(w9=(b9=ni.sizes)==null?void 0:b9.lg.field)!=null?w9:{}},Txe={baseStyle:Sxe,sizes:Exe,variants:Axe,defaultProps:{size:"md",variant:"outline"}},Uw=$s("tooltip-bg"),kI=$s("tooltip-fg"),Cxe=$s("popper-arrow-bg"),Mxe={bg:Uw.reference,color:kI.reference,[Uw.variable]:"colors.gray.700",[kI.variable]:"colors.whiteAlpha.900",_dark:{[Uw.variable]:"colors.gray.300",[kI.variable]:"colors.gray.900"},[Cxe.variable]:Uw.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},Pxe={baseStyle:Mxe},{defineMultiStyleConfig:Ixe,definePartsStyle:q0}=Si(H0e.keys),Rxe=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=Gn(s9(),s9("1rem","rgba(0,0,0,0.1)"))(t),o=Gn(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Ta(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},Lxe={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},kxe=t=>({bg:Gn("gray.100","whiteAlpha.300")(t)}),Oxe=t=>({transitionProperty:"common",transitionDuration:"slow",...Rxe(t)}),Dxe=q0(t=>({label:Lxe,filledTrack:Oxe(t),track:kxe(t)})),Nxe={xs:q0({track:{h:"1"}}),sm:q0({track:{h:"2"}}),md:q0({track:{h:"3"}}),lg:q0({track:{h:"4"}})},Bxe=Ixe({sizes:Nxe,baseStyle:Dxe,defaultProps:{size:"md",colorScheme:"blue"}}),Fxe=t=>typeof t=="function";function Pa(t,...e){return Fxe(t)?t(...e):t}var{definePartsStyle:IA,defineMultiStyleConfig:Uxe}=Si(R0e.keys),S_=$n("checkbox-size"),zxe=t=>{const{colorScheme:e}=t;return{w:S_.reference,h:S_.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Gn(`${e}.500`,`${e}.200`)(t),borderColor:Gn(`${e}.500`,`${e}.200`)(t),color:Gn("white","gray.900")(t),_hover:{bg:Gn(`${e}.600`,`${e}.300`)(t),borderColor:Gn(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Gn("gray.200","transparent")(t),bg:Gn("gray.200","whiteAlpha.300")(t),color:Gn("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Gn(`${e}.500`,`${e}.200`)(t),borderColor:Gn(`${e}.500`,`${e}.200`)(t),color:Gn("white","gray.900")(t)},_disabled:{bg:Gn("gray.100","whiteAlpha.100")(t),borderColor:Gn("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Gn("red.500","red.300")(t)}}},Vxe={_disabled:{cursor:"not-allowed"}},Hxe={userSelect:"none",_disabled:{opacity:.4}},jxe={transitionProperty:"transform",transitionDuration:"normal"},Gxe=IA(t=>({icon:jxe,container:Vxe,control:Pa(zxe,t),label:Hxe})),$xe={sm:IA({control:{[S_.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:IA({control:{[S_.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:IA({control:{[S_.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},sT=Uxe({baseStyle:Gxe,sizes:$xe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Wxe,definePartsStyle:RA}=Si(j0e.keys),Xxe=t=>{var e;const n=(e=Pa(sT.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},qxe=RA(t=>{var e,n,r,i;return{label:(n=(e=sT).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=sT).baseStyle)==null?void 0:i.call(r,t).container,control:Xxe(t)}}),Kxe={md:RA({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:RA({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:RA({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},Yxe=Wxe({baseStyle:qxe,sizes:Kxe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Jxe,definePartsStyle:Zxe}=Si(G0e.keys),zw=$n("select-bg"),S9,Qxe={...(S9=ni.baseStyle)==null?void 0:S9.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:zw.reference,[zw.variable]:"colors.white",_dark:{[zw.variable]:"colors.gray.700"},"> option, > optgroup":{bg:zw.reference}},ebe={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},tbe=Zxe({field:Qxe,icon:ebe}),Vw={paddingInlineEnd:"8"},A9,E9,T9,C9,M9,P9,I9,R9,nbe={lg:{...(A9=ni.sizes)==null?void 0:A9.lg,field:{...(E9=ni.sizes)==null?void 0:E9.lg.field,...Vw}},md:{...(T9=ni.sizes)==null?void 0:T9.md,field:{...(C9=ni.sizes)==null?void 0:C9.md.field,...Vw}},sm:{...(M9=ni.sizes)==null?void 0:M9.sm,field:{...(P9=ni.sizes)==null?void 0:P9.sm.field,...Vw}},xs:{...(I9=ni.sizes)==null?void 0:I9.xs,field:{...(R9=ni.sizes)==null?void 0:R9.xs.field,...Vw},icon:{insetEnd:"1"}}},rbe=Jxe({baseStyle:tbe,sizes:nbe,variants:ni.variants,defaultProps:ni.defaultProps}),OI=$n("skeleton-start-color"),DI=$n("skeleton-end-color"),ibe={[OI.variable]:"colors.gray.100",[DI.variable]:"colors.gray.400",_dark:{[OI.variable]:"colors.gray.800",[DI.variable]:"colors.gray.600"},background:OI.reference,borderColor:DI.reference,opacity:.7,borderRadius:"sm"},sbe={baseStyle:ibe},NI=$n("skip-link-bg"),obe={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[NI.variable]:"colors.white",_dark:{[NI.variable]:"colors.gray.700"},bg:NI.reference}},abe={baseStyle:obe},{defineMultiStyleConfig:lbe,definePartsStyle:hM}=Si($0e.keys),Nx=$n("slider-thumb-size"),Bx=$n("slider-track-size"),Md=$n("slider-bg"),cbe=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...S3({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},ube=t=>({...S3({orientation:t.orientation,horizontal:{h:Bx.reference},vertical:{w:Bx.reference}}),overflow:"hidden",borderRadius:"sm",[Md.variable]:"colors.gray.200",_dark:{[Md.variable]:"colors.whiteAlpha.200"},_disabled:{[Md.variable]:"colors.gray.300",_dark:{[Md.variable]:"colors.whiteAlpha.300"}},bg:Md.reference}),hbe=t=>{const{orientation:e}=t;return{...S3({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Nx.reference,h:Nx.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},dbe=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[Md.variable]:`colors.${e}.500`,_dark:{[Md.variable]:`colors.${e}.200`},bg:Md.reference}},fbe=hM(t=>({container:cbe(t),track:ube(t),thumb:hbe(t),filledTrack:dbe(t)})),pbe=hM({container:{[Nx.variable]:"sizes.4",[Bx.variable]:"sizes.1"}}),mbe=hM({container:{[Nx.variable]:"sizes.3.5",[Bx.variable]:"sizes.1"}}),gbe=hM({container:{[Nx.variable]:"sizes.2.5",[Bx.variable]:"sizes.0.5"}}),vbe={lg:pbe,md:mbe,sm:gbe},ybe=lbe({baseStyle:fbe,sizes:vbe,defaultProps:{size:"md",colorScheme:"blue"}}),_p=$s("spinner-size"),_be={width:[_p.reference],height:[_p.reference]},xbe={xs:{[_p.variable]:"sizes.3"},sm:{[_p.variable]:"sizes.4"},md:{[_p.variable]:"sizes.6"},lg:{[_p.variable]:"sizes.8"},xl:{[_p.variable]:"sizes.12"}},bbe={baseStyle:_be,sizes:xbe,defaultProps:{size:"md"}},{defineMultiStyleConfig:wbe,definePartsStyle:uY}=Si(W0e.keys),Sbe={fontWeight:"medium"},Abe={opacity:.8,marginBottom:"2"},Ebe={verticalAlign:"baseline",fontWeight:"semibold"},Tbe={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Cbe=uY({container:{},label:Sbe,helpText:Abe,number:Ebe,icon:Tbe}),Mbe={md:uY({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},Pbe=wbe({baseStyle:Cbe,sizes:Mbe,defaultProps:{size:"md"}}),BI=$n("kbd-bg"),Ibe={[BI.variable]:"colors.gray.100",_dark:{[BI.variable]:"colors.whiteAlpha.100"},bg:BI.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},Rbe={baseStyle:Ibe},Lbe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},kbe={baseStyle:Lbe},{defineMultiStyleConfig:Obe,definePartsStyle:Dbe}=Si(B0e.keys),Nbe={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Bbe=Dbe({icon:Nbe}),Fbe=Obe({baseStyle:Bbe}),{defineMultiStyleConfig:Ube,definePartsStyle:zbe}=Si(F0e.keys),eu=$n("menu-bg"),FI=$n("menu-shadow"),Vbe={[eu.variable]:"#fff",[FI.variable]:"shadows.sm",_dark:{[eu.variable]:"colors.gray.700",[FI.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:eu.reference,boxShadow:FI.reference},Hbe={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[eu.variable]:"colors.gray.100",_dark:{[eu.variable]:"colors.whiteAlpha.100"}},_active:{[eu.variable]:"colors.gray.200",_dark:{[eu.variable]:"colors.whiteAlpha.200"}},_expanded:{[eu.variable]:"colors.gray.100",_dark:{[eu.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:eu.reference},jbe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Gbe={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},$be={opacity:.6},Wbe={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},Xbe={transitionProperty:"common",transitionDuration:"normal"},qbe=zbe({button:Xbe,list:Vbe,item:Hbe,groupTitle:jbe,icon:Gbe,command:$be,divider:Wbe}),Kbe=Ube({baseStyle:qbe}),{defineMultiStyleConfig:Ybe,definePartsStyle:xk}=Si(U0e.keys),UI=$n("modal-bg"),zI=$n("modal-shadow"),Jbe={bg:"blackAlpha.600",zIndex:"modal"},Zbe=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},Qbe=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[UI.variable]:"colors.white",[zI.variable]:"shadows.lg",_dark:{[UI.variable]:"colors.gray.700",[zI.variable]:"shadows.dark-lg"},bg:UI.reference,boxShadow:zI.reference}},e1e={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},t1e={position:"absolute",top:"2",insetEnd:"3"},n1e=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},r1e={px:"6",py:"4"},i1e=xk(t=>({overlay:Jbe,dialogContainer:Pa(Zbe,t),dialog:Pa(Qbe,t),header:e1e,closeButton:t1e,body:Pa(n1e,t),footer:r1e}));function xc(t){return xk(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var s1e={xs:xc("xs"),sm:xc("sm"),md:xc("md"),lg:xc("lg"),xl:xc("xl"),"2xl":xc("2xl"),"3xl":xc("3xl"),"4xl":xc("4xl"),"5xl":xc("5xl"),"6xl":xc("6xl"),full:xc("full")},o1e=Ybe({baseStyle:i1e,sizes:s1e,defaultProps:{size:"md"}}),{defineMultiStyleConfig:a1e,definePartsStyle:hY}=Si(z0e.keys),E3=$s("number-input-stepper-width"),dY=$s("number-input-input-padding"),l1e=nh(E3).add("0.5rem").toString(),VI=$s("number-input-bg"),HI=$s("number-input-color"),jI=$s("number-input-border-color"),c1e={[E3.variable]:"sizes.6",[dY.variable]:l1e},u1e=t=>{var e,n;return(n=(e=Pa(ni.baseStyle,t))==null?void 0:e.field)!=null?n:{}},h1e={width:E3.reference},d1e={borderStart:"1px solid",borderStartColor:jI.reference,color:HI.reference,bg:VI.reference,[HI.variable]:"colors.chakra-body-text",[jI.variable]:"colors.chakra-border-color",_dark:{[HI.variable]:"colors.whiteAlpha.800",[jI.variable]:"colors.whiteAlpha.300"},_active:{[VI.variable]:"colors.gray.200",_dark:{[VI.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},f1e=hY(t=>{var e;return{root:c1e,field:(e=Pa(u1e,t))!=null?e:{},stepperGroup:h1e,stepper:d1e}});function Hw(t){var e,n,r;const i=(e=ni.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=sY.fontSizes[o];return hY({field:{...i.field,paddingInlineEnd:dY.reference,verticalAlign:"top"},stepper:{fontSize:nh(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var p1e={xs:Hw("xs"),sm:Hw("sm"),md:Hw("md"),lg:Hw("lg")},m1e=a1e({baseStyle:f1e,sizes:p1e,variants:ni.variants,defaultProps:ni.defaultProps}),L9,g1e={...(L9=ni.baseStyle)==null?void 0:L9.field,textAlign:"center"},v1e={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},k9,O9,y1e={outline:t=>{var e,n,r;return(r=(n=Pa((e=ni.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Pa((e=ni.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Pa((e=ni.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(O9=(k9=ni.variants)==null?void 0:k9.unstyled.field)!=null?O9:{}},_1e={baseStyle:g1e,sizes:v1e,variants:y1e,defaultProps:ni.defaultProps},{defineMultiStyleConfig:x1e,definePartsStyle:b1e}=Si(V0e.keys),jw=$s("popper-bg"),w1e=$s("popper-arrow-bg"),D9=$s("popper-arrow-shadow-color"),S1e={zIndex:10},A1e={[jw.variable]:"colors.white",bg:jw.reference,[w1e.variable]:jw.reference,[D9.variable]:"colors.gray.200",_dark:{[jw.variable]:"colors.gray.700",[D9.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},E1e={px:3,py:2,borderBottomWidth:"1px"},T1e={px:3,py:2},C1e={px:3,py:2,borderTopWidth:"1px"},M1e={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},P1e=b1e({popper:S1e,content:A1e,header:E1e,body:T1e,footer:C1e,closeButton:M1e}),I1e=x1e({baseStyle:P1e}),{definePartsStyle:bk,defineMultiStyleConfig:R1e}=Si(L0e.keys),GI=$n("drawer-bg"),$I=$n("drawer-box-shadow");function $m(t){return bk(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var L1e={bg:"blackAlpha.600",zIndex:"modal"},k1e={display:"flex",zIndex:"modal",justifyContent:"center"},O1e=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[GI.variable]:"colors.white",[$I.variable]:"shadows.lg",_dark:{[GI.variable]:"colors.gray.700",[$I.variable]:"shadows.dark-lg"},bg:GI.reference,boxShadow:$I.reference}},D1e={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},N1e={position:"absolute",top:"2",insetEnd:"3"},B1e={px:"6",py:"2",flex:"1",overflow:"auto"},F1e={px:"6",py:"4"},U1e=bk(t=>({overlay:L1e,dialogContainer:k1e,dialog:Pa(O1e,t),header:D1e,closeButton:N1e,body:B1e,footer:F1e})),z1e={xs:$m("xs"),sm:$m("md"),md:$m("lg"),lg:$m("2xl"),xl:$m("4xl"),full:$m("full")},V1e=R1e({baseStyle:U1e,sizes:z1e,defaultProps:{size:"xs"}}),{definePartsStyle:H1e,defineMultiStyleConfig:j1e}=Si(k0e.keys),G1e={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},$1e={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},W1e={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},X1e=H1e({preview:G1e,input:$1e,textarea:W1e}),q1e=j1e({baseStyle:X1e}),{definePartsStyle:K1e,defineMultiStyleConfig:Y1e}=Si(O0e.keys),yv=$n("form-control-color"),J1e={marginStart:"1",[yv.variable]:"colors.red.500",_dark:{[yv.variable]:"colors.red.300"},color:yv.reference},Z1e={mt:"2",[yv.variable]:"colors.gray.600",_dark:{[yv.variable]:"colors.whiteAlpha.600"},color:yv.reference,lineHeight:"normal",fontSize:"sm"},Q1e=K1e({container:{width:"100%",position:"relative"},requiredIndicator:J1e,helperText:Z1e}),ewe=Y1e({baseStyle:Q1e}),{definePartsStyle:twe,defineMultiStyleConfig:nwe}=Si(D0e.keys),_v=$n("form-error-color"),rwe={[_v.variable]:"colors.red.500",_dark:{[_v.variable]:"colors.red.300"},color:_v.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},iwe={marginEnd:"0.5em",[_v.variable]:"colors.red.500",_dark:{[_v.variable]:"colors.red.300"},color:_v.reference},swe=twe({text:rwe,icon:iwe}),owe=nwe({baseStyle:swe}),awe={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},lwe={baseStyle:awe},cwe={fontFamily:"heading",fontWeight:"bold"},uwe={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},hwe={baseStyle:cwe,sizes:uwe,defaultProps:{size:"xl"}},{defineMultiStyleConfig:dwe,definePartsStyle:fwe}=Si(I0e.keys),WI=$n("breadcrumb-link-decor"),pwe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:WI.reference,[WI.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[WI.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},mwe=fwe({link:pwe}),gwe=dwe({baseStyle:mwe}),vwe={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},fY=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:Gn("gray.800","whiteAlpha.900")(t),_hover:{bg:Gn("gray.100","whiteAlpha.200")(t)},_active:{bg:Gn("gray.200","whiteAlpha.300")(t)}};const r=Wv(`${e}.200`,.12)(n),i=Wv(`${e}.200`,.24)(n);return{color:Gn(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Gn(`${e}.50`,r)(t)},_active:{bg:Gn(`${e}.100`,i)(t)}}},ywe=t=>{const{colorScheme:e}=t,n=Gn("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Pa(fY,t)}},_we={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},xwe=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=Gn("gray.100","whiteAlpha.200")(t);return{bg:l,color:Gn("gray.800","whiteAlpha.900")(t),_hover:{bg:Gn("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:Gn("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:o=`${n}.700`}=(e=_we[n])!=null?e:{},a=Gn(r,`${n}.200`)(t);return{bg:a,color:Gn(i,"gray.800")(t),_hover:{bg:Gn(s,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:Gn(o,`${n}.400`)(t)}}},bwe=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Gn(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Gn(`${e}.700`,`${e}.500`)(t)}}},wwe={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},Swe={ghost:fY,outline:ywe,solid:xwe,link:bwe,unstyled:wwe},Awe={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},Ewe={baseStyle:vwe,variants:Swe,sizes:Awe,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:jp,defineMultiStyleConfig:Twe}=Si(J0e.keys),oT=$n("card-bg"),vh=$n("card-padding"),pY=$n("card-shadow"),LA=$n("card-radius"),mY=$n("card-border-width","0"),gY=$n("card-border-color"),Cwe=jp({container:{[oT.variable]:"colors.chakra-body-bg",backgroundColor:oT.reference,boxShadow:pY.reference,borderRadius:LA.reference,color:"chakra-body-text",borderWidth:mY.reference,borderColor:gY.reference},body:{padding:vh.reference,flex:"1 1 0%"},header:{padding:vh.reference},footer:{padding:vh.reference}}),Mwe={sm:jp({container:{[LA.variable]:"radii.base",[vh.variable]:"space.3"}}),md:jp({container:{[LA.variable]:"radii.md",[vh.variable]:"space.5"}}),lg:jp({container:{[LA.variable]:"radii.xl",[vh.variable]:"space.7"}})},Pwe={elevated:jp({container:{[pY.variable]:"shadows.base",_dark:{[oT.variable]:"colors.gray.700"}}}),outline:jp({container:{[mY.variable]:"1px",[gY.variable]:"colors.chakra-border-color"}}),filled:jp({container:{[oT.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[vh.variable]:0},header:{[vh.variable]:0},footer:{[vh.variable]:0}}},Iwe=Twe({baseStyle:Cwe,variants:Pwe,sizes:Mwe,defaultProps:{variant:"elevated",size:"md"}}),A_=$s("close-button-size"),d0=$s("close-button-bg"),Rwe={w:[A_.reference],h:[A_.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[d0.variable]:"colors.blackAlpha.100",_dark:{[d0.variable]:"colors.whiteAlpha.100"}},_active:{[d0.variable]:"colors.blackAlpha.200",_dark:{[d0.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:d0.reference},Lwe={lg:{[A_.variable]:"sizes.10",fontSize:"md"},md:{[A_.variable]:"sizes.8",fontSize:"xs"},sm:{[A_.variable]:"sizes.6",fontSize:"2xs"}},kwe={baseStyle:Rwe,sizes:Lwe,defaultProps:{size:"md"}},{variants:Owe,defaultProps:Dwe}=w_,Nwe={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:ps.bg.reference,color:ps.color.reference,boxShadow:ps.shadow.reference},Bwe={baseStyle:Nwe,variants:Owe,defaultProps:Dwe},Fwe={w:"100%",mx:"auto",maxW:"prose",px:"4"},Uwe={baseStyle:Fwe},zwe={opacity:.6,borderColor:"inherit"},Vwe={borderStyle:"solid"},Hwe={borderStyle:"dashed"},jwe={solid:Vwe,dashed:Hwe},Gwe={baseStyle:zwe,variants:jwe,defaultProps:{variant:"solid"}},{definePartsStyle:$we,defineMultiStyleConfig:Wwe}=Si(C0e.keys),Xwe={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},qwe={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Kwe={pt:"2",px:"4",pb:"5"},Ywe={fontSize:"1.25em"},Jwe=$we({container:Xwe,button:qwe,panel:Kwe,icon:Ywe}),Zwe=Wwe({baseStyle:Jwe}),{definePartsStyle:Qb,defineMultiStyleConfig:Qwe}=Si(M0e.keys),_l=$n("alert-fg"),kh=$n("alert-bg"),eSe=Qb({container:{bg:kh.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:_l.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:_l.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function T3(t){const{theme:e,colorScheme:n}=t,r=Wv(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var tSe=Qb(t=>{const{colorScheme:e}=t,n=T3(t);return{container:{[_l.variable]:`colors.${e}.600`,[kh.variable]:n.light,_dark:{[_l.variable]:`colors.${e}.200`,[kh.variable]:n.dark}}}}),nSe=Qb(t=>{const{colorScheme:e}=t,n=T3(t);return{container:{[_l.variable]:`colors.${e}.600`,[kh.variable]:n.light,_dark:{[_l.variable]:`colors.${e}.200`,[kh.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:_l.reference}}}),rSe=Qb(t=>{const{colorScheme:e}=t,n=T3(t);return{container:{[_l.variable]:`colors.${e}.600`,[kh.variable]:n.light,_dark:{[_l.variable]:`colors.${e}.200`,[kh.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:_l.reference}}}),iSe=Qb(t=>{const{colorScheme:e}=t;return{container:{[_l.variable]:"colors.white",[kh.variable]:`colors.${e}.600`,_dark:{[_l.variable]:"colors.gray.900",[kh.variable]:`colors.${e}.200`},color:_l.reference}}}),sSe={subtle:tSe,"left-accent":nSe,"top-accent":rSe,solid:iSe},oSe=Qwe({baseStyle:eSe,variants:sSe,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:vY,defineMultiStyleConfig:aSe}=Si(P0e.keys),xv=$n("avatar-border-color"),E_=$n("avatar-bg"),Fx=$n("avatar-font-size"),Xv=$n("avatar-size"),lSe={borderRadius:"full",border:"0.2em solid",borderColor:xv.reference,[xv.variable]:"white",_dark:{[xv.variable]:"colors.gray.800"}},cSe={bg:E_.reference,fontSize:Fx.reference,width:Xv.reference,height:Xv.reference,lineHeight:"1",[E_.variable]:"colors.gray.200",_dark:{[E_.variable]:"colors.whiteAlpha.400"}},uSe=t=>{const{name:e,theme:n}=t,r=e?v_e({string:e}):"colors.gray.400",i=m_e(r)(n);let s="white";return i||(s="gray.800"),{bg:E_.reference,fontSize:Fx.reference,color:s,borderColor:xv.reference,verticalAlign:"top",width:Xv.reference,height:Xv.reference,"&:not([data-loaded])":{[E_.variable]:r},[xv.variable]:"colors.white",_dark:{[xv.variable]:"colors.gray.800"}}},hSe={fontSize:Fx.reference,lineHeight:"1"},dSe=vY(t=>({badge:Pa(lSe,t),excessLabel:Pa(cSe,t),container:Pa(uSe,t),label:hSe}));function od(t){const e=t!=="100%"?aY[t]:void 0;return vY({container:{[Xv.variable]:e??t,[Fx.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Xv.variable]:e??t,[Fx.variable]:`calc(${e??t} / 2.5)`}})}var fSe={"2xs":od(4),xs:od(6),sm:od(8),md:od(12),lg:od(16),xl:od(24),"2xl":od(32),full:od("100%")},pSe=aSe({baseStyle:dSe,sizes:fSe,defaultProps:{size:"md"}}),mSe={Accordion:Zwe,Alert:oSe,Avatar:pSe,Badge:w_,Breadcrumb:gwe,Button:Ewe,Checkbox:sT,CloseButton:kwe,Code:Bwe,Container:Uwe,Divider:Gwe,Drawer:V1e,Editable:q1e,Form:ewe,FormError:owe,FormLabel:lwe,Heading:hwe,Input:ni,Kbd:Rbe,Link:kbe,List:Fbe,Menu:Kbe,Modal:o1e,NumberInput:m1e,PinInput:_1e,Popover:I1e,Progress:Bxe,Radio:Yxe,Select:rbe,Skeleton:sbe,SkipLink:abe,Slider:ybe,Spinner:bbe,Stat:Pbe,Switch:k_e,Table:z_e,Tabs:txe,Tag:pxe,Textarea:Txe,Tooltip:Pxe,Card:Iwe,Stepper:T0e},gSe={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},vSe={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},ySe="ltr",_Se={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},xSe={semanticTokens:gSe,direction:ySe,...S0e,components:mSe,styles:vSe,config:_Se};function bSe(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function wSe(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var SSe=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},yY=SSe(wSe);function _Y(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var xY=t=>_Y(t,e=>e!=null);function ASe(t){return typeof t=="function"}function bY(t,...e){return ASe(t)?t(...e):t}var ESe=typeof Element<"u",TSe=typeof Map=="function",CSe=typeof Set=="function",MSe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function kA(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!kA(t[r],e[r]))return!1;return!0}var s;if(TSe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!kA(r.value[1],e.get(r.value[0])))return!1;return!0}if(CSe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(MSe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(ESe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!kA(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var PSe=function(e,n){try{return kA(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const ISe=_f(PSe);function wY(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=Nve(),a=t?yY(s,`components.${t}`):void 0,l=r||a,c=lu({theme:s,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},xY(bSe(i,["children"]))),u=G.useRef({});if(l){const f=Qye(l)(c);ISe(u.current,f)||(u.current=f)}return u.current}function dM(t,e={}){return wY(t,e)}function SY(t,e={}){return wY(t,e)}var RSe=new Set([...Vye,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),LSe=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function kSe(t){return LSe.has(t)||!RSe.has(t)}function OSe(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}var DSe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,NSe=DK(function(t){return DSe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),BSe=NSe,FSe=function(e){return e!=="theme"},N9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?BSe:FSe},B9=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},USe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return VK(n,r,i),mve(function(){return HK(n,r,i)}),null},zSe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=B9(e,n,r),l=a||N9(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,v=1;v<f;v++)d.push(u[v],u[0][v])}var y=WK(function(b,w,_){var S=c&&b.as||i,C="",I=[],z=b;if(b.theme==null){z={};for(var N in b)z[N]=b[N];z.theme=G.useContext(Ox)}typeof b.className=="string"?C=lve(w.registered,I,b.className):b.className!=null&&(C=b.className+" ");var A=m3(d.concat(I),w.registered,z);C+=w.key+"-"+A.name,o!==void 0&&(C+=" "+o);var W=c&&a===void 0?N9(S):l,U={};for(var F in b)c&&F==="as"||W(F)&&(U[F]=b[F]);return U.className=C,U.ref=_,G.createElement(G.Fragment,null,G.createElement(USe,{cache:w,serialized:A,isStringTag:typeof S=="string"}),G.createElement(S,U))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(b,w){return t(b,fm({},n,w,{shouldForwardProp:B9(y,w,!0)})).apply(void 0,d)},y}},VSe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],aT=zSe.bind();VSe.forEach(function(t){aT[t]=aT(t)});var F9,HSe=(F9=aT.default)!=null?F9:aT,jSe=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,a=_Y(o,(d,f)=>jye(f)),l=bY(t,e),c=OSe({},i,l,xY(a),s),u=iY(c)(e.theme);return r?[u,r]:u};function XI(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=kSe);const i=jSe({baseStyle:n}),s=HSe(t,r)(i);return Te.forwardRef(function(l,c){const{colorMode:u,forced:d}=y3();return Te.createElement(s,{ref:c,"data-theme":d?u:void 0,...l})})}function GSe(){const t=new Map;return new Proxy(XI,{apply(e,n,r){return XI(...r)},get(e,n){return t.has(n)||t.set(n,XI(n)),t.get(n)}})}var Is=GSe();function Rl(t){return G.forwardRef(t)}function $Se(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=G.createContext(void 0);i.displayName=r;function s(){var o;const a=G.useContext(i);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function WSe(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=G.useMemo(()=>zye(n),[n]);return V.jsxs(yve,{theme:i,children:[V.jsx(XSe,{root:e}),r]})}function XSe({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return V.jsx(oM,{styles:n=>({[e]:n.__cssVars})})}$Se({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function qSe(){const{colorMode:t}=y3();return V.jsx(oM,{styles:e=>{const n=yY(e,"styles.global"),r=bY(n,{theme:e,colorMode:t});return r?iY(r)(e):void 0}})}var AY=G.createContext({getDocument(){return document},getWindow(){return window}});AY.displayName="EnvironmentContext";function EY(t){const{children:e,environment:n,disabled:r}=t,i=G.useRef(null),s=G.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return V.jsxs(AY.Provider,{value:s,children:[e,o&&V.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}EY.displayName="EnvironmentProvider";var KSe=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,d=V.jsx(EY,{environment:a,disabled:c,children:e});return V.jsx(WSe,{theme:o,cssVarsRoot:l,children:V.jsxs(JK,{colorModeManager:n,options:o.config,children:[s?V.jsx(wve,{scope:i}):V.jsx(bve,{}),!u&&V.jsx(qSe,{}),r?V.jsx(KK,{zIndex:r,children:d}):d]})})},YSe=(t,e)=>t.find(n=>n.id===e);function U9(t,e){const n=TY(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function TY(t,e){for(const[n,r]of Object.entries(t))if(YSe(r,e))return n}function JSe(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function ZSe(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}function OA(t,e=[]){const n=G.useRef(t);return G.useEffect(()=>{n.current=t}),G.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function QSe(t,e){const n=OA(t);G.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function z9(t,e){const n=G.useRef(!1),r=G.useRef(!1);G.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),G.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const C3=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),fM=G.createContext({}),e1=G.createContext(null),M3=typeof document<"u",P3=M3?G.useLayoutEffect:G.useEffect,CY=G.createContext({strict:!1}),I3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eAe="framerAppearId",MY="data-"+I3(eAe),tAe={skipAnimations:!1,useManualTiming:!1};class V9{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function nAe(t){let e=new V9,n=new V9,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?e:n;return c&&o.add(l),f.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];o.has(u)&&(a.schedule(u),t()),u(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const Gw=["read","resolveKeyframes","update","preRender","render","postRender"],rAe=40;function PY(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Gw.reduce((d,f)=>(d[f]=nAe(()=>n=!0),d),{}),o=d=>{s[d].process(i)},a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,rAe),1),i.timestamp=d,i.isProcessing=!0,Gw.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Gw.reduce((d,f)=>{const v=s[f];return d[f]=(y,b=!1,w=!1)=>(n||l(),v.schedule(y,b,w)),d},{}),cancel:d=>Gw.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:R3,cancel:LHe}=PY(queueMicrotask,!1);function iAe(t,e,n,r){const{visualElement:i}=G.useContext(fM),s=G.useContext(CY),o=G.useContext(e1),a=G.useContext(C3).reducedMotion,l=G.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;G.useInsertionEffect(()=>{c&&c.update(n,o)});const u=G.useRef(!!(n[MY]&&!window.HandoffComplete));return P3(()=>{c&&(R3.render(c.render),u.current&&c.animationState&&c.animationState.animateChanges())}),G.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function jg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sAe(t,e,n){return G.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jg(n)&&(n.current=r))},[e])}function Ux(t){return typeof t=="string"||Array.isArray(t)}function pM(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const L3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k3=["initial",...L3];function mM(t){return pM(t.animate)||k3.some(e=>Ux(t[e]))}function IY(t){return!!(mM(t)||t.variants)}function oAe(t,e){if(mM(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ux(n)?n:void 0,animate:Ux(r)?r:void 0}}return t.inherit!==!1?e:{}}function aAe(t){const{initial:e,animate:n}=oAe(t,G.useContext(fM));return G.useMemo(()=>({initial:e,animate:n}),[H9(e),H9(n)])}function H9(t){return Array.isArray(t)?t.join(" "):t}const j9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zx={};for(const t in j9)zx[t]={isEnabled:e=>j9[t].some(n=>!!e[n])};function lAe(t){for(const e in t)zx[e]={...zx[e],...t[e]}}const O3=G.createContext({}),RY=G.createContext({}),cAe=Symbol.for("motionComponentSymbol");function uAe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&lAe(t);function s(a,l){let c;const u={...G.useContext(C3),...a,layoutId:hAe(a)},{isStatic:d}=u,f=aAe(a),v=r(a,d);if(!d&&M3){f.visualElement=iAe(i,v,u,e);const y=G.useContext(RY),b=G.useContext(CY).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,b,t,y))}return V.jsxs(fM.Provider,{value:f,children:[c&&f.visualElement?V.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,sAe(v,f.visualElement,l),v,d,f.visualElement)]})}const o=G.forwardRef(s);return o[cAe]=i,o}function hAe({layoutId:t}){const e=G.useContext(O3).id;return e&&t!==void 0?e+"-"+t:t}function dAe(t){function e(r,i={}){return uAe(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const fAe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D3(t){return typeof t!="string"||t.includes("-")?!1:!!(fAe.indexOf(t)>-1||/[A-Z]/u.test(t))}const lT={};function pAe(t){Object.assign(lT,t)}const t1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mm=new Set(t1);function LY(t,{layout:e,layoutId:n}){return Mm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lT[t]||t==="opacity")}const ia=t=>!!(t&&t.getVelocity),mAe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gAe=t1.length;function vAe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<gAe;o++){const a=t1[o];if(t[a]!==void 0){const l=mAe[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const kY=t=>e=>typeof e=="string"&&e.startsWith(t),OY=kY("--"),yAe=kY("var(--"),N3=t=>yAe(t)?_Ae.test(t.split("/*")[0].trim()):!1,_Ae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xAe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,uf=(t,e,n)=>n>e?e:n<t?t:n,Ay={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},T_={...Ay,transform:t=>uf(0,1,t)},$w={...Ay,default:1},C_=t=>Math.round(t*1e5)/1e5,B3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,bAe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,wAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function n1(t){return typeof t=="string"}const r1=t=>({test:e=>n1(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vd=r1("deg"),Su=r1("%"),Zn=r1("px"),SAe=r1("vh"),AAe=r1("vw"),G9={...Su,parse:t=>Su.parse(t)/100,transform:t=>Su.transform(t*100)},$9={...Ay,transform:Math.round},DY={borderWidth:Zn,borderTopWidth:Zn,borderRightWidth:Zn,borderBottomWidth:Zn,borderLeftWidth:Zn,borderRadius:Zn,radius:Zn,borderTopLeftRadius:Zn,borderTopRightRadius:Zn,borderBottomRightRadius:Zn,borderBottomLeftRadius:Zn,width:Zn,maxWidth:Zn,height:Zn,maxHeight:Zn,size:Zn,top:Zn,right:Zn,bottom:Zn,left:Zn,padding:Zn,paddingTop:Zn,paddingRight:Zn,paddingBottom:Zn,paddingLeft:Zn,margin:Zn,marginTop:Zn,marginRight:Zn,marginBottom:Zn,marginLeft:Zn,rotate:vd,rotateX:vd,rotateY:vd,rotateZ:vd,scale:$w,scaleX:$w,scaleY:$w,scaleZ:$w,skew:vd,skewX:vd,skewY:vd,distance:Zn,translateX:Zn,translateY:Zn,translateZ:Zn,x:Zn,y:Zn,z:Zn,perspective:Zn,transformPerspective:Zn,opacity:T_,originX:G9,originY:G9,originZ:Zn,zIndex:$9,backgroundPositionX:Zn,backgroundPositionY:Zn,fillOpacity:T_,strokeOpacity:T_,numOctaves:$9};function F3(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const f=e[d];if(OY(d)){s[d]=f;continue}const v=DY[d],y=xAe(f,v);if(Mm.has(d)){if(l=!0,o[d]=y,!u)continue;f!==(v.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):i[d]=y}if(e.transform||(l||r?i.transform=vAe(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:v=0}=a;i.transformOrigin=`${d} ${f} ${v}`}}const U3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NY(t,e,n){for(const r in e)!ia(e[r])&&!LY(r,n)&&(t[r]=e[r])}function EAe({transformTemplate:t},e,n){return G.useMemo(()=>{const r=U3();return F3(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function TAe(t,e,n){const r=t.style||{},i={};return NY(i,r,t),Object.assign(i,EAe(t,e,n)),i}function CAe(t,e,n){const r={},i=TAe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const MAe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cT(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||MAe.has(t)}let BY=t=>!cT(t);function PAe(t){t&&(BY=e=>e.startsWith("on")?!cT(e):t(e))}try{PAe(require("@emotion/is-prop-valid").default)}catch{}function IAe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(BY(i)||n===!0&&cT(i)||!e&&!cT(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function W9(t,e,n){return typeof t=="string"?t:Zn.transform(e+n*t)}function RAe(t,e,n){const r=W9(e,t.x,t.width),i=W9(n,t.y,t.height);return`${r} ${i}`}const LAe={offset:"stroke-dashoffset",array:"stroke-dasharray"},kAe={offset:"strokeDashoffset",array:"strokeDasharray"};function OAe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?LAe:kAe;t[s.offset]=Zn.transform(-r);const o=Zn.transform(e),a=Zn.transform(n);t[s.array]=`${o} ${a}`}function z3(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(F3(t,c,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:y,dimensions:b}=t;v.transform&&(b&&(y.transform=v.transform),delete v.transform),b&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=RAe(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&OAe(v,o,a,l,!1)}const FY=()=>({...U3(),attrs:{}}),V3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DAe(t,e,n,r){const i=G.useMemo(()=>{const s=FY();return z3(s,e,{enableHardwareAcceleration:!1},V3(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NY(s,t.style,t),i.style={...s,...i.style}}return i}function NAe(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(D3(n)?DAe:CAe)(r,s,o,n),c=IAe(r,typeof n=="string",t),u=n!==G.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=G.useMemo(()=>ia(d)?d.get():d,[d]);return G.createElement(n,{...u,children:f})}}function UY(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const zY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VY(t,e,n,r){UY(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zY.has(i)?i:I3(i),e.attrs[i])}function H3(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ia(i[o])||e.style&&ia(e.style[o])||LY(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function HY(t,e,n){const r=H3(t,e,n);for(const i in t)if(ia(t[i])||ia(e[i])){const s=t1.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function X9(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function j3(t,e,n,r){if(typeof e=="function"){const[i,s]=X9(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=X9(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function jY(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const wk=t=>Array.isArray(t),BAe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),FAe=t=>wk(t)?t[t.length-1]||0:t;function DA(t){const e=ia(t)?t.get():t;return BAe(e)?e.toValue():e}function UAe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:zAe(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const GY=t=>(e,n)=>{const r=G.useContext(fM),i=G.useContext(e1),s=()=>UAe(t,e,r,i);return n?s():jY(s)};function zAe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=DA(s[f]);let{initial:o,animate:a}=t;const l=mM(t),c=IY(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!pM(d)&&(Array.isArray(d)?d:[d]).forEach(v=>{const y=j3(t,v);if(!y)return;const{transitionEnd:b,transition:w,..._}=y;for(const S in _){let C=_[S];if(Array.isArray(C)){const I=u?C.length-1:0;C=C[I]}C!==null&&(i[S]=C)}for(const S in b)i[S]=b[S]}),i}const aa=t=>t,{schedule:ui,cancel:Oh,state:wo,steps:qI}=PY(typeof requestAnimationFrame<"u"?requestAnimationFrame:aa,!0),VAe={useVisualState:GY({scrapeMotionValuesFromProps:HY,createRenderState:FY,onMount:(t,e,{renderState:n,latestValues:r})=>{ui.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ui.render(()=>{z3(n,r,{enableHardwareAcceleration:!1},V3(e.tagName),t.transformTemplate),VY(e,n)})}})},HAe={useVisualState:GY({scrapeMotionValuesFromProps:H3,createRenderState:U3})};function jAe(t,{forwardMotionProps:e=!1},n,r){return{...D3(t)?VAe:HAe,preloadedFeatures:n,useRender:NAe(e),createVisualElement:r,Component:t}}function dh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const $Y=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function gM(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const GAe=t=>e=>$Y(e)&&t(e,gM(e));function yh(t,e,n,r){return dh(t,e,GAe(n),r)}const $Ae=(t,e)=>n=>e(t(n)),_h=(...t)=>t.reduce($Ae);function WY(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const q9=WY("dragHorizontal"),K9=WY("dragVertical");function XY(t){let e=!1;if(t==="y")e=K9();else if(t==="x")e=q9();else{const n=q9(),r=K9();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function qY(){const t=XY(!0);return t?(t(),!1):!0}class Pf{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Y9(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||qY())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ui.postRender(()=>l(s,o))};return yh(t.current,n,i,{passive:!t.getProps()[r]})}class WAe extends Pf{mount(){this.unmount=_h(Y9(this.node,!0),Y9(this.node,!1))}unmount(){}}class XAe extends Pf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_h(dh(this.node.current,"focus",()=>this.onFocus()),dh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const KY=(t,e)=>e?t===e?!0:KY(t,e.parentElement):!1;function KI(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,gM(n))}class qAe extends Pf{constructor(){super(...arguments),this.removeStartListeners=aa,this.removeEndListeners=aa,this.removeAccessibleListeners=aa,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=yh(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),f=!d&&!KY(this.node.current,a.target)?u:c;f&&ui.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=yh(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=_h(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||KI("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&ui.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=dh(this.node.current,"keyup",o),KI("down",(a,l)=>{this.startPress(a,l)})},n=dh(this.node.current,"keydown",e),r=()=>{this.isPressing&&KI("cancel",(s,o)=>this.cancelPress(s,o))},i=dh(this.node.current,"blur",r);this.removeAccessibleListeners=_h(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ui.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qY()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ui.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=yh(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=dh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_h(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Sk=new WeakMap,YI=new WeakMap,KAe=t=>{const e=Sk.get(t.target);e&&e(t)},YAe=t=>{t.forEach(KAe)};function JAe({root:t,...e}){const n=t||document;YI.has(n)||YI.set(n,{});const r=YI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YAe,{root:t,...e})),r[i]}function ZAe(t,e,n){const r=JAe(e);return Sk.set(t,n),r.observe(t),()=>{Sk.delete(t),r.unobserve(t)}}const QAe={some:0,all:1};class eEe extends Pf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QAe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return ZAe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tEe(e,n))&&this.startObserver()}unmount(){}}function tEe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nEe={inView:{Feature:eEe},tap:{Feature:qAe},focus:{Feature:XAe},hover:{Feature:WAe}};function YY(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vM(t,e,n){const r=t.getProps();return j3(r,e,n!==void 0?n:r.custom,t)}const nf=t=>t*1e3,xh=t=>t/1e3,rEe={type:"spring",stiffness:500,damping:25,restSpeed:10},iEe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sEe={type:"keyframes",duration:.8},oEe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aEe=(t,{keyframes:e})=>e.length>2?sEe:Mm.has(t)?t.startsWith("scale")?iEe(e[1]):rEe:oEe;function lEe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function G3(t,e){return t[e]||t.default||t}const cEe=t=>t!==null;function yM(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(cEe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let NA;function uEe(){NA=void 0}const rf={now:()=>(NA===void 0&&rf.set(wo.isProcessing||tAe.useManualTiming?wo.timestamp:performance.now()),NA),set:t=>{NA=t,queueMicrotask(uEe)}},JY=t=>/^0[^.\s]+$/u.test(t);function hEe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JY(t):!0}let ZY=aa;const QY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),dEe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fEe(t){const e=dEe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function eJ(t,e,n=1){const[r,i]=fEe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return QY(o)?parseFloat(o):o}return N3(i)?eJ(i,e,n+1):i}const pEe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),J9=t=>t===Ay||t===Zn,Z9=(t,e)=>parseFloat(t.split(", ")[e]),Q9=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Z9(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Z9(s[1],t):0}},mEe=new Set(["x","y","z"]),gEe=t1.filter(t=>!mEe.has(t));function vEe(t){const e=[];return gEe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const qv={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Q9(4,13),y:Q9(5,14)};qv.translateX=qv.x;qv.translateY=qv.y;const tJ=t=>e=>e.test(t),yEe={test:t=>t==="auto",parse:t=>t},nJ=[Ay,Zn,Su,vd,AAe,SAe,yEe],eH=t=>nJ.find(tJ(t)),Gp=new Set;let Ak=!1,Ek=!1;function rJ(){if(Ek){const t=Array.from(Gp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=vEe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ek=!1,Ak=!1,Gp.forEach(t=>t.complete()),Gp.clear()}function iJ(){Gp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ek=!0)})}function _Ee(){iJ(),rJ()}class $3{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gp.add(this),Ak||(Ak=!0,ui.read(iJ),ui.resolveKeyframes(rJ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gp.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gp.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const W3=(t,e)=>n=>!!(n1(n)&&wAe.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),sJ=(t,e,n)=>r=>{if(!n1(r))return r;const[i,s,o,a]=r.match(B3);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xEe=t=>uf(0,255,t),JI={...Ay,transform:t=>Math.round(xEe(t))},Mp={test:W3("rgb","red"),parse:sJ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+JI.transform(t)+", "+JI.transform(e)+", "+JI.transform(n)+", "+C_(T_.transform(r))+")"};function bEe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Tk={test:W3("#"),parse:bEe,transform:Mp.transform},Gg={test:W3("hsl","hue"),parse:sJ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Su.transform(C_(e))+", "+Su.transform(C_(n))+", "+C_(T_.transform(r))+")"},Qo={test:t=>Mp.test(t)||Tk.test(t)||Gg.test(t),parse:t=>Mp.test(t)?Mp.parse(t):Gg.test(t)?Gg.parse(t):Tk.parse(t),transform:t=>n1(t)?t:t.hasOwnProperty("red")?Mp.transform(t):Gg.transform(t)};function wEe(t){var e,n;return isNaN(t)&&n1(t)&&(((e=t.match(B3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(bAe))===null||n===void 0?void 0:n.length)||0)>0}const oJ="number",aJ="color",SEe="var",AEe="var(",tH="${}",EEe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vx(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(EEe,l=>(Qo.test(l)?(r.color.push(s),i.push(aJ),n.push(Qo.parse(l))):l.startsWith(AEe)?(r.var.push(s),i.push(SEe),n.push(l)):(r.number.push(s),i.push(oJ),n.push(parseFloat(l))),++s,tH)).split(tH);return{values:n,split:a,indexes:r,types:i}}function lJ(t){return Vx(t).values}function cJ(t){const{split:e,types:n}=Vx(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===oJ?s+=C_(i[o]):a===aJ?s+=Qo.transform(i[o]):s+=i[o]}return s}}const TEe=t=>typeof t=="number"?0:t;function CEe(t){const e=lJ(t);return cJ(t)(e.map(TEe))}const hf={test:wEe,parse:lJ,createTransformer:cJ,getAnimatableNone:CEe},MEe=new Set(["brightness","contrast","saturate","opacity"]);function PEe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(B3)||[];if(!r)return t;const i=n.replace(r,"");let s=MEe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const IEe=/\b([a-z-]*)\(.*?\)/gu,Ck={...hf,getAnimatableNone:t=>{const e=t.match(IEe);return e?e.map(PEe).join(" "):t}},REe={...DY,color:Qo,backgroundColor:Qo,outlineColor:Qo,fill:Qo,stroke:Qo,borderColor:Qo,borderTopColor:Qo,borderRightColor:Qo,borderBottomColor:Qo,borderLeftColor:Qo,filter:Ck,WebkitFilter:Ck},X3=t=>REe[t];function uJ(t,e){let n=X3(t);return n!==Ck&&(n=hf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LEe=new Set(["auto","none","0"]);function kEe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!LEe.has(s)&&Vx(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=uJ(n,i)}class hJ extends $3{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),N3(c))){const u=eJ(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pEe.has(r)||e.length!==2)return;const[i,s]=e,o=eH(i),a=eH(s);if(o!==a)if(J9(o)&&J9(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)hEe(e[i])&&r.push(i);r.length&&kEe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qv[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=qv[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function dJ(t){let e;return()=>(e===void 0&&(e=t()),e)}const nH=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hf.test(t)||t==="0")&&!t.startsWith("url("));function OEe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DEe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=nH(i,e),a=nH(s,e);return!o||!a?!1:OEe(t)||n==="spring"&&r}class fJ{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_Ee(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!DEe(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(yM(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function pJ(t,e){return e?t*(1e3/e):0}const NEe=5;function mJ(t,e,n){const r=Math.max(e-NEe,0);return pJ(n-t(r),e-r)}const ZI=.001,BEe=.01,FEe=10,UEe=.05,zEe=1;function VEe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=uf(UEe,zEe,o),t=uf(BEe,FEe,xh(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,v=Mk(c,o),y=Math.exp(-d);return ZI-f/v*y},s=c=>{const d=c*o*t,f=d*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-d),b=Mk(Math.pow(c,2),o);return(-i(c)+ZI>0?-1:1)*((f-v)*y)/b}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-ZI+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=jEe(i,s,a);if(t=nf(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const HEe=12;function jEe(t,e,n){let r=n;for(let i=1;i<HEe;i++)r=r-t(r)/e(r);return r}function Mk(t,e){return t*Math.sqrt(1-e*e)}const GEe=["duration","bounce"],$Ee=["stiffness","damping","mass"];function rH(t,e){return e.some(n=>t[n]!==void 0)}function WEe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!rH(t,$Ee)&&rH(t,GEe)){const n=VEe(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function gJ({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=WEe({...r,velocity:-xh(r.velocity||0)}),v=d||0,y=l/(2*Math.sqrt(a*c)),b=s-i,w=xh(Math.sqrt(a/c)),_=Math.abs(b)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let S;if(y<1){const C=Mk(w,y);S=I=>{const z=Math.exp(-y*w*I);return s-z*((v+y*w*b)/C*Math.sin(C*I)+b*Math.cos(C*I))}}else if(y===1)S=C=>s-Math.exp(-w*C)*(b+(v+w*b)*C);else{const C=w*Math.sqrt(y*y-1);S=I=>{const z=Math.exp(-y*w*I),N=Math.min(C*I,300);return s-z*((v+y*w*b)*Math.sinh(N)+C*b*Math.cosh(N))/C}}return{calculatedDuration:f&&u||null,next:C=>{const I=S(C);if(f)o.done=C>=u;else{let z=v;C!==0&&(y<1?z=mJ(S,C,I):z=0);const N=Math.abs(z)<=n,A=Math.abs(s-I)<=e;o.done=N&&A}return o.value=o.done?s:I,o}}}function iH({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},v=W=>a!==void 0&&W<a||l!==void 0&&W>l,y=W=>a===void 0?l:l===void 0||Math.abs(a-W)<Math.abs(l-W)?a:l;let b=n*e;const w=d+b,_=o===void 0?w:o(w);_!==w&&(b=_-d);const S=W=>-b*Math.exp(-W/r),C=W=>_+S(W),I=W=>{const U=S(W),F=C(W);f.done=Math.abs(U)<=c,f.value=f.done?_:F};let z,N;const A=W=>{v(f.value)&&(z=W,N=gJ({keyframes:[f.value,y(f.value)],velocity:mJ(C,W,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:W=>{let U=!1;return!N&&z===void 0&&(U=!0,I(W),A(W)),z!==void 0&&W>=z?N.next(W-z):(!U&&I(W),f)}}}const vJ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XEe=1e-7,qEe=12;function KEe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=vJ(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>XEe&&++a<qEe);return o}function i1(t,e,n,r){if(t===e&&n===r)return aa;const i=s=>KEe(s,0,1,t,n);return s=>s===0||s===1?s:vJ(i(s),e,r)}const YEe=i1(.42,0,1,1),JEe=i1(0,0,.58,1),yJ=i1(.42,0,.58,1),ZEe=t=>Array.isArray(t)&&typeof t[0]!="number",_J=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xJ=t=>e=>1-t(1-e),q3=t=>1-Math.sin(Math.acos(t)),bJ=xJ(q3),QEe=_J(q3),wJ=i1(.33,1.53,.69,.99),K3=xJ(wJ),eTe=_J(K3),tTe=t=>(t*=2)<1?.5*K3(t):.5*(2-Math.pow(2,-10*(t-1))),nTe={linear:aa,easeIn:YEe,easeInOut:yJ,easeOut:JEe,circIn:q3,circInOut:QEe,circOut:bJ,backIn:K3,backInOut:eTe,backOut:wJ,anticipate:tTe},sH=t=>{if(Array.isArray(t)){ZY(t.length===4);const[e,n,r,i]=t;return i1(e,n,r,i)}else if(typeof t=="string")return nTe[t];return t},Hx=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},zi=(t,e,n)=>t+(e-t)*n;function QI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rTe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=QI(l,a,t+1/3),s=QI(l,a,t),o=QI(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const eR=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},iTe=[Tk,Mp,Gg],sTe=t=>iTe.find(e=>e.test(t));function oH(t){const e=sTe(t);let n=e.parse(t);return e===Gg&&(n=rTe(n)),n}const aH=(t,e)=>{const n=oH(t),r=oH(e),i={...n};return s=>(i.red=eR(n.red,r.red,s),i.green=eR(n.green,r.green,s),i.blue=eR(n.blue,r.blue,s),i.alpha=zi(n.alpha,r.alpha,s),Mp.transform(i))},Pk=new Set(["none","hidden"]);function oTe(t,e){return Pk.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ik(t,e){return n=>n>0?e:t}function aTe(t,e){return n=>zi(t,e,n)}function Y3(t){return typeof t=="number"?aTe:typeof t=="string"?N3(t)?Ik:Qo.test(t)?aH:uTe:Array.isArray(t)?SJ:typeof t=="object"?Qo.test(t)?aH:lTe:Ik}function SJ(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Y3(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function lTe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Y3(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cTe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const uTe=(t,e)=>{const n=hf.createTransformer(e),r=Vx(t),i=Vx(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Pk.has(t)&&!i.values.length||Pk.has(e)&&!r.values.length?oTe(t,e):_h(SJ(cTe(r,i),i.values),n):Ik(t,e)};function AJ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zi(t,e,n):Y3(t)(t,e)}function hTe(t,e,n){const r=[],i=n||AJ,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||aa:e;a=_h(l,a)}r.push(a)}return r}function dTe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(ZY(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=hTe(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Hx(t[u],t[u+1],c);return o[u](d)};return n?c=>l(uf(t[0],t[s-1],c)):l}function fTe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Hx(0,e,r);t.push(zi(n,1,i))}}function pTe(t){const e=[0];return fTe(e,t.length-1),e}function mTe(t,e){return t.map(n=>n*e)}function gTe(t,e){return t.map(()=>e||yJ).splice(0,t.length-1)}function uT({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ZEe(r)?r.map(sH):sH(r),s={done:!1,value:e[0]},o=mTe(n&&n.length===e.length?n:pTe(e),t),a=dTe(o,e,{ease:Array.isArray(i)?i:gTe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const lH=2e4;function vTe(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<lH;)e+=n,r=t.next(e);return e>=lH?1/0:e}const yTe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ui.update(e,!0),stop:()=>Oh(e),now:()=>wo.isProcessing?wo.timestamp:rf.now()}},_Te={decay:iH,inertia:iH,tween:uT,keyframes:uT,spring:gJ},xTe=t=>t/100;class J3 extends fJ{constructor({KeyframeResolver:e=$3,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=_Te[n]||uT;let l,c;a!==uT&&typeof e[0]!="number"&&(l=_h(xTe,AJ(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=vTe(u));const{calculatedDuration:d}=u,f=d+i,v=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:W}=this.options;return{done:!0,value:W[W.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:v,repeatType:y,repeatDelay:b,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-f*(this.speed>=0?1:-1),S=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let C=this.currentTime,I=s;if(v){const W=Math.min(this.currentTime,u)/d;let U=Math.floor(W),F=W%1;!F&&W>=1&&(F=1),F===1&&U--,U=Math.min(U,v+1),!!(U%2)&&(y==="reverse"?(F=1-F,b&&(F-=b/d)):y==="mirror"&&(I=o)),C=uf(0,1,F)*d}const z=S?{done:!1,value:l[0]}:I.next(C);a&&(z.value=a(z.value));let{done:N}=z;!S&&c!==null&&(N=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return A&&i!==void 0&&(z.value=yM(l,this.options,i)),w&&w(z.value),A&&this.finish(),z}get duration(){const{resolved:e}=this;return e?xh(e.calculatedDuration):0}get time(){return xh(this.currentTime)}set time(e){e=nf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=yTe,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const EJ=t=>Array.isArray(t)&&typeof t[0]=="number";function TJ(t){return!!(!t||typeof t=="string"&&t in Z3||EJ(t)||Array.isArray(t)&&t.every(TJ))}const K0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Z3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:K0([0,.65,.55,1]),circOut:K0([.55,0,1,.45]),backIn:K0([.31,.01,.66,-.59]),backOut:K0([.33,1.53,.69,.99])};function bTe(t){return CJ(t)||Z3.easeOut}function CJ(t){if(t)return EJ(t)?K0(t):Array.isArray(t)?t.map(bTe):Z3[t]}function wTe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=CJ(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const STe=dJ(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ATe=new Set(["opacity","clipPath","filter","transform"]),hT=10,ETe=2e4;function TTe(t){return t.type==="spring"||t.name==="backgroundColor"||!TJ(t.ease)}function CTe(t,e){const n=new J3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<ETe;)r=n.sample(s),i.push(r.value),s+=hT;return{times:void 0,keyframes:i,duration:s-hT,ease:"linear"}}class cH extends fJ{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new hJ(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(TTe(this.options)){const{onComplete:d,onUpdate:f,motionValue:v,...y}=this.options,b=CTe(e,y);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,s=b.times,o=b.ease,a="keyframes"}const u=wTe(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return u.startTime=rf.now(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;l.set(yM(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xh(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xh(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=nf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return aa;const{animation:r}=n;r.timeline=e,r.onfinish=null}return aa}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:u,...d}=this.options,f=new J3({...d,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=nf(this.time);l.setWithVelocity(f.sample(v-hT).value,f.sample(v).value,hT)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return STe()&&r&&ATe.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function MTe(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return ui.update(r,!0),()=>Oh(r)}const PTe=dJ(()=>window.ScrollTimeline!==void 0);class ITe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(PTe()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),MTe(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Q3=(t,e,n,r={},i,s)=>o=>{const a=G3(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-nf(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};lEe(a)||(u={...u,...aEe(t,u)}),u.duration&&(u.duration=nf(u.duration)),u.repeatDelay&&(u.repeatDelay=nf(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const f=yM(u.keyframes,a);if(f!==void 0)return ui.update(()=>{u.onUpdate(f),u.onComplete()}),new ITe([])}return!s&&cH.supports(u)?new cH(u):new J3(u)};function dT(t){return!!(ia(t)&&t.add)}function eF(t,e){t.indexOf(e)===-1&&t.push(e)}function tF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nF{constructor(){this.subscriptions=[]}add(e){return eF(this.subscriptions,e),()=>tF(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uH=30,RTe=t=>!isNaN(parseFloat(t));class LTe{constructor(e,n={}){this.version="11.2.9",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=rf.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rf.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RTe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nF);const r=this.events[e].add(n);return e==="change"?()=>{r(),ui.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rf.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uH)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uH);return pJ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jx(t,e){return new LTe(t,e)}function kTe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jx(n))}function OTe(t,e){const n=vM(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=FAe(s[o]);kTe(t,o,a)}}function MJ(t){return t.getProps()[MY]}function DTe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function PJ(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const v=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),y=l[f];if(y===void 0||d&&DTe(d,f))continue;const b={delay:n,elapsed:0,...G3(o||{},f)};let w=!1;if(window.HandoffAppearAnimations){const S=MJ(t);if(S){const C=window.HandoffAppearAnimations(S,f,v,ui);C!==null&&(b.elapsed=C,w=!0)}}v.start(Q3(f,v,y,t.shouldReduceMotion&&Mm.has(f)?{type:!1}:b,t,w));const _=v.animation;_&&(dT(c)&&(c.add(f),_.then(()=>c.remove(f))),u.push(_))}return a&&Promise.all(u).then(()=>{ui.update(()=>{a&&OTe(t,a)})}),u}function Rk(t,e,n={}){var r;const i=vM(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(PJ(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return NTe(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function NTe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(BTe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Rk(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function BTe(t,e){return t.sortNodePosition(e)}function FTe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Rk(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Rk(t,e,n);else{const i=typeof e=="function"?vM(t,e,n.custom):e;r=Promise.all(PJ(t,i,n))}return r.then(()=>{ui.postRender(()=>{t.notify("AnimationComplete",e)})})}const UTe=[...L3].reverse(),zTe=L3.length;function VTe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FTe(t,n,r)))}function HTe(t){let e=VTe(t);const n=GTe();let r=!0;const i=l=>(c,u)=>{var d;const f=vM(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:v,transitionEnd:y,...b}=f;c={...c,...b,...y}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),u=t.getVariantContext(!0)||{},d=[],f=new Set;let v={},y=1/0;for(let w=0;w<zTe;w++){const _=UTe[w],S=n[_],C=c[_]!==void 0?c[_]:u[_],I=Ux(C),z=_===l?S.isActive:null;z===!1&&(y=w);let N=C===u[_]&&C!==c[_]&&I;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),S.protectedKeys={...v},!S.isActive&&z===null||!C&&!S.prevProp||pM(C)||typeof C=="boolean")continue;let W=jTe(S.prevProp,C)||_===l&&S.isActive&&!N&&I||w>y&&I,U=!1;const F=Array.isArray(C)?C:[C];let ee=F.reduce(i(_),{});z===!1&&(ee={});const{prevResolvedValues:se={}}=S,ne={...se,...ee},me=be=>{W=!0,f.has(be)&&(U=!0,f.delete(be)),S.needsAnimating[be]=!0;const Se=t.getValue(be);Se&&(Se.liveStyle=!1)};for(const be in ne){const Se=ee[be],Ue=se[be];if(v.hasOwnProperty(be))continue;let J=!1;wk(Se)&&wk(Ue)?J=!YY(Se,Ue):J=Se!==Ue,J?Se!=null?me(be):f.add(be):Se!==void 0&&f.has(be)?me(be):S.protectedKeys[be]=!0}S.prevProp=C,S.prevResolvedValues=ee,S.isActive&&(v={...v,...ee}),r&&t.blockInitialAnimation&&(W=!1),W&&(!N||U)&&d.push(...F.map(be=>({animation:be,options:{type:_}})))}if(f.size){const w={};f.forEach(_=>{const S=t.getBaseTarget(_),C=t.getValue(_);C&&(C.liveStyle=!0),w[_]=S??null}),d.push({animation:w})}let b=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function jTe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YY(e,t):!1}function $f(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GTe(){return{animate:$f(!0),whileInView:$f(),whileHover:$f(),whileTap:$f(),whileDrag:$f(),whileFocus:$f(),exit:$f()}}class $Te extends Pf{constructor(e){super(e),e.animationState||(e.animationState=HTe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),pM(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let WTe=0;class XTe extends Pf{constructor(){super(...arguments),this.id=WTe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qTe={animation:{Feature:$Te},exit:{Feature:XTe}},hH=(t,e)=>Math.abs(t-e);function KTe(t,e){const n=hH(t.x,e.x),r=hH(t.y,e.y);return Math.sqrt(n**2+r**2)}class IJ{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=nR(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=KTe(d.offset,{x:0,y:0})>=3;if(!f&&!v)return;const{point:y}=d,{timestamp:b}=wo;this.history.push({...y,timestamp:b});const{onStart:w,onMove:_}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=tR(f,this.transformPagePoint),ui.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=nR(d.type==="pointercancel"?this.lastMoveEventInfo:tR(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,w),y&&y(d,w)},!$Y(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=gM(e),a=tR(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=wo;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,nR(a,this.history)),this.removeListeners=_h(yh(this.contextWindow,"pointermove",this.handlePointerMove),yh(this.contextWindow,"pointerup",this.handlePointerUp),yh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oh(this.updatePoint)}}function tR(t,e){return e?{point:e(t.point)}:t}function dH(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nR({point:t},e){return{point:t,delta:dH(t,RJ(e)),offset:dH(t,YTe(e)),velocity:JTe(e,.1)}}function YTe(t){return t[0]}function RJ(t){return t[t.length-1]}function JTe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=RJ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>nf(e)));)n--;if(!r)return{x:0,y:0};const s=xh(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Al(t){return t.max-t.min}function Lk(t,e=0,n=.01){return Math.abs(t-e)<=n}function fH(t,e,n,r=.5){t.origin=r,t.originPoint=zi(e.min,e.max,t.origin),t.scale=Al(n)/Al(e),(Lk(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=zi(n.min,n.max,t.origin)-t.originPoint,(Lk(t.translate)||isNaN(t.translate))&&(t.translate=0)}function M_(t,e,n,r){fH(t.x,e.x,n.x,r?r.originX:void 0),fH(t.y,e.y,n.y,r?r.originY:void 0)}function pH(t,e,n){t.min=n.min+e.min,t.max=t.min+Al(e)}function ZTe(t,e,n){pH(t.x,e.x,n.x),pH(t.y,e.y,n.y)}function mH(t,e,n){t.min=e.min-n.min,t.max=t.min+Al(e)}function P_(t,e,n){mH(t.x,e.x,n.x),mH(t.y,e.y,n.y)}function QTe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zi(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zi(n,t,r.max):Math.min(t,n)),t}function gH(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eCe(t,{top:e,left:n,bottom:r,right:i}){return{x:gH(t.x,n,i),y:gH(t.y,e,r)}}function vH(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tCe(t,e){return{x:vH(t.x,e.x),y:vH(t.y,e.y)}}function nCe(t,e){let n=.5;const r=Al(t),i=Al(e);return i>r?n=Hx(e.min,e.max-r,t.min):r>i&&(n=Hx(t.min,t.max-i,e.min)),uf(0,1,n)}function rCe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kk=.35;function iCe(t=kk){return t===!1?t=0:t===!0&&(t=kk),{x:yH(t,"left","right"),y:yH(t,"top","bottom")}}function yH(t,e,n){return{min:_H(t,e),max:_H(t,n)}}function _H(t,e){return typeof t=="number"?t:t[e]||0}const xH=()=>({translate:0,scale:1,origin:0,originPoint:0}),$g=()=>({x:xH(),y:xH()}),bH=()=>({min:0,max:0}),hs=()=>({x:bH(),y:bH()});function Xl(t){return[t("x"),t("y")]}function LJ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sCe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oCe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rR(t){return t===void 0||t===1}function Ok({scale:t,scaleX:e,scaleY:n}){return!rR(t)||!rR(e)||!rR(n)}function cp(t){return Ok(t)||kJ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kJ(t){return wH(t.x)||wH(t.y)}function wH(t){return t&&t!=="0%"}function fT(t,e,n){const r=t-n,i=e*r;return n+i}function SH(t,e,n,r,i){return i!==void 0&&(t=fT(t,i,r)),fT(t,n,r)+e}function Dk(t,e=0,n=1,r,i){t.min=SH(t.min,e,n,r,i),t.max=SH(t.max,e,n,r,i)}function OJ(t,{x:e,y:n}){Dk(t.x,e.translate,e.scale,e.originPoint),Dk(t.y,n.translate,n.scale,n.originPoint)}function aCe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wg(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OJ(t,o)),r&&cp(s.latestValues)&&Wg(t,s.latestValues))}e.x=AH(e.x),e.y=AH(e.y)}function AH(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function xd(t,e){t.min=t.min+e,t.max=t.max+e}function EH(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=zi(t.min,t.max,s);Dk(t,e[n],e[r],o,e.scale)}const lCe=["x","scaleX","originX"],cCe=["y","scaleY","originY"];function Wg(t,e){EH(t.x,e,lCe),EH(t.y,e,cCe)}function DJ(t,e){return LJ(oCe(t.getBoundingClientRect(),e))}function uCe(t,e,n){const r=DJ(t,n),{scroll:i}=e;return i&&(xd(r.x,i.offset.x),xd(r.y,i.offset.y)),r}const NJ=({current:t})=>t?t.ownerDocument.defaultView:null,hCe=new WeakMap;class dCe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hs(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gM(u,"page").point)},s=(u,d)=>{const{drag:f,dragPropagation:v,onDragStart:y}=this.getProps();if(f&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=XY(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xl(w=>{let _=this.getAxisMotionValue(w).get()||0;if(Su.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const C=S.layout.layoutBox[w];C&&(_=Al(C)*(parseFloat(_)/100))}}this.originPoint[w]=_}),y&&ui.postRender(()=>y(u,d));const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=d;if(v&&this.currentDirection===null){this.currentDirection=fCe(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),b&&b(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Xl(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IJ(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:NJ(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ui.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ww(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=QTe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&jg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=eCe(i.layoutBox,n):this.constraints=!1,this.elastic=iCe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rCe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=uCe(r,i.root,this.visualElement.getTransformPagePoint());let o=tCe(i.layout.layoutBox,s);if(n){const a=n(sCe(o));this.hasMutatedConstraints=!!a,a&&(o=LJ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Xl(u=>{if(!Ww(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Q3(e,r,0,n,this.visualElement))}stopAnimation(){Xl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xl(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xl(n=>{const{drag:r}=this.getProps();if(!Ww(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-zi(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xl(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=nCe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xl(o=>{if(!Ww(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(zi(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;hCe.set(this.visualElement,this);const e=this.visualElement.current,n=yh(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();jg(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=dh(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Xl(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=kk,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ww(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fCe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pCe extends Pf{constructor(e){super(e),this.removeGroupControls=aa,this.removeListeners=aa,this.controls=new dCe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||aa}unmount(){this.removeGroupControls(),this.removeListeners()}}const TH=t=>(e,n)=>{t&&ui.postRender(()=>t(e,n))};class mCe extends Pf{constructor(){super(...arguments),this.removePointerDownListener=aa}onPointerDown(e){this.session=new IJ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NJ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TH(e),onStart:TH(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ui.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=yh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gCe(){const t=G.useContext(e1);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=G.useId();return G.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function vCe(){return yCe(G.useContext(e1))}function yCe(t){return t===null?!0:t.isPresent}const BA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CH(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const f0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Zn.test(t))t=parseFloat(t);else return t;const n=CH(t,e.target.x),r=CH(t,e.target.y);return`${n}% ${r}%`}},_Ce={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=hf.parse(t);if(i.length>5)return r;const s=hf.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=zi(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class xCe extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;pAe(bCe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),BA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ui.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),R3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BJ(t){const[e,n]=gCe(),r=G.useContext(O3);return V.jsx(xCe,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(RY),isPresent:e,safeToRemove:n})}const bCe={borderRadius:{...f0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:f0,borderTopRightRadius:f0,borderBottomLeftRadius:f0,borderBottomRightRadius:f0,boxShadow:_Ce},FJ=["TopLeft","TopRight","BottomLeft","BottomRight"],wCe=FJ.length,MH=t=>typeof t=="string"?parseFloat(t):t,PH=t=>typeof t=="number"||Zn.test(t);function SCe(t,e,n,r,i,s){i?(t.opacity=zi(0,n.opacity!==void 0?n.opacity:1,ACe(r)),t.opacityExit=zi(e.opacity!==void 0?e.opacity:1,0,ECe(r))):s&&(t.opacity=zi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<wCe;o++){const a=`border${FJ[o]}Radius`;let l=IH(e,a),c=IH(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PH(l)===PH(c)?(t[a]=Math.max(zi(MH(l),MH(c),r),0),(Su.test(c)||Su.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=zi(e.rotate||0,n.rotate||0,r))}function IH(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ACe=UJ(0,.5,bJ),ECe=UJ(.5,.95,aa);function UJ(t,e,n){return r=>r<t?0:r>e?1:n(Hx(t,e,r))}function RH(t,e){t.min=e.min,t.max=e.max}function jl(t,e){RH(t.x,e.x),RH(t.y,e.y)}function LH(t,e,n,r,i){return t-=e,t=fT(t,1/n,r),i!==void 0&&(t=fT(t,1/i,r)),t}function TCe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Su.test(e)&&(e=parseFloat(e),e=zi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=zi(s.min,s.max,r);t===s&&(a-=e),t.min=LH(t.min,e,n,a,i),t.max=LH(t.max,e,n,a,i)}function kH(t,e,[n,r,i],s,o){TCe(t,e[n],e[r],e[i],e.scale,s,o)}const CCe=["x","scaleX","originX"],MCe=["y","scaleY","originY"];function OH(t,e,n,r){kH(t.x,e,CCe,n?n.x:void 0,r?r.x:void 0),kH(t.y,e,MCe,n?n.y:void 0,r?r.y:void 0)}function DH(t){return t.translate===0&&t.scale===1}function zJ(t){return DH(t.x)&&DH(t.y)}function PCe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function VJ(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function NH(t){return Al(t.x)/Al(t.y)}class ICe{constructor(){this.members=[]}add(e){eF(this.members,e),e.scheduleRender()}remove(e){if(tF(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:v,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),v&&(r+=`skewX(${v}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const RCe=(t,e)=>t.depth-e.depth;class LCe{constructor(){this.children=[],this.isDirty=!1}add(e){eF(this.children,e),this.isDirty=!0}remove(e){tF(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RCe),this.isDirty=!1,this.children.forEach(e)}}function kCe(t,e){const n=rf.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Oh(r),t(s-e))};return ui.read(r,!0),()=>Oh(r)}function OCe(t){window.MotionDebug&&window.MotionDebug.record(t)}function DCe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function NCe(t,e,n){const r=ia(t)?t:jx(t);return r.start(Q3("",r,e,n)),r.animation}const iR=["","X","Y","Z"],BCe={visibility:"hidden"},FH=1e3;let FCe=0;const up={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sR(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function HJ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?MJ(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?HJ(t.parent):!1:!1}function jJ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=FCe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,up.totalNodes=up.resolvedTargetDeltas=up.recalculatedProjection=0,this.nodes.forEach(VCe),this.nodes.forEach(WCe),this.nodes.forEach(XCe),this.nodes.forEach(HCe),OCe(up)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new LCe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nF),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DCe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=kCe(f,250),BA.hasAnimatedSinceResize&&(BA.hasAnimatedSinceResize=!1,this.nodes.forEach(zH))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||ZCe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=u.getProps(),S=!this.targetLayout||!VJ(this.targetLayout,y)||v,C=!f&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,C);const I={...G3(b,"layout"),onPlay:w,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else f||zH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qCe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&HJ(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UH);return}this.isUpdating||this.nodes.forEach(GCe),this.isUpdating=!1,this.nodes.forEach($Ce),this.nodes.forEach(UCe),this.nodes.forEach(zCe),this.clearAllSnapshots();const a=rf.now();wo.delta=uf(0,1e3/60,a-wo.timestamp),wo.timestamp=a,wo.isProcessing=!0,qI.update.process(wo),qI.preRender.process(wo),qI.render.process(wo),wo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R3.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(jCe),this.sharedNodes.forEach(KCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ui.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ui.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!zJ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||cp(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),QCe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hs();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(xd(a.x,l.offset.x),xd(a.y,l.offset.y)),a}removeElementScroll(o){const a=hs();jl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){jl(a,o);const{scroll:f}=this.root;f&&(xd(a.x,-f.offset.x),xd(a.y,-f.offset.y))}xd(a.x,u.offset.x),xd(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=hs();jl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wg(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),cp(u.latestValues)&&Wg(l,u.latestValues)}return cp(this.latestValues)&&Wg(l,this.latestValues),l}removeTransform(o){const a=hs();jl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!cp(c.latestValues))continue;Ok(c.latestValues)&&c.updateSnapshot();const u=hs(),d=c.measurePageBox();jl(u,d),OH(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return cp(this.latestValues)&&OH(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=wo.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),P_(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),jl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hs(),this.targetWithTransforms=hs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZTe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jl(this.target,this.layout.layoutBox),OJ(this.target,this.targetDelta)):jl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),P_(this.relativeTargetOrigin,this.target,v.target),jl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}up.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ok(this.parent.latestValues)||kJ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wo.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;jl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,v=this.treeScale.y;aCe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=hs());const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=$g(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$g(),this.projectionDeltaWithTransform=$g());const b=this.projectionTransform;M_(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=BH(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==f||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),up.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=$g();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=hs(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=v!==y,w=this.getStack(),_=!w||w.members.length<=1,S=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(JCe));this.animationProgress=0;let C;this.mixTargetDelta=I=>{const z=I/1e3;VH(d.x,o.x,z),VH(d.y,o.y,z),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(P_(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YCe(this.relativeTarget,this.relativeTargetOrigin,f,z),C&&PCe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=hs()),jl(C,this.relativeTarget)),b&&(this.animationValues=u,SCe(u,c,this.latestValues,z,S,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ui.update(()=>{BA.hasAnimatedSinceResize=!0,this.currentAnimation=NCe(0,FH,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&GJ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hs();const d=Al(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Al(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}jl(a,l),Wg(a,u),M_(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ICe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&sR("z",o,c,this.animationValues);for(let u=0;u<iR.length;u++)sR(`rotate${iR[u]}`,o,c,this.animationValues),sR(`skew${iR[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BCe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=DA(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=DA(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cp(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=BH(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in lT){if(f[b]===void 0)continue;const{correct:w,applyTo:_}=lT[b],S=c.transform==="none"?f[b]:w(f[b],d);if(_){const C=_.length;for(let I=0;I<C;I++)c[_[I]]=S}else c[b]=S}return this.options.layoutId&&(c.pointerEvents=d===this?DA(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(UH),this.root.sharedNodes.clear()}}}function UCe(t){t.updateLayout()}function zCe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Xl(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],v=Al(f);f.min=r[d].min,f.max=f.min+v}):GJ(s,n.layoutBox,r)&&Xl(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],v=Al(r[d]);f.max=f.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const a=$g();M_(a,r,n.layoutBox);const l=$g();o?M_(l,t.applyTransform(i,!0),n.measuredBox):M_(l,r,n.layoutBox);const c=!zJ(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:v}=d;if(f&&v){const y=hs();P_(y,n.layoutBox,f.layoutBox);const b=hs();P_(b,r,v.layoutBox),VJ(y,b)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function VCe(t){up.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HCe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jCe(t){t.clearSnapshot()}function UH(t){t.clearMeasurements()}function GCe(t){t.isLayoutDirty=!1}function $Ce(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zH(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WCe(t){t.resolveTargetDelta()}function XCe(t){t.calcProjection()}function qCe(t){t.resetSkewAndRotation()}function KCe(t){t.removeLeadSnapshot()}function VH(t,e,n){t.translate=zi(e.translate,0,n),t.scale=zi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HH(t,e,n,r){t.min=zi(e.min,n.min,r),t.max=zi(e.max,n.max,r)}function YCe(t,e,n,r){HH(t.x,e.x,n.x,r),HH(t.y,e.y,n.y,r)}function JCe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZCe={duration:.45,ease:[.4,0,.1,1]},jH=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GH=jH("applewebkit/")&&!jH("chrome/")?Math.round:aa;function $H(t){t.min=GH(t.min),t.max=GH(t.max)}function QCe(t){$H(t.x),$H(t.y)}function GJ(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lk(NH(e),NH(n),.2)}const eMe=jJ({attachResizeListener:(t,e)=>dh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oR={current:void 0},$J=jJ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!oR.current){const t=new eMe({});t.mount(window),t.setOptions({layoutScroll:!0}),oR.current=t}return oR.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tMe={pan:{Feature:mCe},drag:{Feature:pCe,ProjectionNode:$J,MeasureLayout:BJ}},Nk={current:null},WJ={current:!1};function nMe(){if(WJ.current=!0,!!M3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nk.current=t.matches;t.addListener(e),e()}else Nk.current=!1}function rMe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(ia(s))t.addValue(i,s),dT(r)&&r.add(i);else if(ia(o))t.addValue(i,jx(s,{owner:t})),dT(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,jx(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const WH=new WeakMap,iMe=[...nJ,Qo,hf],sMe=t=>iMe.find(tJ(t)),XJ=Object.keys(zx),oMe=XJ.length,XH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],aMe=k3.length;function qJ(t){if(t)return t.options.allowProjection!==!1?t.projection:qJ(t.parent)}class lMe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(f,v,y,b)=>new this.KeyframeResolver(f,v,y,b,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ui.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=mM(n),this.isVariantNode=IY(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const v=d[f];l[f]!==void 0&&ia(v)&&(v.set(l[f],!1),dT(u)&&u.add(f))}}mount(e){this.current=e,WH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),WJ.current||nMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;WH.delete(this.current),this.projection&&this.projection.unmount(),Oh(this.notifyUpdate),Oh(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(e=this.features[n])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,n){const r=Mm.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ui.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<oMe;l++){const c=XJ[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:v}=zx[c];f&&(o=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),v&&(a=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:v}=n;this.projection=new o(this.latestValues,n["data-framer-portal-id"]?void 0:qJ(this.parent)),this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&jg(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<XH.length;r++){const i=XH[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=rMe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<aMe;r++){const i=k3[r],s=this.props[i];(Ux(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jx(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(QY(i)||JY(i))?i=parseFloat(i):!sMe(i)&&hf.test(n)&&(i=uJ(e,n)),this.setBaseTarget(e,ia(i)?i.get():i)),ia(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=j3(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ia(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nF),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KJ extends lMe{constructor(){super(...arguments),this.KeyframeResolver=hJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function cMe(t){return window.getComputedStyle(t)}class uMe extends KJ{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Mm.has(n)){const r=X3(n);return r&&r.default||0}else{const r=cMe(e),i=(OY(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DJ(e,n)}build(e,n,r,i){F3(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return H3(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ia(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){UY(e,n,r,i)}}class hMe extends KJ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mm.has(n)){const r=X3(n);return r&&r.default||0}return n=zY.has(n)?n:I3(n),e.getAttribute(n)}measureInstanceViewportBox(){return hs()}scrapeMotionValuesFromProps(e,n,r){return HY(e,n,r)}build(e,n,r,i){z3(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){VY(e,n,r,i)}mount(e){this.isSVGTag=V3(e.tagName),super.mount(e)}}const dMe=(t,e)=>D3(t)?new hMe(e,{enableHardwareAcceleration:!1}):new uMe(e,{allowProjection:t!==G.Fragment,enableHardwareAcceleration:!0}),fMe={layout:{ProjectionNode:$J,MeasureLayout:BJ}},pMe={...qTe,...nEe,...tMe,...fMe},Xg=dAe((t,e)=>jAe(t,e,pMe,dMe));function YJ(){const t=G.useRef(!1);return P3(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function mMe(){const t=YJ(),[e,n]=G.useState(0),r=G.useCallback(()=>{t.current&&n(e+1)},[e]);return[G.useCallback(()=>ui.postRender(r),[r]),e]}class gMe extends G.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vMe({children:t,isPresent:e}){const n=G.useId(),r=G.useRef(null),i=G.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=G.useContext(C3);return G.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),V.jsx(gMe,{isPresent:e,childRef:r,sizeRef:i,children:G.cloneElement(t,{ref:r})})}const aR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=jY(yMe),l=G.useId(),c=G.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random()]:[n]);return G.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),G.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=V.jsx(vMe,{isPresent:n,children:t})),V.jsx(e1.Provider,{value:c,children:t})};function yMe(){return new Map}function _Me(t){return G.useEffect(()=>()=>t(),[])}const hp=t=>t.key||"";function xMe(t,e){t.forEach(n=>{const r=hp(n);e.set(r,n)})}function bMe(t){const e=[];return G.Children.forEach(t,n=>{G.isValidElement(n)&&e.push(n)}),e}const JJ=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=G.useContext(O3).forceRender||mMe()[0],l=YJ(),c=bMe(t);let u=c;const d=G.useRef(new Map).current,f=G.useRef(u),v=G.useRef(new Map).current,y=G.useRef(!0);if(P3(()=>{y.current=!1,xMe(c,v),f.current=u}),_Me(()=>{y.current=!0,v.clear(),d.clear()}),y.current)return V.jsx(V.Fragment,{children:u.map(S=>V.jsx(aR,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o,children:S},hp(S)))});u=[...u];const b=f.current.map(hp),w=c.map(hp),_=b.length;for(let S=0;S<_;S++){const C=b[S];w.indexOf(C)===-1&&!d.has(C)&&d.set(C,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((S,C)=>{if(w.indexOf(C)!==-1)return;const I=v.get(C);if(!I)return;const z=b.indexOf(C);let N=S;if(!N){const A=()=>{d.delete(C);const W=Array.from(v.keys()).filter(U=>!w.includes(U));if(W.forEach(U=>v.delete(U)),f.current=c.filter(U=>{const F=hp(U);return F===C||W.includes(F)}),!d.size){if(l.current===!1)return;a(),r&&r()}};N=V.jsx(aR,{isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:s,mode:o,children:I},hp(I)),d.set(C,N)}u.splice(z,0,N)}),u=u.map(S=>{const C=S.key;return d.has(C)?S:V.jsx(aR,{isPresent:!0,presenceAffectsLayout:s,mode:o,children:S},hp(S))}),V.jsx(V.Fragment,{children:d.size?u:u.map(S=>G.cloneElement(S))})};var wMe={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ZJ=G.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=wMe,toastSpacing:u="0.5rem"}=t,[d,f]=G.useState(a),v=vCe();z9(()=>{v||r==null||r()},[v]),z9(()=>{f(a)},[a]);const y=()=>f(null),b=()=>f(a),w=()=>{v&&i()};G.useEffect(()=>{v&&s&&i()},[v,s,i]),QSe(w,d);const _=G.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),S=G.useMemo(()=>JSe(o),[o]);return V.jsx(Xg.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:y,onHoverEnd:b,custom:{position:o},style:S,children:V.jsx(Is.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:_,children:Bd(n,{id:e,onClose:w})})})});ZJ.displayName="ToastComponent";var qH={path:V.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[V.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),V.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),V.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Ey=Rl((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=t,u=ka("chakra-icon",a),d=dM("Icon",t),f={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...d},v={ref:e,focusable:s,className:u,__css:f},y=r??qH.viewBox;if(n&&typeof n!="string")return V.jsx(Is.svg,{as:n,...v,...c});const b=o??qH.path;return V.jsx(Is.svg,{verticalAlign:"middle",viewBox:y,...v,...c,children:b})});Ey.displayName="Icon";function SMe(t){return V.jsx(Ey,{viewBox:"0 0 24 24",...t,children:V.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function AMe(t){return V.jsx(Ey,{viewBox:"0 0 24 24",...t,children:V.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function KH(t){return V.jsx(Ey,{viewBox:"0 0 24 24",...t,children:V.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var EMe=xve({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),rF=Rl((t,e)=>{const n=dM("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=Zb(t),c=ka("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${EMe} ${s} linear infinite`,...n};return V.jsx(Is.div,{ref:e,__css:u,className:c,...l,children:r&&V.jsx(Is.span,{srOnly:!0,children:r})})});rF.displayName="Spinner";var[TMe,iF]=Ou({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[CMe,sF]=Ou({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),QJ={info:{icon:AMe,colorScheme:"blue"},warning:{icon:KH,colorScheme:"orange"},success:{icon:SMe,colorScheme:"green"},error:{icon:KH,colorScheme:"red"},loading:{icon:rF,colorScheme:"blue"}};function MMe(t){return QJ[t].colorScheme}function PMe(t){return QJ[t].icon}var eZ=Rl(function(e,n){const r=sF(),{status:i}=iF(),s={display:"inline",...r.description};return V.jsx(Is.div,{ref:n,"data-status":i,...e,className:ka("chakra-alert__desc",e.className),__css:s})});eZ.displayName="AlertDescription";function tZ(t){const{status:e}=iF(),n=PMe(e),r=sF(),i=e==="loading"?r.spinner:r.icon;return V.jsx(Is.span,{display:"inherit","data-status":e,...t,className:ka("chakra-alert__icon",t.className),__css:i,children:t.children||V.jsx(n,{h:"100%",w:"100%"})})}tZ.displayName="AlertIcon";var nZ=Rl(function(e,n){const r=sF(),{status:i}=iF();return V.jsx(Is.div,{ref:n,"data-status":i,...e,className:ka("chakra-alert__title",e.className),__css:r.title})});nZ.displayName="AlertTitle";var rZ=Rl(function(e,n){var r;const{status:i="info",addRole:s=!0,...o}=Zb(e),a=(r=e.colorScheme)!=null?r:MMe(i),l=SY("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return V.jsx(TMe,{value:{status:i},children:V.jsx(CMe,{value:l,children:V.jsx(Is.div,{"data-status":i,role:s?"alert":void 0,ref:n,...o,className:ka("chakra-alert",e.className),__css:c})})})});rZ.displayName="Alert";function IMe(t){return V.jsx(Ey,{focusable:"false","aria-hidden":!0,...t,children:V.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var iZ=Rl(function(e,n){const r=dM("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=Zb(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return V.jsx(Is.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||V.jsx(IMe,{width:"1em",height:"1em"})})});iZ.displayName="CloseButton";var RMe={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},I_=LMe(RMe);function LMe(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=kMe(i,s),{position:a,id:l}=o;return r(c=>{var u,d;const v=a.includes("top")?[o,...(u=c[a])!=null?u:[]]:[...(d=c[a])!=null?d:[],o];return{...c,[a]:v}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=U9(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:DMe(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(u=>({...u,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=TY(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!U9(I_.getState(),i).position}}var YH=0;function kMe(t,e={}){var n,r;YH+=1;const i=(n=e.id)!=null?n:YH,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>I_.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var OMe=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:c}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return V.jsxs(rZ,{addRole:!1,status:e,variant:n,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[V.jsx(tZ,{children:c}),V.jsxs(Is.div,{flex:"1",maxWidth:"100%",children:[i&&V.jsx(nZ,{id:u==null?void 0:u.title,children:i}),a&&V.jsx(eZ,{id:u==null?void 0:u.description,display:"block",children:a})]}),s&&V.jsx(iZ,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function DMe(t={}){const{render:e,toastComponent:n=OMe}=t;return i=>typeof e=="function"?e({...i,...t}):V.jsx(n,{...i,...t})}var[NMe,OHe]=Ou({name:"ToastOptionsContext",strict:!1}),BMe=t=>{const e=G.useSyncExternalStore(I_.subscribe,I_.getState,I_.getState),{motionVariants:n,component:r=ZJ,portalProps:i}=t,o=Object.keys(e).map(a=>{const l=e[a];return V.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:ZSe(a),children:V.jsx(JJ,{initial:!1,children:l.map(c=>V.jsx(r,{motionVariants:n,...c},c.id))})},a)});return V.jsx(aM,{...i,children:o})},FMe=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return V.jsxs(KSe,{theme:r,...s,children:[V.jsx(NMe,{value:i==null?void 0:i.defaultOptions,children:n}),V.jsx(BMe,{...i})]})},UMe=FMe(xSe),zMe=Object.defineProperty,VMe=(t,e,n)=>e in t?zMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zi=(t,e,n)=>(VMe(t,typeof e!="symbol"?e+"":e,n),n);function JH(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var HMe=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function ZH(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function QH(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var Bk=typeof window<"u"?G.useLayoutEffect:G.useEffect,pT=t=>t,jMe=class{constructor(){Zi(this,"descendants",new Map),Zi(this,"register",t=>{if(t!=null)return HMe(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),Zi(this,"unregister",t=>{this.descendants.delete(t);const e=JH(Array.from(this.descendants.keys()));this.assignIndex(e)}),Zi(this,"destroy",()=>{this.descendants.clear()}),Zi(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),Zi(this,"count",()=>this.descendants.size),Zi(this,"enabledCount",()=>this.enabledValues().length),Zi(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),Zi(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),Zi(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),Zi(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),Zi(this,"first",()=>this.item(0)),Zi(this,"firstEnabled",()=>this.enabledItem(0)),Zi(this,"last",()=>this.item(this.descendants.size-1)),Zi(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),Zi(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),Zi(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),Zi(this,"next",(t,e=!0)=>{const n=ZH(t,this.count(),e);return this.item(n)}),Zi(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=ZH(r,this.enabledCount(),e);return this.enabledItem(i)}),Zi(this,"prev",(t,e=!0)=>{const n=QH(t,this.count()-1,e);return this.item(n)}),Zi(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=QH(r,this.enabledCount()-1,e);return this.enabledItem(i)}),Zi(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=JH(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const i={node:t,index:-1,...e};this.descendants.set(t,i),this.assignIndex(r)})}};function GMe(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function oF(...t){return e=>{t.forEach(n=>{GMe(n,e)})}}function $Me(...t){return G.useMemo(()=>oF(...t),t)}function WMe(){const t=G.useRef(new jMe);return Bk(()=>()=>t.current.destroy()),t.current}var[XMe,sZ]=Ou({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function qMe(t){const e=sZ(),[n,r]=G.useState(-1),i=G.useRef(null);Bk(()=>()=>{i.current&&e.unregister(i.current)},[]),Bk(()=>{if(!i.current)return;const o=Number(i.current.dataset.index);n!=o&&!Number.isNaN(o)&&r(o)});const s=pT(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(i.current),register:oF(s,i)}}function KMe(){return[pT(XMe),()=>pT(sZ()),()=>WMe(),i=>qMe(i)]}var[YMe,_M]=Ou({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[JMe,aF]=Ou({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[ZMe,DHe,QMe,ePe]=KMe(),FA=Rl(function(e,n){const{getButtonProps:r}=aF(),i=r(e,n),o={display:"flex",alignItems:"center",width:"100%",outline:0,..._M().button};return V.jsx(Is.button,{...i,className:ka("chakra-accordion__button",e.className),__css:o})});FA.displayName="AccordionButton";function tPe(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=(f,v)=>f!==v}=t,s=OA(r),o=OA(i),[a,l]=G.useState(n),c=e!==void 0,u=c?e:a,d=OA(f=>{const y=typeof f=="function"?f(u):f;o(u,y)&&(c||l(y),s(y))},[c,s,u,o]);return[u,d]}function nPe(t){const{onChange:e,defaultIndex:n,index:r,allowMultiple:i,allowToggle:s,...o}=t;sPe(t),oPe(t);const a=QMe(),[l,c]=G.useState(-1);G.useEffect(()=>()=>{c(-1)},[]);const[u,d]=tPe({value:r,defaultValue(){return i?n??[]:n??-1},onChange:e});return{index:u,setIndex:d,htmlProps:o,getAccordionItemProps:v=>{let y=!1;return v!==null&&(y=Array.isArray(u)?u.includes(v):u===v),{isOpen:y,onChange:w=>{if(v!==null)if(i&&Array.isArray(u)){const _=w?u.concat(v):u.filter(S=>S!==v);d(_)}else w?d(v):s&&d(-1)}}},focusedIndex:l,setFocusedIndex:c,descendants:a}}var[rPe,lF]=Ou({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function iPe(t){const{isDisabled:e,isFocusable:n,id:r,...i}=t,{getAccordionItemProps:s,setFocusedIndex:o}=lF(),a=G.useRef(null),l=G.useId(),c=r??l,u=`accordion-button-${c}`,d=`accordion-panel-${c}`;aPe(t);const{register:f,index:v,descendants:y}=ePe({disabled:e&&!n}),{isOpen:b,onChange:w}=s(v===-1?null:v);lPe({isOpen:b,isDisabled:e});const _=()=>{w==null||w(!0)},S=()=>{w==null||w(!1)},C=G.useCallback(()=>{w==null||w(!b),o(v)},[v,o,b,w]),I=G.useCallback(W=>{const F={ArrowDown:()=>{const ee=y.nextEnabled(v);ee==null||ee.node.focus()},ArrowUp:()=>{const ee=y.prevEnabled(v);ee==null||ee.node.focus()},Home:()=>{const ee=y.firstEnabled();ee==null||ee.node.focus()},End:()=>{const ee=y.lastEnabled();ee==null||ee.node.focus()}}[W.key];F&&(W.preventDefault(),F(W))},[y,v]),z=G.useCallback(()=>{o(v)},[o,v]),N=G.useCallback(function(U={},F=null){return{...U,type:"button",ref:oF(f,a,F),id:u,disabled:!!e,"aria-expanded":!!b,"aria-controls":d,onClick:PI(U.onClick,C),onFocus:PI(U.onFocus,z),onKeyDown:PI(U.onKeyDown,I)}},[u,e,b,C,z,I,d,f]),A=G.useCallback(function(U={},F=null){return{...U,ref:F,role:"region",id:d,"aria-labelledby":u,hidden:!b}},[u,b,d]);return{isOpen:b,isDisabled:e,isFocusable:n,onOpen:_,onClose:S,getButtonProps:N,getPanelProps:A,htmlProps:i}}function sPe(t){const e=t.index||t.defaultIndex,n=e!=null&&!Array.isArray(e)&&t.allowMultiple;Jb({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof e},`})}function oPe(t){Jb({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function aPe(t){Jb({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function lPe(t){Jb({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}function UA(t){const{isOpen:e,isDisabled:n}=aF(),{reduceMotion:r}=lF(),i=ka("chakra-accordion__icon",t.className),s=_M(),o={opacity:n?.4:1,transform:e?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return V.jsx(Ey,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:o,...t,children:V.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}UA.displayName="AccordionIcon";var zA=Rl(function(e,n){const{children:r,className:i}=e,{htmlProps:s,...o}=iPe(e),l={..._M().container,overflowAnchor:"none"},c=G.useMemo(()=>o,[o]);return V.jsx(JMe,{value:c,children:V.jsx(Is.div,{ref:n,...s,className:ka("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!o.isOpen,isDisabled:!!o.isDisabled}):r})})});zA.displayName="AccordionItem";var Xw={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},e6={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},cPe=t=>t!=null&&parseInt(t.toString(),10)>0,t6={exit:{height:{duration:.2,ease:Xw.ease},opacity:{duration:.3,ease:Xw.ease}},enter:{height:{duration:.3,ease:Xw.ease},opacity:{duration:.4,ease:Xw.ease}}},uPe={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:cPe(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:e6.exit(t6.exit,i)}},enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:e6.enter(t6.enter,i)}}},oZ=G.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:o="auto",style:a,className:l,transition:c,transitionEnd:u,...d}=t,[f,v]=G.useState(!1);G.useEffect(()=>{const S=setTimeout(()=>{v(!0)});return()=>clearTimeout(S)},[]),Jb({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const y=parseFloat(s.toString())>0,b={startingHeight:s,endingHeight:o,animateOpacity:i,transition:f?c:{enter:{duration:0}},transitionEnd:{enter:u==null?void 0:u.enter,exit:r?u==null?void 0:u.exit:{...u==null?void 0:u.exit,display:y?"block":"none"}}},w=r?n:!0,_=n||r?"enter":"exit";return V.jsx(JJ,{initial:!1,custom:b,children:w&&V.jsx(Xg.div,{ref:e,...d,className:ka("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:b,variants:uPe,initial:r?"exit":!1,animate:_,exit:"exit"})})});oZ.displayName="Collapse";var VA=Rl(function(e,n){const{className:r,motionProps:i,...s}=e,{reduceMotion:o}=lF(),{getPanelProps:a,isOpen:l}=aF(),c=a(s,n),u=ka("chakra-accordion__panel",r),d=_M();o||delete c.hidden;const f=V.jsx(Is.div,{...c,__css:d.panel,className:u});return o?f:V.jsx(oZ,{in:l,...i,children:f})});VA.displayName="AccordionPanel";var aZ=Rl(function({children:e,reduceMotion:n,...r},i){const s=SY("Accordion",r),o=Zb(r),{htmlProps:a,descendants:l,...c}=nPe(o),u=G.useMemo(()=>({...c,reduceMotion:!!n}),[c,n]);return V.jsx(ZMe,{value:l,children:V.jsx(rPe,{value:u,children:V.jsx(YMe,{value:s,children:V.jsx(Is.div,{ref:i,...a,className:ka("chakra-accordion",r.className),__css:s.root,children:e})})})})});aZ.displayName="Accordion";var[NHe,hPe]=Ou({strict:!1,name:"ButtonGroupContext"});function dPe(t){const[e,n]=G.useState(!t);return{ref:G.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function Fk(t){const{children:e,className:n,...r}=t,i=G.isValidElement(e)?G.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=ka("chakra-button__icon",n);return V.jsx(Is.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}Fk.displayName="ButtonIcon";function Uk(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=V.jsx(rF,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=ka("chakra-button__spinner",s),c=n==="start"?"marginEnd":"marginStart",u=G.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return V.jsx(Is.div,{className:l,...a,__css:u,children:i})}Uk.displayName="ButtonSpinner";var zk=Rl((t,e)=>{const n=hPe(),r=dM("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:u,iconSpacing:d="0.5rem",type:f,spinner:v,spinnerPlacement:y="start",className:b,as:w,..._}=Zb(t),S=G.useMemo(()=>{const N={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:N}}},[r,n]),{ref:C,type:I}=dPe(w),z={rightIcon:c,leftIcon:l,iconSpacing:d,children:a};return V.jsxs(Is.button,{ref:$Me(e,C),as:w,type:f??I,"data-active":XV(o),"data-loading":XV(s),__css:S,className:ka("chakra-button",b),..._,disabled:i||s,children:[s&&y==="start"&&V.jsx(Uk,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:d,children:v}),s?u||V.jsx(Is.span,{opacity:0,children:V.jsx(n6,{...z})}):V.jsx(n6,{...z}),s&&y==="end"&&V.jsx(Uk,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:d,children:v})]})});zk.displayName="Button";function n6(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return V.jsxs(V.Fragment,{children:[e&&V.jsx(Fk,{marginEnd:i,children:e}),r,n&&V.jsx(Fk,{marginStart:i,children:n})]})}function Vk(t,e){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vk(t,e)}function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function fPe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lZ(t){var e=fPe(t,"string");return Kv(e)=="symbol"?e:String(e)}function Tn(t,e,n){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $p=Is("div");$p.displayName="Box";var cZ=Rl(function(e,n){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return V.jsx($p,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});cZ.displayName="Square";var pPe=Rl(function(e,n){const{size:r,...i}=e;return V.jsx(cZ,{size:r,ref:n,borderRadius:"9999px",...i})});pPe.displayName="Circle";var Qn="cs",uZ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(uZ);var mPe=uZ.exports;const Mr=_f(mPe);var hZ=["available","unavailable","away","dnd","invisible","eager"],dZ=["xs","sm","md","lg","fluid"];function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}var gPe=["status","size","className","name","selected","children"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hk.apply(this,arguments)}function r6(t,e,n){return e=vPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vPe(t){var e=yPe(t,"string");return Gx(e)=="symbol"?e:String(e)}function yPe(t,e){if(Gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Pe(t,e){if(t==null)return{};var n=xPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xPe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fZ=function(e){var n=e.status,r=e.size,i=r===void 0?"md":r,s=e.className,o=e.name,a=e.selected,l=e.children,c=_Pe(e,gPe),u="".concat(Qn,"-status"),d=Te.createElement("div",{className:"".concat(u,"__bullet")}),f=o||l;return Te.createElement("div",Hk({},c,{"aria-selected":a===!0?"":null,className:Mr(u,"".concat(u,"--").concat(i),"".concat(u,"--").concat(n),r6({},"".concat(u,"--selected"),a),r6({},"".concat(u,"--named"),f),s)}),d,f&&Te.createElement("div",{className:"".concat(u,"__name")},o||l))};function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}var bPe=["name","src","size","status","className","active","children"];function jk(){return jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jk.apply(this,arguments)}function wPe(t,e,n){return e=SPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SPe(t){var e=APe(t,"string");return $x(e)=="symbol"?e:String(e)}function APe(t,e){if($x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EPe(t,e){if(t==null)return{};var n=TPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TPe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CPe(t,e){var n=t.name,r=n===void 0?"":n,i=t.src,s=i===void 0?"":i,o=t.size,a=o===void 0?"md":o,l=t.status,c=t.className,u=t.active,d=u===void 0?!1:u,f=t.children,v=EPe(t,bPe),y="".concat(Qn,"-avatar"),b=typeof a<"u"?" ".concat(y,"--").concat(a):"",w=G.useRef();return G.useImperativeHandle(e,function(){return{focus:function(){return w.current.focus()}}}),Te.createElement("div",jk({ref:w},v,{className:Mr("".concat(y).concat(b),wPe({},"".concat(y,"--active"),d),c)}),f||Te.createElement(Te.Fragment,null,Te.createElement("img",{src:s,alt:r}),typeof l=="string"&&Te.createElement(fZ,{status:l,size:a})," "))}var s1=G.forwardRef(CPe);s1.displayName="Avatar";s1.propTypes={children:jt.node,name:jt.string,src:jt.string,size:jt.oneOf(dZ),status:jt.oneOf(hZ),active:jt.bool,className:jt.string};function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){MPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MPe(t,e,n){return e=PPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PPe(t){var e=IPe(t,"string");return df(e)=="symbol"?e:String(e)}function IPe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var HA=function(){},RPe=function(e){return e==null||Array.isArray(e)&&e.length===0},o1=function(e,n){var r=[],i=n.map(function(s){return s.displayName||s.name});return Te.Children.toArray(e).forEach(function(s){var o=n.indexOf(s.type);if(o!==-1)r[o]=s;else{var a,l,c,u=(a=s==null||(l=s.props)===null||l===void 0?void 0:l.as)!==null&&a!==void 0?a:s==null||(c=s.props)===null||c===void 0?void 0:c.is,d=df(u);if(d==="function"){var f=n.indexOf(u);f!==-1&&(r[f]=Te.cloneElement(s,qw(qw({},s.props),{},{as:null})))}else if(d==="object"){var v=u.name||u.displayName,y=i.indexOf(v);y!==-1&&(r[y]=Te.cloneElement(s,qw(qw({},s.props),{},{as:null})))}else if(d==="string"){var b=i.indexOf(u);b!==-1&&(r[b]=s)}}}),r},pZ=function(e){if(typeof e=="string")return e;if("type"in e){var n=df(e.type);if(n==="function"||n==="object"){if("displayName"in e.type)return e.type.displayName;if("name"in e.type)return e.type.name}else if(n==="string")return e.type;return"undefined"}return"undefined"},mZ=function(e){return function(n,r,i){var s=e.map(function(u){return u.name||u.displayName}),o=Te.Children.toArray(n[r]).find(function(u){if(typeof u=="string"&&u.trim().length===0)return!1;if(e.indexOf(u.type)===-1){var d,f,v=(u==null||(d=u.props)===null||d===void 0?void 0:d.as)||(u==null||(f=u.props)===null||f===void 0?void 0:f.is),y=df(v);if(y==="function")return e.indexOf(v)===-1;if(y==="object"){var b=v.name||v.displayName;return s.indexOf(b)===-1}else return y==="string"?s.indexOf(v)===-1:!0}});if(typeof o<"u"){var a=pZ(o),l=e.map(function(u){return u.name||u.displayName}).join(", "),c='"'.concat(a,'" is not a valid child for ').concat(i,". Allowed types: ").concat(l);return new Error(c)}}},LPe=["children","size","className","max","activeIndex","hoverToFront"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gk.apply(this,arguments)}function kPe(t,e){if(t==null)return{};var n=OPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OPe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gZ=function(e){var n=e.children,r=e.size,i=r===void 0?"md":r,s=e.className,o=e.max,a=e.activeIndex,l=e.hoverToFront,c=kPe(e,LPe),u="".concat(Qn,"-avatar-group"),d=typeof o=="number"&&Te.Children.count(n)>o?Te.Children.toArray(n).reverse().slice(0,o):Te.Children.toArray(n).reverse(),f=typeof a=="number"?d.length-a-1:void 0;return Te.createElement("div",Gk({},c,{className:Mr(u,"".concat(u,"--").concat(i),s)}),d.map(function(v,y){var b=typeof f=="number"?{active:f===y}:{};return l===!0&&(b.className=Mr("".concat(Qn,"-avatar--active-on-hover"),v.props.className)),Te.cloneElement(v,b)}))};gZ.displayName="AvatarGroup";var DPe=["children","className","icon","border","labelPosition"];function $k(){return $k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$k.apply(this,arguments)}function NPe(t,e){if(t==null)return{};var n=BPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BPe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var cF=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=i===void 0?"":i,o=e.icon,a=o===void 0?void 0:o,l=e.border,c=l===void 0?!1:l,u=e.labelPosition,d=u===void 0?void 0:u,f=NPe(e,DPe),v="".concat(Qn,"-button"),y=typeof d<"u"?d:"right",b=Te.Children.count(r)>0?"".concat(v,"--").concat(y):"",w=c===!0?"".concat(v,"--border"):"";return Te.createElement("button",$k({},f,{className:Mr(v,b,w,s)}),y==="left"&&r,a,y==="right"&&r)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function R_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R_=function(e){return typeof e}:R_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(t)}function FPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UPe(t,e,n){return e&&s6(t.prototype,e),n&&s6(t,n),t}function zPe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){zPe(t,i,n[i])})}return t}function vZ(t,e){return VPe(t)||HPe(t,e)||jPe()}function VPe(t){if(Array.isArray(t))return t}function HPe(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}function jPe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var o6=function(){},uF={},yZ={},GPe=null,_Z={mark:o6,measure:o6};try{typeof window<"u"&&(uF=window),typeof document<"u"&&(yZ=document),typeof MutationObserver<"u"&&(GPe=MutationObserver),typeof performance<"u"&&(_Z=performance)}catch{}var $Pe=uF.navigator||{},a6=$Pe.userAgent,l6=a6===void 0?"":a6,xM=uF,Ca=yZ,Kw=_Z;xM.document;var hF=!!Ca.documentElement&&!!Ca.head&&typeof Ca.addEventListener=="function"&&typeof Ca.createElement=="function";~l6.indexOf("MSIE")||~l6.indexOf("Trident/");var Dh="___FONT_AWESOME___",xZ="fa",bZ="svg-inline--fa",WPe="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var lR={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},wZ=xM.FontAwesomeConfig||{};function XPe(t){var e=Ca.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function qPe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Ca&&typeof Ca.querySelector=="function"){var KPe=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];KPe.forEach(function(t){var e=vZ(t,2),n=e[0],r=e[1],i=qPe(XPe(n));i!=null&&(wZ[r]=i)})}var YPe={familyPrefix:xZ,replacementClass:bZ,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Wk=ri({},YPe,wZ);Wk.autoReplaceSvg||(Wk.observeMutations=!1);var xl=ri({},Wk);xM.FontAwesomeConfig=xl;var Nh=xM||{};Nh[Dh]||(Nh[Dh]={});Nh[Dh].styles||(Nh[Dh].styles={});Nh[Dh].hooks||(Nh[Dh].hooks={});Nh[Dh].shims||(Nh[Dh].shims=[]);var cu=Nh[Dh],JPe=[],ZPe=function t(){Ca.removeEventListener("DOMContentLoaded",t),Xk=1,JPe.map(function(e){return e()})},Xk=!1;hF&&(Xk=(Ca.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ca.readyState),Xk||Ca.addEventListener("DOMContentLoaded",ZPe));var dF="pending",SZ="settled",mT="fulfilled",gT="rejected",QPe=function(){},AZ=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",eIe=typeof setImmediate>"u"?setTimeout:setImmediate,Y0=[],qk;function tIe(){for(var t=0;t<Y0.length;t++)Y0[t][0](Y0[t][1]);Y0=[],qk=!1}function vT(t,e){Y0.push([t,e]),qk||(qk=!0,eIe(tIe,0))}function nIe(t,e){function n(i){fF(e,i)}function r(i){Wx(e,i)}try{t(n,r)}catch(i){r(i)}}function EZ(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if(typeof i=="function"){n=mT;try{r=i(r)}catch(o){Wx(s,o)}}TZ(s,r)||(n===mT&&fF(s,r),n===gT&&Wx(s,r))}function TZ(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||R_(e)==="object")){var r=e.then;if(typeof r=="function")return r.call(e,function(i){n||(n=!0,e===i?CZ(t,i):fF(t,i))},function(i){n||(n=!0,Wx(t,i))}),!0}}catch(i){return n||Wx(t,i),!0}return!1}function fF(t,e){(t===e||!TZ(t,e))&&CZ(t,e)}function CZ(t,e){t._state===dF&&(t._state=SZ,t._data=e,vT(rIe,t))}function Wx(t,e){t._state===dF&&(t._state=SZ,t._data=e,vT(iIe,t))}function MZ(t){t._then=t._then.forEach(EZ)}function rIe(t){t._state=mT,MZ(t)}function iIe(t){t._state=gT,MZ(t),!t._handled&&AZ&&global.process.emit("unhandledRejection",t._data,t)}function sIe(t){global.process.emit("rejectionHandled",t)}function ac(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof ac))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],nIe(t,this)}ac.prototype={constructor:ac,_state:dF,_then:null,_data:void 0,_handled:!1,then:function(e,n){var r={owner:this,then:new this.constructor(QPe),fulfilled:e,rejected:n};return(n||e)&&!this._handled&&(this._handled=!0,this._state===gT&&AZ&&vT(sIe,this)),this._state===mT||this._state===gT?vT(EZ,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}};ac.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new ac(function(e,n){var r=[],i=0;function s(l){return i++,function(c){r[l]=c,--i||e(r)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),n):r[o]=a;i||e(r)})};ac.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new ac(function(e,n){for(var r=0,i;r<t.length;r++)i=t[r],i&&typeof i.then=="function"?i.then(e,n):e(i)})};ac.resolve=function(t){return t&&R_(t)==="object"&&t.constructor===ac?t:new ac(function(e){e(t)})};ac.reject=function(t){return new ac(function(e,n){n(t)})};var qg={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function oIe(t){if(!(!t||!hF)){var e=Ca.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ca.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Ca.head.insertBefore(e,r),t}}var aIe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function yT(){for(var t=12,e="";t-- >0;)e+=aIe[Math.random()*62|0];return e}function PZ(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lIe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(PZ(t[n]),'" ')},"").trim()}function IZ(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function RZ(t){return t.size!==qg.size||t.x!==qg.x||t.y!==qg.y||t.rotate!==qg.rotate||t.flipX||t.flipY}function LZ(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}var cR={x:0,y:0,width:"100%",height:"100%"};function c6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function cIe(t){return t.tag==="g"?t.children:[t]}function uIe(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,s=t.maskId,o=t.transform,a=r.width,l=r.icon,c=i.width,u=i.icon,d=LZ({transform:o,containerWidth:c,iconWidth:a}),f={tag:"rect",attributes:ri({},cR,{fill:"white"})},v=l.children?{children:l.children.map(c6)}:{},y={tag:"g",attributes:ri({},d.inner),children:[c6(ri({tag:l.tag,attributes:ri({},l.attributes,d.path)},v))]},b={tag:"g",attributes:ri({},d.outer),children:[y]},w="mask-".concat(s||yT()),_="clip-".concat(s||yT()),S={tag:"mask",attributes:ri({},cR,{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,b]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:cIe(u)},S]};return e.push(C,{tag:"rect",attributes:ri({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(w,")")},cR)}),{children:e,attributes:n}}function hIe(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,s=t.styles,o=IZ(s);if(o.length>0&&(n.style=o),RZ(i)){var a=LZ({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:ri({},a.outer),children:[{tag:"g",attributes:ri({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ri({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}function dIe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(RZ(o)&&n.found&&!r.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};i.style=IZ(ri({},s,{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function fIe(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(xl.familyPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ri({},i,{id:o}),children:r}]}]}function pIe(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,c=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,v=f===void 0?!1:f,y=r.found?r:n,b=y.width,w=y.height,_=i==="fak",S=_?"":"fa-w-".concat(Math.ceil(b/w*16)),C=[xl.replacementClass,s?"".concat(xl.familyPrefix,"-").concat(s):"",S].filter(function(F){return d.classes.indexOf(F)===-1}).filter(function(F){return F!==""||!!F}).concat(d.classes).join(" "),I={children:[],attributes:ri({},d.attributes,{"data-prefix":i,"data-icon":s,class:C,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(b," ").concat(w)})},z=_&&!~d.classes.indexOf("fa-fw")?{width:"".concat(b/w*16*.0625,"em")}:{};v&&(I.attributes[WPe]=""),l&&I.children.push({tag:"title",attributes:{id:I.attributes["aria-labelledby"]||"title-".concat(u||yT())},children:[l]});var N=ri({},I,{prefix:i,iconName:s,main:n,mask:r,maskId:c,transform:o,symbol:a,styles:ri({},z,d.styles)}),A=r.found&&n.found?uIe(N):hIe(N),W=A.children,U=A.attributes;return N.children=W,N.attributes=U,a?fIe(N):dIe(N)}var u6=function(){};xl.measurePerformance&&Kw&&Kw.mark&&Kw.measure;var mIe=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},uR=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?mIe(n,i):n,l,c,u;for(r===void 0?(l=1,u=e[s[0]]):(l=0,u=r);l<o;l++)c=s[l],u=a(u,e[c],c,e);return u};function kZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=Object.keys(e).reduce(function(o,a){var l=e[a],c=!!l.icon;return c?o[l.iconName]=l.icon:o[a]=l,o},{});typeof cu.hooks.addPack=="function"&&!i?cu.hooks.addPack(t,s):cu.styles[t]=ri({},cu.styles[t]||{},s),t==="fas"&&kZ("fa",e)}var h6=cu.styles,gIe=cu.shims,OZ=function(){var e=function(i){return uR(h6,function(s,o,a){return s[a]=uR(o,i,{}),s},{})};e(function(r,i,s){return i[3]&&(r[i[3]]=s),r}),e(function(r,i,s){var o=i[2];return r[s]=s,o.forEach(function(a){r[a]=s}),r});var n="far"in h6;uR(gIe,function(r,i){var s=i[0],o=i[1],a=i[2];return o==="far"&&!n&&(o="fas"),r[s]={prefix:o,iconName:a},r},{})};OZ();cu.styles;function d6(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function DZ(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?PZ(t):"<".concat(e," ").concat(lIe(r),">").concat(s.map(DZ).join(""),"</").concat(e,">")}var vIe=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n):n};function Kk(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=new Error().stack}Kk.prototype=Object.create(Error.prototype);Kk.prototype.constructor=Kk;var bM={fill:"currentColor"},NZ={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};ri({},bM,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var pF=ri({},NZ,{attributeName:"opacity"});ri({},bM,{cx:"256",cy:"364",r:"28"}),ri({},NZ,{attributeName:"r",values:"28;14;28;28;14;28;"}),ri({},pF,{values:"1;0;1;1;0;1;"});ri({},bM,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),ri({},pF,{values:"1;0;0;0;0;1;"});ri({},bM,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),ri({},pF,{values:"0;0;1;1;0;0;"});cu.styles;function f6(t){var e=t[0],n=t[1],r=t.slice(4),i=vZ(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(xl.familyPrefix,"-").concat(lR.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xl.familyPrefix,"-").concat(lR.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(xl.familyPrefix,"-").concat(lR.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}cu.styles;var yIe=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function _Ie(){var t=xZ,e=bZ,n=xl.familyPrefix,r=xl.replacementClass,i=yIe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var xIe=function(){function t(){FPe(this,t),this.definitions={}}return UPe(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=ri({},n.definitions[a]||{},o[a]),kZ(a,o[a]),OZ()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,c=o.icon;n[a]||(n[a]={}),n[a][l]=c}),n}}]),t}();function bIe(){xl.autoAddCss&&!m6&&(oIe(_Ie()),m6=!0)}function wIe(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return DZ(r)})}}),Object.defineProperty(t,"node",{get:function(){if(hF){var r=Ca.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function p6(t){var e=t.prefix,n=e===void 0?"fa":e,r=t.iconName;if(r)return d6(AIe.definitions,n,r)||d6(cu.styles,n,r)}function SIe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:p6(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:p6(i||{})),t(r,ri({},n,{mask:i}))}}var AIe=new xIe,m6=!1,Yk={transform:function(e){return vIe(e)}},EIe=SIe(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,r=n===void 0?qg:n,i=e.symbol,s=i===void 0?!1:i,o=e.mask,a=o===void 0?null:o,l=e.maskId,c=l===void 0?null:l,u=e.title,d=u===void 0?null:u,f=e.titleId,v=f===void 0?null:f,y=e.classes,b=y===void 0?[]:y,w=e.attributes,_=w===void 0?{}:w,S=e.styles,C=S===void 0?{}:S;if(t){var I=t.prefix,z=t.iconName,N=t.icon;return wIe(ri({type:"icon"},t),function(){return bIe(),xl.autoA11y&&(d?_["aria-labelledby"]="".concat(xl.replacementClass,"-title-").concat(v||yT()):(_["aria-hidden"]="true",_.focusable="false")),pIe({icons:{main:f6(N),mask:a?f6(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:I,iconName:z,transform:ri({},qg,r),symbol:s,title:d,maskId:c,titleId:v,extra:{attributes:_,styles:C,classes:b}})})}});function g6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(n),!0).forEach(function(r){Kg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _T(t){"@babel/helpers - typeof";return _T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_T(t)}function Kg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BZ(t,e){if(t==null)return{};var n=TIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jk(t){return CIe(t)||MIe(t)||PIe(t)||IIe()}function CIe(t){if(Array.isArray(t))return Zk(t)}function MIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PIe(t,e){if(t){if(typeof t=="string")return Zk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RIe(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,c=t.spinPulse,u=t.spinReverse,d=t.pulse,f=t.fixedWidth,v=t.inverse,y=t.border,b=t.listItem,w=t.flip,_=t.size,S=t.rotation,C=t.pull,I=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":f,"fa-inverse":v,"fa-border":y,"fa-li":b,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},Kg(e,"fa-".concat(_),typeof _<"u"&&_!==null),Kg(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),Kg(e,"fa-pull-".concat(C),typeof C<"u"&&C!==null),Kg(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(I).map(function(z){return I[z]?z:null}).filter(function(z){return z})}function LIe(t){return t=t-0,t===t}function FZ(t){return LIe(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var kIe=["style"];function OIe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function DIe(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=FZ(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[OIe(i)]=s:e[i]=s,e},{})}function UZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return UZ(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.attrs.className=u,delete e.attributes.class;break;case"style":l.attrs.style=DIe(u);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=u:l.attrs[FZ(c)]=u}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=BZ(n,kIe);return i.attrs.style=Fd(Fd({},i.attrs.style),o),t.apply(void 0,[e.tag,Fd(Fd({},i.attrs),a)].concat(Jk(r)))}var zZ=!1;try{zZ=!0}catch{}function NIe(){if(!zZ&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function v6(t){if(t&&_T(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Yk.icon)return Yk.icon(t);if(t===null)return null;if(t&&_T(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function hR(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Kg({},t,e):{}}var BIe=["forwardedRef"];function Ru(t){var e=t.forwardedRef,n=BZ(t,BIe),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,c=n.maskId,u=v6(r),d=hR("classes",[].concat(Jk(RIe(n)),Jk(o.split(" ")))),f=hR("transform",typeof n.transform=="string"?Yk.transform(n.transform):n.transform),v=hR("mask",v6(i)),y=EIe(u,Fd(Fd(Fd(Fd({},d),f),v),{},{symbol:s,title:a,titleId:l,maskId:c}));if(!y)return NIe("Could not find icon",u),null;var b=y.abstract,w={ref:e};return Object.keys(n).forEach(function(_){Ru.defaultProps.hasOwnProperty(_)||(w[_]=n[_])}),FIe(b[0],w)}Ru.displayName="FontAwesomeIcon";Ru.propTypes={beat:jt.bool,border:jt.bool,beatFade:jt.bool,bounce:jt.bool,className:jt.string,fade:jt.bool,flash:jt.bool,mask:jt.oneOfType([jt.object,jt.array,jt.string]),maskId:jt.string,fixedWidth:jt.bool,inverse:jt.bool,flip:jt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:jt.oneOfType([jt.object,jt.array,jt.string]),listItem:jt.bool,pull:jt.oneOf(["right","left"]),pulse:jt.bool,rotation:jt.oneOf([0,90,180,270]),shake:jt.bool,size:jt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:jt.bool,spinPulse:jt.bool,spinReverse:jt.bool,symbol:jt.oneOfType([jt.bool,jt.string]),title:jt.string,titleId:jt.string,transform:jt.oneOfType([jt.string,jt.object]),swapOpacity:jt.bool};Ru.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var FIe=UZ.bind(null,Te.createElement),VZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="arrow-up",r=448,i=512,s=[],o="f062",a="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faArrowUp=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})(VZ);var HZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="arrow-right",r=448,i=512,s=[],o="f061",a="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faArrowRight=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})(HZ);var jZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="arrow-down",r=448,i=512,s=[],o="f063",a="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faArrowDown=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})(jZ);var GZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="arrow-left",r=448,i=512,s=[],o="f060",a="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faArrowLeft=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})(GZ);var UIe=["className","direction","children"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qk.apply(this,arguments)}function zIe(t,e){if(t==null)return{};var n=VIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HIe=function(e){var n=e.className,r=n===void 0?"":n,i=e.direction,s=i===void 0?"right":i,o=e.children,a=zIe(e,UIe),l="".concat(Qn,"-button--arrow"),c=function(){if(s==="up")return VZ.faArrowUp;if(s==="right")return HZ.faArrowRight;if(s==="down")return jZ.faArrowDown;if(s==="left")return GZ.faArrowLeft}();return Te.createElement(cF,Qk({},a,{className:Mr(l,r),icon:Te.createElement(Ru,{icon:c})}),o)},$Z={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="ellipsis-v",r=192,i=512,s=[],o="f142",a="M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faEllipsisV=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})($Z);var WZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="paper-plane",r=512,i=512,s=[],o="f1d8",a="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faPaperPlane=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})(WZ);var jIe=["className","children"];function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eO.apply(this,arguments)}function GIe(t,e){if(t==null)return{};var n=$Ie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var WIe=function(e){var n=e.className,r=n===void 0?"":n,i=e.children,s=GIe(e,jIe),o="".concat(Qn,"-button--send");return Te.createElement(cF,eO({},s,{className:Mr(o,r),icon:Te.createElement(Ru,{icon:WZ.faPaperPlane})}),i)},XZ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e="fas",n="paperclip",r=448,i=512,s=[],o="f0c6",a="M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z";t.definition={prefix:e,iconName:n,icon:[r,i,s,o,a]},t.faPaperclip=t.definition,t.prefix=e,t.iconName=n,t.width=r,t.height=i,t.ligatures=s,t.unicode=o,t.svgPathData=a})(XZ);var XIe=["className","children"];function tO(){return tO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tO.apply(this,arguments)}function qIe(t,e){if(t==null)return{};var n=KIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var YIe=function(e){var n=e.className,r=n===void 0?"":n,i=e.children,s=qIe(e,XIe),o="".concat(Qn,"-button--attachment");return Te.createElement(cF,tO({},s,{className:Mr(o,r),icon:Te.createElement(Ru,{icon:XZ.faPaperclip})}),i)},JIe=["onClick","children","className"];function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nO.apply(this,arguments)}function ZIe(t,e){if(t==null)return{};var n=QIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var mF=function(e){var n=e.onClick,r=n===void 0?function(){}:n,i=e.children,s=i===void 0?void 0:i,o=e.className,a=ZIe(e,JIe),l="".concat(Qn,"-conversation-header__back");return Te.createElement("div",nO({},a,{className:Mr(l,o)}),typeof s<"u"?s:Te.createElement(HIe,{direction:"left",onClick:r}))};mF.displayName="ConversationHeader.Back";var eRe=["children","className"];function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rO.apply(this,arguments)}function tRe(t,e){if(t==null)return{};var n=nRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gF=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=tRe(e,eRe),o="".concat(Qn,"-conversation-header__actions");return Te.createElement("section",rO({},s,{className:Mr(o,i)}),r)};gF.displayName="ConversationHeader.Actions";var rRe=["userName","info","children","className"];function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iO.apply(this,arguments)}function iRe(t,e){if(t==null)return{};var n=sRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vF=function(e){var n=e.userName,r=n===void 0?"":n,i=e.info,s=i===void 0?"":i,o=e.children,a=o===void 0?void 0:o,l=e.className,c=iRe(e,rRe),u="".concat(Qn,"-conversation-header__content");return Te.createElement("div",iO({},c,{className:Mr(u,l)}),typeof a<"u"?a:Te.createElement(Te.Fragment,null,Te.createElement("div",{className:"".concat(Qn,"-conversation-header__user-name")},r),Te.createElement("div",{className:"".concat(Qn,"-conversation-header__info")},s)))};vF.displayName="ConversationHeader.Content";var oRe=["children","className"];function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sO.apply(this,arguments)}function aRe(t,e){return hRe(t)||uRe(t,e)||cRe(t,e)||lRe()}function lRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cRe(t,e){if(t){if(typeof t=="string")return y6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y6(t,e)}}function y6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function hRe(t){if(Array.isArray(t))return t}function dRe(t,e){if(t==null)return{};var n=fRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var a1=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=dRe(e,oRe),o="".concat(Qn,"-conversation-header"),a=o1(r,[mF,s1,gZ,vF,gF]),l=aRe(a,5),c=l[0],u=l[1],d=l[2],f=l[3],v=l[4];return Te.createElement("div",sO({},s,{className:Mr(o,i)}),c,u&&Te.createElement("div",{className:"".concat(o,"__avatar")},u),!u&&d&&Te.createElement("div",{className:"".concat(o,"__avatar")},d),f,v)};a1.displayName="ConversationHeader";a1.Back=mF;a1.Actions=gF;a1.Content=vF;/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function uu(t){return getComputedStyle(t)}function $a(t,e){for(var n in e){var r=e[n];typeof r=="number"&&(r=r+"px"),t.style[n]=r}return t}function Yw(t){var e=document.createElement("div");return e.className=t,e}var _6=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Ud(t,e){if(!_6)throw new Error("No element matching method supported");return _6.call(t,e)}function Yg(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function x6(t,e){return Array.prototype.filter.call(t.children,function(n){return Ud(n,e)})}var Ts={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},qZ={x:null,y:null};function KZ(t,e){var n=t.element.classList,r=Ts.state.scrolling(e);n.contains(r)?clearTimeout(qZ[e]):n.add(r)}function YZ(t,e){qZ[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(Ts.state.scrolling(e))},t.settings.scrollingThreshold)}function pRe(t,e){KZ(t,e),YZ(t,e)}var l1=function(e){this.element=e,this.handlers={}},JZ={isEmpty:{configurable:!0}};l1.prototype.bind=function(e,n){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(n);var r=["touchstart","wheel","touchmove"];r.indexOf(e)!==-1?this.element.addEventListener(e,n,{passive:!1}):this.element.addEventListener(e,n,!1)};l1.prototype.unbind=function(e,n){var r=this;this.handlers[e]=this.handlers[e].filter(function(i){return n&&i!==n?!0:(r.element.removeEventListener(e,i,!1),!1)})};l1.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};JZ.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(l1.prototype,JZ);var Ty=function(){this.eventElements=[]};Ty.prototype.eventElement=function(e){var n=this.eventElements.filter(function(r){return r.element===e})[0];return n||(n=new l1(e),this.eventElements.push(n)),n};Ty.prototype.bind=function(e,n,r){this.eventElement(e).bind(n,r)};Ty.prototype.unbind=function(e,n,r){var i=this.eventElement(e);i.unbind(n,r),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)};Ty.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};Ty.prototype.once=function(e,n,r){var i=this.eventElement(e),s=function o(a){i.unbind(n,o),r(a)};i.bind(n,s)};function Jw(t){if(typeof window.CustomEvent=="function")return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function xT(t,e,n,r,i,s){r===void 0&&(r=!0),i===void 0&&(i=!1);var o;if(e==="top")o=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")o=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");mRe(t,n,o,r,i,s)}function mRe(t,e,n,r,i,s){var o=n[0],a=n[1],l=n[2],c=n[3],u=n[4],d=n[5];r===void 0&&(r=!0),i===void 0&&(i=!1);var f=t.element;t.reach[c]=null;var v=s===!0?t[o]!==t[a]:!0;v&&f[l]<1&&(t.reach[c]="start"),v&&f[l]>t[o]-t[a]-1&&(t.reach[c]="end"),e&&(f.dispatchEvent(Jw("ps-scroll-"+c)),e<0?f.dispatchEvent(Jw("ps-scroll-"+u)):e>0&&f.dispatchEvent(Jw("ps-scroll-"+d)),r&&pRe(t,c)),t.reach[c]&&(e||i)&&f.dispatchEvent(Jw("ps-"+c+"-reach-"+t.reach[c]))}function Bi(t){return parseInt(t,10)||0}function gRe(t){return Ud(t,"input,[contenteditable]")||Ud(t,"select,[contenteditable]")||Ud(t,"textarea,[contenteditable]")||Ud(t,"button,[contenteditable]")}function vRe(t){var e=uu(t);return Bi(e.width)+Bi(e.paddingLeft)+Bi(e.paddingRight)+Bi(e.borderLeftWidth)+Bi(e.borderRightWidth)}var J0={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Bh(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.round(r.width),t.containerHeight=Math.round(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(x6(e,Ts.element.rail("x")).forEach(function(i){return Yg(i)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(x6(e,Ts.element.rail("y")).forEach(function(i){return Yg(i)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=b6(t,Bi(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=Bi((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=b6(t,Bi(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=Bi(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),yRe(e,t),t.scrollbarXActive?e.classList.add(Ts.state.active("x")):(e.classList.remove(Ts.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=t.isRtl===!0?t.contentWidth:0),t.scrollbarYActive?e.classList.add(Ts.state.active("y")):(e.classList.remove(Ts.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function b6(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function yRe(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r,$a(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft,$a(e.scrollbarYRail,i),$a(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),$a(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function _Re(t){t.element,t.event.bind(t.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,r=n>t.scrollbarYTop?1:-1;t.element.scrollTop+=r*t.containerHeight,Bh(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,r=n>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=r*t.containerWidth,Bh(t),e.stopPropagation()})}function xRe(t){w6(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),w6(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function w6(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=t.element,f=null,v=null,y=null;function b(S){S.touches&&S.touches[0]&&(S[i]=S.touches[0].pageY),d[l]=f+y*(S[i]-v),KZ(t,c),Bh(t),S.stopPropagation(),S.preventDefault()}function w(){YZ(t,c),t[u].classList.remove(Ts.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",b)}function _(S,C){f=d[l],C&&S.touches&&(S[i]=S.touches[0].pageY),v=S[i],y=(t[r]-t[n])/(t[s]-t[a]),C?t.event.bind(t.ownerDocument,"touchmove",b):(t.event.bind(t.ownerDocument,"mousemove",b),t.event.once(t.ownerDocument,"mouseup",w),S.preventDefault()),t[u].classList.add(Ts.state.clicking),S.stopPropagation()}t.event.bind(t[o],"mousedown",function(S){_(S)}),t.event.bind(t[o],"touchstart",function(S){_(S,!0)})}function bRe(t){var e=t.element,n=function(){return Ud(e,":hover")},r=function(){return Ud(t.scrollbarX,":focus")||Ud(t.scrollbarY,":focus")};function i(s,o){var a=Math.floor(e.scrollTop);if(s===0){if(!t.scrollbarYActive)return!1;if(a===0&&o>0||a>=t.contentHeight-t.containerHeight&&o<0)return!t.settings.wheelPropagation}var l=e.scrollLeft;if(o===0){if(!t.scrollbarXActive)return!1;if(l===0&&s<0||l>=t.contentWidth-t.containerWidth&&s>0)return!t.settings.wheelPropagation}return!0}t.event.bind(t.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!n()&&!r())){var o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(gRe(o))return}var a=0,l=0;switch(s.which){case 37:s.metaKey?a=-t.contentWidth:s.altKey?a=-t.containerWidth:a=-30;break;case 38:s.metaKey?l=t.contentHeight:s.altKey?l=t.containerHeight:l=30;break;case 39:s.metaKey?a=t.contentWidth:s.altKey?a=t.containerWidth:a=30;break;case 40:s.metaKey?l=-t.contentHeight:s.altKey?l=-t.containerHeight:l=-30;break;case 32:s.shiftKey?l=t.containerHeight:l=-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&a!==0||t.settings.suppressScrollY&&l!==0||(e.scrollTop-=l,e.scrollLeft+=a,Bh(t),i(a,l)&&s.preventDefault())}})}function wRe(t){var e=t.element;function n(o,a){var l=Math.floor(e.scrollTop),c=e.scrollTop===0,u=l+e.offsetHeight===e.scrollHeight,d=e.scrollLeft===0,f=e.scrollLeft+e.offsetWidth===e.scrollWidth,v;return Math.abs(a)>Math.abs(o)?v=c||u:v=d||f,v?!t.settings.wheelPropagation:!0}function r(o){var a=o.deltaX,l=-1*o.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*o.wheelDeltaX/6,l=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=o.wheelDelta),o.shiftKey?[-l,-a]:[a,l]}function i(o,a,l){if(!J0.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(o))return!1;for(var c=o;c&&c!==e;){if(c.classList.contains(Ts.element.consuming))return!0;var u=uu(c);if(l&&u.overflowY.match(/(scroll|auto)/)){var d=c.scrollHeight-c.clientHeight;if(d>0&&(c.scrollTop>0&&l<0||c.scrollTop<d&&l>0))return!0}if(a&&u.overflowX.match(/(scroll|auto)/)){var f=c.scrollWidth-c.clientWidth;if(f>0&&(c.scrollLeft>0&&a<0||c.scrollLeft<f&&a>0))return!0}c=c.parentNode}return!1}function s(o){var a=r(o),l=a[0],c=a[1];if(!i(o.target,l,c)){var u=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(c?e.scrollTop-=c*t.settings.wheelSpeed:e.scrollTop+=l*t.settings.wheelSpeed,u=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(l?e.scrollLeft+=l*t.settings.wheelSpeed:e.scrollLeft-=c*t.settings.wheelSpeed,u=!0):(e.scrollTop-=c*t.settings.wheelSpeed,e.scrollLeft+=l*t.settings.wheelSpeed),Bh(t),u=u||n(l,c),u&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?t.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&t.event.bind(e,"mousewheel",s)}function SRe(t){if(!J0.supportsTouch&&!J0.supportsIePointer)return;var e=t.element;function n(y,b){var w=Math.floor(e.scrollTop),_=Math.ceil(e.scrollLeft),S=Math.abs(y),C=Math.abs(b);if(!t.settings.wheelPropagation)return!0;if(C>S){if(t.settings.suppressScrollY)return!1;if(b>0)return w!==0;if(b<0)return w<t.contentHeight-t.containerHeight}else if(S>C){if(t.settings.suppressScrollX)return!1;if(y>0)return _!==0;if(b<0)return _<t.contentWidth-t.containerWidth}return!0}function r(y,b){e.scrollTop-=b,e.scrollLeft-=y,Bh(t)}var i={},s=0,o={},a=null;function l(y){return y.targetTouches?y.targetTouches[0]:y}function c(y){return y.pointerType&&y.pointerType==="pen"&&y.buttons===0?!1:!!(y.targetTouches&&y.targetTouches.length===1||y.pointerType&&y.pointerType!=="mouse"&&y.pointerType!==y.MSPOINTER_TYPE_MOUSE)}function u(y){if(c(y)){var b=l(y);i.pageX=b.pageX,i.pageY=b.pageY,s=new Date().getTime(),a!==null&&clearInterval(a)}}function d(y,b,w){if(!e.contains(y))return!1;for(var _=y;_&&_!==e;){if(_.classList.contains(Ts.element.consuming))return!0;var S=uu(_);if(w&&S.overflowY.match(/(scroll|auto)/)){var C=_.scrollHeight-_.clientHeight;if(C>0&&(_.scrollTop>0&&w<0||_.scrollTop<C&&w>0))return!0}if(b&&S.overflowX.match(/(scroll|auto)/)){var I=_.scrollWidth-_.clientWidth;if(I>0&&(_.scrollLeft>0&&b<0||_.scrollLeft<I&&b>0))return!0}_=_.parentNode}return!1}function f(y){if(c(y)){var b=l(y),w={pageX:b.pageX,pageY:b.pageY},_=w.pageX-i.pageX,S=w.pageY-i.pageY;if(d(y.target,_,S))return;r(_,S),i=w;var C=new Date().getTime(),I=C-s;I>0&&(o.x=_/I,o.y=S/I,s=C),y.cancelable&&n(_,S)&&y.preventDefault()}}function v(){t.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(t.isInitialized){clearInterval(a);return}if(!o.x&&!o.y){clearInterval(a);return}if(Math.abs(o.x)<.01&&Math.abs(o.y)<.01){clearInterval(a);return}r(o.x*30,o.y*30),o.x*=.8,o.y*=.8},10))}J0.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",v)):J0.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",v)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",v)))}var ARe=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},ERe={"click-rail":_Re,"drag-thumb":xRe,keyboard:bRe,wheel:wRe,touch:SRe},c1=function(e,n){var r=this;if(n===void 0&&(n={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(Ts.main),this.settings=ARe();for(var i in n)this.settings[i]=n[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(Ts.state.focus)},o=function(){return e.classList.remove(Ts.state.focus)};this.isRtl=uu(e).direction==="rtl",this.isRtl===!0&&e.classList.add(Ts.rtl),this.isNegativeScroll=function(){var c=e.scrollLeft,u=null;return e.scrollLeft=-1,u=e.scrollLeft<0,e.scrollLeft=c,u}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new Ty,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=Yw(Ts.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=Yw(Ts.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=uu(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Bi(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Bi(a.borderLeftWidth)+Bi(a.borderRightWidth),$a(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Bi(a.marginLeft)+Bi(a.marginRight),$a(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Yw(Ts.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=Yw(Ts.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=uu(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Bi(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?vRe(this.scrollbarY):null,this.railBorderYWidth=Bi(l.borderTopWidth)+Bi(l.borderBottomWidth),$a(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Bi(l.marginTop)+Bi(l.marginBottom),$a(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return ERe[c](r)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(c){return r.onScroll(c)}),Bh(this)};c1.prototype.update=function(e){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,$a(this.scrollbarXRail,{display:"block"}),$a(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Bi(uu(this.scrollbarXRail).marginLeft)+Bi(uu(this.scrollbarXRail).marginRight),this.railYMarginHeight=Bi(uu(this.scrollbarYRail).marginTop)+Bi(uu(this.scrollbarYRail).marginBottom),$a(this.scrollbarXRail,{display:"none"}),$a(this.scrollbarYRail,{display:"none"}),Bh(this),xT(this,"top",0,!1,!0,e),xT(this,"left",0,!1,!0,e),$a(this.scrollbarXRail,{display:""}),$a(this.scrollbarYRail,{display:""}))};c1.prototype.onScroll=function(e){this.isAlive&&(Bh(this),xT(this,"top",this.element.scrollTop-this.lastScrollTop),xT(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};c1.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),Yg(this.scrollbarX),Yg(this.scrollbarY),Yg(this.scrollbarXRail),Yg(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};c1.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}var TRe=["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"];function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oO.apply(this,arguments)}function CRe(t,e){if(t==null)return{};var n=MRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RRe(r.key),r)}}function IRe(t,e,n){return e&&S6(t.prototype,e),n&&S6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RRe(t){var e=LRe(t,"string");return Yv(e)=="symbol"?e:String(e)}function LRe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kRe(t,e,n){return e=bT(e),ORe(t,ZZ()?Reflect.construct(e,n||[],bT(t).constructor):e.apply(t,n))}function ORe(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QZ(t)}function ZZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZZ=function(){return!!t})()}function bT(t){return bT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bT(t)}function QZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aO(t,e)}function aO(t,e){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aO(t,e)}var jA={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(jA);var eQ=function(t){DRe(e,t);function e(n){var r;return PRe(this,e),r=kRe(this,e,[n]),r.handleRef=r.handleRef.bind(QZ(r)),r._handlerByEvent={},r}return IRe(e,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new c1(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(r){this._updateEventHook(r),this.updateScroll(),r.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var r=this;Object.keys(this._handlerByEvent).forEach(function(i){var s=r._handlerByEvent[i];s&&r._container.removeEventListener(i,s,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(jA).forEach(function(s){var o=r.props[jA[s]],a=i[jA[s]];if(o!==a){if(a){var l=r._handlerByEvent[s];r._container.removeEventListener(s,l,!1),r._handlerByEvent[s]=null}if(o){var c=function(){return o(r._container)};r._container.addEventListener(s,c,!1),r._handlerByEvent[s]=c}}})}},{key:"_updateClassName",value:function(){var r=this.props.className,i=this._container.className.split(" ").filter(function(s){return s.match(/^ps([-_].+|)$/)}).join(" ");this._container&&(this._container.className="scrollbar-container".concat(r?" ".concat(r):"").concat(i?" ".concat(i):""))}},{key:"updateScroll",value:function(){var r=this.props.onSync;typeof r=="function"?r(this._ps):this._ps.update()}},{key:"handleRef",value:function(r){var i,s;this._container=r,(i=(s=this.props).containerRef)===null||i===void 0||i.call(s,r)}},{key:"render",value:function(){var r=this.props;r.className;var i=r.style;r.option,r.options,r.containerRef,r.onScrollY,r.onScrollX,r.onScrollUp,r.onScrollDown,r.onScrollLeft,r.onScrollRight,r.onYReachStart,r.onYReachEnd,r.onXReachStart,r.onXReachEnd;var s=r.component;r.onSync;var o=r.children,a=CRe(r,TRe),l=typeof s>"u"?"div":s;return Te.createElement(l,oO({style:i,ref:this.handleRef},a),o)}}]),e}(G.Component);function Xx(t){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(t)}var NRe=["className","variant","children"];function lO(){return lO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lO.apply(this,arguments)}function BRe(t,e,n){return e=FRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FRe(t){var e=URe(t,"string");return Xx(e)=="symbol"?e:String(e)}function URe(t,e){if(Xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zRe(t,e){if(t==null)return{};var n=VRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var A6=function(e){var n=e.className,r=n===void 0?void 0:n,i=e.variant,s=i===void 0?"default":i,o=e.children,a=zRe(e,NRe),l="".concat(Qn,"-loader"),c=Te.Children.count(o)>0?"".concat(l,"--content"):"";return Te.createElement("div",lO({},a,{className:Mr(l,c,BRe({},"".concat(l,"--variant-").concat(s),s!=="default"),r),role:"status"}),o)};function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}var HRe=["className","children","blur","grayscale"];function cO(){return cO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cO.apply(this,arguments)}function E6(t,e,n){return e=jRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jRe(t){var e=GRe(t,"string");return qx(e)=="symbol"?e:String(e)}function GRe(t,e){if(qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Re(t,e){if(t==null)return{};var n=WRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XRe=function(e){var n=e.className,r=n===void 0?"":n,i=e.children,s=i===void 0?void 0:i,o=e.blur,a=o===void 0?!1:o,l=e.grayscale,c=l===void 0?!1:l,u=$Re(e,HRe),d="".concat(Qn,"-overlay"),f="".concat(d,"--blur"),v="".concat(d,"--grayscale");return Te.createElement("div",cO({},u,{className:Mr(d,E6({},f,a),E6({},v,c),r)}),Te.createElement("div",{className:"".concat(d,"__content")},s))},qRe=["sender","sentTime","children","className"];function uO(){return uO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uO.apply(this,arguments)}function KRe(t,e){if(t==null)return{};var n=YRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yF=function(e){var n=e.sender,r=n===void 0?"":n,i=e.sentTime,s=i===void 0?"":i,o=e.children,a=o===void 0?void 0:o,l=e.className,c=KRe(e,qRe),u="".concat(Qn,"-message__header");return Te.createElement("div",uO({},c,{className:Mr(u,l)}),typeof a<"u"?a:Te.createElement(Te.Fragment,null,Te.createElement("div",{className:"".concat(Qn,"-message__sender-name")},r),Te.createElement("div",{className:"".concat(Qn,"-message__sent-time")},s)))};yF.displayName="Message.Header";var JRe=["sender","sentTime","children","className"];function hO(){return hO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hO.apply(this,arguments)}function ZRe(t,e){if(t==null)return{};var n=QRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QRe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _F=function(e){var n=e.sender,r=n===void 0?"":n,i=e.sentTime,s=i===void 0?"":i,o=e.children,a=o===void 0?void 0:o,l=e.className,c=ZRe(e,JRe),u="".concat(Qn,"-message__footer");return Te.createElement("div",hO({},c,{className:Mr(u,l)}),typeof a<"u"?a:Te.createElement(Te.Fragment,null,Te.createElement("div",{className:"".concat(Qn,"-message__sender-name")},r),Te.createElement("div",{className:"".concat(Qn,"-message__sent-time")},s)))};_F.displayName="Message.Footer";var xF=function(e){var n=e.children,r=e.className,i="".concat(Qn,"-message__custom-content");return Te.createElement("div",{className:Mr(i,r)},n)};xF.displayName="Message.CustomContent";var wT=function(e){var n=e.src,r=e.width,i=e.height,s=e.alt,o=e.className,a="".concat(Qn,"-message__image-content"),l={width:typeof r=="number"?"".concat(r,"px"):typeof r=="string"?r:void 0,height:typeof i=="number"?"".concat(i,"px"):typeof i=="string"?i:void 0};return Te.createElement("div",{className:Mr(a,o)},Te.createElement("img",{src:n,style:l,alt:s}))};wT.displayName="Message.ImageContent";var ST=function(e){var n=e.html,r=e.className,i="".concat(Qn,"-message__html-content"),s=function(){return{__html:n}};return Te.createElement("div",{className:Mr(i,r),dangerouslySetInnerHTML:s()})};ST.displayName="Message.HtmlContent";var AT=function(e){var n=e.text,r=e.className,i=e.children,s="".concat(Qn,"-message__text-content"),o=i??n;return Te.createElement("div",{className:Mr(s,r)},o)};AT.displayName="Message.TextContent";var e2e=["model","avatarSpacer","avatarPosition","type","payload","children","className"];function dO(){return dO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dO.apply(this,arguments)}function T6(t,e,n){return e=t2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t2e(t){var e=n2e(t,"string");return Jv(e)=="symbol"?e:String(e)}function n2e(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function r2e(t,e){return a2e(t)||o2e(t,e)||s2e(t,e)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2e(t,e){if(t){if(typeof t=="string")return C6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C6(t,e)}}function C6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function a2e(t){if(Array.isArray(t))return t}function l2e(t,e){if(t==null)return{};var n=c2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var If=function(e){var n,r,i=e.model,s=i.message,o=s===void 0?"":s,a=i.sentTime,l=a===void 0?"":a,c=i.sender,u=c===void 0?"":c,d=i.direction,f=d===void 0?1:d,v=i.position,y=i.type,b=i.payload,w=e.avatarSpacer,_=w===void 0?!1:w,S=e.avatarPosition,C=S===void 0?void 0:S,I=e.type,z=I===void 0?"html":I,N=e.payload,A=e.children,W=e.className,U=l2e(e,e2e),F="".concat(Qn,"-message"),ee=o1(A,[s1,yF,_F,ST,AT,wT,xF]),se=r2e(ee,7),ne=se[0],me=se[1],be=se[2],Se=se[3],Ue=se[4],J=se[5],fe=se[6],re=function(){if(f===0||f==="incoming")return"".concat(F,"--incoming");if(f===1||f==="outgoing")return"".concat(F,"--outgoing")}(),Ce=function(Re){var qe="".concat(F,"--avatar-");if(Re===0||Re==="top-left"||Re==="tl")return"".concat(qe,"tl");if(Re===1||Re==="top-right"||Re==="tr")return"".concat(qe,"tr");if(Re===2||Re==="bottom-right"||Re==="br")return"".concat(qe,"br");if(Re===3||Re==="bottom-left"||Re==="bl")return"".concat(qe,"bl");if(Re===4||Re==="center-left"||Re==="cl")return"".concat(qe,"cl");if(Re===5||Re==="center-right"||Re==="cr")return"".concat(qe,"cr")}(C),ze=function(Re){var qe="".concat(Qn,"-message--");if(Re==="single"||Re===0)return"".concat(qe,"single");if(Re==="first"||Re===1)return"".concat(qe,"first");if(Re==="normal"||Re===2)return"";if(Re==="last"||Re===3)return"".concat(qe,"last")}(v),tt=function(){return(u==null?void 0:u.length)>0&&(l==null?void 0:l.length)>0?"".concat(u,": ").concat(l):(u==null?void 0:u.length)>0&&(typeof l>"u"||(l==null?void 0:l.length)===0)?u:null}(),Ie=(n=(r=Se??Ue)!==null&&r!==void 0?r:J)!==null&&n!==void 0?n:fe,Xe=Ie??function(){var Re=y??z,qe=b??o,Ot=qe??N,ln=Jv(Ot)==="object"?pZ(Ot):"";if(Re==="html"&&ln!=="Message.CustomContent")return Te.createElement(ST,{html:Ot});if(Re==="text")return Te.createElement(AT,{text:Ot});if(Re==="image")return Te.createElement(wT,Ot);if(Re==="custom"||ln==="Message.CustomContent")return Ot}();return Te.createElement("section",dO({},U,{"aria-label":tt,className:Mr(F,re,T6({},"".concat(F,"--avatar-spacer"),_),ze,Ce,W)},T6({},"data-".concat(Qn,"-message"),"")),typeof ne<"u"&&Te.createElement("div",{className:"".concat(F,"__avatar")},ne),Te.createElement("div",{className:"".concat(F,"__content-wrapper")},me,Te.createElement("div",{className:"".concat(F,"__content")},Xe),be))};If.Header=yF;If.HtmlContent=ST;If.TextContent=AT;If.ImageContent=wT;If.CustomContent=xF;If.Footer=_F;var u2e=["children","className"];function fO(){return fO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fO.apply(this,arguments)}function h2e(t,e){if(t==null)return{};var n=d2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bF=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=h2e(e,u2e),o="".concat(Qn,"-message-group__header");return Te.createElement("div",fO({},s,{className:Mr(o,i)}),r)};bF.displayName="MessageGroup.Header";var f2e=["children","className"];function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pO.apply(this,arguments)}function p2e(t,e){if(t==null)return{};var n=m2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wF=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=p2e(e,f2e),o="".concat(Qn,"-message-group__footer");return Te.createElement("div",pO({},s,{className:Mr(o,i)}),r)};wF.displayName="MessageGroup.Footer";var g2e=["children","className"];function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO.apply(this,arguments)}function v2e(t,e){if(t==null)return{};var n=y2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var SF=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=v2e(e,g2e),o="".concat(Qn,"-message-group");return Te.createElement("div",mO({},s,{className:Mr("".concat(o,"__messages"),i)}),r)};SF.displayName="MessageGroup.Messages";function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}var _2e=["direction","avatarPosition","sender","sentTime","children","className"];function gO(){return gO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gO.apply(this,arguments)}function x2e(t,e,n){return e=b2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b2e(t){var e=w2e(t,"string");return Kx(e)=="symbol"?e:String(e)}function w2e(t,e){if(Kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S2e(t,e){return C2e(t)||T2e(t,e)||E2e(t,e)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(t,e){if(t){if(typeof t=="string")return M6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M6(t,e)}}function M6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function C2e(t){if(Array.isArray(t))return t}function M2e(t,e){if(t==null)return{};var n=P2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wM=function(e){var n=e.direction,r=n===void 0?"incoming":n,i=e.avatarPosition,s=i===void 0?void 0:i,o=e.sender,a=o===void 0?"":o,l=e.sentTime,c=l===void 0?"":l,u=e.children,d=e.className,f=M2e(e,_2e),v="".concat(Qn,"-message-group"),y=function(){if(r===0||r==="incoming")return"".concat(v,"--incoming");if(r===1||r==="outgoing")return"".concat(v,"--outgoing")}(),b=function(){var A="".concat(v,"--avatar-");if(typeof s=="string"&&(s==="tl"||s==="top-left"||s==="tr"||s==="top-right"||s==="bl"||s==="bottom-right"||s==="br"||s==="bottom-right"||s==="cl"||s==="center-left"||s==="cr"||s==="center-right"))return"".concat(A).concat(s)}(),w=o1(u,[s1,bF,wF,SF]),_=S2e(w,4),S=_[0],C=_[1],I=_[2],z=_[3],N=function(){return a.length>0&&c.length>0?"".concat(a,": ").concat(c):a.length>0&&c.length===0?a:null}();return Te.createElement("section",gO({"aria-label":N},f,{className:Mr(v,y,b,d)},x2e({},"data-".concat(Qn,"-message-group"),"")),typeof S<"u"&&Te.createElement("div",{className:"".concat(v,"__avatar")},S),Te.createElement("div",{className:"".concat(v,"__content")},C,z,I))};wM.Header=bF;wM.Footer=wF;wM.Messages=SF;var I2e=["content","as","children","className"];function vO(){return vO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vO.apply(this,arguments)}function R2e(t,e){if(t==null)return{};var n=L2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var k2e=function(e){var n=e.content,r=n===void 0?void 0:n,i=e.as,s=i===void 0?"div":i,o=e.children,a=o===void 0?void 0:o,l=e.className,c=R2e(e,I2e),u="".concat(Qn,"-message-separator"),d=function(){return typeof s=="string"&&s.length>0?s:"div"}();return Te.createElement(d,vO({},c,{className:Mr(u,l)}),RPe(a)===!0?r:a)},O2e=["className","children"];function yO(){return yO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yO.apply(this,arguments)}function D2e(t,e){if(t==null)return{};var n=N2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var SM=function(e){var n=e.className,r=e.children,i=D2e(e,O2e);return Te.createElement("div",yO({},i,{className:n}),r)};SM.displayName="MessageList.Content";var B2e=["children","typingIndicator","loading","loadingMore","loadingMorePosition","onYReachStart","onYReachEnd","className","disableOnYReachWhenNoScroll","scrollBehavior","autoScrollToBottom","autoScrollToBottomOnMount"];function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function F2e(t,e){return H2e(t)||V2e(t,e)||z2e(t,e)||U2e()}function U2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2e(t,e){if(t){if(typeof t=="string")return P6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P6(t,e)}}function P6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function H2e(t){if(Array.isArray(t))return t}function j2e(t,e){if(t==null)return{};var n=G2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nQ(r.key),r)}}function W2e(t,e,n){return e&&I6(t.prototype,e),n&&I6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X2e(t,e,n){return e=ET(e),q2e(t,tQ()?Reflect.construct(e,n||[],ET(t).constructor):e.apply(t,n))}function q2e(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _g(t)}function tQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!t})()}function ET(t){return ET=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ET(t)}function _g(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}function _O(t,e){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_O(t,e)}function Wf(t,e,n){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=Y2e(t,"string");return Zv(e)=="symbol"?e:String(e)}function Y2e(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AF=function(t){K2e(e,t);function e(n){var r;return $2e(this,e),r=X2e(this,e,[n]),Wf(_g(r),"handleResize",function(){r.containerRef.current.clientHeight<r.lastClientHeight&&r.scrollToEnd(r.props.scrollBehavior),r.scrollRef.current.updateScroll()}),Wf(_g(r),"handleContainerResize",function(){r.resizeTicking===!1&&(window.requestAnimationFrame(function(){var i=r.containerRef.current;if(i){var s=i.clientHeight,o=s-r.lastClientHeight;o>=1?r.preventScrollTop===!1&&(i.scrollTop=Math.round(i.scrollTop)-o):i.scrollTop=i.scrollTop-o,r.lastClientHeight=i.clientHeight,r.scrollRef.current.updateScroll()}r.resizeTicking=!1}),r.resizeTicking=!0)}),Wf(_g(r),"isSticked",function(){var i=r.containerRef.current;return i.scrollHeight===Math.round(i.scrollTop+i.clientHeight)}),Wf(_g(r),"handleScroll",function(){r.scrollTicking===!1&&(window.requestAnimationFrame(function(){r.noScroll===!1?r.preventScrollTop=r.isSticked():r.noScroll=!1,r.scrollTicking=!1}),r.scrollTicking=!0)}),Wf(_g(r),"getLastMessageOrGroup",function(){var i=r.containerRef.current.querySelector("[data-".concat(Qn,"-message-list]>[data-").concat(Qn,"-message]:last-of-type,[data-").concat(Qn,"-message-list]>[data-").concat(Qn,"-message-group]:last-of-type")),s=i==null?void 0:i.querySelector("[data-".concat(Qn,"-message]:last-of-type"));return{lastElement:i,lastMessageInGroup:s}}),r.scrollPointRef=Te.createRef(),r.containerRef=Te.createRef(),r.scrollRef=Te.createRef(),r.lastClientHeight=0,r.preventScrollTop=!1,r.resizeObserver=void 0,r.scrollTicking=!1,r.resizeTicking=!1,r.noScroll=void 0,r}return W2e(e,[{key:"getSnapshotBeforeUpdate",value:function(){var r=this.containerRef.current,i=Math.round(r.scrollTop+r.clientHeight),s=r.scrollHeight===i||r.scrollHeight+1===i||r.scrollHeight-1===i;return{sticky:s,clientHeight:r.clientHeight,scrollHeight:r.scrollHeight,lastMessageOrGroup:this.getLastMessageOrGroup(),diff:r.scrollHeight-r.scrollTop}}},{key:"componentDidMount",value:function(){this.props.autoScrollToBottomOnMount===!0&&this.scrollToEnd(this.props.scrollBehavior),this.lastClientHeight=this.containerRef.current.clientHeight,window.addEventListener("resize",this.handleResize),typeof window.ResizeObserver=="function"&&(this.resizeObserver=new ResizeObserver(this.handleContainerResize),this.resizeObserver.observe(this.containerRef.current)),this.containerRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(r,i,s){var o=this.props.autoScrollToBottom;if(typeof s<"u"){var a=this.containerRef.current,l=this.getLastMessageOrGroup(),c=l.lastElement,u=l.lastMessageInGroup;if(c===s.lastMessageOrGroup.lastElement&&(typeof u>"u"||u===s.lastMessageOrGroup.lastMessageInGroup)&&(a.scrollTop=a.scrollHeight-s.diff+(this.lastClientHeight-a.clientHeight)),s.sticky===!0)o===!0&&this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0;else if(s.clientHeight<this.lastClientHeight){var d=a.scrollTop+this.lastClientHeight;a.scrollHeight===d||a.scrollHeight+1===d||a.scrollHeight-1===d?o===!0&&(this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0):this.preventScrollTop=!1}else this.preventScrollTop=!1,c===s.lastMessageOrGroup.lastElement&&(typeof u>"u"||u===s.lastMessageOrGroup.lastMessageInGroup)&&a.scrollTop===0&&a.scrollHeight>s.scrollHeight&&(a.scrollTop=a.scrollHeight-s.scrollHeight);this.lastClientHeight=s.clientHeight}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),typeof this.resizeObserver<"u"&&this.resizeObserver.disconnect(),this.containerRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToEnd",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollBehavior,i=this.containerRef.current,s=this.scrollPointRef.current,o=i.getBoundingClientRect(),a=s.getBoundingClientRect(),l=a.top+i.scrollTop-o.top;i.scrollBy?i.scrollBy({top:l,behavior:r}):i.scrollTop=l,this.lastClientHeight=i.clientHeight,this.noScroll=!0}},{key:"render",value:function(){var r=this,i=this.props,s=i.children,o=i.typingIndicator,a=i.loading,l=i.loadingMore,c=i.loadingMorePosition,u=i.onYReachStart,d=i.onYReachEnd,f=i.className,v=i.disableOnYReachWhenNoScroll;i.scrollBehavior,i.autoScrollToBottom,i.autoScrollToBottomOnMount;var y=j2e(i,B2e),b="".concat(Qn,"-message-list"),w=o1(s,[SM]),_=F2e(w,1),S=_[0];return Te.createElement("div",Yx({},y,{className:Mr(b,f)}),l&&Te.createElement("div",{className:Mr("".concat(b,"__loading-more"),Wf({},"".concat(b,"__loading-more--bottom"),c==="bottom"))},Te.createElement(A6,null)),a&&Te.createElement(XRe,null,Te.createElement(A6,null)),Te.createElement(eQ,Yx({onYReachStart:u,onYReachEnd:d,onSync:function(I){return I.update(v)},className:"".concat(b,"__scroll-wrapper"),ref:this.scrollRef,containerRef:function(I){return r.containerRef.current=I},options:{suppressScrollX:!0}},Wf({},"data-".concat(Qn,"-message-list"),""),{style:{overscrollBehaviorY:"none",overflowAnchor:"auto",touchAction:"none"}}),S||s,Te.createElement("div",{className:"".concat(b,"__scroll-to"),ref:this.scrollPointRef})),typeof o<"u"&&Te.createElement("div",{className:"".concat(b,"__typing-indicator-container")},o))}}]),e}(Te.Component);AF.displayName="MessageList";function J2e(t,e){var n=G.useRef(),r=function(s){return n.current.scrollToEnd(s)};return G.useImperativeHandle(e,function(){return{scrollToBottom:r}}),Te.createElement(AF,Yx({ref:n},t))}var Cy=G.forwardRef(J2e);Cy.propTypes={children:mZ([If,wM,k2e,SM]),typingIndicator:jt.node,loading:jt.bool,loadingMore:jt.bool,loadingMorePosition:jt.oneOf(["top","bottom"]),onYReachStart:jt.func,onYReachEnd:jt.func,disableOnYReachWhenNoScroll:jt.bool,autoScrollToBottom:jt.bool,autoScrollToBottomOnMount:jt.bool,scrollBehavior:jt.oneOf(["auto","smooth"]),className:jt.string};Cy.defaultProps={typingIndicator:void 0,loading:!1,loadingMore:!1,loadingMorePosition:"top",disableOnYReachWhenNoScroll:!1,autoScrollToBottom:!0,autoScrollToBottomOnMount:!0,scrollBehavior:"auto"};AF.defaultProps=Cy.defaultProps;Cy.Content=SM;function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Z2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iQ(r.key),r)}}function Q2e(t,e,n){return e&&R6(t.prototype,e),n&&R6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eLe(t,e,n){return e=TT(e),tLe(t,rQ()?Reflect.construct(e,n||[],TT(t).constructor):e.apply(t,n))}function tLe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dp(t)}function rQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!t})()}function TT(t){return TT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TT(t)}function dp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xO(t,e)}function xO(t,e){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xO(t,e)}function dR(t,e,n){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t){var e=rLe(t,"string");return Qv(e)=="symbol"?e:String(e)}function rLe(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iLe=function(e,n){var r=document.activeElement===e,i=document.createTextNode("");if(e.appendChild(i),i!==null&&i.nodeValue!==null&&(r||n)){var s=window.getSelection();if(s!==null){var o=document.createRange();o.setStart(i,i.nodeValue.length),o.collapse(!0),s.removeAllRanges(),s.addRange(o)}}},sLe=function(t){nLe(e,t);function e(n){var r;return Z2e(this,e),r=eLe(this,e,[n]),dR(dp(r),"innerHTML",function(){var i=dp(r),s=i.props.value;return{__html:typeof s<"u"?s:""}}),dR(dp(r),"handleKeyPress",function(i){var s=dp(r),o=s.props.onKeyPress;o==null||o(i)}),dR(dp(r),"handleInput",function(i){var s=dp(r),o=s.props.onChange,a=i.target;o==null||o(a.innerHTML,a.textContent,a.innerText)}),r.msgRef=Te.createRef(),r}return Q2e(e,[{key:"focus",value:function(){typeof this.msgRef.current<"u"&&this.msgRef.current.focus()}},{key:"componentDidMount",value:function(){this.props.autoFocus===!0&&this.msgRef.current.focus()}},{key:"shouldComponentUpdate",value:function(r){var i=this.msgRef,s=this.props,o=s.placeholder,a=s.disabled,l=s.activateAfterChange;return typeof i.current>"u"||r.value!==i.current.innerHTML?!0:o!==r.placeholder||a!==r.disabled||l!==r.activateAfterChange}},{key:"componentDidUpdate",value:function(){var r=this.msgRef,i=this.props,s=i.value,o=i.activateAfterChange;s!==r.current.innerHTML&&(r.current.innerHTML=typeof s=="string"?s:""),iLe(r.current,o)}},{key:"render",value:function(){var r=this.msgRef,i=this.handleInput,s=this.handleKeyPress,o=this.innerHTML,a=this.props,l=a.placeholder,c=a.disabled,u=a.className,d=typeof l=="string"?l:"";return Te.createElement("div",{ref:r,className:u,contentEditable:c===!1,disabled:c,"data-placeholder":d,onInput:i,onKeyPress:s,dangerouslySetInnerHTML:o()})}}]),e}(G.Component);function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}var oLe=["fancyScroll","children","forwardedRef"],aLe=["value","onSend","onChange","autoFocus","placeholder","fancyScroll","className","activateAfterChange","disabled","sendDisabled","sendOnReturnDisabled","attachDisabled","sendButton","attachButton","onAttachClick"];function lLe(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bO(t,e){return dLe(t)||hLe(t,e)||uLe(t,e)||cLe()}function cLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uLe(t,e){if(t){if(typeof t=="string")return L6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L6(t,e)}}function L6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function dLe(t){if(Array.isArray(t))return t}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function sQ(t,e){if(t==null)return{};var n=fLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fLe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oQ(r.key),r)}}function mLe(t,e,n){return e&&k6(t.prototype,e),n&&k6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oQ(t){var e=gLe(t,"string");return ey(e)=="symbol"?e:String(e)}function gLe(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vLe(t,e,n){return e=CT(e),yLe(t,aQ()?Reflect.construct(e,n||[],CT(t).constructor):e.apply(t,n))}function yLe(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Le(t)}function _Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aQ=function(){return!!t})()}function CT(t){return CT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CT(t)}function xLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wO(t,e)}function wO(t,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(t,e)}function bLe(){var t=function(e){xLe(n,e);function n(){return pLe(this,n),vLe(this,n,arguments)}return mLe(n,[{key:"render",value:function(){var i=this.props,s=i.fancyScroll,o=i.children,a=i.forwardedRef,l=sQ(i,oLe);return Te.createElement(Te.Fragment,null,s===!0&&Te.createElement(eQ,bv({ref:function(u){return a.current=u}},l,{options:{suppressScrollX:!0}}),o),s===!1&&Te.createElement("div",bv({ref:a},l),o))}}]),n}(G.Component);return Te.forwardRef(function(e,n){return Te.createElement(t,bv({forwardedRef:n},e))})}var wLe=bLe(),O6=function(e,n){var r=typeof e<"u"?e:n,i=G.useState(r),s=bO(i,2),o=s[0],a=s[1],l=typeof e<"u"?e:o;return[l,function(c){a(c)}]};function SLe(t,e){var n=t.value,r=n===void 0?void 0:n,i=t.onSend,s=i===void 0?HA:i,o=t.onChange,a=o===void 0?HA:o,l=t.autoFocus,c=l===void 0?!1:l,u=t.placeholder,d=u===void 0?"":u,f=t.fancyScroll,v=f===void 0?!0:f,y=t.className,b=t.activateAfterChange,w=b===void 0?!1:b,_=t.disabled,S=_===void 0?!1:_,C=t.sendDisabled,I=t.sendOnReturnDisabled,z=I===void 0?!1:I,N=t.attachDisabled,A=N===void 0?!1:N,W=t.sendButton,U=W===void 0?!0:W,F=t.attachButton,ee=F===void 0?!0:F,se=t.onAttachClick,ne=se===void 0?HA:se,me=sQ(t,aLe),be=G.useRef(),Se=G.useRef(),Ue=O6(r,""),J=bO(Ue,2),fe=J[0],re=J[1],Ce=O6(C,!0),ze=bO(Ce,2),tt=ze[0],Ie=ze[1],Xe=function(){typeof Se.current<"u"&&Se.current.focus()};G.useImperativeHandle(e,function(){return{focus:Xe}}),G.useEffect(function(){c===!0&&Xe()},[]),G.useEffect(function(){typeof be.current.updateScroll=="function"&&be.current.updateScroll()});var Re=function(){var rt=Se.current.msgRef.current;return[rt.textContent,rt.innerText,rt.cloneNode(!0).childNodes]},qe=function(){if(fe.length>0){r===void 0&&re(""),typeof C>"u"&&Ie(!0);var rt=Re();s(fe,rt[0],rt[1],rt[2])}},Ot=function(rt){rt.key==="Enter"&&rt.shiftKey===!1&&z===!1&&(rt.preventDefault(),qe())},ln=function(rt,lt,bt){re(rt),typeof C>"u"&&Ie(lt.length===0),typeof be.current.updateScroll=="function"&&be.current.updateScroll();var mt=Re();a(rt,lt,bt,mt[2])},Me="".concat(Qn,"-message-input"),rn=typeof d=="string"?d:"";return Te.createElement("div",bv({},me,{className:Mr(Me,lLe({},"".concat(Me,"--disabled"),S),y)}),ee===!0&&Te.createElement("div",{className:"".concat(Me,"__tools")},Te.createElement(YIe,{onClick:ne,disabled:S===!0||A===!0})),Te.createElement("div",{className:"".concat(Me,"__content-editor-wrapper")},Te.createElement(wLe,{fancyScroll:v,ref:be,className:"".concat(Me,"__content-editor-container")},Te.createElement(sLe,{ref:Se,className:"".concat(Me,"__content-editor"),disabled:S,placeholder:rn,onKeyPress:Ot,onChange:ln,activateAfterChange:w,value:fe}))),U===!0&&Te.createElement("div",{className:"".concat(Me,"__tools")},Te.createElement(WIe,{onClick:qe,disabled:S===!0||tt===!0})))}var AM=G.forwardRef(SLe);AM.displayName="MessageInput";AM.propTypes={value:jt.string,placeholder:jt.string,disabled:jt.bool,sendOnReturnDisabled:jt.bool,sendDisabled:jt.bool,fancyScroll:jt.bool,activateAfterChange:jt.bool,autoFocus:jt.bool,onChange:jt.func,onSend:jt.func,className:jt.string,sendButton:jt.bool,attachButton:jt.bool,attachDisabled:jt.bool,onAttachClick:jt.func};var ALe=["className","children"];function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SO.apply(this,arguments)}function ELe(t,e){if(t==null)return{};var n=TLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TLe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lQ=function(e){var n=e.className,r=e.children,i=ELe(e,ALe),s="".concat(Qn,"-input-toolbox");return Te.createElement("div",SO({},i,{className:Mr(s,n)}),r)};lQ.displayName="InputToolbox";var CLe=["children","className"];function AO(){return AO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AO.apply(this,arguments)}function MLe(t,e){return LLe(t)||RLe(t,e)||ILe(t,e)||PLe()}function PLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ILe(t,e){if(t){if(typeof t=="string")return D6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function LLe(t){if(Array.isArray(t))return t}function kLe(t,e){if(t==null)return{};var n=OLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OLe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DLe=function(e){var n=e.children,r=n===void 0?void 0:n,i=e.className,s=kLe(e,CLe),o="".concat(Qn,"-chat-container"),a=o1(r,[a1,Cy,AM,lQ]),l=MLe(a,4),c=l[0],u=l[1],d=l[2],f=l[3];return Te.createElement("div",AO({},s,{className:Mr(o,i)}),c,u,d,f)},Wp="".concat(Qn,"-conversation");function Jx(t){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(t)}var NLe=["children","className","visible"];function EO(){return EO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EO.apply(this,arguments)}function BLe(t,e,n){return e=FLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FLe(t){var e=ULe(t,"string");return Jx(e)=="symbol"?e:String(e)}function ULe(t,e){if(Jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zLe(t,e){if(t==null)return{};var n=VLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VLe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HLe=function(e){var n=e.children,r=e.className,i=e.visible,s=zLe(e,NLe);return Te.createElement("div",EO({},s,{className:Mr("".concat(Wp,"__operations"),BLe({},"".concat(Wp,"__operations--visible"),i),r)}),Te.Children.count(n)>0?n:Te.createElement(Ru,{icon:$Z.faEllipsisV}))};HLe.displayName="Conversation.Operations";var jLe=["lastSenderName","info","name","children","className"];function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TO.apply(this,arguments)}function CO(t){"@babel/helpers - typeof";return CO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CO(t)}function GLe(t,e){if(t==null)return{};var n=$Le(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Le(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var WLe=function(e){var n=e.name;return Te.createElement(Te.Fragment,null,Te.createElement("div",{className:"".concat(Wp,"__last-sender")},n),":")},XLe=function(e){var n=e.info;return Te.createElement("div",{className:"".concat(Wp,"__info-content")},n)},qLe=function(e){var n=e.lastSenderName,r=e.info,i=e.name,s=e.children,o=e.className,a=GLe(e,jLe),l=CO(n);return Te.createElement("div",TO({},a,{className:Mr("".concat(Wp,"__content"),o)}),Te.Children.count(s)>0?s:Te.createElement(Te.Fragment,null,Te.createElement("div",{className:"".concat(Wp,"__name")},i),Te.createElement("div",{className:"".concat(Wp,"__info")},l!=="undefined"?Te.createElement(Te.Fragment,null,l==="string"?Te.createElement(WLe,{name:n}):n," "):null,typeof r<"u"&&Te.createElement(XLe,{info:r}))))};qLe.displayName="Conversation.Content";function Zx(t){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(t)}var KLe=["responsive","children","className"];function MO(){return MO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MO.apply(this,arguments)}function YLe(t,e,n){return e=JLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JLe(t){var e=ZLe(t,"string");return Zx(e)=="symbol"?e:String(e)}function ZLe(t,e){if(Zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QLe(t,e){if(t==null)return{};var n=eke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tke=function(e){var n=e.responsive,r=n===void 0?!1:n,i=e.children,s=i===void 0?void 0:i,o=e.className,a=QLe(e,KLe),l="".concat(Qn,"-main-container");return Te.createElement("div",MO({},a,{className:Mr(l,YLe({},"".concat(l,"--responsive"),r),o)}),s)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var nke={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},rke={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]};function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}var ike=["placeholder","value","onChange","onClearClick","className","disabled"];function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PO.apply(this,arguments)}function N6(t,e,n){return e=ske(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ske(t){var e=oke(t,"string");return Qx(e)=="symbol"?e:String(e)}function oke(t,e){if(Qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B6(t,e){return uke(t)||cke(t,e)||lke(t,e)||ake()}function ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lke(t,e){if(t){if(typeof t=="string")return F6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F6(t,e)}}function F6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function uke(t){if(Array.isArray(t))return t}function hke(t,e){if(t==null)return{};var n=dke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fke=function(e,n){return typeof n>"u"?G.useState(e):[n,function(){}]};function pke(t,e){var n=t.placeholder,r=n===void 0?"":n,i=t.value,s=i===void 0?void 0:i,o=t.onChange,a=o===void 0?function(){}:o,l=t.onClearClick,c=l===void 0?function(){}:l,u=t.className,d=t.disabled,f=d===void 0?!1:d,v=hke(t,ike),y="".concat(Qn,"-search"),b=G.useMemo(function(){return typeof s<"u"},[]),w=fke("",s),_=B6(w,2),S=_[0],C=_[1],I=G.useState(b?S.length>0:!1),z=B6(I,2),N=z[0],A=z[1];if(b!==typeof s<"u")throw"Search: Changing from controlled to uncontrolled component and vice versa is not allowed";var W=G.useRef(void 0),U=function(){typeof W.current<"u"&&W.current.focus()};G.useImperativeHandle(e,function(){return{focus:U}});var F=function(ne){var me=ne.target.value;A(me.length>0),b===!1&&C(me),a(me)},ee=function(){b===!1&&C(""),A(!1),c()};return Te.createElement("div",PO({},v,{className:Mr(y,N6({},"".concat(y,"--disabled"),f),u)}),Te.createElement(Ru,{icon:nke,className:"".concat(y,"__search-icon")}),Te.createElement("input",{ref:W,type:"text",className:"".concat(y,"__input"),placeholder:r,onChange:F,disabled:f,value:S}),Te.createElement(Ru,{icon:rke,className:Mr("".concat(y,"__clear-icon"),N6({},"".concat(y,"__clear-icon--active"),N)),onClick:ee}))}var cQ=G.forwardRef(pke);cQ.displayName="Search";cQ.propTypes={placeholder:jt.string,value:jt.string,onChange:jt.func,onClearClick:jt.func,className:jt.string,disabled:jt.bool};var mke=["content","className"];function IO(){return IO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IO.apply(this,arguments)}function gke(t,e){if(t==null)return{};var n=vke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yke=function(e){var n=e.content,r=n===void 0?"":n,i=e.className,s=gke(e,mke),o="".concat(Qn,"-typing-indicator");return Te.createElement("div",IO({},s,{className:Mr(o,i)}),Te.createElement("div",{className:"".concat(o,"__indicator")},Te.createElement("div",{className:"".concat(o,"__dot")}),Te.createElement("div",{className:"".concat(o,"__dot")}),Te.createElement("div",{className:"".concat(o,"__dot")})),Te.createElement("div",{className:"".concat(o,"__text")},r))};function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}var _ke=["className","children","size","selected","onChange","itemsTabIndex"];function RO(){return RO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RO.apply(this,arguments)}function xke(t,e,n){return e=bke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bke(t){var e=wke(t,"string");return eb(e)=="symbol"?e:String(e)}function wke(t,e){if(eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ske(t,e){if(t==null)return{};var n=Ake(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ake(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Eke(t,e){var n=t.className,r=t.children,i=t.size,s=t.selected,o=t.onChange,a=o===void 0?HA:o,l=t.itemsTabIndex,c=Ske(t,_ke),u="".concat(Qn,"-status-list"),d=G.useRef();G.useImperativeHandle(e,function(){return{focus:function(y){var b=Array.from(d.current.querySelectorAll("li")),w=b.filter(function(_){return _.parentNode===d.current});typeof w[y]<"u"&&w[y].focus()}}});var f=l;return Te.createElement("ul",RO({ref:d},c,{className:Mr(u,n,xke({},"".concat(u,"--").concat(i),i))}),Te.Children.map(r,function(v){var y={};s&&(y.selected=v.props.status===s),a&&(y.onClick=function(_){a(v.props.status),v.onClick&&v.onClick(_)});var b=function(S){a&&S.key==="Enter"&&S.shiftKey===!1&&S.altKey===!1&&a(v.props.status)},w=function(){if(typeof f=="number")return f>0?f++:f}();return Te.createElement("li",{tabIndex:w,onKeyPress:b},Te.cloneElement(v,y))}))}var uQ=G.forwardRef(Eke);uQ.displayName="StatusList";uQ.propTypes={children:mZ([fZ]),selected:jt.oneOf(hZ),size:jt.oneOf(dZ),itemsTabIndex:jt.number,className:jt.string,onChange:jt.func};const Tke="",Cke=()=>{const[t,e]=G.useState(!1),[n,r]=G.useState([{message:"Hola, soy tu asistente virtual y estoy aquí para ayudarte: ¿Qué necesitas?",sentTime:"just now",sender:"ChatGPT"}]),[i,s]=G.useState(!1),o=async l=>{const c={message:l,direction:"outgoing",sender:"user"};r(u=>[...u,c]),s(!0)};G.useEffect(()=>{(async()=>{var u,d;if(n[n.length-1].sender==="user")try{const v=(d=(u=(await a(n)).choices[0])==null?void 0:u.message)==null?void 0:d.content;if(v){const y={message:v,sender:"ChatGPT"};r(b=>[...b,y])}}catch(f){console.error("Error processing message:",f)}finally{s(!1)}})()},[n]);async function a(l){const c=l.map(f=>({role:f.sender==="ChatGPT"?"assistant":"user",content:f.message})),u={model:"gpt-3.5-turbo",messages:[{role:"system",content:"I'm a Student using ChatGPT for learning"},...c]},d=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer "+Tke,"Content-Type":"application/json"},body:JSON.stringify(u)});if(!d.ok)throw new Error("Failed to fetch response from API");return d.json()}return V.jsx(UMe,{children:V.jsx($p,{position:"fixed",right:"20px",bottom:"10px",zIndex:"2000",children:t?V.jsxs($p,{bg:"#333",w:"300px",h:"400px",children:[V.jsx(zk,{position:"absolute",bottom:"100%",right:"0",colorScheme:"blue",onClick:()=>e(!1),children:"Ocultar chat"}),V.jsx(tke,{children:V.jsxs(DLe,{children:[V.jsx(Cy,{scrollBehavior:"smooth",typingIndicator:i?V.jsx(yke,{content:"ChatGPT está escribiendo..."}):null,children:n.map((l,c)=>V.jsx(If,{model:l},c))}),V.jsx(AM,{placeholder:"Enviar un mensaje",onSend:o})]})})]}):V.jsx(zk,{colorScheme:"blue",onClick:()=>e(!0),children:"Mostrar chat"})})})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const My="164",fp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},pp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hQ=0,LO=1,dQ=2,Mke=3,fQ=0,EM=1,L_=2,Cc=3,Lu=0,Ia=1,tc=2,Au=0,Xp=1,kO=2,OO=3,DO=4,pQ=5,Pd=100,mQ=101,gQ=102,vQ=103,yQ=104,_Q=200,xQ=201,bQ=202,wQ=203,MT=204,PT=205,SQ=206,AQ=207,EQ=208,TQ=209,CQ=210,MQ=211,PQ=212,IQ=213,RQ=214,LQ=0,kQ=1,OQ=2,tb=3,DQ=4,NQ=5,BQ=6,FQ=7,u1=0,UQ=1,zQ=2,Eu=0,VQ=1,HQ=2,jQ=3,EF=4,GQ=5,$Q=6,WQ=7,NO="attached",XQ="detached",ff=300,ku=301,pf=302,ty=303,nb=304,Py=306,mf=1e3,ms=1001,ny=1002,Us=1003,TM=1004,Pke=1004,Pp=1005,Ike=1005,Kr=1006,wv=1007,Rke=1007,sc=1008,BO=1008,El=1009,TF=1010,CF=1011,MF=1012,CM=1013,gf=1014,gs=1015,Co=1016,PF=1017,IF=1018,Iy=1020,qQ=35902,KQ=1021,YQ=1022,zs=1023,JQ=1024,ZQ=1025,qp=1026,ry=1027,MM=1028,RF=1029,QQ=1030,LF=1031,kF=1033,GA=33776,$A=33777,WA=33778,XA=33779,FO=35840,UO=35841,zO=35842,VO=35843,HO=36196,jO=37492,GO=37496,$O=37808,WO=37809,XO=37810,qO=37811,KO=37812,YO=37813,JO=37814,ZO=37815,QO=37816,eD=37817,tD=37818,nD=37819,rD=37820,iD=37821,qA=36492,sD=36494,oD=36495,eee=36283,aD=36284,lD=36285,cD=36286,tee=2200,nee=2201,ree=2202,iy=2300,pm=2301,KA=2302,Ip=2400,Rp=2401,rb=2402,PM=2500,OF=2501,iee=0,DF=1,IT=2,see=3200,oee=3201,Rf=0,aee=1,rh="",hl="srgb",uc="srgb-linear",IM="display-p3",h1="display-p3-linear",ib="linear",xi="srgb",sb="rec709",ob="p3",Lke=0,mp=7680,kke=7681,Oke=7682,Dke=7683,Nke=34055,Bke=34056,Fke=5386,Uke=512,zke=513,Vke=514,Hke=515,jke=516,Gke=517,$ke=518,uD=519,lee=512,cee=513,uee=514,NF=515,hee=516,dee=517,fee=518,pee=519,ab=35044,Wke=35048,Xke=35040,qke=35045,Kke=35049,Yke=35041,Jke=35046,Zke=35050,Qke=35042,eOe="100",hD="300 es",hu=2e3,lb=2001;class Du{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Ko=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let U6=1234567;const Kp=Math.PI/180,sy=180/Math.PI;function bl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ko[t&255]+Ko[t>>8&255]+Ko[t>>16&255]+Ko[t>>24&255]+"-"+Ko[e&255]+Ko[e>>8&255]+"-"+Ko[e>>16&15|64]+Ko[e>>24&255]+"-"+Ko[n&63|128]+Ko[n>>8&255]+"-"+Ko[n>>16&255]+Ko[n>>24&255]+Ko[r&255]+Ko[r>>8&255]+Ko[r>>16&255]+Ko[r>>24&255]).toLowerCase()}function ns(t,e,n){return Math.max(e,Math.min(n,t))}function BF(t,e){return(t%e+e)%e}function tOe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function nOe(t,e,n){return t!==e?(n-t)/(e-t):0}function k_(t,e,n){return(1-n)*t+n*e}function rOe(t,e,n,r){return k_(t,e,1-Math.exp(-n*r))}function iOe(t,e=1){return e-Math.abs(BF(t,e*2)-e)}function sOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function oOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function aOe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function lOe(t,e){return t+Math.random()*(e-t)}function cOe(t){return t*(.5-Math.random())}function uOe(t){t!==void 0&&(U6=t);let e=U6+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function hOe(t){return t*Kp}function dOe(t){return t*sy}function fOe(t){return(t&t-1)===0&&t!==0}function pOe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function mOe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function gOe(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),f=o((e-r)/2),v=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*y,l*v,a*c);break;case"YXY":t.set(l*v,a*u,l*y,a*c);break;case"ZYZ":t.set(l*y,l*v,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Aa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function br(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const mee={DEG2RAD:Kp,RAD2DEG:sy,generateUUID:bl,clamp:ns,euclideanModulo:BF,mapLinear:tOe,inverseLerp:nOe,lerp:k_,damp:rOe,pingpong:iOe,smoothstep:sOe,smootherstep:oOe,randInt:aOe,randFloat:lOe,randFloatSpread:cOe,seededRandom:uOe,degToRad:hOe,radToDeg:dOe,isPowerOfTwo:fOe,ceilPowerOfTwo:pOe,floorPowerOfTwo:mOe,setQuaternionFromProperEuler:gOe,normalize:br,denormalize:Aa};class gt{constructor(e=0,n=0){gt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ns(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xr{constructor(e,n,r,i,s,o,a,l,c){xr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],v=r[5],y=r[8],b=i[0],w=i[3],_=i[6],S=i[1],C=i[4],I=i[7],z=i[2],N=i[5],A=i[8];return s[0]=o*b+a*S+l*z,s[3]=o*w+a*C+l*N,s[6]=o*_+a*I+l*A,s[1]=c*b+u*S+d*z,s[4]=c*w+u*C+d*N,s[7]=c*_+u*I+d*A,s[2]=f*b+v*S+y*z,s[5]=f*w+v*C+y*N,s[8]=f*_+v*I+y*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,v=c*s-o*l,y=n*d+r*f+i*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/y;return e[0]=d*b,e[1]=(i*c-u*r)*b,e[2]=(a*r-i*o)*b,e[3]=f*b,e[4]=(u*n-i*l)*b,e[5]=(i*s-a*n)*b,e[6]=v*b,e[7]=(r*l-c*n)*b,e[8]=(o*n-r*s)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(fR.makeScale(e,n)),this}rotate(e){return this.premultiply(fR.makeRotation(-e)),this}translate(e,n){return this.premultiply(fR.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const fR=new xr;function gee(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const vOe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jg(t,e){return new vOe[t](e)}function cb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function vee(){const t=cb("canvas");return t.style.display="block",t}const z6={};function yee(t){t in z6||(z6[t]=!0,console.warn(t))}const V6=new xr().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),H6=new xr().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Zw={[uc]:{transfer:ib,primaries:sb,toReference:t=>t,fromReference:t=>t},[hl]:{transfer:xi,primaries:sb,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[h1]:{transfer:ib,primaries:ob,toReference:t=>t.applyMatrix3(H6),fromReference:t=>t.applyMatrix3(V6)},[IM]:{transfer:xi,primaries:ob,toReference:t=>t.convertSRGBToLinear().applyMatrix3(H6),fromReference:t=>t.applyMatrix3(V6).convertLinearToSRGB()}},yOe=new Set([uc,h1]),li={enabled:!0,_workingColorSpace:uc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!yOe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Zw[e].toReference,i=Zw[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Zw[t].primaries},getTransfer:function(t){return t===rh?ib:Zw[t].transfer}};function Sv(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function pR(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Wm;class _ee{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Wm===void 0&&(Wm=cb("canvas")),Wm.width=e.width,Wm.height=e.height;const r=Wm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Wm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=cb("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Sv(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Sv(n[r]/255)*255):n[r]=Sv(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _Oe=0;class Lp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_Oe++}),this.uuid=bl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(mR(i[o].image)):s.push(mR(i[o]))}else s=mR(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function mR(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?_ee.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let xOe=0;class Yr extends Du{constructor(e=Yr.DEFAULT_IMAGE,n=Yr.DEFAULT_MAPPING,r=ms,i=ms,s=Kr,o=sc,a=zs,l=El,c=Yr.DEFAULT_ANISOTROPY,u=rh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xOe++}),this.uuid=bl(),this.name="",this.source=new Lp(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new gt(0,0),this.repeat=new gt(1,1),this.center=new gt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ff)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mf:e.x=e.x-Math.floor(e.x);break;case ms:e.x=e.x<0?0:1;break;case ny:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case mf:e.y=e.y-Math.floor(e.y);break;case ms:e.y=e.y<0?0:1;break;case ny:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Yr.DEFAULT_IMAGE=null;Yr.DEFAULT_MAPPING=ff;Yr.DEFAULT_ANISOTROPY=1;class ci{constructor(e=0,n=0,r=0,i=1){ci.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],v=l[5],y=l[9],b=l[2],w=l[6],_=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-b)<.01&&Math.abs(y-w)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+b)<.1&&Math.abs(y+w)<.1&&Math.abs(c+v+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(c+1)/2,I=(v+1)/2,z=(_+1)/2,N=(u+f)/4,A=(d+b)/4,W=(y+w)/4;return C>I&&C>z?C<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(C),i=N/r,s=A/r):I>z?I<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(I),r=N/i,s=W/i):z<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(z),r=A/s,i=W/s),this.set(r,i,s,n),this}let S=Math.sqrt((w-y)*(w-y)+(d-b)*(d-b)+(f-u)*(f-u));return Math.abs(S)<.001&&(S=1),this.x=(w-y)/S,this.y=(d-b)/S,this.z=(f-u)/S,this.w=Math.acos((c+v+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class xee extends Du{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new ci(0,0,e,n),this.scissorTest=!1,this.viewport=new ci(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Kr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Yr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Lp(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Tl extends xee{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class RM extends Yr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Us,this.minFilter=Us,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bOe extends Tl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new RM(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class FF extends Yr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Us,this.minFilter=Us,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wOe extends Tl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new FF(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class so{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=s[o+0],v=s[o+1],y=s[o+2],b=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=v,e[n+2]=y,e[n+3]=b;return}if(d!==b||l!==f||c!==v||u!==y){let w=1-a;const _=l*f+c*v+u*y+d*b,S=_>=0?1:-1,C=1-_*_;if(C>Number.EPSILON){const z=Math.sqrt(C),N=Math.atan2(z,_*S);w=Math.sin(w*N)/z,a=Math.sin(a*N)/z}const I=a*S;if(l=l*w+f*I,c=c*w+v*I,u=u*w+y*I,d=d*w+b*I,w===1-a){const z=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=z,c*=z,u*=z,d*=z}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],f=s[o+1],v=s[o+2],y=s[o+3];return e[n]=a*y+u*d+l*v-c*f,e[n+1]=l*y+u*f+c*d-a*v,e[n+2]=c*y+u*v+a*f-l*d,e[n+3]=u*y-a*d-l*f-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),f=l(r/2),v=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*v*y,this._y=c*v*d-f*u*y,this._z=c*u*y+f*v*d,this._w=c*u*d-f*v*y;break;case"YXZ":this._x=f*u*d+c*v*y,this._y=c*v*d-f*u*y,this._z=c*u*y-f*v*d,this._w=c*u*d+f*v*y;break;case"ZXY":this._x=f*u*d-c*v*y,this._y=c*v*d+f*u*y,this._z=c*u*y+f*v*d,this._w=c*u*d-f*v*y;break;case"ZYX":this._x=f*u*d-c*v*y,this._y=c*v*d+f*u*y,this._z=c*u*y-f*v*d,this._w=c*u*d+f*v*y;break;case"YZX":this._x=f*u*d+c*v*y,this._y=c*v*d+f*u*y,this._z=c*u*y-f*v*d,this._w=c*u*d-f*v*y;break;case"XZY":this._x=f*u*d-c*v*y,this._y=c*v*d-f*u*y,this._z=c*u*y+f*v*d,this._w=c*u*d+f*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const v=.5/Math.sqrt(f+1);this._w=.25/v,this._x=(u-l)*v,this._y=(s-c)*v,this._z=(o-i)*v}else if(r>a&&r>d){const v=2*Math.sqrt(1+r-a-d);this._w=(u-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+c)/v}else if(a>d){const v=2*Math.sqrt(1+a-r-d);this._w=(s-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+u)/v}else{const v=2*Math.sqrt(1+d-r-a);this._w=(o-i)/v,this._x=(s+c)/v,this._y=(l+u)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ns(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,n=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(j6.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(j6.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*c+o*d-a*u,this.y=r+l*u+a*c-s*d,this.z=i+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return gR.copy(this).projectOnVector(e),this.sub(gR)}reflect(e){return this.sub(gR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ns(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gR=new oe,j6=new so;class la{constructor(e=new oe(1/0,1/0,1/0),n=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(bc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(bc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=bc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,bc):bc.fromBufferAttribute(s,o),bc.applyMatrix4(e.matrixWorld),this.expandByPoint(bc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Qw.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Qw.copy(r.boundingBox)),Qw.applyMatrix4(e.matrixWorld),this.union(Qw)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,bc),bc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(p0),eS.subVectors(this.max,p0),Xm.subVectors(e.a,p0),qm.subVectors(e.b,p0),Km.subVectors(e.c,p0),ad.subVectors(qm,Xm),ld.subVectors(Km,qm),Xf.subVectors(Xm,Km);let n=[0,-ad.z,ad.y,0,-ld.z,ld.y,0,-Xf.z,Xf.y,ad.z,0,-ad.x,ld.z,0,-ld.x,Xf.z,0,-Xf.x,-ad.y,ad.x,0,-ld.y,ld.x,0,-Xf.y,Xf.x,0];return!vR(n,Xm,qm,Km,eS)||(n=[1,0,0,0,1,0,0,0,1],!vR(n,Xm,qm,Km,eS))?!1:(tS.crossVectors(ad,ld),n=[tS.x,tS.y,tS.z],vR(n,Xm,qm,Km,eS))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,bc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(bc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Vu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Vu=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],bc=new oe,Qw=new la,Xm=new oe,qm=new oe,Km=new oe,ad=new oe,ld=new oe,Xf=new oe,p0=new oe,eS=new oe,tS=new oe,qf=new oe;function vR(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){qf.fromArray(t,s);const a=i.x*Math.abs(qf.x)+i.y*Math.abs(qf.y)+i.z*Math.abs(qf.z),l=e.dot(qf),c=n.dot(qf),u=r.dot(qf);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const SOe=new la,m0=new oe,yR=new oe;class Ro{constructor(e=new oe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):SOe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;m0.subVectors(e,this.center);const n=m0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(m0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(yR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(m0.copy(e.center).add(yR)),this.expandByPoint(m0.copy(e.center).sub(yR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Hu=new oe,_R=new oe,nS=new oe,cd=new oe,xR=new oe,rS=new oe,bR=new oe;class Pm{constructor(e=new oe,n=new oe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Hu)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Hu.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Hu.copy(this.origin).addScaledVector(this.direction,n),Hu.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){_R.copy(e).add(n).multiplyScalar(.5),nS.copy(n).sub(e).normalize(),cd.copy(this.origin).sub(_R);const s=e.distanceTo(n)*.5,o=-this.direction.dot(nS),a=cd.dot(this.direction),l=-cd.dot(nS),c=cd.lengthSq(),u=Math.abs(1-o*o);let d,f,v,y;if(u>0)if(d=o*l-a,f=o*a-l,y=s*u,d>=0)if(f>=-y)if(f<=y){const b=1/u;d*=b,f*=b,v=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),v=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),v=-d*d+f*(f+2*l)+c;else f<=-y?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),v=-d*d+f*(f+2*l)+c):f<=y?(d=0,f=Math.min(Math.max(-s,-l),s),v=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),v=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),v=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(_R).addScaledVector(nS,f),v}intersectSphere(e,n){Hu.subVectors(e.center,this.origin);const r=Hu.dot(this.direction),i=Hu.dot(Hu)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Hu)!==null}intersectTriangle(e,n,r,i,s){xR.subVectors(n,e),rS.subVectors(r,e),bR.crossVectors(xR,rS);let o=this.direction.dot(bR),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;cd.subVectors(this.origin,e);const l=a*this.direction.dot(rS.crossVectors(cd,rS));if(l<0)return null;const c=a*this.direction.dot(xR.cross(cd));if(c<0||l+c>o)return null;const u=-a*cd.dot(bR);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Un{constructor(e,n,r,i,s,o,a,l,c,u,d,f,v,y,b,w){Un.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,d,f,v,y,b,w)}set(e,n,r,i,s,o,a,l,c,u,d,f,v,y,b,w){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=u,_[10]=d,_[14]=f,_[3]=v,_[7]=y,_[11]=b,_[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Un().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ym.setFromMatrixColumn(e,0).length(),s=1/Ym.setFromMatrixColumn(e,1).length(),o=1/Ym.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,v=o*d,y=a*u,b=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=v+y*c,n[5]=f-b*c,n[9]=-a*l,n[2]=b-f*c,n[6]=y+v*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,v=l*d,y=c*u,b=c*d;n[0]=f+b*a,n[4]=y*a-v,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=v*a-y,n[6]=b+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,v=l*d,y=c*u,b=c*d;n[0]=f-b*a,n[4]=-o*d,n[8]=y+v*a,n[1]=v+y*a,n[5]=o*u,n[9]=b-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,v=o*d,y=a*u,b=a*d;n[0]=l*u,n[4]=y*c-v,n[8]=f*c+b,n[1]=l*d,n[5]=b*c+f,n[9]=v*c-y,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,v=o*c,y=a*l,b=a*c;n[0]=l*u,n[4]=b-f*d,n[8]=y*d+v,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=v*d+y,n[10]=f-b*d}else if(e.order==="XZY"){const f=o*l,v=o*c,y=a*l,b=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+b,n[5]=o*u,n[9]=v*d-y,n[2]=y*d-v,n[6]=a*u,n[10]=b*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(AOe,e,EOe)}lookAt(e,n,r){const i=this.elements;return al.subVectors(e,n),al.lengthSq()===0&&(al.z=1),al.normalize(),ud.crossVectors(r,al),ud.lengthSq()===0&&(Math.abs(r.z)===1?al.x+=1e-4:al.z+=1e-4,al.normalize(),ud.crossVectors(r,al)),ud.normalize(),iS.crossVectors(al,ud),i[0]=ud.x,i[4]=iS.x,i[8]=al.x,i[1]=ud.y,i[5]=iS.y,i[9]=al.y,i[2]=ud.z,i[6]=iS.z,i[10]=al.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],v=r[13],y=r[2],b=r[6],w=r[10],_=r[14],S=r[3],C=r[7],I=r[11],z=r[15],N=i[0],A=i[4],W=i[8],U=i[12],F=i[1],ee=i[5],se=i[9],ne=i[13],me=i[2],be=i[6],Se=i[10],Ue=i[14],J=i[3],fe=i[7],re=i[11],Ce=i[15];return s[0]=o*N+a*F+l*me+c*J,s[4]=o*A+a*ee+l*be+c*fe,s[8]=o*W+a*se+l*Se+c*re,s[12]=o*U+a*ne+l*Ue+c*Ce,s[1]=u*N+d*F+f*me+v*J,s[5]=u*A+d*ee+f*be+v*fe,s[9]=u*W+d*se+f*Se+v*re,s[13]=u*U+d*ne+f*Ue+v*Ce,s[2]=y*N+b*F+w*me+_*J,s[6]=y*A+b*ee+w*be+_*fe,s[10]=y*W+b*se+w*Se+_*re,s[14]=y*U+b*ne+w*Ue+_*Ce,s[3]=S*N+C*F+I*me+z*J,s[7]=S*A+C*ee+I*be+z*fe,s[11]=S*W+C*se+I*Se+z*re,s[15]=S*U+C*ne+I*Ue+z*Ce,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],v=e[14],y=e[3],b=e[7],w=e[11],_=e[15];return y*(+s*l*d-i*c*d-s*a*f+r*c*f+i*a*v-r*l*v)+b*(+n*l*v-n*c*f+s*o*f-i*o*v+i*c*u-s*l*u)+w*(+n*c*d-n*a*v-s*o*d+r*o*v+s*a*u-r*c*u)+_*(-i*a*u-n*l*d+n*a*f+i*o*d-r*o*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],v=e[11],y=e[12],b=e[13],w=e[14],_=e[15],S=d*w*c-b*f*c+b*l*v-a*w*v-d*l*_+a*f*_,C=y*f*c-u*w*c-y*l*v+o*w*v+u*l*_-o*f*_,I=u*b*c-y*d*c+y*a*v-o*b*v-u*a*_+o*d*_,z=y*d*l-u*b*l-y*a*f+o*b*f+u*a*w-o*d*w,N=n*S+r*C+i*I+s*z;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/N;return e[0]=S*A,e[1]=(b*f*s-d*w*s-b*i*v+r*w*v+d*i*_-r*f*_)*A,e[2]=(a*w*s-b*l*s+b*i*c-r*w*c-a*i*_+r*l*_)*A,e[3]=(d*l*s-a*f*s-d*i*c+r*f*c+a*i*v-r*l*v)*A,e[4]=C*A,e[5]=(u*w*s-y*f*s+y*i*v-n*w*v-u*i*_+n*f*_)*A,e[6]=(y*l*s-o*w*s-y*i*c+n*w*c+o*i*_-n*l*_)*A,e[7]=(o*f*s-u*l*s+u*i*c-n*f*c-o*i*v+n*l*v)*A,e[8]=I*A,e[9]=(y*d*s-u*b*s-y*r*v+n*b*v+u*r*_-n*d*_)*A,e[10]=(o*b*s-y*a*s+y*r*c-n*b*c-o*r*_+n*a*_)*A,e[11]=(u*a*s-o*d*s-u*r*c+n*d*c+o*r*v-n*a*v)*A,e[12]=z*A,e[13]=(u*b*i-y*d*i+y*r*f-n*b*f-u*r*w+n*d*w)*A,e[14]=(y*a*i-o*b*i-y*r*l+n*b*l+o*r*w-n*a*w)*A,e[15]=(o*d*i-u*a*i+u*r*l-n*d*l-o*r*f+n*a*f)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,f=s*c,v=s*u,y=s*d,b=o*u,w=o*d,_=a*d,S=l*c,C=l*u,I=l*d,z=r.x,N=r.y,A=r.z;return i[0]=(1-(b+_))*z,i[1]=(v+I)*z,i[2]=(y-C)*z,i[3]=0,i[4]=(v-I)*N,i[5]=(1-(f+_))*N,i[6]=(w+S)*N,i[7]=0,i[8]=(y+C)*A,i[9]=(w-S)*A,i[10]=(1-(f+b))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Ym.set(i[0],i[1],i[2]).length();const o=Ym.set(i[4],i[5],i[6]).length(),a=Ym.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],wc.copy(this);const c=1/s,u=1/o,d=1/a;return wc.elements[0]*=c,wc.elements[1]*=c,wc.elements[2]*=c,wc.elements[4]*=u,wc.elements[5]*=u,wc.elements[6]*=u,wc.elements[8]*=d,wc.elements[9]*=d,wc.elements[10]*=d,n.setFromRotationMatrix(wc),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=hu){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let v,y;if(a===hu)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===lb)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=hu){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(o-s),f=(n+e)*c,v=(r+i)*u;let y,b;if(a===hu)y=(o+s)*d,b=-2*d;else if(a===lb)y=s*d,b=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=b,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ym=new oe,wc=new Un,AOe=new oe(0,0,0),EOe=new oe(1,1,1),ud=new oe,iS=new oe,al=new oe,G6=new Un,$6=new so;class Cl{constructor(e=0,n=0,r=0,i=Cl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(ns(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ns(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(ns(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ns(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ns(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-ns(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return G6.makeRotationFromQuaternion(e),this.setFromRotationMatrix(G6,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return $6.setFromEuler(this),this.setFromQuaternion($6,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Cl.DEFAULT_ORDER="XYZ";class Yp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let TOe=0;const W6=new oe,Jm=new so,ju=new Un,sS=new oe,g0=new oe,COe=new oe,MOe=new so,X6=new oe(1,0,0),q6=new oe(0,1,0),K6=new oe(0,0,1),Y6={type:"added"},POe={type:"removed"},Zm={type:"childadded",child:null},wR={type:"childremoved",child:null};class Hr extends Du{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:TOe++}),this.uuid=bl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hr.DEFAULT_UP.clone();const e=new oe,n=new Cl,r=new so,i=new oe(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Un},normalMatrix:{value:new xr}}),this.matrix=new Un,this.matrixWorld=new Un,this.matrixAutoUpdate=Hr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Yp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Jm.setFromAxisAngle(e,n),this.quaternion.multiply(Jm),this}rotateOnWorldAxis(e,n){return Jm.setFromAxisAngle(e,n),this.quaternion.premultiply(Jm),this}rotateX(e){return this.rotateOnAxis(X6,e)}rotateY(e){return this.rotateOnAxis(q6,e)}rotateZ(e){return this.rotateOnAxis(K6,e)}translateOnAxis(e,n){return W6.copy(e).applyQuaternion(this.quaternion),this.position.add(W6.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(X6,e)}translateY(e){return this.translateOnAxis(q6,e)}translateZ(e){return this.translateOnAxis(K6,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ju.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?sS.copy(e):sS.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),g0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ju.lookAt(g0,sS,this.up):ju.lookAt(sS,g0,this.up),this.quaternion.setFromRotationMatrix(ju),i&&(ju.extractRotation(i.matrixWorld),Jm.setFromRotationMatrix(ju),this.quaternion.premultiply(Jm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Y6),Zm.child=e,this.dispatchEvent(Zm),Zm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(POe),wR.child=e,this.dispatchEvent(wR),wR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ju.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ju.multiply(e.parent.matrixWorld)),e.applyMatrix4(ju),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Y6),Zm.child=e,this.dispatchEvent(Zm),Zm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(g0,e,COe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(g0,MOe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),v.length>0&&(r.animations=v),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Hr.DEFAULT_UP=new oe(0,1,0);Hr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Sc=new oe,Gu=new oe,SR=new oe,$u=new oe,Qm=new oe,eg=new oe,J6=new oe,AR=new oe,ER=new oe,TR=new oe;class dl{constructor(e=new oe,n=new oe,r=new oe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Sc.subVectors(e,n),i.cross(Sc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Sc.subVectors(i,n),Gu.subVectors(r,n),SR.subVectors(e,n);const o=Sc.dot(Sc),a=Sc.dot(Gu),l=Sc.dot(SR),c=Gu.dot(Gu),u=Gu.dot(SR),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const f=1/d,v=(c*l-a*u)*f,y=(o*u-a*l)*f;return s.set(1-v-y,y,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,$u)===null?!1:$u.x>=0&&$u.y>=0&&$u.x+$u.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,$u)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,$u.x),l.addScaledVector(o,$u.y),l.addScaledVector(a,$u.z),l)}static isFrontFacing(e,n,r,i){return Sc.subVectors(r,n),Gu.subVectors(e,n),Sc.cross(Gu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Sc.subVectors(this.c,this.b),Gu.subVectors(this.a,this.b),Sc.cross(Gu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return dl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return dl.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return dl.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return dl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return dl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Qm.subVectors(i,r),eg.subVectors(s,r),AR.subVectors(e,r);const l=Qm.dot(AR),c=eg.dot(AR);if(l<=0&&c<=0)return n.copy(r);ER.subVectors(e,i);const u=Qm.dot(ER),d=eg.dot(ER);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(Qm,o);TR.subVectors(e,s);const v=Qm.dot(TR),y=eg.dot(TR);if(y>=0&&v<=y)return n.copy(s);const b=v*c-l*y;if(b<=0&&c>=0&&y<=0)return a=c/(c-y),n.copy(r).addScaledVector(eg,a);const w=u*y-v*d;if(w<=0&&d-u>=0&&v-y>=0)return J6.subVectors(s,i),a=(d-u)/(d-u+(v-y)),n.copy(i).addScaledVector(J6,a);const _=1/(w+b+f);return o=b*_,a=f*_,n.copy(r).addScaledVector(Qm,o).addScaledVector(eg,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const bee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hd={h:0,s:0,l:0},oS={h:0,s:0,l:0};function CR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Zt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=hl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,li.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=li.workingColorSpace){return this.r=e,this.g=n,this.b=r,li.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=li.workingColorSpace){if(e=BF(e,1),n=ns(n,0,1),r=ns(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=CR(o,s,e+1/3),this.g=CR(o,s,e),this.b=CR(o,s,e-1/3)}return li.toWorkingColorSpace(this,i),this}setStyle(e,n=hl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=hl){const r=bee[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Sv(e.r),this.g=Sv(e.g),this.b=Sv(e.b),this}copyLinearToSRGB(e){return this.r=pR(e.r),this.g=pR(e.g),this.b=pR(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=hl){return li.fromWorkingColorSpace(Yo.copy(this),e),Math.round(ns(Yo.r*255,0,255))*65536+Math.round(ns(Yo.g*255,0,255))*256+Math.round(ns(Yo.b*255,0,255))}getHexString(e=hl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=li.workingColorSpace){li.fromWorkingColorSpace(Yo.copy(this),n);const r=Yo.r,i=Yo.g,s=Yo.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=li.workingColorSpace){return li.fromWorkingColorSpace(Yo.copy(this),n),e.r=Yo.r,e.g=Yo.g,e.b=Yo.b,e}getStyle(e=hl){li.fromWorkingColorSpace(Yo.copy(this),e);const n=Yo.r,r=Yo.g,i=Yo.b;return e!==hl?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(hd),this.setHSL(hd.h+e,hd.s+n,hd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(hd),e.getHSL(oS);const r=k_(hd.h,oS.h,n),i=k_(hd.s,oS.s,n),s=k_(hd.l,oS.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Yo=new Zt;Zt.NAMES=bee;let IOe=0;class Ps extends Du{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:IOe++}),this.uuid=bl(),this.name="",this.type="Material",this.blending=Xp,this.side=Lu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=MT,this.blendDst=PT,this.blendEquation=Pd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Zt(0,0,0),this.blendAlpha=0,this.depthFunc=tb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mp,this.stencilZFail=mp,this.stencilZPass=mp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Xp&&(r.blending=this.blending),this.side!==Lu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==MT&&(r.blendSrc=this.blendSrc),this.blendDst!==PT&&(r.blendDst=this.blendDst),this.blendEquation!==Pd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==tb&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uD&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==mp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==mp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ka extends Ps{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.combine=u1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ih=ROe();function ROe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ha(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ns(t,-65504,65504),ih.floatView[0]=t;const e=ih.uint32View[0],n=e>>23&511;return ih.baseTable[n]+((e&8388607)>>ih.shiftTable[n])}function Z0(t){const e=t>>10;return ih.uint32View[0]=ih.mantissaTable[ih.offsetTable[e]+(t&1023)]+ih.exponentTable[e],ih.floatView[0]}const kp={toHalfFloat:Ha,fromHalfFloat:Z0},Ss=new oe,aS=new gt;class jr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=ab,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=gs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return yee("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)aS.fromBufferAttribute(this,n),aS.applyMatrix3(e),this.setXY(n,aS.x,aS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.applyMatrix3(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.applyMatrix4(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.applyNormalMatrix(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ss.fromBufferAttribute(this,n),Ss.transformDirection(e),this.setXYZ(n,Ss.x,Ss.y,Ss.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Aa(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=br(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Aa(n,this.array)),n}setX(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Aa(n,this.array)),n}setY(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Aa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Aa(n,this.array)),n}setW(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),r=br(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),r=br(r,this.array),i=br(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),r=br(r,this.array),i=br(i,this.array),s=br(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ab&&(e.usage=this.usage),e}}class LOe extends jr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class kOe extends jr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class OOe extends jr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class DOe extends jr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class UF extends jr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class NOe extends jr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class zF extends jr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class BOe extends jr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Z0(this.array[e*this.itemSize]);return this.normalized&&(n=Aa(n,this.array)),n}setX(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize]=Ha(n),this}getY(e){let n=Z0(this.array[e*this.itemSize+1]);return this.normalized&&(n=Aa(n,this.array)),n}setY(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+1]=Ha(n),this}getZ(e){let n=Z0(this.array[e*this.itemSize+2]);return this.normalized&&(n=Aa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+2]=Ha(n),this}getW(e){let n=Z0(this.array[e*this.itemSize+3]);return this.normalized&&(n=Aa(n,this.array)),n}setW(e,n){return this.normalized&&(n=br(n,this.array)),this.array[e*this.itemSize+3]=Ha(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),r=br(r,this.array)),this.array[e+0]=Ha(n),this.array[e+1]=Ha(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),r=br(r,this.array),i=br(i,this.array)),this.array[e+0]=Ha(n),this.array[e+1]=Ha(r),this.array[e+2]=Ha(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=br(n,this.array),r=br(r,this.array),i=br(i,this.array),s=br(s,this.array)),this.array[e+0]=Ha(n),this.array[e+1]=Ha(r),this.array[e+2]=Ha(i),this.array[e+3]=Ha(s),this}}class An extends jr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let FOe=0;const Gl=new Un,MR=new Hr,tg=new oe,ll=new la,v0=new la,to=new oe;class gr extends Du{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:FOe++}),this.uuid=bl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(gee(e)?zF:UF)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new xr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gl.makeRotationFromQuaternion(e),this.applyMatrix4(Gl),this}rotateX(e){return Gl.makeRotationX(e),this.applyMatrix4(Gl),this}rotateY(e){return Gl.makeRotationY(e),this.applyMatrix4(Gl),this}rotateZ(e){return Gl.makeRotationZ(e),this.applyMatrix4(Gl),this}translate(e,n,r){return Gl.makeTranslation(e,n,r),this.applyMatrix4(Gl),this}scale(e,n,r){return Gl.makeScale(e,n,r),this.applyMatrix4(Gl),this}lookAt(e){return MR.lookAt(e),MR.updateMatrix(),this.applyMatrix4(MR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tg).negate(),this.translate(tg.x,tg.y,tg.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new An(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new la);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ll.setFromBufferAttribute(s),this.morphTargetsRelative?(to.addVectors(this.boundingBox.min,ll.min),this.boundingBox.expandByPoint(to),to.addVectors(this.boundingBox.max,ll.max),this.boundingBox.expandByPoint(to)):(this.boundingBox.expandByPoint(ll.min),this.boundingBox.expandByPoint(ll.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ro);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if(ll.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];v0.setFromBufferAttribute(a),this.morphTargetsRelative?(to.addVectors(ll.min,v0.min),ll.expandByPoint(to),to.addVectors(ll.max,v0.max),ll.expandByPoint(to)):(ll.expandByPoint(v0.min),ll.expandByPoint(v0.max))}ll.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)to.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(to));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)to.fromBufferAttribute(a,c),l&&(tg.fromBufferAttribute(e,c),to.add(tg)),i=Math.max(i,r.distanceToSquared(to))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let W=0;W<r.count;W++)a[W]=new oe,l[W]=new oe;const c=new oe,u=new oe,d=new oe,f=new gt,v=new gt,y=new gt,b=new oe,w=new oe;function _(W,U,F){c.fromBufferAttribute(r,W),u.fromBufferAttribute(r,U),d.fromBufferAttribute(r,F),f.fromBufferAttribute(s,W),v.fromBufferAttribute(s,U),y.fromBufferAttribute(s,F),u.sub(c),d.sub(c),v.sub(f),y.sub(f);const ee=1/(v.x*y.y-y.x*v.y);isFinite(ee)&&(b.copy(u).multiplyScalar(y.y).addScaledVector(d,-v.y).multiplyScalar(ee),w.copy(d).multiplyScalar(v.x).addScaledVector(u,-y.x).multiplyScalar(ee),a[W].add(b),a[U].add(b),a[F].add(b),l[W].add(w),l[U].add(w),l[F].add(w))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let W=0,U=S.length;W<U;++W){const F=S[W],ee=F.start,se=F.count;for(let ne=ee,me=ee+se;ne<me;ne+=3)_(e.getX(ne+0),e.getX(ne+1),e.getX(ne+2))}const C=new oe,I=new oe,z=new oe,N=new oe;function A(W){z.fromBufferAttribute(i,W),N.copy(z);const U=a[W];C.copy(U),C.sub(z.multiplyScalar(z.dot(U))).normalize(),I.crossVectors(N,U);const ee=I.dot(l[W])<0?-1:1;o.setXYZW(W,C.x,C.y,C.z,ee)}for(let W=0,U=S.length;W<U;++W){const F=S[W],ee=F.start,se=F.count;for(let ne=ee,me=ee+se;ne<me;ne+=3)A(e.getX(ne+0)),A(e.getX(ne+1)),A(e.getX(ne+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,v=r.count;f<v;f++)r.setXYZ(f,0,0,0);const i=new oe,s=new oe,o=new oe,a=new oe,l=new oe,c=new oe,u=new oe,d=new oe;if(e)for(let f=0,v=e.count;f<v;f+=3){const y=e.getX(f+0),b=e.getX(f+1),w=e.getX(f+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,b),o.fromBufferAttribute(n,w),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,b),c.fromBufferAttribute(r,w),a.add(u),l.add(u),c.add(u),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(w,c.x,c.y,c.z)}else for(let f=0,v=n.count;f<v;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)to.fromBufferAttribute(e,n),to.normalize(),e.setXYZ(n,to.x,to.y,to.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let v=0,y=0;for(let b=0,w=l.length;b<w;b++){a.isInterleavedBufferAttribute?v=l[b]*a.data.stride+a.offset:v=l[b]*u;for(let _=0;_<u;_++)f[y++]=c[v++]}return new jr(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new gr,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],v=e(f,r);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const v=c[d];u.push(v.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,v=d.length;f<v;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Z6=new Un,Kf=new Pm,lS=new Ro,Q6=new oe,ng=new oe,rg=new oe,ig=new oe,PR=new oe,cS=new oe,uS=new gt,hS=new gt,dS=new gt,ej=new oe,tj=new oe,nj=new oe,fS=new oe,pS=new oe;class Ni extends Hr{constructor(e=new gr,n=new Ka){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){cS.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(PR.fromBufferAttribute(d,e),o?cS.addScaledVector(PR,u):cS.addScaledVector(PR.sub(n),u))}n.add(cS)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),lS.copy(r.boundingSphere),lS.applyMatrix4(s),Kf.copy(e.ray).recast(e.near),!(lS.containsPoint(Kf.origin)===!1&&(Kf.intersectSphere(lS,Q6)===null||Kf.origin.distanceToSquared(Q6)>(e.far-e.near)**2))&&(Z6.copy(s).invert(),Kf.copy(e.ray).applyMatrix4(Z6),!(r.boundingBox!==null&&Kf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Kf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,b=f.length;y<b;y++){const w=f[y],_=o[w.materialIndex],S=Math.max(w.start,v.start),C=Math.min(a.count,Math.min(w.start+w.count,v.start+v.count));for(let I=S,z=C;I<z;I+=3){const N=a.getX(I),A=a.getX(I+1),W=a.getX(I+2);i=mS(this,_,e,r,c,u,d,N,A,W),i&&(i.faceIndex=Math.floor(I/3),i.face.materialIndex=w.materialIndex,n.push(i))}}else{const y=Math.max(0,v.start),b=Math.min(a.count,v.start+v.count);for(let w=y,_=b;w<_;w+=3){const S=a.getX(w),C=a.getX(w+1),I=a.getX(w+2);i=mS(this,o,e,r,c,u,d,S,C,I),i&&(i.faceIndex=Math.floor(w/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,b=f.length;y<b;y++){const w=f[y],_=o[w.materialIndex],S=Math.max(w.start,v.start),C=Math.min(l.count,Math.min(w.start+w.count,v.start+v.count));for(let I=S,z=C;I<z;I+=3){const N=I,A=I+1,W=I+2;i=mS(this,_,e,r,c,u,d,N,A,W),i&&(i.faceIndex=Math.floor(I/3),i.face.materialIndex=w.materialIndex,n.push(i))}}else{const y=Math.max(0,v.start),b=Math.min(l.count,v.start+v.count);for(let w=y,_=b;w<_;w+=3){const S=w,C=w+1,I=w+2;i=mS(this,o,e,r,c,u,d,S,C,I),i&&(i.faceIndex=Math.floor(w/3),n.push(i))}}}}function UOe(t,e,n,r,i,s,o,a){let l;if(e.side===Ia?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Lu,a),l===null)return null;pS.copy(a),pS.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(pS);return c<n.near||c>n.far?null:{distance:c,point:pS.clone(),object:t}}function mS(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,ng),t.getVertexPosition(l,rg),t.getVertexPosition(c,ig);const u=UOe(t,e,n,r,ng,rg,ig,fS);if(u){i&&(uS.fromBufferAttribute(i,a),hS.fromBufferAttribute(i,l),dS.fromBufferAttribute(i,c),u.uv=dl.getInterpolation(fS,ng,rg,ig,uS,hS,dS,new gt)),s&&(uS.fromBufferAttribute(s,a),hS.fromBufferAttribute(s,l),dS.fromBufferAttribute(s,c),u.uv1=dl.getInterpolation(fS,ng,rg,ig,uS,hS,dS,new gt)),o&&(ej.fromBufferAttribute(o,a),tj.fromBufferAttribute(o,l),nj.fromBufferAttribute(o,c),u.normal=dl.getInterpolation(fS,ng,rg,ig,ej,tj,nj,new oe),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new oe,materialIndex:0};dl.getNormal(ng,rg,ig,d.normal),u.face=d}return u}class Im extends gr{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,v=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new An(c,3)),this.setAttribute("normal",new An(u,3)),this.setAttribute("uv",new An(d,2));function y(b,w,_,S,C,I,z,N,A,W,U){const F=I/A,ee=z/W,se=I/2,ne=z/2,me=N/2,be=A+1,Se=W+1;let Ue=0,J=0;const fe=new oe;for(let re=0;re<Se;re++){const Ce=re*ee-ne;for(let ze=0;ze<be;ze++){const tt=ze*F-se;fe[b]=tt*S,fe[w]=Ce*C,fe[_]=me,c.push(fe.x,fe.y,fe.z),fe[b]=0,fe[w]=0,fe[_]=N>0?1:-1,u.push(fe.x,fe.y,fe.z),d.push(ze/A),d.push(1-re/W),Ue+=1}}for(let re=0;re<W;re++)for(let Ce=0;Ce<A;Ce++){const ze=f+Ce+be*re,tt=f+Ce+be*(re+1),Ie=f+(Ce+1)+be*(re+1),Xe=f+(Ce+1)+be*re;l.push(ze,tt,Xe),l.push(tt,Ie,Xe),J+=6}a.addGroup(v,J,U),v+=J,f+=Ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Im(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function oy(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ba(t){const e={};for(let n=0;n<t.length;n++){const r=oy(t[n]);for(const i in r)e[i]=r[i]}return e}function zOe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function wee(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:li.workingColorSpace}const See={clone:oy,merge:ba};var VOe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HOe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class el extends Ps{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=VOe,this.fragmentShader=HOe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=oy(e.uniforms),this.uniformsGroups=zOe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class d1 extends Hr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Un,this.projectionMatrix=new Un,this.projectionMatrixInverse=new Un,this.coordinateSystem=hu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dd=new oe,rj=new gt,ij=new gt;class Ui extends d1{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=sy*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Kp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sy*2*Math.atan(Math.tan(Kp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){dd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(dd.x,dd.y).multiplyScalar(-e/dd.z),dd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(dd.x,dd.y).multiplyScalar(-e/dd.z)}getViewSize(e,n){return this.getViewBounds(e,rj,ij),n.subVectors(ij,rj)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Kp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const sg=-90,og=1;class Aee extends Hr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ui(sg,og,e,n);i.layers=this.layers,this.add(i);const s=new Ui(sg,og,e,n);s.layers=this.layers,this.add(s);const o=new Ui(sg,og,e,n);o.layers=this.layers,this.add(o);const a=new Ui(sg,og,e,n);a.layers=this.layers,this.add(a);const l=new Ui(sg,og,e,n);l.layers=this.layers,this.add(l);const c=new Ui(sg,og,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===hu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===lb)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,v),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class f1 extends Yr{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:ku,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VF extends Tl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new f1(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Kr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Im(5,5,5),s=new el({name:"CubemapFromEquirect",uniforms:oy(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ia,blending:Au});s.uniforms.tEquirect.value=n;const o=new Ni(i,s),a=n.minFilter;return n.minFilter===sc&&(n.minFilter=Kr),new Aee(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const IR=new oe,jOe=new oe,GOe=new xr;class Zu{constructor(e=new oe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=IR.subVectors(r,n).cross(jOe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(IR),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||GOe.getNormalMatrix(e),i=this.coplanarPoint(IR).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Yf=new Ro,gS=new oe;class p1{constructor(e=new Zu,n=new Zu,r=new Zu,i=new Zu,s=new Zu,o=new Zu){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=hu){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],v=i[8],y=i[9],b=i[10],w=i[11],_=i[12],S=i[13],C=i[14],I=i[15];if(r[0].setComponents(l-s,f-c,w-v,I-_).normalize(),r[1].setComponents(l+s,f+c,w+v,I+_).normalize(),r[2].setComponents(l+o,f+u,w+y,I+S).normalize(),r[3].setComponents(l-o,f-u,w-y,I-S).normalize(),r[4].setComponents(l-a,f-d,w-b,I-C).normalize(),n===hu)r[5].setComponents(l+a,f+d,w+b,I+C).normalize();else if(n===lb)r[5].setComponents(a,d,b,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Yf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Yf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Yf)}intersectsSprite(e){return Yf.center.set(0,0,0),Yf.radius=.7071067811865476,Yf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(gS.x=i.normal.x>0?e.max.x:e.min.x,gS.y=i.normal.y>0?e.max.y:e.min.y,gS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(gS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Eee(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function $Oe(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let v;if(c instanceof Float32Array)v=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?v=t.HALF_FLOAT:v=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=t.SHORT;else if(c instanceof Uint32Array)v=t.UNSIGNED_INT;else if(c instanceof Int32Array)v=t.INT;else if(c instanceof Int8Array)v=t.BYTE;else if(c instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l._updateRange,f=l.updateRanges;if(t.bindBuffer(c,a),d.count===-1&&f.length===0&&t.bufferSubData(c,0,u),f.length!==0){for(let v=0,y=f.length;v<y;v++){const b=f[v];t.bufferSubData(c,b.start*u.BYTES_PER_ELEMENT,u,b.start,b.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}class Lf extends gr{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,v=[],y=[],b=[],w=[];for(let _=0;_<u;_++){const S=_*f-o;for(let C=0;C<c;C++){const I=C*d-s;y.push(I,-S,0),b.push(0,0,1),w.push(C/a),w.push(1-_/l)}}for(let _=0;_<l;_++)for(let S=0;S<a;S++){const C=S+c*_,I=S+c*(_+1),z=S+1+c*(_+1),N=S+1+c*_;v.push(C,I,N),v.push(I,z,N)}this.setIndex(v),this.setAttribute("position",new An(y,3)),this.setAttribute("normal",new An(b,3)),this.setAttribute("uv",new An(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lf(e.width,e.height,e.widthSegments,e.heightSegments)}}var WOe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,XOe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qOe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,KOe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YOe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,JOe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ZOe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,QOe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,eDe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tDe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,nDe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,rDe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iDe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,sDe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,oDe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,aDe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,lDe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,cDe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uDe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hDe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dDe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fDe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,pDe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,mDe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,gDe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,vDe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yDe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_De=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,xDe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,bDe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wDe="gl_FragColor = linearToOutputTexel( gl_FragColor );",SDe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,ADe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,EDe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,TDe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CDe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,MDe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,PDe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IDe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,RDe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,LDe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,kDe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ODe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DDe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,NDe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,BDe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,FDe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,UDe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zDe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,VDe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,HDe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jDe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,GDe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$De=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,WDe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,XDe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qDe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,KDe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YDe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,JDe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ZDe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,QDe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,eNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tNe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nNe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rNe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iNe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,sNe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,oNe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,aNe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,lNe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,cNe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,uNe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fNe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,pNe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,mNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,gNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,vNe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,yNe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_Ne=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,xNe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,bNe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wNe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,SNe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ANe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ENe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,TNe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,CNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,MNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,PNe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,INe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,RNe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,LNe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,kNe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ONe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,DNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NNe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,BNe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,FNe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,UNe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,zNe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,VNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,HNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,GNe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $Ne=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WNe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,XNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qNe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YNe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JNe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ZNe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,QNe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eBe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,tBe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nBe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rBe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iBe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sBe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,oBe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aBe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lBe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cBe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uBe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hBe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dBe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fBe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pBe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mBe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gBe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vBe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yBe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Be=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xBe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bBe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wBe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,SBe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ABe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wr={alphahash_fragment:WOe,alphahash_pars_fragment:XOe,alphamap_fragment:qOe,alphamap_pars_fragment:KOe,alphatest_fragment:YOe,alphatest_pars_fragment:JOe,aomap_fragment:ZOe,aomap_pars_fragment:QOe,batching_pars_vertex:eDe,batching_vertex:tDe,begin_vertex:nDe,beginnormal_vertex:rDe,bsdfs:iDe,iridescence_fragment:sDe,bumpmap_pars_fragment:oDe,clipping_planes_fragment:aDe,clipping_planes_pars_fragment:lDe,clipping_planes_pars_vertex:cDe,clipping_planes_vertex:uDe,color_fragment:hDe,color_pars_fragment:dDe,color_pars_vertex:fDe,color_vertex:pDe,common:mDe,cube_uv_reflection_fragment:gDe,defaultnormal_vertex:vDe,displacementmap_pars_vertex:yDe,displacementmap_vertex:_De,emissivemap_fragment:xDe,emissivemap_pars_fragment:bDe,colorspace_fragment:wDe,colorspace_pars_fragment:SDe,envmap_fragment:ADe,envmap_common_pars_fragment:EDe,envmap_pars_fragment:TDe,envmap_pars_vertex:CDe,envmap_physical_pars_fragment:FDe,envmap_vertex:MDe,fog_vertex:PDe,fog_pars_vertex:IDe,fog_fragment:RDe,fog_pars_fragment:LDe,gradientmap_pars_fragment:kDe,lightmap_pars_fragment:ODe,lights_lambert_fragment:DDe,lights_lambert_pars_fragment:NDe,lights_pars_begin:BDe,lights_toon_fragment:UDe,lights_toon_pars_fragment:zDe,lights_phong_fragment:VDe,lights_phong_pars_fragment:HDe,lights_physical_fragment:jDe,lights_physical_pars_fragment:GDe,lights_fragment_begin:$De,lights_fragment_maps:WDe,lights_fragment_end:XDe,logdepthbuf_fragment:qDe,logdepthbuf_pars_fragment:KDe,logdepthbuf_pars_vertex:YDe,logdepthbuf_vertex:JDe,map_fragment:ZDe,map_pars_fragment:QDe,map_particle_fragment:eNe,map_particle_pars_fragment:tNe,metalnessmap_fragment:nNe,metalnessmap_pars_fragment:rNe,morphinstance_vertex:iNe,morphcolor_vertex:sNe,morphnormal_vertex:oNe,morphtarget_pars_vertex:aNe,morphtarget_vertex:lNe,normal_fragment_begin:cNe,normal_fragment_maps:uNe,normal_pars_fragment:hNe,normal_pars_vertex:dNe,normal_vertex:fNe,normalmap_pars_fragment:pNe,clearcoat_normal_fragment_begin:mNe,clearcoat_normal_fragment_maps:gNe,clearcoat_pars_fragment:vNe,iridescence_pars_fragment:yNe,opaque_fragment:_Ne,packing:xNe,premultiplied_alpha_fragment:bNe,project_vertex:wNe,dithering_fragment:SNe,dithering_pars_fragment:ANe,roughnessmap_fragment:ENe,roughnessmap_pars_fragment:TNe,shadowmap_pars_fragment:CNe,shadowmap_pars_vertex:MNe,shadowmap_vertex:PNe,shadowmask_pars_fragment:INe,skinbase_vertex:RNe,skinning_pars_vertex:LNe,skinning_vertex:kNe,skinnormal_vertex:ONe,specularmap_fragment:DNe,specularmap_pars_fragment:NNe,tonemapping_fragment:BNe,tonemapping_pars_fragment:FNe,transmission_fragment:UNe,transmission_pars_fragment:zNe,uv_pars_fragment:VNe,uv_pars_vertex:HNe,uv_vertex:jNe,worldpos_vertex:GNe,background_vert:$Ne,background_frag:WNe,backgroundCube_vert:XNe,backgroundCube_frag:qNe,cube_vert:KNe,cube_frag:YNe,depth_vert:JNe,depth_frag:ZNe,distanceRGBA_vert:QNe,distanceRGBA_frag:eBe,equirect_vert:tBe,equirect_frag:nBe,linedashed_vert:rBe,linedashed_frag:iBe,meshbasic_vert:sBe,meshbasic_frag:oBe,meshlambert_vert:aBe,meshlambert_frag:lBe,meshmatcap_vert:cBe,meshmatcap_frag:uBe,meshnormal_vert:hBe,meshnormal_frag:dBe,meshphong_vert:fBe,meshphong_frag:pBe,meshphysical_vert:mBe,meshphysical_frag:gBe,meshtoon_vert:vBe,meshtoon_frag:yBe,points_vert:_Be,points_frag:xBe,shadow_vert:bBe,shadow_frag:wBe,sprite_vert:SBe,sprite_frag:ABe},Jt={common:{diffuse:{value:new Zt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new xr},alphaMap:{value:null},alphaMapTransform:{value:new xr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new xr}},envmap:{envMap:{value:null},envMapRotation:{value:new xr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new xr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new xr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new xr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new xr},normalScale:{value:new gt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new xr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new xr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new xr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new xr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Zt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new xr},alphaTest:{value:0},uvTransform:{value:new xr}},sprite:{diffuse:{value:new Zt(16777215)},opacity:{value:1},center:{value:new gt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new xr},alphaMap:{value:null},alphaMapTransform:{value:new xr},alphaTest:{value:0}}},Rc={basic:{uniforms:ba([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.fog]),vertexShader:wr.meshbasic_vert,fragmentShader:wr.meshbasic_frag},lambert:{uniforms:ba([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,Jt.lights,{emissive:{value:new Zt(0)}}]),vertexShader:wr.meshlambert_vert,fragmentShader:wr.meshlambert_frag},phong:{uniforms:ba([Jt.common,Jt.specularmap,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,Jt.lights,{emissive:{value:new Zt(0)},specular:{value:new Zt(1118481)},shininess:{value:30}}]),vertexShader:wr.meshphong_vert,fragmentShader:wr.meshphong_frag},standard:{uniforms:ba([Jt.common,Jt.envmap,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.roughnessmap,Jt.metalnessmap,Jt.fog,Jt.lights,{emissive:{value:new Zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wr.meshphysical_vert,fragmentShader:wr.meshphysical_frag},toon:{uniforms:ba([Jt.common,Jt.aomap,Jt.lightmap,Jt.emissivemap,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.gradientmap,Jt.fog,Jt.lights,{emissive:{value:new Zt(0)}}]),vertexShader:wr.meshtoon_vert,fragmentShader:wr.meshtoon_frag},matcap:{uniforms:ba([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,Jt.fog,{matcap:{value:null}}]),vertexShader:wr.meshmatcap_vert,fragmentShader:wr.meshmatcap_frag},points:{uniforms:ba([Jt.points,Jt.fog]),vertexShader:wr.points_vert,fragmentShader:wr.points_frag},dashed:{uniforms:ba([Jt.common,Jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wr.linedashed_vert,fragmentShader:wr.linedashed_frag},depth:{uniforms:ba([Jt.common,Jt.displacementmap]),vertexShader:wr.depth_vert,fragmentShader:wr.depth_frag},normal:{uniforms:ba([Jt.common,Jt.bumpmap,Jt.normalmap,Jt.displacementmap,{opacity:{value:1}}]),vertexShader:wr.meshnormal_vert,fragmentShader:wr.meshnormal_frag},sprite:{uniforms:ba([Jt.sprite,Jt.fog]),vertexShader:wr.sprite_vert,fragmentShader:wr.sprite_frag},background:{uniforms:{uvTransform:{value:new xr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wr.background_vert,fragmentShader:wr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new xr}},vertexShader:wr.backgroundCube_vert,fragmentShader:wr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wr.cube_vert,fragmentShader:wr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wr.equirect_vert,fragmentShader:wr.equirect_frag},distanceRGBA:{uniforms:ba([Jt.common,Jt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wr.distanceRGBA_vert,fragmentShader:wr.distanceRGBA_frag},shadow:{uniforms:ba([Jt.lights,Jt.fog,{color:{value:new Zt(0)},opacity:{value:1}}]),vertexShader:wr.shadow_vert,fragmentShader:wr.shadow_frag}};Rc.physical={uniforms:ba([Rc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new xr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new xr},clearcoatNormalScale:{value:new gt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new xr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new xr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new xr},sheen:{value:0},sheenColor:{value:new Zt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new xr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new xr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new xr},transmissionSamplerSize:{value:new gt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new xr},attenuationDistance:{value:0},attenuationColor:{value:new Zt(0)},specularColor:{value:new Zt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new xr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new xr},anisotropyVector:{value:new gt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new xr}}]),vertexShader:wr.meshphysical_vert,fragmentShader:wr.meshphysical_frag};const vS={r:0,b:0,g:0},Jf=new Cl,EBe=new Un;function TBe(t,e,n,r,i,s,o){const a=new Zt(0);let l=s===!0?0:1,c,u,d=null,f=0,v=null;function y(S){let C=S.isScene===!0?S.background:null;return C&&C.isTexture&&(C=(S.backgroundBlurriness>0?n:e).get(C)),C}function b(S){let C=!1;const I=y(S);I===null?_(a,l):I&&I.isColor&&(_(I,1),C=!0);const z=t.xr.getEnvironmentBlendMode();z==="additive"?r.buffers.color.setClear(0,0,0,1,o):z==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||C)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil)}function w(S,C){const I=y(C);I&&(I.isCubeTexture||I.mapping===Py)?(u===void 0&&(u=new Ni(new Im(1,1,1),new el({name:"BackgroundCubeMaterial",uniforms:oy(Rc.backgroundCube.uniforms),vertexShader:Rc.backgroundCube.vertexShader,fragmentShader:Rc.backgroundCube.fragmentShader,side:Ia,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(z,N,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Jf.copy(C.backgroundRotation),Jf.x*=-1,Jf.y*=-1,Jf.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Jf.y*=-1,Jf.z*=-1),u.material.uniforms.envMap.value=I,u.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(EBe.makeRotationFromEuler(Jf)),u.material.toneMapped=li.getTransfer(I.colorSpace)!==xi,(d!==I||f!==I.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,d=I,f=I.version,v=t.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null)):I&&I.isTexture&&(c===void 0&&(c=new Ni(new Lf(2,2),new el({name:"BackgroundMaterial",uniforms:oy(Rc.background.uniforms),vertexShader:Rc.background.vertexShader,fragmentShader:Rc.background.fragmentShader,side:Lu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=I,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.toneMapped=li.getTransfer(I.colorSpace)!==xi,I.matrixAutoUpdate===!0&&I.updateMatrix(),c.material.uniforms.uvTransform.value.copy(I.matrix),(d!==I||f!==I.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,d=I,f=I.version,v=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function _(S,C){S.getRGB(vS,wee(t)),r.buffers.color.setClear(vS.r,vS.g,vS.b,C,o)}return{getClearColor:function(){return a},setClearColor:function(S,C=1){a.set(S),l=C,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,_(a,l)},render:b,addToRenderList:w}}function CBe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function a(F,ee,se,ne,me){let be=!1;const Se=d(ne,se,ee);s!==Se&&(s=Se,c(s.object)),be=v(F,ne,se,me),be&&y(F,ne,se,me),me!==null&&e.update(me,t.ELEMENT_ARRAY_BUFFER),(be||o)&&(o=!1,I(F,ee,se,ne),me!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(me).buffer))}function l(){return t.createVertexArray()}function c(F){return t.bindVertexArray(F)}function u(F){return t.deleteVertexArray(F)}function d(F,ee,se){const ne=se.wireframe===!0;let me=r[F.id];me===void 0&&(me={},r[F.id]=me);let be=me[ee.id];be===void 0&&(be={},me[ee.id]=be);let Se=be[ne];return Se===void 0&&(Se=f(l()),be[ne]=Se),Se}function f(F){const ee=[],se=[],ne=[];for(let me=0;me<n;me++)ee[me]=0,se[me]=0,ne[me]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:se,attributeDivisors:ne,object:F,attributes:{},index:null}}function v(F,ee,se,ne){const me=s.attributes,be=ee.attributes;let Se=0;const Ue=se.getAttributes();for(const J in Ue)if(Ue[J].location>=0){const re=me[J];let Ce=be[J];if(Ce===void 0&&(J==="instanceMatrix"&&F.instanceMatrix&&(Ce=F.instanceMatrix),J==="instanceColor"&&F.instanceColor&&(Ce=F.instanceColor)),re===void 0||re.attribute!==Ce||Ce&&re.data!==Ce.data)return!0;Se++}return s.attributesNum!==Se||s.index!==ne}function y(F,ee,se,ne){const me={},be=ee.attributes;let Se=0;const Ue=se.getAttributes();for(const J in Ue)if(Ue[J].location>=0){let re=be[J];re===void 0&&(J==="instanceMatrix"&&F.instanceMatrix&&(re=F.instanceMatrix),J==="instanceColor"&&F.instanceColor&&(re=F.instanceColor));const Ce={};Ce.attribute=re,re&&re.data&&(Ce.data=re.data),me[J]=Ce,Se++}s.attributes=me,s.attributesNum=Se,s.index=ne}function b(){const F=s.newAttributes;for(let ee=0,se=F.length;ee<se;ee++)F[ee]=0}function w(F){_(F,0)}function _(F,ee){const se=s.newAttributes,ne=s.enabledAttributes,me=s.attributeDivisors;se[F]=1,ne[F]===0&&(t.enableVertexAttribArray(F),ne[F]=1),me[F]!==ee&&(t.vertexAttribDivisor(F,ee),me[F]=ee)}function S(){const F=s.newAttributes,ee=s.enabledAttributes;for(let se=0,ne=ee.length;se<ne;se++)ee[se]!==F[se]&&(t.disableVertexAttribArray(se),ee[se]=0)}function C(F,ee,se,ne,me,be,Se){Se===!0?t.vertexAttribIPointer(F,ee,se,me,be):t.vertexAttribPointer(F,ee,se,ne,me,be)}function I(F,ee,se,ne){b();const me=ne.attributes,be=se.getAttributes(),Se=ee.defaultAttributeValues;for(const Ue in be){const J=be[Ue];if(J.location>=0){let fe=me[Ue];if(fe===void 0&&(Ue==="instanceMatrix"&&F.instanceMatrix&&(fe=F.instanceMatrix),Ue==="instanceColor"&&F.instanceColor&&(fe=F.instanceColor)),fe!==void 0){const re=fe.normalized,Ce=fe.itemSize,ze=e.get(fe);if(ze===void 0)continue;const tt=ze.buffer,Ie=ze.type,Xe=ze.bytesPerElement,Re=Ie===t.INT||Ie===t.UNSIGNED_INT||fe.gpuType===CM;if(fe.isInterleavedBufferAttribute){const qe=fe.data,Ot=qe.stride,ln=fe.offset;if(qe.isInstancedInterleavedBuffer){for(let Me=0;Me<J.locationSize;Me++)_(J.location+Me,qe.meshPerAttribute);F.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=qe.meshPerAttribute*qe.count)}else for(let Me=0;Me<J.locationSize;Me++)w(J.location+Me);t.bindBuffer(t.ARRAY_BUFFER,tt);for(let Me=0;Me<J.locationSize;Me++)C(J.location+Me,Ce/J.locationSize,Ie,re,Ot*Xe,(ln+Ce/J.locationSize*Me)*Xe,Re)}else{if(fe.isInstancedBufferAttribute){for(let qe=0;qe<J.locationSize;qe++)_(J.location+qe,fe.meshPerAttribute);F.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let qe=0;qe<J.locationSize;qe++)w(J.location+qe);t.bindBuffer(t.ARRAY_BUFFER,tt);for(let qe=0;qe<J.locationSize;qe++)C(J.location+qe,Ce/J.locationSize,Ie,re,Ce*Xe,Ce/J.locationSize*qe*Xe,Re)}}else if(Se!==void 0){const re=Se[Ue];if(re!==void 0)switch(re.length){case 2:t.vertexAttrib2fv(J.location,re);break;case 3:t.vertexAttrib3fv(J.location,re);break;case 4:t.vertexAttrib4fv(J.location,re);break;default:t.vertexAttrib1fv(J.location,re)}}}}S()}function z(){W();for(const F in r){const ee=r[F];for(const se in ee){const ne=ee[se];for(const me in ne)u(ne[me].object),delete ne[me];delete ee[se]}delete r[F]}}function N(F){if(r[F.id]===void 0)return;const ee=r[F.id];for(const se in ee){const ne=ee[se];for(const me in ne)u(ne[me].object),delete ne[me];delete ee[se]}delete r[F.id]}function A(F){for(const ee in r){const se=r[ee];if(se[F.id]===void 0)continue;const ne=se[F.id];for(const me in ne)u(ne[me].object),delete ne[me];delete se[F.id]}}function W(){U(),o=!0,s!==i&&(s=i,c(s.object))}function U(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:W,resetDefaultState:U,dispose:z,releaseStatesOfGeometry:N,releaseStatesOfProgram:A,initAttributes:b,enableAttribute:w,disableUnusedAttributes:S}}function MBe(t,e,n){let r;function i(c){r=c}function s(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function o(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let v=0;v<d;v++)this.render(c[v],u[v]);else{f.multiDrawArraysWEBGL(r,c,0,u,0,d);let v=0;for(let y=0;y<d;y++)v+=u[y];n.update(v,r,1)}}function l(c,u,d,f){if(d===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<c.length;y++)o(c[y],u[y],f[y]);else{v.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let y=0;for(let b=0;b<d;b++)y+=u[b];for(let b=0;b<f.length;b++)n.update(y,r,f[b])}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function PBe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(N){return!(N!==zs&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(N){const A=N===Co&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==El&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==gs&&!A)}function l(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),I=v>0,z=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:b,maxAttributes:w,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:C,vertexTextures:I,maxSamples:z}}function IBe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Zu,a=new xr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const v=d.length!==0||f||r!==0||i;return i=f,r=d.length,v},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,v){const y=d.clippingPlanes,b=d.clipIntersection,w=d.clipShadows,_=t.get(d);if(!i||y===null||y.length===0||s&&!w)s?u(null):c();else{const S=s?0:r,C=S*4;let I=_.clippingState||null;l.value=I,I=u(y,f,C,v);for(let z=0;z!==C;++z)I[z]=n[z];_.clippingState=I,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,v,y){const b=d!==null?d.length:0;let w=null;if(b!==0){if(w=l.value,y!==!0||w===null){const _=v+b*4,S=f.matrixWorldInverse;a.getNormalMatrix(S),(w===null||w.length<_)&&(w=new Float32Array(_));for(let C=0,I=v;C!==b;++C,I+=4)o.copy(d[C]).applyMatrix4(S,a),o.normal.toArray(w,I),w[I+3]=o.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,w}}function RBe(t){let e=new WeakMap;function n(o,a){return a===ty?o.mapping=ku:a===nb&&(o.mapping=pf),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===ty||a===nb)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new VF(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Dc extends d1{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Zg=4,sj=[.125,.215,.35,.446,.526,.582],xp=20,RR=new Dc,oj=new Zt;let LR=null,kR=0,OR=0,DR=!1;const gp=(1+Math.sqrt(5))/2,ag=1/gp,aj=[new oe(-gp,ag,0),new oe(gp,ag,0),new oe(-ag,0,gp),new oe(ag,0,gp),new oe(0,gp,-ag),new oe(0,gp,ag),new oe(-1,1,-1),new oe(1,1,-1),new oe(-1,1,1),new oe(1,1,1)];class dD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){LR=this._renderer.getRenderTarget(),kR=this._renderer.getActiveCubeFace(),OR=this._renderer.getActiveMipmapLevel(),DR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=cj(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(LR,kR,OR),this._renderer.xr.enabled=DR,e.scissorTest=!1,yS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ku||e.mapping===pf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),LR=this._renderer.getRenderTarget(),kR=this._renderer.getActiveCubeFace(),OR=this._renderer.getActiveMipmapLevel(),DR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Kr,minFilter:Kr,generateMipmaps:!1,type:Co,format:zs,colorSpace:uc,depthBuffer:!1},i=lj(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lj(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=LBe(s)),this._blurMaterial=kBe(s,e,n)}return i}_compileMaterial(e){const n=new Ni(this._lodPlanes[0],e);this._renderer.compile(n,RR)}_sceneToCubeUV(e,n,r,i){const a=new Ui(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(oj),u.toneMapping=Eu,u.autoClear=!1;const v=new Ka({name:"PMREM.Background",side:Ia,depthWrite:!1,depthTest:!1}),y=new Ni(new Im,v);let b=!1;const w=e.background;w?w.isColor&&(v.color.copy(w),e.background=null,b=!0):(v.color.copy(oj),b=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):S===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const C=this._cubeSize;yS(i,S*C,_>2?C:0,C,C),u.setRenderTarget(i),b&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=w}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ku||e.mapping===pf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=uj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=cj());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Ni(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;yS(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,RR)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=aj[(i-s-1)%aj.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Ni(this._lodPlanes[i],c),f=c.uniforms,v=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*xp-1),b=s/y,w=isFinite(s)?1+Math.floor(u*b):xp;w>xp&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${xp}`);const _=[];let S=0;for(let A=0;A<xp;++A){const W=A/b,U=Math.exp(-W*W/2);_.push(U),A===0?S+=U:A<w&&(S+=2*U)}for(let A=0;A<_.length;A++)_[A]=_[A]/S;f.envMap.value=e.texture,f.samples.value=w,f.weights.value=_,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:C}=this;f.dTheta.value=y,f.mipInt.value=C-r;const I=this._sizeLods[i],z=3*I*(i>C-Zg?i-C+Zg:0),N=4*(this._cubeSize-I);yS(n,z,N,3*I,2*I),l.setRenderTarget(n),l.render(d,RR)}}function LBe(t){const e=[],n=[],r=[];let i=t;const s=t-Zg+1+sj.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Zg?l=sj[o-t+Zg-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],v=6,y=6,b=3,w=2,_=1,S=new Float32Array(b*y*v),C=new Float32Array(w*y*v),I=new Float32Array(_*y*v);for(let N=0;N<v;N++){const A=N%3*2/3-1,W=N>2?0:-1,U=[A,W,0,A+2/3,W,0,A+2/3,W+1,0,A,W,0,A+2/3,W+1,0,A,W+1,0];S.set(U,b*y*N),C.set(f,w*y*N);const F=[N,N,N,N,N,N];I.set(F,_*y*N)}const z=new gr;z.setAttribute("position",new jr(S,b)),z.setAttribute("uv",new jr(C,w)),z.setAttribute("faceIndex",new jr(I,_)),e.push(z),i>Zg&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function lj(t,e,n){const r=new Tl(t,e,n);return r.texture.mapping=Py,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function yS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function kBe(t,e,n){const r=new Float32Array(xp),i=new oe(0,1,0);return new el({name:"SphericalGaussianBlur",defines:{n:xp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:HF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Au,depthTest:!1,depthWrite:!1})}function cj(){return new el({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:HF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Au,depthTest:!1,depthWrite:!1})}function uj(){return new el({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Au,depthTest:!1,depthWrite:!1})}function HF(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function OBe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ty||l===nb,u=l===ku||l===pf;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new dD(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const v=a.image;return c&&v&&v.height>0||u&&v&&i(v)?(n===null&&(n=new dD(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function DBe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function NBe(t,e,n,r){const i={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const y in f.attributes)e.remove(f.attributes[y]);for(const y in f.morphAttributes){const b=f.morphAttributes[y];for(let w=0,_=b.length;w<_;w++)e.remove(b[w])}f.removeEventListener("dispose",o),delete i[f.id];const v=s.get(f);v&&(e.remove(v),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const y in f)e.update(f[y],t.ARRAY_BUFFER);const v=d.morphAttributes;for(const y in v){const b=v[y];for(let w=0,_=b.length;w<_;w++)e.update(b[w],t.ARRAY_BUFFER)}}function c(d){const f=[],v=d.index,y=d.attributes.position;let b=0;if(v!==null){const S=v.array;b=v.version;for(let C=0,I=S.length;C<I;C+=3){const z=S[C+0],N=S[C+1],A=S[C+2];f.push(z,N,N,A,A,z)}}else if(y!==void 0){const S=y.array;b=y.version;for(let C=0,I=S.length/3-1;C<I;C+=3){const z=C+0,N=C+1,A=C+2;f.push(z,N,N,A,A,z)}}else return;const w=new(gee(f)?zF:UF)(f,1);w.version=b;const _=s.get(d);_&&e.remove(_),s.set(d,w)}function u(d){const f=s.get(d);if(f){const v=d.index;v!==null&&f.version<v.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function BBe(t,e,n){let r;function i(f){r=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,v){t.drawElements(r,v,s,f*o),n.update(v,r,1)}function c(f,v,y){y!==0&&(t.drawElementsInstanced(r,v,s,f*o,y),n.update(v,r,y))}function u(f,v,y){if(y===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let w=0;w<y;w++)this.render(f[w]/o,v[w]);else{b.multiDrawElementsWEBGL(r,v,0,s,f,0,y);let w=0;for(let _=0;_<y;_++)w+=v[_];n.update(w,r,1)}}function d(f,v,y,b){if(y===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let _=0;_<f.length;_++)c(f[_]/o,v[_],b[_]);else{w.multiDrawElementsInstancedWEBGL(r,v,0,s,f,0,b,0,y);let _=0;for(let S=0;S<y;S++)_+=v[S];for(let S=0;S<b.length;S++)n.update(_,r,b[S])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function FBe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function UBe(t,e,n){const r=new WeakMap,i=new ci;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let F=function(){W.dispose(),r.delete(a),a.removeEventListener("dispose",F)};var v=F;f!==void 0&&f.texture.dispose();const y=a.morphAttributes.position!==void 0,b=a.morphAttributes.normal!==void 0,w=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let I=0;y===!0&&(I=1),b===!0&&(I=2),w===!0&&(I=3);let z=a.attributes.position.count*I,N=1;z>e.maxTextureSize&&(N=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const A=new Float32Array(z*N*4*d),W=new RM(A,z,N,d);W.type=gs,W.needsUpdate=!0;const U=I*4;for(let ee=0;ee<d;ee++){const se=_[ee],ne=S[ee],me=C[ee],be=z*N*4*ee;for(let Se=0;Se<se.count;Se++){const Ue=Se*U;y===!0&&(i.fromBufferAttribute(se,Se),A[be+Ue+0]=i.x,A[be+Ue+1]=i.y,A[be+Ue+2]=i.z,A[be+Ue+3]=0),b===!0&&(i.fromBufferAttribute(ne,Se),A[be+Ue+4]=i.x,A[be+Ue+5]=i.y,A[be+Ue+6]=i.z,A[be+Ue+7]=0),w===!0&&(i.fromBufferAttribute(me,Se),A[be+Ue+8]=i.x,A[be+Ue+9]=i.y,A[be+Ue+10]=i.z,A[be+Ue+11]=me.itemSize===4?i.w:1)}}f={count:d,texture:W,size:new gt(z,N)},r.set(a,f),a.addEventListener("dispose",F)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let w=0;w<c.length;w++)y+=c[w];const b=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function zBe(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class jF extends Yr{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:qp,u!==qp&&u!==ry)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===qp&&(r=gf),r===void 0&&u===ry&&(r=Iy),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Us,this.minFilter=l!==void 0?l:Us,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Tee=new Yr,Cee=new jF(1,1);Cee.compareFunction=NF;const Mee=new RM,Pee=new FF,Iee=new f1,hj=[],dj=[],fj=new Float32Array(16),pj=new Float32Array(9),mj=new Float32Array(4);function Ry(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=hj[i];if(s===void 0&&(s=new Float32Array(i),hj[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Hs(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function js(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function LM(t,e){let n=dj[e];n===void 0&&(n=new Int32Array(e),dj[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function VBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function HBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Hs(n,e))return;t.uniform2fv(this.addr,e),js(n,e)}}function jBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Hs(n,e))return;t.uniform3fv(this.addr,e),js(n,e)}}function GBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Hs(n,e))return;t.uniform4fv(this.addr,e),js(n,e)}}function $Be(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Hs(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),js(n,e)}else{if(Hs(n,r))return;mj.set(r),t.uniformMatrix2fv(this.addr,!1,mj),js(n,r)}}function WBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Hs(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),js(n,e)}else{if(Hs(n,r))return;pj.set(r),t.uniformMatrix3fv(this.addr,!1,pj),js(n,r)}}function XBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Hs(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),js(n,e)}else{if(Hs(n,r))return;fj.set(r),t.uniformMatrix4fv(this.addr,!1,fj),js(n,r)}}function qBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function KBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Hs(n,e))return;t.uniform2iv(this.addr,e),js(n,e)}}function YBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Hs(n,e))return;t.uniform3iv(this.addr,e),js(n,e)}}function JBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Hs(n,e))return;t.uniform4iv(this.addr,e),js(n,e)}}function ZBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function QBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Hs(n,e))return;t.uniform2uiv(this.addr,e),js(n,e)}}function e3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Hs(n,e))return;t.uniform3uiv(this.addr,e),js(n,e)}}function t3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Hs(n,e))return;t.uniform4uiv(this.addr,e),js(n,e)}}function n3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?Cee:Tee;n.setTexture2D(e||s,i)}function r3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Pee,i)}function i3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Iee,i)}function s3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Mee,i)}function o3e(t){switch(t){case 5126:return VBe;case 35664:return HBe;case 35665:return jBe;case 35666:return GBe;case 35674:return $Be;case 35675:return WBe;case 35676:return XBe;case 5124:case 35670:return qBe;case 35667:case 35671:return KBe;case 35668:case 35672:return YBe;case 35669:case 35673:return JBe;case 5125:return ZBe;case 36294:return QBe;case 36295:return e3e;case 36296:return t3e;case 35678:case 36198:case 36298:case 36306:case 35682:return n3e;case 35679:case 36299:case 36307:return r3e;case 35680:case 36300:case 36308:case 36293:return i3e;case 36289:case 36303:case 36311:case 36292:return s3e}}function a3e(t,e){t.uniform1fv(this.addr,e)}function l3e(t,e){const n=Ry(e,this.size,2);t.uniform2fv(this.addr,n)}function c3e(t,e){const n=Ry(e,this.size,3);t.uniform3fv(this.addr,n)}function u3e(t,e){const n=Ry(e,this.size,4);t.uniform4fv(this.addr,n)}function h3e(t,e){const n=Ry(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function d3e(t,e){const n=Ry(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function f3e(t,e){const n=Ry(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function p3e(t,e){t.uniform1iv(this.addr,e)}function m3e(t,e){t.uniform2iv(this.addr,e)}function g3e(t,e){t.uniform3iv(this.addr,e)}function v3e(t,e){t.uniform4iv(this.addr,e)}function y3e(t,e){t.uniform1uiv(this.addr,e)}function _3e(t,e){t.uniform2uiv(this.addr,e)}function x3e(t,e){t.uniform3uiv(this.addr,e)}function b3e(t,e){t.uniform4uiv(this.addr,e)}function w3e(t,e,n){const r=this.cache,i=e.length,s=LM(n,i);Hs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||Tee,s[o])}function S3e(t,e,n){const r=this.cache,i=e.length,s=LM(n,i);Hs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||Pee,s[o])}function A3e(t,e,n){const r=this.cache,i=e.length,s=LM(n,i);Hs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||Iee,s[o])}function E3e(t,e,n){const r=this.cache,i=e.length,s=LM(n,i);Hs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Mee,s[o])}function T3e(t){switch(t){case 5126:return a3e;case 35664:return l3e;case 35665:return c3e;case 35666:return u3e;case 35674:return h3e;case 35675:return d3e;case 35676:return f3e;case 5124:case 35670:return p3e;case 35667:case 35671:return m3e;case 35668:case 35672:return g3e;case 35669:case 35673:return v3e;case 5125:return y3e;case 36294:return _3e;case 36295:return x3e;case 36296:return b3e;case 35678:case 36198:case 36298:case 36306:case 35682:return w3e;case 35679:case 36299:case 36307:return S3e;case 35680:case 36300:case 36308:case 36293:return A3e;case 36289:case 36303:case 36311:case 36292:return E3e}}class C3e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=o3e(n.type)}}class M3e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=T3e(n.type)}}class P3e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const NR=/(\w+)(\])?(\[|\.)?/g;function gj(t,e){t.seq.push(e),t.map[e.id]=e}function I3e(t,e,n){const r=t.name,i=r.length;for(NR.lastIndex=0;;){const s=NR.exec(r),o=NR.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){gj(n,c===void 0?new C3e(a,t,e):new M3e(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new P3e(a),gj(n,d)),n=d}}}class YA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);I3e(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function vj(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const R3e=37297;let L3e=0;function k3e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function O3e(t){const e=li.getPrimaries(li.workingColorSpace),n=li.getPrimaries(t);let r;switch(e===n?r="":e===ob&&n===sb?r="LinearDisplayP3ToLinearSRGB":e===sb&&n===ob&&(r="LinearSRGBToLinearDisplayP3"),t){case uc:case h1:return[r,"LinearTransferOETF"];case hl:case IM:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function yj(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+k3e(t.getShaderSource(e),o)}else return i}function D3e(t,e){const n=O3e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function N3e(t,e){let n;switch(e){case VQ:n="Linear";break;case HQ:n="Reinhard";break;case jQ:n="OptimizedCineon";break;case EF:n="ACESFilmic";break;case $Q:n="AgX";break;case WQ:n="Neutral";break;case GQ:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function B3e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Q0).join(`
`)}function F3e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function U3e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Q0(t){return t!==""}function _j(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xj(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const z3e=/^[ \t]*#include +<([\w\d./]+)>/gm;function fD(t){return t.replace(z3e,H3e)}const V3e=new Map;function H3e(t,e){let n=wr[e];if(n===void 0){const r=V3e.get(e);if(r!==void 0)n=wr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return fD(n)}const j3e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bj(t){return t.replace(j3e,G3e)}function G3e(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function wj(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $3e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===EM?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===L_?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Cc&&(e="SHADOWMAP_TYPE_VSM"),e}function W3e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ku:case pf:e="ENVMAP_TYPE_CUBE";break;case Py:e="ENVMAP_TYPE_CUBE_UV";break}return e}function X3e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case pf:e="ENVMAP_MODE_REFRACTION";break}return e}function q3e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case u1:e="ENVMAP_BLENDING_MULTIPLY";break;case UQ:e="ENVMAP_BLENDING_MIX";break;case zQ:e="ENVMAP_BLENDING_ADD";break}return e}function K3e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Y3e(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=$3e(n),c=W3e(n),u=X3e(n),d=q3e(n),f=K3e(n),v=B3e(n),y=F3e(s),b=i.createProgram();let w,_,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Q0).join(`
`),w.length>0&&(w+=`
`),_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(Q0).join(`
`),_.length>0&&(_+=`
`)):(w=[wj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Q0).join(`
`),_=[wj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Eu?"#define TONE_MAPPING":"",n.toneMapping!==Eu?wr.tonemapping_pars_fragment:"",n.toneMapping!==Eu?N3e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",wr.colorspace_pars_fragment,D3e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Q0).join(`
`)),o=fD(o),o=_j(o,n),o=xj(o,n),a=fD(a),a=_j(a,n),a=xj(a,n),o=bj(o),a=bj(a),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,w=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,_=["#define varying in",n.glslVersion===hD?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===hD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const C=S+w+o,I=S+_+a,z=vj(i,i.VERTEX_SHADER,C),N=vj(i,i.FRAGMENT_SHADER,I);i.attachShader(b,z),i.attachShader(b,N),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function A(ee){if(t.debug.checkShaderErrors){const se=i.getProgramInfoLog(b).trim(),ne=i.getShaderInfoLog(z).trim(),me=i.getShaderInfoLog(N).trim();let be=!0,Se=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(be=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,z,N);else{const Ue=yj(i,z,"vertex"),J=yj(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+ee.name+`
Material Type: `+ee.type+`

Program Info Log: `+se+`
`+Ue+`
`+J)}else se!==""?console.warn("THREE.WebGLProgram: Program Info Log:",se):(ne===""||me==="")&&(Se=!1);Se&&(ee.diagnostics={runnable:be,programLog:se,vertexShader:{log:ne,prefix:w},fragmentShader:{log:me,prefix:_}})}i.deleteShader(z),i.deleteShader(N),W=new YA(i,b),U=U3e(i,b)}let W;this.getUniforms=function(){return W===void 0&&A(this),W};let U;this.getAttributes=function(){return U===void 0&&A(this),U};let F=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=i.getProgramParameter(b,R3e)),F},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=L3e++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=z,this.fragmentShader=N,this}let J3e=0;class Z3e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Q3e(e),n.set(e,r)),r}}class Q3e{constructor(e){this.id=J3e++,this.code=e,this.usedTimes=0}}function eFe(t,e,n,r,i,s,o){const a=new Yp,l=new Z3e,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(U){return c.add(U),U===0?"uv":`uv${U}`}function w(U,F,ee,se,ne){const me=se.fog,be=ne.geometry,Se=U.isMeshStandardMaterial?se.environment:null,Ue=(U.isMeshStandardMaterial?n:e).get(U.envMap||Se),J=Ue&&Ue.mapping===Py?Ue.image.height:null,fe=y[U.type];U.precision!==null&&(v=i.getMaxPrecision(U.precision),v!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",v,"instead."));const re=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Ce=re!==void 0?re.length:0;let ze=0;be.morphAttributes.position!==void 0&&(ze=1),be.morphAttributes.normal!==void 0&&(ze=2),be.morphAttributes.color!==void 0&&(ze=3);let tt,Ie,Xe,Re;if(fe){const Fn=Rc[fe];tt=Fn.vertexShader,Ie=Fn.fragmentShader}else tt=U.vertexShader,Ie=U.fragmentShader,l.update(U),Xe=l.getVertexShaderID(U),Re=l.getFragmentShaderID(U);const qe=t.getRenderTarget(),Ot=ne.isInstancedMesh===!0,ln=ne.isBatchedMesh===!0,Me=!!U.map,rn=!!U.matcap,We=!!Ue,rt=!!U.aoMap,lt=!!U.lightMap,bt=!!U.bumpMap,mt=!!U.normalMap,Rt=!!U.displacementMap,Ut=!!U.emissiveMap,X=!!U.metalnessMap,j=!!U.roughnessMap,ae=U.anisotropy>0,ve=U.clearcoat>0,de=U.dispersion>0,xe=U.iridescence>0,Ee=U.sheen>0,Ze=U.transmission>0,vt=ae&&!!U.anisotropyMap,Xt=ve&&!!U.clearcoatMap,yt=ve&&!!U.clearcoatNormalMap,zt=ve&&!!U.clearcoatRoughnessMap,bn=xe&&!!U.iridescenceMap,Yt=xe&&!!U.iridescenceThicknessMap,St=Ee&&!!U.sheenColorMap,Vt=Ee&&!!U.sheenRoughnessMap,Ae=!!U.specularMap,dt=!!U.specularColorMap,pt=!!U.specularIntensityMap,ye=Ze&&!!U.transmissionMap,ct=Ze&&!!U.thicknessMap,Le=!!U.gradientMap,_t=!!U.alphaMap,Pt=U.alphaTest>0,Bn=!!U.alphaHash,gn=!!U.extensions;let En=Eu;U.toneMapped&&(qe===null||qe.isXRRenderTarget===!0)&&(En=t.toneMapping);const kn={shaderID:fe,shaderType:U.type,shaderName:U.name,vertexShader:tt,fragmentShader:Ie,defines:U.defines,customVertexShaderID:Xe,customFragmentShaderID:Re,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:v,batching:ln,instancing:Ot,instancingColor:Ot&&ne.instanceColor!==null,instancingMorph:Ot&&ne.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:qe===null?t.outputColorSpace:qe.isXRRenderTarget===!0?qe.texture.colorSpace:uc,alphaToCoverage:!!U.alphaToCoverage,map:Me,matcap:rn,envMap:We,envMapMode:We&&Ue.mapping,envMapCubeUVHeight:J,aoMap:rt,lightMap:lt,bumpMap:bt,normalMap:mt,displacementMap:f&&Rt,emissiveMap:Ut,normalMapObjectSpace:mt&&U.normalMapType===aee,normalMapTangentSpace:mt&&U.normalMapType===Rf,metalnessMap:X,roughnessMap:j,anisotropy:ae,anisotropyMap:vt,clearcoat:ve,clearcoatMap:Xt,clearcoatNormalMap:yt,clearcoatRoughnessMap:zt,dispersion:de,iridescence:xe,iridescenceMap:bn,iridescenceThicknessMap:Yt,sheen:Ee,sheenColorMap:St,sheenRoughnessMap:Vt,specularMap:Ae,specularColorMap:dt,specularIntensityMap:pt,transmission:Ze,transmissionMap:ye,thicknessMap:ct,gradientMap:Le,opaque:U.transparent===!1&&U.blending===Xp&&U.alphaToCoverage===!1,alphaMap:_t,alphaTest:Pt,alphaHash:Bn,combine:U.combine,mapUv:Me&&b(U.map.channel),aoMapUv:rt&&b(U.aoMap.channel),lightMapUv:lt&&b(U.lightMap.channel),bumpMapUv:bt&&b(U.bumpMap.channel),normalMapUv:mt&&b(U.normalMap.channel),displacementMapUv:Rt&&b(U.displacementMap.channel),emissiveMapUv:Ut&&b(U.emissiveMap.channel),metalnessMapUv:X&&b(U.metalnessMap.channel),roughnessMapUv:j&&b(U.roughnessMap.channel),anisotropyMapUv:vt&&b(U.anisotropyMap.channel),clearcoatMapUv:Xt&&b(U.clearcoatMap.channel),clearcoatNormalMapUv:yt&&b(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:zt&&b(U.clearcoatRoughnessMap.channel),iridescenceMapUv:bn&&b(U.iridescenceMap.channel),iridescenceThicknessMapUv:Yt&&b(U.iridescenceThicknessMap.channel),sheenColorMapUv:St&&b(U.sheenColorMap.channel),sheenRoughnessMapUv:Vt&&b(U.sheenRoughnessMap.channel),specularMapUv:Ae&&b(U.specularMap.channel),specularColorMapUv:dt&&b(U.specularColorMap.channel),specularIntensityMapUv:pt&&b(U.specularIntensityMap.channel),transmissionMapUv:ye&&b(U.transmissionMap.channel),thicknessMapUv:ct&&b(U.thicknessMap.channel),alphaMapUv:_t&&b(U.alphaMap.channel),vertexTangents:!!be.attributes.tangent&&(mt||ae),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,pointsUvs:ne.isPoints===!0&&!!be.attributes.uv&&(Me||_t),fog:!!me,useFog:U.fog===!0,fogExp2:!!me&&me.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:ne.isSkinnedMesh===!0,morphTargets:be.morphAttributes.position!==void 0,morphNormals:be.morphAttributes.normal!==void 0,morphColors:be.morphAttributes.color!==void 0,morphTargetsCount:Ce,morphTextureStride:ze,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:t.shadowMap.enabled&&ee.length>0,shadowMapType:t.shadowMap.type,toneMapping:En,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Me&&U.map.isVideoTexture===!0&&li.getTransfer(U.map.colorSpace)===xi,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===tc,flipSided:U.side===Ia,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:gn&&U.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:gn&&U.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return kn.vertexUv1s=c.has(1),kn.vertexUv2s=c.has(2),kn.vertexUv3s=c.has(3),c.clear(),kn}function _(U){const F=[];if(U.shaderID?F.push(U.shaderID):(F.push(U.customVertexShaderID),F.push(U.customFragmentShaderID)),U.defines!==void 0)for(const ee in U.defines)F.push(ee),F.push(U.defines[ee]);return U.isRawShaderMaterial===!1&&(S(F,U),C(F,U),F.push(t.outputColorSpace)),F.push(U.customProgramCacheKey),F.join()}function S(U,F){U.push(F.precision),U.push(F.outputColorSpace),U.push(F.envMapMode),U.push(F.envMapCubeUVHeight),U.push(F.mapUv),U.push(F.alphaMapUv),U.push(F.lightMapUv),U.push(F.aoMapUv),U.push(F.bumpMapUv),U.push(F.normalMapUv),U.push(F.displacementMapUv),U.push(F.emissiveMapUv),U.push(F.metalnessMapUv),U.push(F.roughnessMapUv),U.push(F.anisotropyMapUv),U.push(F.clearcoatMapUv),U.push(F.clearcoatNormalMapUv),U.push(F.clearcoatRoughnessMapUv),U.push(F.iridescenceMapUv),U.push(F.iridescenceThicknessMapUv),U.push(F.sheenColorMapUv),U.push(F.sheenRoughnessMapUv),U.push(F.specularMapUv),U.push(F.specularColorMapUv),U.push(F.specularIntensityMapUv),U.push(F.transmissionMapUv),U.push(F.thicknessMapUv),U.push(F.combine),U.push(F.fogExp2),U.push(F.sizeAttenuation),U.push(F.morphTargetsCount),U.push(F.morphAttributeCount),U.push(F.numDirLights),U.push(F.numPointLights),U.push(F.numSpotLights),U.push(F.numSpotLightMaps),U.push(F.numHemiLights),U.push(F.numRectAreaLights),U.push(F.numDirLightShadows),U.push(F.numPointLightShadows),U.push(F.numSpotLightShadows),U.push(F.numSpotLightShadowsWithMaps),U.push(F.numLightProbes),U.push(F.shadowMapType),U.push(F.toneMapping),U.push(F.numClippingPlanes),U.push(F.numClipIntersection),U.push(F.depthPacking)}function C(U,F){a.disableAll(),F.supportsVertexTextures&&a.enable(0),F.instancing&&a.enable(1),F.instancingColor&&a.enable(2),F.instancingMorph&&a.enable(3),F.matcap&&a.enable(4),F.envMap&&a.enable(5),F.normalMapObjectSpace&&a.enable(6),F.normalMapTangentSpace&&a.enable(7),F.clearcoat&&a.enable(8),F.iridescence&&a.enable(9),F.alphaTest&&a.enable(10),F.vertexColors&&a.enable(11),F.vertexAlphas&&a.enable(12),F.vertexUv1s&&a.enable(13),F.vertexUv2s&&a.enable(14),F.vertexUv3s&&a.enable(15),F.vertexTangents&&a.enable(16),F.anisotropy&&a.enable(17),F.alphaHash&&a.enable(18),F.batching&&a.enable(19),F.dispersion&&a.enable(20),U.push(a.mask),a.disableAll(),F.fog&&a.enable(0),F.useFog&&a.enable(1),F.flatShading&&a.enable(2),F.logarithmicDepthBuffer&&a.enable(3),F.skinning&&a.enable(4),F.morphTargets&&a.enable(5),F.morphNormals&&a.enable(6),F.morphColors&&a.enable(7),F.premultipliedAlpha&&a.enable(8),F.shadowMapEnabled&&a.enable(9),F.useLegacyLights&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.useDepthPacking&&a.enable(13),F.dithering&&a.enable(14),F.transmission&&a.enable(15),F.sheen&&a.enable(16),F.opaque&&a.enable(17),F.pointsUvs&&a.enable(18),F.decodeVideoTexture&&a.enable(19),F.alphaToCoverage&&a.enable(20),U.push(a.mask)}function I(U){const F=y[U.type];let ee;if(F){const se=Rc[F];ee=See.clone(se.uniforms)}else ee=U.uniforms;return ee}function z(U,F){let ee;for(let se=0,ne=u.length;se<ne;se++){const me=u[se];if(me.cacheKey===F){ee=me,++ee.usedTimes;break}}return ee===void 0&&(ee=new Y3e(t,F,U,s),u.push(ee)),ee}function N(U){if(--U.usedTimes===0){const F=u.indexOf(U);u[F]=u[u.length-1],u.pop(),U.destroy()}}function A(U){l.remove(U)}function W(){l.dispose()}return{getParameters:w,getProgramCacheKey:_,getUniforms:I,acquireProgram:z,releaseProgram:N,releaseShaderCache:A,programs:u,dispose:W}}function tFe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function nFe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Sj(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Aj(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,f,v,y,b,w){let _=t[e];return _===void 0?(_={id:d.id,object:d,geometry:f,material:v,groupOrder:y,renderOrder:d.renderOrder,z:b,group:w},t[e]=_):(_.id=d.id,_.object=d,_.geometry=f,_.material=v,_.groupOrder=y,_.renderOrder=d.renderOrder,_.z=b,_.group=w),e++,_}function a(d,f,v,y,b,w){const _=o(d,f,v,y,b,w);v.transmission>0?r.push(_):v.transparent===!0?i.push(_):n.push(_)}function l(d,f,v,y,b,w){const _=o(d,f,v,y,b,w);v.transmission>0?r.unshift(_):v.transparent===!0?i.unshift(_):n.unshift(_)}function c(d,f){n.length>1&&n.sort(d||nFe),r.length>1&&r.sort(f||Sj),i.length>1&&i.sort(f||Sj)}function u(){for(let d=e,f=t.length;d<f;d++){const v=t[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function rFe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new Aj,t.set(r,[o])):i>=s.length?(o=new Aj,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function iFe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new oe,color:new Zt};break;case"SpotLight":n={position:new oe,direction:new oe,color:new Zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oe,color:new Zt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oe,skyColor:new Zt,groundColor:new Zt};break;case"RectAreaLight":n={color:new Zt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return t[e.id]=n,n}}}function sFe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let oFe=0;function aFe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function lFe(t){const e=new iFe,n=sFe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new oe);const i=new oe,s=new Un,o=new Un;function a(c,u){let d=0,f=0,v=0;for(let ee=0;ee<9;ee++)r.probe[ee].set(0,0,0);let y=0,b=0,w=0,_=0,S=0,C=0,I=0,z=0,N=0,A=0,W=0;c.sort(aFe);const U=u===!0?Math.PI:1;for(let ee=0,se=c.length;ee<se;ee++){const ne=c[ee],me=ne.color,be=ne.intensity,Se=ne.distance,Ue=ne.shadow&&ne.shadow.map?ne.shadow.map.texture:null;if(ne.isAmbientLight)d+=me.r*be*U,f+=me.g*be*U,v+=me.b*be*U;else if(ne.isLightProbe){for(let J=0;J<9;J++)r.probe[J].addScaledVector(ne.sh.coefficients[J],be);W++}else if(ne.isDirectionalLight){const J=e.get(ne);if(J.color.copy(ne.color).multiplyScalar(ne.intensity*U),ne.castShadow){const fe=ne.shadow,re=n.get(ne);re.shadowBias=fe.bias,re.shadowNormalBias=fe.normalBias,re.shadowRadius=fe.radius,re.shadowMapSize=fe.mapSize,r.directionalShadow[y]=re,r.directionalShadowMap[y]=Ue,r.directionalShadowMatrix[y]=ne.shadow.matrix,C++}r.directional[y]=J,y++}else if(ne.isSpotLight){const J=e.get(ne);J.position.setFromMatrixPosition(ne.matrixWorld),J.color.copy(me).multiplyScalar(be*U),J.distance=Se,J.coneCos=Math.cos(ne.angle),J.penumbraCos=Math.cos(ne.angle*(1-ne.penumbra)),J.decay=ne.decay,r.spot[w]=J;const fe=ne.shadow;if(ne.map&&(r.spotLightMap[N]=ne.map,N++,fe.updateMatrices(ne),ne.castShadow&&A++),r.spotLightMatrix[w]=fe.matrix,ne.castShadow){const re=n.get(ne);re.shadowBias=fe.bias,re.shadowNormalBias=fe.normalBias,re.shadowRadius=fe.radius,re.shadowMapSize=fe.mapSize,r.spotShadow[w]=re,r.spotShadowMap[w]=Ue,z++}w++}else if(ne.isRectAreaLight){const J=e.get(ne);J.color.copy(me).multiplyScalar(be),J.halfWidth.set(ne.width*.5,0,0),J.halfHeight.set(0,ne.height*.5,0),r.rectArea[_]=J,_++}else if(ne.isPointLight){const J=e.get(ne);if(J.color.copy(ne.color).multiplyScalar(ne.intensity*U),J.distance=ne.distance,J.decay=ne.decay,ne.castShadow){const fe=ne.shadow,re=n.get(ne);re.shadowBias=fe.bias,re.shadowNormalBias=fe.normalBias,re.shadowRadius=fe.radius,re.shadowMapSize=fe.mapSize,re.shadowCameraNear=fe.camera.near,re.shadowCameraFar=fe.camera.far,r.pointShadow[b]=re,r.pointShadowMap[b]=Ue,r.pointShadowMatrix[b]=ne.shadow.matrix,I++}r.point[b]=J,b++}else if(ne.isHemisphereLight){const J=e.get(ne);J.skyColor.copy(ne.color).multiplyScalar(be*U),J.groundColor.copy(ne.groundColor).multiplyScalar(be*U),r.hemi[S]=J,S++}}_>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Jt.LTC_FLOAT_1,r.rectAreaLTC2=Jt.LTC_FLOAT_2):(r.rectAreaLTC1=Jt.LTC_HALF_1,r.rectAreaLTC2=Jt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=v;const F=r.hash;(F.directionalLength!==y||F.pointLength!==b||F.spotLength!==w||F.rectAreaLength!==_||F.hemiLength!==S||F.numDirectionalShadows!==C||F.numPointShadows!==I||F.numSpotShadows!==z||F.numSpotMaps!==N||F.numLightProbes!==W)&&(r.directional.length=y,r.spot.length=w,r.rectArea.length=_,r.point.length=b,r.hemi.length=S,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=I,r.pointShadowMap.length=I,r.spotShadow.length=z,r.spotShadowMap.length=z,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=I,r.spotLightMatrix.length=z+N-A,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=W,F.directionalLength=y,F.pointLength=b,F.spotLength=w,F.rectAreaLength=_,F.hemiLength=S,F.numDirectionalShadows=C,F.numPointShadows=I,F.numSpotShadows=z,F.numSpotMaps=N,F.numLightProbes=W,r.version=oFe++)}function l(c,u){let d=0,f=0,v=0,y=0,b=0;const w=u.matrixWorldInverse;for(let _=0,S=c.length;_<S;_++){const C=c[_];if(C.isDirectionalLight){const I=r.directional[d];I.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(w),d++}else if(C.isSpotLight){const I=r.spot[v];I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(w),I.direction.setFromMatrixPosition(C.matrixWorld),i.setFromMatrixPosition(C.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(w),v++}else if(C.isRectAreaLight){const I=r.rectArea[y];I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(w),o.identity(),s.copy(C.matrixWorld),s.premultiply(w),o.extractRotation(s),I.halfWidth.set(C.width*.5,0,0),I.halfHeight.set(0,C.height*.5,0),I.halfWidth.applyMatrix4(o),I.halfHeight.applyMatrix4(o),y++}else if(C.isPointLight){const I=r.point[f];I.position.setFromMatrixPosition(C.matrixWorld),I.position.applyMatrix4(w),f++}else if(C.isHemisphereLight){const I=r.hemi[b];I.direction.setFromMatrixPosition(C.matrixWorld),I.direction.transformDirection(w),b++}}}return{setup:a,setupView:l,state:r}}function Ej(t){const e=new lFe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function s(u){n.push(u)}function o(u){r.push(u)}function a(u){e.setup(n,u)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function cFe(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new Ej(t),e.set(i,[a])):s>=o.length?(a=new Ej(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class GF extends Ps{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=see,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $F extends Ps{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const uFe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,hFe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dFe(t,e,n){let r=new p1;const i=new gt,s=new gt,o=new ci,a=new GF({depthPacking:oee}),l=new $F,c={},u=n.maxTextureSize,d={[Lu]:Ia,[Ia]:Lu,[tc]:tc},f=new el({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new gt},radius:{value:4}},vertexShader:uFe,fragmentShader:hFe}),v=f.clone();v.defines.HORIZONTAL_PASS=1;const y=new gr;y.setAttribute("position",new jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Ni(y,f),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=EM;let _=this.type;this.render=function(N,A,W){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||N.length===0)return;const U=t.getRenderTarget(),F=t.getActiveCubeFace(),ee=t.getActiveMipmapLevel(),se=t.state;se.setBlending(Au),se.buffers.color.setClear(1,1,1,1),se.buffers.depth.setTest(!0),se.setScissorTest(!1);const ne=_!==Cc&&this.type===Cc,me=_===Cc&&this.type!==Cc;for(let be=0,Se=N.length;be<Se;be++){const Ue=N[be],J=Ue.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",Ue,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const fe=J.getFrameExtents();if(i.multiply(fe),s.copy(J.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/fe.x),i.x=s.x*fe.x,J.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/fe.y),i.y=s.y*fe.y,J.mapSize.y=s.y)),J.map===null||ne===!0||me===!0){const Ce=this.type!==Cc?{minFilter:Us,magFilter:Us}:{};J.map!==null&&J.map.dispose(),J.map=new Tl(i.x,i.y,Ce),J.map.texture.name=Ue.name+".shadowMap",J.camera.updateProjectionMatrix()}t.setRenderTarget(J.map),t.clear();const re=J.getViewportCount();for(let Ce=0;Ce<re;Ce++){const ze=J.getViewport(Ce);o.set(s.x*ze.x,s.y*ze.y,s.x*ze.z,s.y*ze.w),se.viewport(o),J.updateMatrices(Ue,Ce),r=J.getFrustum(),I(A,W,J.camera,Ue,this.type)}J.isPointLightShadow!==!0&&this.type===Cc&&S(J,W),J.needsUpdate=!1}_=this.type,w.needsUpdate=!1,t.setRenderTarget(U,F,ee)};function S(N,A){const W=e.update(b);f.defines.VSM_SAMPLES!==N.blurSamples&&(f.defines.VSM_SAMPLES=N.blurSamples,v.defines.VSM_SAMPLES=N.blurSamples,f.needsUpdate=!0,v.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new Tl(i.x,i.y)),f.uniforms.shadow_pass.value=N.map.texture,f.uniforms.resolution.value=N.mapSize,f.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(A,null,W,f,b,null),v.uniforms.shadow_pass.value=N.mapPass.texture,v.uniforms.resolution.value=N.mapSize,v.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(A,null,W,v,b,null)}function C(N,A,W,U){let F=null;const ee=W.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(ee!==void 0)F=ee;else if(F=W.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const se=F.uuid,ne=A.uuid;let me=c[se];me===void 0&&(me={},c[se]=me);let be=me[ne];be===void 0&&(be=F.clone(),me[ne]=be,A.addEventListener("dispose",z)),F=be}if(F.visible=A.visible,F.wireframe=A.wireframe,U===Cc?F.side=A.shadowSide!==null?A.shadowSide:A.side:F.side=A.shadowSide!==null?A.shadowSide:d[A.side],F.alphaMap=A.alphaMap,F.alphaTest=A.alphaTest,F.map=A.map,F.clipShadows=A.clipShadows,F.clippingPlanes=A.clippingPlanes,F.clipIntersection=A.clipIntersection,F.displacementMap=A.displacementMap,F.displacementScale=A.displacementScale,F.displacementBias=A.displacementBias,F.wireframeLinewidth=A.wireframeLinewidth,F.linewidth=A.linewidth,W.isPointLight===!0&&F.isMeshDistanceMaterial===!0){const se=t.properties.get(F);se.light=W}return F}function I(N,A,W,U,F){if(N.visible===!1)return;if(N.layers.test(A.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&F===Cc)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(W.matrixWorldInverse,N.matrixWorld);const ne=e.update(N),me=N.material;if(Array.isArray(me)){const be=ne.groups;for(let Se=0,Ue=be.length;Se<Ue;Se++){const J=be[Se],fe=me[J.materialIndex];if(fe&&fe.visible){const re=C(N,fe,U,F);N.onBeforeShadow(t,N,A,W,ne,re,J),t.renderBufferDirect(W,null,ne,re,N,J),N.onAfterShadow(t,N,A,W,ne,re,J)}}}else if(me.visible){const be=C(N,me,U,F);N.onBeforeShadow(t,N,A,W,ne,be,null),t.renderBufferDirect(W,null,ne,be,N,null),N.onAfterShadow(t,N,A,W,ne,be,null)}}const se=N.children;for(let ne=0,me=se.length;ne<me;ne++)I(se[ne],A,W,U,F)}function z(N){N.target.removeEventListener("dispose",z);for(const W in c){const U=c[W],F=N.target.uuid;F in U&&(U[F].dispose(),delete U[F])}}}function fFe(t){function e(){let ye=!1;const ct=new ci;let Le=null;const _t=new ci(0,0,0,0);return{setMask:function(Pt){Le!==Pt&&!ye&&(t.colorMask(Pt,Pt,Pt,Pt),Le=Pt)},setLocked:function(Pt){ye=Pt},setClear:function(Pt,Bn,gn,En,kn){kn===!0&&(Pt*=En,Bn*=En,gn*=En),ct.set(Pt,Bn,gn,En),_t.equals(ct)===!1&&(t.clearColor(Pt,Bn,gn,En),_t.copy(ct))},reset:function(){ye=!1,Le=null,_t.set(-1,0,0,0)}}}function n(){let ye=!1,ct=null,Le=null,_t=null;return{setTest:function(Pt){Pt?Re(t.DEPTH_TEST):qe(t.DEPTH_TEST)},setMask:function(Pt){ct!==Pt&&!ye&&(t.depthMask(Pt),ct=Pt)},setFunc:function(Pt){if(Le!==Pt){switch(Pt){case LQ:t.depthFunc(t.NEVER);break;case kQ:t.depthFunc(t.ALWAYS);break;case OQ:t.depthFunc(t.LESS);break;case tb:t.depthFunc(t.LEQUAL);break;case DQ:t.depthFunc(t.EQUAL);break;case NQ:t.depthFunc(t.GEQUAL);break;case BQ:t.depthFunc(t.GREATER);break;case FQ:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Le=Pt}},setLocked:function(Pt){ye=Pt},setClear:function(Pt){_t!==Pt&&(t.clearDepth(Pt),_t=Pt)},reset:function(){ye=!1,ct=null,Le=null,_t=null}}}function r(){let ye=!1,ct=null,Le=null,_t=null,Pt=null,Bn=null,gn=null,En=null,kn=null;return{setTest:function(Fn){ye||(Fn?Re(t.STENCIL_TEST):qe(t.STENCIL_TEST))},setMask:function(Fn){ct!==Fn&&!ye&&(t.stencilMask(Fn),ct=Fn)},setFunc:function(Fn,Gr,Kn){(Le!==Fn||_t!==Gr||Pt!==Kn)&&(t.stencilFunc(Fn,Gr,Kn),Le=Fn,_t=Gr,Pt=Kn)},setOp:function(Fn,Gr,Kn){(Bn!==Fn||gn!==Gr||En!==Kn)&&(t.stencilOp(Fn,Gr,Kn),Bn=Fn,gn=Gr,En=Kn)},setLocked:function(Fn){ye=Fn},setClear:function(Fn){kn!==Fn&&(t.clearStencil(Fn),kn=Fn)},reset:function(){ye=!1,ct=null,Le=null,_t=null,Pt=null,Bn=null,gn=null,En=null,kn=null}}}const i=new e,s=new n,o=new r,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,f=[],v=null,y=!1,b=null,w=null,_=null,S=null,C=null,I=null,z=null,N=new Zt(0,0,0),A=0,W=!1,U=null,F=null,ee=null,se=null,ne=null;const me=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let be=!1,Se=0;const Ue=t.getParameter(t.VERSION);Ue.indexOf("WebGL")!==-1?(Se=parseFloat(/^WebGL (\d)/.exec(Ue)[1]),be=Se>=1):Ue.indexOf("OpenGL ES")!==-1&&(Se=parseFloat(/^OpenGL ES (\d)/.exec(Ue)[1]),be=Se>=2);let J=null,fe={};const re=t.getParameter(t.SCISSOR_BOX),Ce=t.getParameter(t.VIEWPORT),ze=new ci().fromArray(re),tt=new ci().fromArray(Ce);function Ie(ye,ct,Le,_t){const Pt=new Uint8Array(4),Bn=t.createTexture();t.bindTexture(ye,Bn),t.texParameteri(ye,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ye,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let gn=0;gn<Le;gn++)ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?t.texImage3D(ct,0,t.RGBA,1,1,_t,0,t.RGBA,t.UNSIGNED_BYTE,Pt):t.texImage2D(ct+gn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Pt);return Bn}const Xe={};Xe[t.TEXTURE_2D]=Ie(t.TEXTURE_2D,t.TEXTURE_2D,1),Xe[t.TEXTURE_CUBE_MAP]=Ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Xe[t.TEXTURE_2D_ARRAY]=Ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Xe[t.TEXTURE_3D]=Ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Re(t.DEPTH_TEST),s.setFunc(tb),bt(!1),mt(LO),Re(t.CULL_FACE),rt(Au);function Re(ye){c[ye]!==!0&&(t.enable(ye),c[ye]=!0)}function qe(ye){c[ye]!==!1&&(t.disable(ye),c[ye]=!1)}function Ot(ye,ct){return u[ye]!==ct?(t.bindFramebuffer(ye,ct),u[ye]=ct,ye===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=ct),ye===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=ct),!0):!1}function ln(ye,ct){let Le=f,_t=!1;if(ye){Le=d.get(ct),Le===void 0&&(Le=[],d.set(ct,Le));const Pt=ye.textures;if(Le.length!==Pt.length||Le[0]!==t.COLOR_ATTACHMENT0){for(let Bn=0,gn=Pt.length;Bn<gn;Bn++)Le[Bn]=t.COLOR_ATTACHMENT0+Bn;Le.length=Pt.length,_t=!0}}else Le[0]!==t.BACK&&(Le[0]=t.BACK,_t=!0);_t&&t.drawBuffers(Le)}function Me(ye){return v!==ye?(t.useProgram(ye),v=ye,!0):!1}const rn={[Pd]:t.FUNC_ADD,[mQ]:t.FUNC_SUBTRACT,[gQ]:t.FUNC_REVERSE_SUBTRACT};rn[vQ]=t.MIN,rn[yQ]=t.MAX;const We={[_Q]:t.ZERO,[xQ]:t.ONE,[bQ]:t.SRC_COLOR,[MT]:t.SRC_ALPHA,[CQ]:t.SRC_ALPHA_SATURATE,[EQ]:t.DST_COLOR,[SQ]:t.DST_ALPHA,[wQ]:t.ONE_MINUS_SRC_COLOR,[PT]:t.ONE_MINUS_SRC_ALPHA,[TQ]:t.ONE_MINUS_DST_COLOR,[AQ]:t.ONE_MINUS_DST_ALPHA,[MQ]:t.CONSTANT_COLOR,[PQ]:t.ONE_MINUS_CONSTANT_COLOR,[IQ]:t.CONSTANT_ALPHA,[RQ]:t.ONE_MINUS_CONSTANT_ALPHA};function rt(ye,ct,Le,_t,Pt,Bn,gn,En,kn,Fn){if(ye===Au){y===!0&&(qe(t.BLEND),y=!1);return}if(y===!1&&(Re(t.BLEND),y=!0),ye!==pQ){if(ye!==b||Fn!==W){if((w!==Pd||C!==Pd)&&(t.blendEquation(t.FUNC_ADD),w=Pd,C=Pd),Fn)switch(ye){case Xp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case kO:t.blendFunc(t.ONE,t.ONE);break;case OO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case DO:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ye);break}else switch(ye){case Xp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case kO:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case OO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case DO:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ye);break}_=null,S=null,I=null,z=null,N.set(0,0,0),A=0,b=ye,W=Fn}return}Pt=Pt||ct,Bn=Bn||Le,gn=gn||_t,(ct!==w||Pt!==C)&&(t.blendEquationSeparate(rn[ct],rn[Pt]),w=ct,C=Pt),(Le!==_||_t!==S||Bn!==I||gn!==z)&&(t.blendFuncSeparate(We[Le],We[_t],We[Bn],We[gn]),_=Le,S=_t,I=Bn,z=gn),(En.equals(N)===!1||kn!==A)&&(t.blendColor(En.r,En.g,En.b,kn),N.copy(En),A=kn),b=ye,W=!1}function lt(ye,ct){ye.side===tc?qe(t.CULL_FACE):Re(t.CULL_FACE);let Le=ye.side===Ia;ct&&(Le=!Le),bt(Le),ye.blending===Xp&&ye.transparent===!1?rt(Au):rt(ye.blending,ye.blendEquation,ye.blendSrc,ye.blendDst,ye.blendEquationAlpha,ye.blendSrcAlpha,ye.blendDstAlpha,ye.blendColor,ye.blendAlpha,ye.premultipliedAlpha),s.setFunc(ye.depthFunc),s.setTest(ye.depthTest),s.setMask(ye.depthWrite),i.setMask(ye.colorWrite);const _t=ye.stencilWrite;o.setTest(_t),_t&&(o.setMask(ye.stencilWriteMask),o.setFunc(ye.stencilFunc,ye.stencilRef,ye.stencilFuncMask),o.setOp(ye.stencilFail,ye.stencilZFail,ye.stencilZPass)),Ut(ye.polygonOffset,ye.polygonOffsetFactor,ye.polygonOffsetUnits),ye.alphaToCoverage===!0?Re(t.SAMPLE_ALPHA_TO_COVERAGE):qe(t.SAMPLE_ALPHA_TO_COVERAGE)}function bt(ye){U!==ye&&(ye?t.frontFace(t.CW):t.frontFace(t.CCW),U=ye)}function mt(ye){ye!==hQ?(Re(t.CULL_FACE),ye!==F&&(ye===LO?t.cullFace(t.BACK):ye===dQ?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):qe(t.CULL_FACE),F=ye}function Rt(ye){ye!==ee&&(be&&t.lineWidth(ye),ee=ye)}function Ut(ye,ct,Le){ye?(Re(t.POLYGON_OFFSET_FILL),(se!==ct||ne!==Le)&&(t.polygonOffset(ct,Le),se=ct,ne=Le)):qe(t.POLYGON_OFFSET_FILL)}function X(ye){ye?Re(t.SCISSOR_TEST):qe(t.SCISSOR_TEST)}function j(ye){ye===void 0&&(ye=t.TEXTURE0+me-1),J!==ye&&(t.activeTexture(ye),J=ye)}function ae(ye,ct,Le){Le===void 0&&(J===null?Le=t.TEXTURE0+me-1:Le=J);let _t=fe[Le];_t===void 0&&(_t={type:void 0,texture:void 0},fe[Le]=_t),(_t.type!==ye||_t.texture!==ct)&&(J!==Le&&(t.activeTexture(Le),J=Le),t.bindTexture(ye,ct||Xe[ye]),_t.type=ye,_t.texture=ct)}function ve(){const ye=fe[J];ye!==void 0&&ye.type!==void 0&&(t.bindTexture(ye.type,null),ye.type=void 0,ye.texture=void 0)}function de(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function xe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Ee(){try{t.texSubImage2D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Ze(){try{t.texSubImage3D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function vt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Xt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function yt(){try{t.texStorage2D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function zt(){try{t.texStorage3D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function bn(){try{t.texImage2D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function Yt(){try{t.texImage3D.apply(t,arguments)}catch(ye){console.error("THREE.WebGLState:",ye)}}function St(ye){ze.equals(ye)===!1&&(t.scissor(ye.x,ye.y,ye.z,ye.w),ze.copy(ye))}function Vt(ye){tt.equals(ye)===!1&&(t.viewport(ye.x,ye.y,ye.z,ye.w),tt.copy(ye))}function Ae(ye,ct){let Le=l.get(ct);Le===void 0&&(Le=new WeakMap,l.set(ct,Le));let _t=Le.get(ye);_t===void 0&&(_t=t.getUniformBlockIndex(ct,ye.name),Le.set(ye,_t))}function dt(ye,ct){const _t=l.get(ct).get(ye);a.get(ct)!==_t&&(t.uniformBlockBinding(ct,_t,ye.__bindingPointIndex),a.set(ct,_t))}function pt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},J=null,fe={},u={},d=new WeakMap,f=[],v=null,y=!1,b=null,w=null,_=null,S=null,C=null,I=null,z=null,N=new Zt(0,0,0),A=0,W=!1,U=null,F=null,ee=null,se=null,ne=null,ze.set(0,0,t.canvas.width,t.canvas.height),tt.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:Re,disable:qe,bindFramebuffer:Ot,drawBuffers:ln,useProgram:Me,setBlending:rt,setMaterial:lt,setFlipSided:bt,setCullFace:mt,setLineWidth:Rt,setPolygonOffset:Ut,setScissorTest:X,activeTexture:j,bindTexture:ae,unbindTexture:ve,compressedTexImage2D:de,compressedTexImage3D:xe,texImage2D:bn,texImage3D:Yt,updateUBOMapping:Ae,uniformBlockBinding:dt,texStorage2D:yt,texStorage3D:zt,texSubImage2D:Ee,texSubImage3D:Ze,compressedTexSubImage2D:vt,compressedTexSubImage3D:Xt,scissor:St,viewport:Vt,reset:pt}}function pFe(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new gt,u=new WeakMap;let d;const f=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(X,j){return v?new OffscreenCanvas(X,j):cb("canvas")}function b(X,j,ae){let ve=1;const de=Ut(X);if((de.width>ae||de.height>ae)&&(ve=ae/Math.max(de.width,de.height)),ve<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const xe=Math.floor(ve*de.width),Ee=Math.floor(ve*de.height);d===void 0&&(d=y(xe,Ee));const Ze=j?y(xe,Ee):d;return Ze.width=xe,Ze.height=Ee,Ze.getContext("2d").drawImage(X,0,0,xe,Ee),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+de.width+"x"+de.height+") to ("+xe+"x"+Ee+")."),Ze}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+de.width+"x"+de.height+")."),X;return X}function w(X){return X.generateMipmaps&&X.minFilter!==Us&&X.minFilter!==Kr}function _(X){t.generateMipmap(X)}function S(X,j,ae,ve,de=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let xe=j;if(j===t.RED&&(ae===t.FLOAT&&(xe=t.R32F),ae===t.HALF_FLOAT&&(xe=t.R16F),ae===t.UNSIGNED_BYTE&&(xe=t.R8)),j===t.RED_INTEGER&&(ae===t.UNSIGNED_BYTE&&(xe=t.R8UI),ae===t.UNSIGNED_SHORT&&(xe=t.R16UI),ae===t.UNSIGNED_INT&&(xe=t.R32UI),ae===t.BYTE&&(xe=t.R8I),ae===t.SHORT&&(xe=t.R16I),ae===t.INT&&(xe=t.R32I)),j===t.RG&&(ae===t.FLOAT&&(xe=t.RG32F),ae===t.HALF_FLOAT&&(xe=t.RG16F),ae===t.UNSIGNED_BYTE&&(xe=t.RG8)),j===t.RG_INTEGER&&(ae===t.UNSIGNED_BYTE&&(xe=t.RG8UI),ae===t.UNSIGNED_SHORT&&(xe=t.RG16UI),ae===t.UNSIGNED_INT&&(xe=t.RG32UI),ae===t.BYTE&&(xe=t.RG8I),ae===t.SHORT&&(xe=t.RG16I),ae===t.INT&&(xe=t.RG32I)),j===t.RGB&&ae===t.UNSIGNED_INT_5_9_9_9_REV&&(xe=t.RGB9_E5),j===t.RGBA){const Ee=de?ib:li.getTransfer(ve);ae===t.FLOAT&&(xe=t.RGBA32F),ae===t.HALF_FLOAT&&(xe=t.RGBA16F),ae===t.UNSIGNED_BYTE&&(xe=Ee===xi?t.SRGB8_ALPHA8:t.RGBA8),ae===t.UNSIGNED_SHORT_4_4_4_4&&(xe=t.RGBA4),ae===t.UNSIGNED_SHORT_5_5_5_1&&(xe=t.RGB5_A1)}return(xe===t.R16F||xe===t.R32F||xe===t.RG16F||xe===t.RG32F||xe===t.RGBA16F||xe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),xe}function C(X,j){return w(X)===!0||X.isFramebufferTexture&&X.minFilter!==Us&&X.minFilter!==Kr?Math.log2(Math.max(j.width,j.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?j.mipmaps.length:1}function I(X){const j=X.target;j.removeEventListener("dispose",I),N(j),j.isVideoTexture&&u.delete(j)}function z(X){const j=X.target;j.removeEventListener("dispose",z),W(j)}function N(X){const j=r.get(X);if(j.__webglInit===void 0)return;const ae=X.source,ve=f.get(ae);if(ve){const de=ve[j.__cacheKey];de.usedTimes--,de.usedTimes===0&&A(X),Object.keys(ve).length===0&&f.delete(ae)}r.remove(X)}function A(X){const j=r.get(X);t.deleteTexture(j.__webglTexture);const ae=X.source,ve=f.get(ae);delete ve[j.__cacheKey],o.memory.textures--}function W(X){const j=r.get(X);if(X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++){if(Array.isArray(j.__webglFramebuffer[ve]))for(let de=0;de<j.__webglFramebuffer[ve].length;de++)t.deleteFramebuffer(j.__webglFramebuffer[ve][de]);else t.deleteFramebuffer(j.__webglFramebuffer[ve]);j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer[ve])}else{if(Array.isArray(j.__webglFramebuffer))for(let ve=0;ve<j.__webglFramebuffer.length;ve++)t.deleteFramebuffer(j.__webglFramebuffer[ve]);else t.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&t.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let ve=0;ve<j.__webglColorRenderbuffer.length;ve++)j.__webglColorRenderbuffer[ve]&&t.deleteRenderbuffer(j.__webglColorRenderbuffer[ve]);j.__webglDepthRenderbuffer&&t.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const ae=X.textures;for(let ve=0,de=ae.length;ve<de;ve++){const xe=r.get(ae[ve]);xe.__webglTexture&&(t.deleteTexture(xe.__webglTexture),o.memory.textures--),r.remove(ae[ve])}r.remove(X)}let U=0;function F(){U=0}function ee(){const X=U;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),U+=1,X}function se(X){const j=[];return j.push(X.wrapS),j.push(X.wrapT),j.push(X.wrapR||0),j.push(X.magFilter),j.push(X.minFilter),j.push(X.anisotropy),j.push(X.internalFormat),j.push(X.format),j.push(X.type),j.push(X.generateMipmaps),j.push(X.premultiplyAlpha),j.push(X.flipY),j.push(X.unpackAlignment),j.push(X.colorSpace),j.join()}function ne(X,j){const ae=r.get(X);if(X.isVideoTexture&&mt(X),X.isRenderTargetTexture===!1&&X.version>0&&ae.__version!==X.version){const ve=X.image;if(ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ze(ae,X,j);return}}n.bindTexture(t.TEXTURE_2D,ae.__webglTexture,t.TEXTURE0+j)}function me(X,j){const ae=r.get(X);if(X.version>0&&ae.__version!==X.version){ze(ae,X,j);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ae.__webglTexture,t.TEXTURE0+j)}function be(X,j){const ae=r.get(X);if(X.version>0&&ae.__version!==X.version){ze(ae,X,j);return}n.bindTexture(t.TEXTURE_3D,ae.__webglTexture,t.TEXTURE0+j)}function Se(X,j){const ae=r.get(X);if(X.version>0&&ae.__version!==X.version){tt(ae,X,j);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+j)}const Ue={[mf]:t.REPEAT,[ms]:t.CLAMP_TO_EDGE,[ny]:t.MIRRORED_REPEAT},J={[Us]:t.NEAREST,[TM]:t.NEAREST_MIPMAP_NEAREST,[Pp]:t.NEAREST_MIPMAP_LINEAR,[Kr]:t.LINEAR,[wv]:t.LINEAR_MIPMAP_NEAREST,[sc]:t.LINEAR_MIPMAP_LINEAR},fe={[lee]:t.NEVER,[pee]:t.ALWAYS,[cee]:t.LESS,[NF]:t.LEQUAL,[uee]:t.EQUAL,[fee]:t.GEQUAL,[hee]:t.GREATER,[dee]:t.NOTEQUAL};function re(X,j){if(j.type===gs&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===Kr||j.magFilter===wv||j.magFilter===Pp||j.magFilter===sc||j.minFilter===Kr||j.minFilter===wv||j.minFilter===Pp||j.minFilter===sc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,Ue[j.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,Ue[j.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,Ue[j.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,J[j.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,J[j.minFilter]),j.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,fe[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===Us||j.minFilter!==Pp&&j.minFilter!==sc||j.type===gs&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||r.get(j).__currentAnisotropy){const ae=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,i.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy}}}function Ce(X,j){let ae=!1;X.__webglInit===void 0&&(X.__webglInit=!0,j.addEventListener("dispose",I));const ve=j.source;let de=f.get(ve);de===void 0&&(de={},f.set(ve,de));const xe=se(j);if(xe!==X.__cacheKey){de[xe]===void 0&&(de[xe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),de[xe].usedTimes++;const Ee=de[X.__cacheKey];Ee!==void 0&&(de[X.__cacheKey].usedTimes--,Ee.usedTimes===0&&A(j)),X.__cacheKey=xe,X.__webglTexture=de[xe].texture}return ae}function ze(X,j,ae){let ve=t.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(ve=t.TEXTURE_2D_ARRAY),j.isData3DTexture&&(ve=t.TEXTURE_3D);const de=Ce(X,j),xe=j.source;n.bindTexture(ve,X.__webglTexture,t.TEXTURE0+ae);const Ee=r.get(xe);if(xe.version!==Ee.__version||de===!0){n.activeTexture(t.TEXTURE0+ae);const Ze=li.getPrimaries(li.workingColorSpace),vt=j.colorSpace===rh?null:li.getPrimaries(j.colorSpace),Xt=j.colorSpace===rh||Ze===vt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xt);let yt=b(j.image,!1,i.maxTextureSize);yt=Rt(j,yt);const zt=s.convert(j.format,j.colorSpace),bn=s.convert(j.type);let Yt=S(j.internalFormat,zt,bn,j.colorSpace,j.isVideoTexture);re(ve,j);let St;const Vt=j.mipmaps,Ae=j.isVideoTexture!==!0,dt=Ee.__version===void 0||de===!0,pt=xe.dataReady,ye=C(j,yt);if(j.isDepthTexture)Yt=t.DEPTH_COMPONENT16,j.type===gs?Yt=t.DEPTH_COMPONENT32F:j.type===gf?Yt=t.DEPTH_COMPONENT24:j.type===Iy&&(Yt=t.DEPTH24_STENCIL8),dt&&(Ae?n.texStorage2D(t.TEXTURE_2D,1,Yt,yt.width,yt.height):n.texImage2D(t.TEXTURE_2D,0,Yt,yt.width,yt.height,0,zt,bn,null));else if(j.isDataTexture)if(Vt.length>0){Ae&&dt&&n.texStorage2D(t.TEXTURE_2D,ye,Yt,Vt[0].width,Vt[0].height);for(let ct=0,Le=Vt.length;ct<Le;ct++)St=Vt[ct],Ae?pt&&n.texSubImage2D(t.TEXTURE_2D,ct,0,0,St.width,St.height,zt,bn,St.data):n.texImage2D(t.TEXTURE_2D,ct,Yt,St.width,St.height,0,zt,bn,St.data);j.generateMipmaps=!1}else Ae?(dt&&n.texStorage2D(t.TEXTURE_2D,ye,Yt,yt.width,yt.height),pt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,yt.width,yt.height,zt,bn,yt.data)):n.texImage2D(t.TEXTURE_2D,0,Yt,yt.width,yt.height,0,zt,bn,yt.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Ae&&dt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ye,Yt,Vt[0].width,Vt[0].height,yt.depth);for(let ct=0,Le=Vt.length;ct<Le;ct++)St=Vt[ct],j.format!==zs?zt!==null?Ae?pt&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ct,0,0,0,St.width,St.height,yt.depth,zt,St.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ct,Yt,St.width,St.height,yt.depth,0,St.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?pt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ct,0,0,0,St.width,St.height,yt.depth,zt,bn,St.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ct,Yt,St.width,St.height,yt.depth,0,zt,bn,St.data)}else{Ae&&dt&&n.texStorage2D(t.TEXTURE_2D,ye,Yt,Vt[0].width,Vt[0].height);for(let ct=0,Le=Vt.length;ct<Le;ct++)St=Vt[ct],j.format!==zs?zt!==null?Ae?pt&&n.compressedTexSubImage2D(t.TEXTURE_2D,ct,0,0,St.width,St.height,zt,St.data):n.compressedTexImage2D(t.TEXTURE_2D,ct,Yt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?pt&&n.texSubImage2D(t.TEXTURE_2D,ct,0,0,St.width,St.height,zt,bn,St.data):n.texImage2D(t.TEXTURE_2D,ct,Yt,St.width,St.height,0,zt,bn,St.data)}else if(j.isDataArrayTexture)Ae?(dt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ye,Yt,yt.width,yt.height,yt.depth),pt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,yt.width,yt.height,yt.depth,zt,bn,yt.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Yt,yt.width,yt.height,yt.depth,0,zt,bn,yt.data);else if(j.isData3DTexture)Ae?(dt&&n.texStorage3D(t.TEXTURE_3D,ye,Yt,yt.width,yt.height,yt.depth),pt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,yt.width,yt.height,yt.depth,zt,bn,yt.data)):n.texImage3D(t.TEXTURE_3D,0,Yt,yt.width,yt.height,yt.depth,0,zt,bn,yt.data);else if(j.isFramebufferTexture){if(dt)if(Ae)n.texStorage2D(t.TEXTURE_2D,ye,Yt,yt.width,yt.height);else{let ct=yt.width,Le=yt.height;for(let _t=0;_t<ye;_t++)n.texImage2D(t.TEXTURE_2D,_t,Yt,ct,Le,0,zt,bn,null),ct>>=1,Le>>=1}}else if(Vt.length>0){if(Ae&&dt){const ct=Ut(Vt[0]);n.texStorage2D(t.TEXTURE_2D,ye,Yt,ct.width,ct.height)}for(let ct=0,Le=Vt.length;ct<Le;ct++)St=Vt[ct],Ae?pt&&n.texSubImage2D(t.TEXTURE_2D,ct,0,0,zt,bn,St):n.texImage2D(t.TEXTURE_2D,ct,Yt,zt,bn,St);j.generateMipmaps=!1}else if(Ae){if(dt){const ct=Ut(yt);n.texStorage2D(t.TEXTURE_2D,ye,Yt,ct.width,ct.height)}pt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,zt,bn,yt)}else n.texImage2D(t.TEXTURE_2D,0,Yt,zt,bn,yt);w(j)&&_(ve),Ee.__version=xe.version,j.onUpdate&&j.onUpdate(j)}X.__version=j.version}function tt(X,j,ae){if(j.image.length!==6)return;const ve=Ce(X,j),de=j.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+ae);const xe=r.get(de);if(de.version!==xe.__version||ve===!0){n.activeTexture(t.TEXTURE0+ae);const Ee=li.getPrimaries(li.workingColorSpace),Ze=j.colorSpace===rh?null:li.getPrimaries(j.colorSpace),vt=j.colorSpace===rh||Ee===Ze?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const Xt=j.isCompressedTexture||j.image[0].isCompressedTexture,yt=j.image[0]&&j.image[0].isDataTexture,zt=[];for(let Le=0;Le<6;Le++)!Xt&&!yt?zt[Le]=b(j.image[Le],!0,i.maxCubemapSize):zt[Le]=yt?j.image[Le].image:j.image[Le],zt[Le]=Rt(j,zt[Le]);const bn=zt[0],Yt=s.convert(j.format,j.colorSpace),St=s.convert(j.type),Vt=S(j.internalFormat,Yt,St,j.colorSpace),Ae=j.isVideoTexture!==!0,dt=xe.__version===void 0||ve===!0,pt=de.dataReady;let ye=C(j,bn);re(t.TEXTURE_CUBE_MAP,j);let ct;if(Xt){Ae&&dt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ye,Vt,bn.width,bn.height);for(let Le=0;Le<6;Le++){ct=zt[Le].mipmaps;for(let _t=0;_t<ct.length;_t++){const Pt=ct[_t];j.format!==zs?Yt!==null?Ae?pt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t,0,0,Pt.width,Pt.height,Yt,Pt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t,Vt,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?pt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t,0,0,Pt.width,Pt.height,Yt,St,Pt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t,Vt,Pt.width,Pt.height,0,Yt,St,Pt.data)}}}else{if(ct=j.mipmaps,Ae&&dt){ct.length>0&&ye++;const Le=Ut(zt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ye,Vt,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(yt){Ae?pt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,zt[Le].width,zt[Le].height,Yt,St,zt[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Vt,zt[Le].width,zt[Le].height,0,Yt,St,zt[Le].data);for(let _t=0;_t<ct.length;_t++){const Bn=ct[_t].image[Le].image;Ae?pt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t+1,0,0,Bn.width,Bn.height,Yt,St,Bn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t+1,Vt,Bn.width,Bn.height,0,Yt,St,Bn.data)}}else{Ae?pt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,Yt,St,zt[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Vt,Yt,St,zt[Le]);for(let _t=0;_t<ct.length;_t++){const Pt=ct[_t];Ae?pt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t+1,0,0,Yt,St,Pt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,_t+1,Vt,Yt,St,Pt.image[Le])}}}w(j)&&_(t.TEXTURE_CUBE_MAP),xe.__version=de.version,j.onUpdate&&j.onUpdate(j)}X.__version=j.version}function Ie(X,j,ae,ve,de,xe){const Ee=s.convert(ae.format,ae.colorSpace),Ze=s.convert(ae.type),vt=S(ae.internalFormat,Ee,Ze,ae.colorSpace);if(!r.get(j).__hasExternalTextures){const yt=Math.max(1,j.width>>xe),zt=Math.max(1,j.height>>xe);de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY?n.texImage3D(de,xe,vt,yt,zt,j.depth,0,Ee,Ze,null):n.texImage2D(de,xe,vt,yt,zt,0,Ee,Ze,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),bt(j)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ve,de,r.get(ae).__webglTexture,0,lt(j)):(de===t.TEXTURE_2D||de>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&de<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ve,de,r.get(ae).__webglTexture,xe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(X,j,ae){if(t.bindRenderbuffer(t.RENDERBUFFER,X),j.depthBuffer&&!j.stencilBuffer){let ve=t.DEPTH_COMPONENT24;if(ae||bt(j)){const de=j.depthTexture;de&&de.isDepthTexture&&(de.type===gs?ve=t.DEPTH_COMPONENT32F:de.type===gf&&(ve=t.DEPTH_COMPONENT24));const xe=lt(j);bt(j)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,xe,ve,j.width,j.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,xe,ve,j.width,j.height)}else t.renderbufferStorage(t.RENDERBUFFER,ve,j.width,j.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,X)}else if(j.depthBuffer&&j.stencilBuffer){const ve=lt(j);ae&&bt(j)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ve,t.DEPTH24_STENCIL8,j.width,j.height):bt(j)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ve,t.DEPTH24_STENCIL8,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,X)}else{const ve=j.textures;for(let de=0;de<ve.length;de++){const xe=ve[de],Ee=s.convert(xe.format,xe.colorSpace),Ze=s.convert(xe.type),vt=S(xe.internalFormat,Ee,Ze,xe.colorSpace),Xt=lt(j);ae&&bt(j)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Xt,vt,j.width,j.height):bt(j)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Xt,vt,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,vt,j.width,j.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Re(X,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(j.depthTexture).__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),ne(j.depthTexture,0);const ve=r.get(j.depthTexture).__webglTexture,de=lt(j);if(j.depthTexture.format===qp)bt(j)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ve,0,de):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ve,0);else if(j.depthTexture.format===ry)bt(j)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ve,0,de):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ve,0);else throw new Error("Unknown depthTexture format")}function qe(X){const j=r.get(X),ae=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!j.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");Re(j.__webglFramebuffer,X)}else if(ae){j.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[ve]),j.__webglDepthbuffer[ve]=t.createRenderbuffer(),Xe(j.__webglDepthbuffer[ve],X,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer=t.createRenderbuffer(),Xe(j.__webglDepthbuffer,X,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ot(X,j,ae){const ve=r.get(X);j!==void 0&&Ie(ve.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ae!==void 0&&qe(X)}function ln(X){const j=X.texture,ae=r.get(X),ve=r.get(j);X.addEventListener("dispose",z);const de=X.textures,xe=X.isWebGLCubeRenderTarget===!0,Ee=de.length>1;if(Ee||(ve.__webglTexture===void 0&&(ve.__webglTexture=t.createTexture()),ve.__version=j.version,o.memory.textures++),xe){ae.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)if(j.mipmaps&&j.mipmaps.length>0){ae.__webglFramebuffer[Ze]=[];for(let vt=0;vt<j.mipmaps.length;vt++)ae.__webglFramebuffer[Ze][vt]=t.createFramebuffer()}else ae.__webglFramebuffer[Ze]=t.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){ae.__webglFramebuffer=[];for(let Ze=0;Ze<j.mipmaps.length;Ze++)ae.__webglFramebuffer[Ze]=t.createFramebuffer()}else ae.__webglFramebuffer=t.createFramebuffer();if(Ee)for(let Ze=0,vt=de.length;Ze<vt;Ze++){const Xt=r.get(de[Ze]);Xt.__webglTexture===void 0&&(Xt.__webglTexture=t.createTexture(),o.memory.textures++)}if(X.samples>0&&bt(X)===!1){ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let Ze=0;Ze<de.length;Ze++){const vt=de[Ze];ae.__webglColorRenderbuffer[Ze]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ae.__webglColorRenderbuffer[Ze]);const Xt=s.convert(vt.format,vt.colorSpace),yt=s.convert(vt.type),zt=S(vt.internalFormat,Xt,yt,vt.colorSpace,X.isXRRenderTarget===!0),bn=lt(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,bn,zt,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,ae.__webglColorRenderbuffer[Ze])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),Xe(ae.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(xe){n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture),re(t.TEXTURE_CUBE_MAP,j);for(let Ze=0;Ze<6;Ze++)if(j.mipmaps&&j.mipmaps.length>0)for(let vt=0;vt<j.mipmaps.length;vt++)Ie(ae.__webglFramebuffer[Ze][vt],X,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,vt);else Ie(ae.__webglFramebuffer[Ze],X,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0);w(j)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ee){for(let Ze=0,vt=de.length;Ze<vt;Ze++){const Xt=de[Ze],yt=r.get(Xt);n.bindTexture(t.TEXTURE_2D,yt.__webglTexture),re(t.TEXTURE_2D,Xt),Ie(ae.__webglFramebuffer,X,Xt,t.COLOR_ATTACHMENT0+Ze,t.TEXTURE_2D,0),w(Xt)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let Ze=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(Ze=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ze,ve.__webglTexture),re(Ze,j),j.mipmaps&&j.mipmaps.length>0)for(let vt=0;vt<j.mipmaps.length;vt++)Ie(ae.__webglFramebuffer[vt],X,j,t.COLOR_ATTACHMENT0,Ze,vt);else Ie(ae.__webglFramebuffer,X,j,t.COLOR_ATTACHMENT0,Ze,0);w(j)&&_(Ze),n.unbindTexture()}X.depthBuffer&&qe(X)}function Me(X){const j=X.textures;for(let ae=0,ve=j.length;ae<ve;ae++){const de=j[ae];if(w(de)){const xe=X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ee=r.get(de).__webglTexture;n.bindTexture(xe,Ee),_(xe),n.unbindTexture()}}}const rn=[],We=[];function rt(X){if(X.samples>0){if(bt(X)===!1){const j=X.textures,ae=X.width,ve=X.height;let de=t.COLOR_BUFFER_BIT;const xe=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ee=r.get(X),Ze=j.length>1;if(Ze)for(let vt=0;vt<j.length;vt++)n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ee.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ee.__webglFramebuffer);for(let vt=0;vt<j.length;vt++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(de|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(de|=t.STENCIL_BUFFER_BIT)),Ze){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ee.__webglColorRenderbuffer[vt]);const Xt=r.get(j[vt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Xt,0)}t.blitFramebuffer(0,0,ae,ve,0,0,ae,ve,de,t.NEAREST),l===!0&&(rn.length=0,We.length=0,rn.push(t.COLOR_ATTACHMENT0+vt),X.depthBuffer&&X.resolveDepthBuffer===!1&&(rn.push(xe),We.push(xe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,We)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,rn))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ze)for(let vt=0;vt<j.length;vt++){n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,Ee.__webglColorRenderbuffer[vt]);const Xt=r.get(j[vt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,Xt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ee.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const j=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[j])}}}function lt(X){return Math.min(i.maxSamples,X.samples)}function bt(X){const j=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function mt(X){const j=o.render.frame;u.get(X)!==j&&(u.set(X,j),X.update())}function Rt(X,j){const ae=X.colorSpace,ve=X.format,de=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||ae!==uc&&ae!==rh&&(li.getTransfer(ae)===xi?(ve!==zs||de!==El)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),j}function Ut(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=ee,this.resetTextureUnits=F,this.setTexture2D=ne,this.setTexture2DArray=me,this.setTexture3D=be,this.setTextureCube=Se,this.rebindTextures=Ot,this.setupRenderTarget=ln,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=rt,this.setupDepthRenderbuffer=qe,this.setupFrameBufferTexture=Ie,this.useMultisampledRTT=bt}function Ree(t,e){function n(r,i=rh){let s;const o=li.getTransfer(i);if(r===El)return t.UNSIGNED_BYTE;if(r===PF)return t.UNSIGNED_SHORT_4_4_4_4;if(r===IF)return t.UNSIGNED_SHORT_5_5_5_1;if(r===qQ)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===TF)return t.BYTE;if(r===CF)return t.SHORT;if(r===MF)return t.UNSIGNED_SHORT;if(r===CM)return t.INT;if(r===gf)return t.UNSIGNED_INT;if(r===gs)return t.FLOAT;if(r===Co)return t.HALF_FLOAT;if(r===KQ)return t.ALPHA;if(r===YQ)return t.RGB;if(r===zs)return t.RGBA;if(r===JQ)return t.LUMINANCE;if(r===ZQ)return t.LUMINANCE_ALPHA;if(r===qp)return t.DEPTH_COMPONENT;if(r===ry)return t.DEPTH_STENCIL;if(r===MM)return t.RED;if(r===RF)return t.RED_INTEGER;if(r===QQ)return t.RG;if(r===LF)return t.RG_INTEGER;if(r===kF)return t.RGBA_INTEGER;if(r===GA||r===$A||r===WA||r===XA)if(o===xi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===GA)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===$A)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===WA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===XA)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===GA)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===$A)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===WA)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===XA)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===FO||r===UO||r===zO||r===VO)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===FO)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===UO)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===zO)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===VO)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===HO||r===jO||r===GO)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===HO||r===jO)return o===xi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===GO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===$O||r===WO||r===XO||r===qO||r===KO||r===YO||r===JO||r===ZO||r===QO||r===eD||r===tD||r===nD||r===rD||r===iD)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===$O)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===WO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===XO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===qO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===KO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===YO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===JO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===ZO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===QO)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===eD)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===tD)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===nD)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===rD)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===iD)return o===xi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===qA||r===sD||r===oD)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===qA)return o===xi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===sD)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===oD)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===eee||r===aD||r===lD||r===cD)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===qA)return s.COMPRESSED_RED_RGTC1_EXT;if(r===aD)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===lD)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===cD)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Iy?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class Lee extends Ui{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class fh extends Hr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const mFe={type:"move"};class BR{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const b of e.hand.values()){const w=n.getJointPose(b,r),_=this._getHandJoint(c,b);w!==null&&(_.matrix.fromArray(w.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=w.radius),_.visible=w!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),v=.02,y=.005;c.inputState.pinching&&f>v+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=v-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(mFe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new fh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const gFe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,vFe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class yFe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Yr,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new el({vertexShader:gFe,fragmentShader:vFe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new Ni(new Lf(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class _Fe extends Du{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,v=null,y=null;const b=new yFe,w=n.getContextAttributes();let _=null,S=null;const C=[],I=[],z=new gt;let N=null;const A=new Ui;A.layers.enable(1),A.viewport=new ci;const W=new Ui;W.layers.enable(2),W.viewport=new ci;const U=[A,W],F=new Lee;F.layers.enable(1),F.layers.enable(2);let ee=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ie){let Xe=C[Ie];return Xe===void 0&&(Xe=new BR,C[Ie]=Xe),Xe.getTargetRaySpace()},this.getControllerGrip=function(Ie){let Xe=C[Ie];return Xe===void 0&&(Xe=new BR,C[Ie]=Xe),Xe.getGripSpace()},this.getHand=function(Ie){let Xe=C[Ie];return Xe===void 0&&(Xe=new BR,C[Ie]=Xe),Xe.getHandSpace()};function ne(Ie){const Xe=I.indexOf(Ie.inputSource);if(Xe===-1)return;const Re=C[Xe];Re!==void 0&&(Re.update(Ie.inputSource,Ie.frame,c||o),Re.dispatchEvent({type:Ie.type,data:Ie.inputSource}))}function me(){i.removeEventListener("select",ne),i.removeEventListener("selectstart",ne),i.removeEventListener("selectend",ne),i.removeEventListener("squeeze",ne),i.removeEventListener("squeezestart",ne),i.removeEventListener("squeezeend",ne),i.removeEventListener("end",me),i.removeEventListener("inputsourceschange",be);for(let Ie=0;Ie<C.length;Ie++){const Xe=I[Ie];Xe!==null&&(I[Ie]=null,C[Ie].disconnect(Xe))}ee=null,se=null,b.reset(),e.setRenderTarget(_),v=null,f=null,d=null,i=null,S=null,tt.stop(),r.isPresenting=!1,e.setPixelRatio(N),e.setSize(z.width,z.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ie){s=Ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ie){a=Ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Ie){c=Ie},this.getBaseLayer=function(){return f!==null?f:v},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(Ie){if(i=Ie,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",ne),i.addEventListener("selectstart",ne),i.addEventListener("selectend",ne),i.addEventListener("squeeze",ne),i.addEventListener("squeezestart",ne),i.addEventListener("squeezeend",ne),i.addEventListener("end",me),i.addEventListener("inputsourceschange",be),w.xrCompatible!==!0&&await n.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(z),i.renderState.layers===void 0){const Xe={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,n,Xe),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),S=new Tl(v.framebufferWidth,v.framebufferHeight,{format:zs,type:El,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let Xe=null,Re=null,qe=null;w.depth&&(qe=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Xe=w.stencil?ry:qp,Re=w.stencil?Iy:gf);const Ot={colorFormat:n.RGBA8,depthFormat:qe,scaleFactor:s};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Ot),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),S=new Tl(f.textureWidth,f.textureHeight,{format:zs,type:El,depthTexture:new jF(f.textureWidth,f.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,Xe),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),tt.setContext(i),tt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function be(Ie){for(let Xe=0;Xe<Ie.removed.length;Xe++){const Re=Ie.removed[Xe],qe=I.indexOf(Re);qe>=0&&(I[qe]=null,C[qe].disconnect(Re))}for(let Xe=0;Xe<Ie.added.length;Xe++){const Re=Ie.added[Xe];let qe=I.indexOf(Re);if(qe===-1){for(let ln=0;ln<C.length;ln++)if(ln>=I.length){I.push(Re),qe=ln;break}else if(I[ln]===null){I[ln]=Re,qe=ln;break}if(qe===-1)break}const Ot=C[qe];Ot&&Ot.connect(Re)}}const Se=new oe,Ue=new oe;function J(Ie,Xe,Re){Se.setFromMatrixPosition(Xe.matrixWorld),Ue.setFromMatrixPosition(Re.matrixWorld);const qe=Se.distanceTo(Ue),Ot=Xe.projectionMatrix.elements,ln=Re.projectionMatrix.elements,Me=Ot[14]/(Ot[10]-1),rn=Ot[14]/(Ot[10]+1),We=(Ot[9]+1)/Ot[5],rt=(Ot[9]-1)/Ot[5],lt=(Ot[8]-1)/Ot[0],bt=(ln[8]+1)/ln[0],mt=Me*lt,Rt=Me*bt,Ut=qe/(-lt+bt),X=Ut*-lt;Xe.matrixWorld.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.translateX(X),Ie.translateZ(Ut),Ie.matrixWorld.compose(Ie.position,Ie.quaternion,Ie.scale),Ie.matrixWorldInverse.copy(Ie.matrixWorld).invert();const j=Me+Ut,ae=rn+Ut,ve=mt-X,de=Rt+(qe-X),xe=We*rn/ae*j,Ee=rt*rn/ae*j;Ie.projectionMatrix.makePerspective(ve,de,xe,Ee,j,ae),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert()}function fe(Ie,Xe){Xe===null?Ie.matrixWorld.copy(Ie.matrix):Ie.matrixWorld.multiplyMatrices(Xe.matrixWorld,Ie.matrix),Ie.matrixWorldInverse.copy(Ie.matrixWorld).invert()}this.updateCamera=function(Ie){if(i===null)return;b.texture!==null&&(Ie.near=b.depthNear,Ie.far=b.depthFar),F.near=W.near=A.near=Ie.near,F.far=W.far=A.far=Ie.far,(ee!==F.near||se!==F.far)&&(i.updateRenderState({depthNear:F.near,depthFar:F.far}),ee=F.near,se=F.far,A.near=ee,A.far=se,W.near=ee,W.far=se,A.updateProjectionMatrix(),W.updateProjectionMatrix(),Ie.updateProjectionMatrix());const Xe=Ie.parent,Re=F.cameras;fe(F,Xe);for(let qe=0;qe<Re.length;qe++)fe(Re[qe],Xe);Re.length===2?J(F,A,W):F.projectionMatrix.copy(A.projectionMatrix),re(Ie,F,Xe)};function re(Ie,Xe,Re){Re===null?Ie.matrix.copy(Xe.matrixWorld):(Ie.matrix.copy(Re.matrixWorld),Ie.matrix.invert(),Ie.matrix.multiply(Xe.matrixWorld)),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.updateMatrixWorld(!0),Ie.projectionMatrix.copy(Xe.projectionMatrix),Ie.projectionMatrixInverse.copy(Xe.projectionMatrixInverse),Ie.isPerspectiveCamera&&(Ie.fov=sy*2*Math.atan(1/Ie.projectionMatrix.elements[5]),Ie.zoom=1)}this.getCamera=function(){return F},this.getFoveation=function(){if(!(f===null&&v===null))return l},this.setFoveation=function(Ie){l=Ie,f!==null&&(f.fixedFoveation=Ie),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=Ie)},this.hasDepthSensing=function(){return b.texture!==null};let Ce=null;function ze(Ie,Xe){if(u=Xe.getViewerPose(c||o),y=Xe,u!==null){const Re=u.views;v!==null&&(e.setRenderTargetFramebuffer(S,v.framebuffer),e.setRenderTarget(S));let qe=!1;Re.length!==F.cameras.length&&(F.cameras.length=0,qe=!0);for(let ln=0;ln<Re.length;ln++){const Me=Re[ln];let rn=null;if(v!==null)rn=v.getViewport(Me);else{const rt=d.getViewSubImage(f,Me);rn=rt.viewport,ln===0&&(e.setRenderTargetTextures(S,rt.colorTexture,f.ignoreDepthValues?void 0:rt.depthStencilTexture),e.setRenderTarget(S))}let We=U[ln];We===void 0&&(We=new Ui,We.layers.enable(ln),We.viewport=new ci,U[ln]=We),We.matrix.fromArray(Me.transform.matrix),We.matrix.decompose(We.position,We.quaternion,We.scale),We.projectionMatrix.fromArray(Me.projectionMatrix),We.projectionMatrixInverse.copy(We.projectionMatrix).invert(),We.viewport.set(rn.x,rn.y,rn.width,rn.height),ln===0&&(F.matrix.copy(We.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),qe===!0&&F.cameras.push(We)}const Ot=i.enabledFeatures;if(Ot&&Ot.includes("depth-sensing")){const ln=d.getDepthInformation(Re[0]);ln&&ln.isValid&&ln.texture&&b.init(e,ln,i.renderState)}}for(let Re=0;Re<C.length;Re++){const qe=I[Re],Ot=C[Re];qe!==null&&Ot!==void 0&&Ot.update(qe,Xe,c||o)}b.render(e,F),Ce&&Ce(Ie,Xe),Xe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Xe}),y=null}const tt=new Eee;tt.setAnimationLoop(ze),this.setAnimationLoop=function(Ie){Ce=Ie},this.dispose=function(){}}}const Zf=new Cl,xFe=new Un;function bFe(t,e){function n(w,_){w.matrixAutoUpdate===!0&&w.updateMatrix(),_.value.copy(w.matrix)}function r(w,_){_.color.getRGB(w.fogColor.value,wee(t)),_.isFog?(w.fogNear.value=_.near,w.fogFar.value=_.far):_.isFogExp2&&(w.fogDensity.value=_.density)}function i(w,_,S,C,I){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(w,_):_.isMeshToonMaterial?(s(w,_),d(w,_)):_.isMeshPhongMaterial?(s(w,_),u(w,_)):_.isMeshStandardMaterial?(s(w,_),f(w,_),_.isMeshPhysicalMaterial&&v(w,_,I)):_.isMeshMatcapMaterial?(s(w,_),y(w,_)):_.isMeshDepthMaterial?s(w,_):_.isMeshDistanceMaterial?(s(w,_),b(w,_)):_.isMeshNormalMaterial?s(w,_):_.isLineBasicMaterial?(o(w,_),_.isLineDashedMaterial&&a(w,_)):_.isPointsMaterial?l(w,_,S,C):_.isSpriteMaterial?c(w,_):_.isShadowMaterial?(w.color.value.copy(_.color),w.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(w,_){w.opacity.value=_.opacity,_.color&&w.diffuse.value.copy(_.color),_.emissive&&w.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(w.map.value=_.map,n(_.map,w.mapTransform)),_.alphaMap&&(w.alphaMap.value=_.alphaMap,n(_.alphaMap,w.alphaMapTransform)),_.bumpMap&&(w.bumpMap.value=_.bumpMap,n(_.bumpMap,w.bumpMapTransform),w.bumpScale.value=_.bumpScale,_.side===Ia&&(w.bumpScale.value*=-1)),_.normalMap&&(w.normalMap.value=_.normalMap,n(_.normalMap,w.normalMapTransform),w.normalScale.value.copy(_.normalScale),_.side===Ia&&w.normalScale.value.negate()),_.displacementMap&&(w.displacementMap.value=_.displacementMap,n(_.displacementMap,w.displacementMapTransform),w.displacementScale.value=_.displacementScale,w.displacementBias.value=_.displacementBias),_.emissiveMap&&(w.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,w.emissiveMapTransform)),_.specularMap&&(w.specularMap.value=_.specularMap,n(_.specularMap,w.specularMapTransform)),_.alphaTest>0&&(w.alphaTest.value=_.alphaTest);const S=e.get(_),C=S.envMap,I=S.envMapRotation;if(C&&(w.envMap.value=C,Zf.copy(I),Zf.x*=-1,Zf.y*=-1,Zf.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Zf.y*=-1,Zf.z*=-1),w.envMapRotation.value.setFromMatrix4(xFe.makeRotationFromEuler(Zf)),w.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=_.reflectivity,w.ior.value=_.ior,w.refractionRatio.value=_.refractionRatio),_.lightMap){w.lightMap.value=_.lightMap;const z=t._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=_.lightMapIntensity*z,n(_.lightMap,w.lightMapTransform)}_.aoMap&&(w.aoMap.value=_.aoMap,w.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,w.aoMapTransform))}function o(w,_){w.diffuse.value.copy(_.color),w.opacity.value=_.opacity,_.map&&(w.map.value=_.map,n(_.map,w.mapTransform))}function a(w,_){w.dashSize.value=_.dashSize,w.totalSize.value=_.dashSize+_.gapSize,w.scale.value=_.scale}function l(w,_,S,C){w.diffuse.value.copy(_.color),w.opacity.value=_.opacity,w.size.value=_.size*S,w.scale.value=C*.5,_.map&&(w.map.value=_.map,n(_.map,w.uvTransform)),_.alphaMap&&(w.alphaMap.value=_.alphaMap,n(_.alphaMap,w.alphaMapTransform)),_.alphaTest>0&&(w.alphaTest.value=_.alphaTest)}function c(w,_){w.diffuse.value.copy(_.color),w.opacity.value=_.opacity,w.rotation.value=_.rotation,_.map&&(w.map.value=_.map,n(_.map,w.mapTransform)),_.alphaMap&&(w.alphaMap.value=_.alphaMap,n(_.alphaMap,w.alphaMapTransform)),_.alphaTest>0&&(w.alphaTest.value=_.alphaTest)}function u(w,_){w.specular.value.copy(_.specular),w.shininess.value=Math.max(_.shininess,1e-4)}function d(w,_){_.gradientMap&&(w.gradientMap.value=_.gradientMap)}function f(w,_){w.metalness.value=_.metalness,_.metalnessMap&&(w.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,w.metalnessMapTransform)),w.roughness.value=_.roughness,_.roughnessMap&&(w.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,w.roughnessMapTransform)),_.envMap&&(w.envMapIntensity.value=_.envMapIntensity)}function v(w,_,S){w.ior.value=_.ior,_.sheen>0&&(w.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),w.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(w.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,w.sheenColorMapTransform)),_.sheenRoughnessMap&&(w.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,w.sheenRoughnessMapTransform))),_.clearcoat>0&&(w.clearcoat.value=_.clearcoat,w.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(w.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,w.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(w.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Ia&&w.clearcoatNormalScale.value.negate())),_.dispersion>0&&(w.dispersion.value=_.dispersion),_.iridescence>0&&(w.iridescence.value=_.iridescence,w.iridescenceIOR.value=_.iridescenceIOR,w.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(w.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,w.iridescenceMapTransform)),_.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),_.transmission>0&&(w.transmission.value=_.transmission,w.transmissionSamplerMap.value=S.texture,w.transmissionSamplerSize.value.set(S.width,S.height),_.transmissionMap&&(w.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,w.transmissionMapTransform)),w.thickness.value=_.thickness,_.thicknessMap&&(w.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=_.attenuationDistance,w.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(w.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(w.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=_.specularIntensity,w.specularColor.value.copy(_.specularColor),_.specularColorMap&&(w.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,w.specularColorMapTransform)),_.specularIntensityMap&&(w.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,w.specularIntensityMapTransform))}function y(w,_){_.matcap&&(w.matcap.value=_.matcap)}function b(w,_){const S=e.get(_).light;w.referencePosition.value.setFromMatrixPosition(S.matrixWorld),w.nearDistance.value=S.shadow.camera.near,w.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function wFe(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,C){const I=C.program;r.uniformBlockBinding(S,I)}function c(S,C){let I=i[S.id];I===void 0&&(y(S),I=u(S),i[S.id]=I,S.addEventListener("dispose",w));const z=C.program;r.updateUBOMapping(S,z);const N=e.render.frame;s[S.id]!==N&&(f(S),s[S.id]=N)}function u(S){const C=d();S.__bindingPointIndex=C;const I=t.createBuffer(),z=S.__size,N=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,I),t.bufferData(t.UNIFORM_BUFFER,z,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,I),I}function d(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(S){const C=i[S.id],I=S.uniforms,z=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let N=0,A=I.length;N<A;N++){const W=Array.isArray(I[N])?I[N]:[I[N]];for(let U=0,F=W.length;U<F;U++){const ee=W[U];if(v(ee,N,U,z)===!0){const se=ee.__offset,ne=Array.isArray(ee.value)?ee.value:[ee.value];let me=0;for(let be=0;be<ne.length;be++){const Se=ne[be],Ue=b(Se);typeof Se=="number"||typeof Se=="boolean"?(ee.__data[0]=Se,t.bufferSubData(t.UNIFORM_BUFFER,se+me,ee.__data)):Se.isMatrix3?(ee.__data[0]=Se.elements[0],ee.__data[1]=Se.elements[1],ee.__data[2]=Se.elements[2],ee.__data[3]=0,ee.__data[4]=Se.elements[3],ee.__data[5]=Se.elements[4],ee.__data[6]=Se.elements[5],ee.__data[7]=0,ee.__data[8]=Se.elements[6],ee.__data[9]=Se.elements[7],ee.__data[10]=Se.elements[8],ee.__data[11]=0):(Se.toArray(ee.__data,me),me+=Ue.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,se,ee.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(S,C,I,z){const N=S.value,A=C+"_"+I;if(z[A]===void 0)return typeof N=="number"||typeof N=="boolean"?z[A]=N:z[A]=N.clone(),!0;{const W=z[A];if(typeof N=="number"||typeof N=="boolean"){if(W!==N)return z[A]=N,!0}else if(W.equals(N)===!1)return W.copy(N),!0}return!1}function y(S){const C=S.uniforms;let I=0;const z=16;for(let A=0,W=C.length;A<W;A++){const U=Array.isArray(C[A])?C[A]:[C[A]];for(let F=0,ee=U.length;F<ee;F++){const se=U[F],ne=Array.isArray(se.value)?se.value:[se.value];for(let me=0,be=ne.length;me<be;me++){const Se=ne[me],Ue=b(Se),J=I%z;J!==0&&z-J<Ue.boundary&&(I+=z-J),se.__data=new Float32Array(Ue.storage/Float32Array.BYTES_PER_ELEMENT),se.__offset=I,I+=Ue.storage}}}const N=I%z;return N>0&&(I+=z-N),S.__size=I,S.__cache={},this}function b(S){const C={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(C.boundary=4,C.storage=4):S.isVector2?(C.boundary=8,C.storage=8):S.isVector3||S.isColor?(C.boundary=16,C.storage=12):S.isVector4?(C.boundary=16,C.storage=16):S.isMatrix3?(C.boundary=48,C.storage=48):S.isMatrix4?(C.boundary=64,C.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),C}function w(S){const C=S.target;C.removeEventListener("dispose",w);const I=o.indexOf(C.__bindingPointIndex);o.splice(I,1),t.deleteBuffer(i[C.id]),delete i[C.id],delete s[C.id]}function _(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:c,dispose:_}}class WF{constructor(e={}){const{canvas:n=vee(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=r.getContextAttributes().alpha}else f=o;const v=new Uint32Array(4),y=new Int32Array(4);let b=null,w=null;const _=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=hl,this._useLegacyLights=!1,this.toneMapping=Eu,this.toneMappingExposure=1;const C=this;let I=!1,z=0,N=0,A=null,W=-1,U=null;const F=new ci,ee=new ci;let se=null;const ne=new Zt(0);let me=0,be=n.width,Se=n.height,Ue=1,J=null,fe=null;const re=new ci(0,0,be,Se),Ce=new ci(0,0,be,Se);let ze=!1;const tt=new p1;let Ie=!1,Xe=!1;const Re=new Un,qe=new oe,Ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ln(){return A===null?Ue:1}let Me=r;function rn(O,Z){return n.getContext(O,Z)}try{const O={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${My}`),n.addEventListener("webglcontextlost",ye,!1),n.addEventListener("webglcontextrestored",ct,!1),n.addEventListener("webglcontextcreationerror",Le,!1),Me===null){const Z="webgl2";if(Me=rn(Z,O),Me===null)throw rn(Z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let We,rt,lt,bt,mt,Rt,Ut,X,j,ae,ve,de,xe,Ee,Ze,vt,Xt,yt,zt,bn,Yt,St,Vt,Ae;function dt(){We=new DBe(Me),We.init(),St=new Ree(Me,We),rt=new PBe(Me,We,e,St),lt=new fFe(Me),bt=new FBe(Me),mt=new tFe,Rt=new pFe(Me,We,lt,mt,rt,St,bt),Ut=new RBe(C),X=new OBe(C),j=new $Oe(Me),Vt=new CBe(Me,j),ae=new NBe(Me,j,bt,Vt),ve=new zBe(Me,ae,j,bt),zt=new UBe(Me,rt,Rt),vt=new IBe(mt),de=new eFe(C,Ut,X,We,rt,Vt,vt),xe=new bFe(C,mt),Ee=new rFe,Ze=new cFe(We),yt=new TBe(C,Ut,X,lt,ve,f,l),Xt=new dFe(C,ve,rt),Ae=new wFe(Me,bt,rt,lt),bn=new MBe(Me,We,bt),Yt=new BBe(Me,We,bt),bt.programs=de.programs,C.capabilities=rt,C.extensions=We,C.properties=mt,C.renderLists=Ee,C.shadowMap=Xt,C.state=lt,C.info=bt}dt();const pt=new _Fe(C,Me);this.xr=pt,this.getContext=function(){return Me},this.getContextAttributes=function(){return Me.getContextAttributes()},this.forceContextLoss=function(){const O=We.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=We.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return Ue},this.setPixelRatio=function(O){O!==void 0&&(Ue=O,this.setSize(be,Se,!1))},this.getSize=function(O){return O.set(be,Se)},this.setSize=function(O,Z,ie=!0){if(pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}be=O,Se=Z,n.width=Math.floor(O*Ue),n.height=Math.floor(Z*Ue),ie===!0&&(n.style.width=O+"px",n.style.height=Z+"px"),this.setViewport(0,0,O,Z)},this.getDrawingBufferSize=function(O){return O.set(be*Ue,Se*Ue).floor()},this.setDrawingBufferSize=function(O,Z,ie){be=O,Se=Z,Ue=ie,n.width=Math.floor(O*ie),n.height=Math.floor(Z*ie),this.setViewport(0,0,O,Z)},this.getCurrentViewport=function(O){return O.copy(F)},this.getViewport=function(O){return O.copy(re)},this.setViewport=function(O,Z,ie,le){O.isVector4?re.set(O.x,O.y,O.z,O.w):re.set(O,Z,ie,le),lt.viewport(F.copy(re).multiplyScalar(Ue).round())},this.getScissor=function(O){return O.copy(Ce)},this.setScissor=function(O,Z,ie,le){O.isVector4?Ce.set(O.x,O.y,O.z,O.w):Ce.set(O,Z,ie,le),lt.scissor(ee.copy(Ce).multiplyScalar(Ue).round())},this.getScissorTest=function(){return ze},this.setScissorTest=function(O){lt.setScissorTest(ze=O)},this.setOpaqueSort=function(O){J=O},this.setTransparentSort=function(O){fe=O},this.getClearColor=function(O){return O.copy(yt.getClearColor())},this.setClearColor=function(){yt.setClearColor.apply(yt,arguments)},this.getClearAlpha=function(){return yt.getClearAlpha()},this.setClearAlpha=function(){yt.setClearAlpha.apply(yt,arguments)},this.clear=function(O=!0,Z=!0,ie=!0){let le=0;if(O){let ce=!1;if(A!==null){const Ve=A.texture.format;ce=Ve===kF||Ve===LF||Ve===RF}if(ce){const Ve=A.texture.type,He=Ve===El||Ve===gf||Ve===MF||Ve===Iy||Ve===PF||Ve===IF,Qe=yt.getClearColor(),it=yt.getClearAlpha(),at=Qe.r,st=Qe.g,Gt=Qe.b;He?(v[0]=at,v[1]=st,v[2]=Gt,v[3]=it,Me.clearBufferuiv(Me.COLOR,0,v)):(y[0]=at,y[1]=st,y[2]=Gt,y[3]=it,Me.clearBufferiv(Me.COLOR,0,y))}else le|=Me.COLOR_BUFFER_BIT}Z&&(le|=Me.DEPTH_BUFFER_BIT),ie&&(le|=Me.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Me.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ye,!1),n.removeEventListener("webglcontextrestored",ct,!1),n.removeEventListener("webglcontextcreationerror",Le,!1),Ee.dispose(),Ze.dispose(),mt.dispose(),Ut.dispose(),X.dispose(),ve.dispose(),Vt.dispose(),Ae.dispose(),de.dispose(),pt.dispose(),pt.removeEventListener("sessionstart",Fn),pt.removeEventListener("sessionend",Gr),Kn.stop()};function ye(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const O=bt.autoReset,Z=Xt.enabled,ie=Xt.autoUpdate,le=Xt.needsUpdate,ce=Xt.type;dt(),bt.autoReset=O,Xt.enabled=Z,Xt.autoUpdate=ie,Xt.needsUpdate=le,Xt.type=ce}function Le(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function _t(O){const Z=O.target;Z.removeEventListener("dispose",_t),Pt(Z)}function Pt(O){Bn(O),mt.remove(O)}function Bn(O){const Z=mt.get(O).programs;Z!==void 0&&(Z.forEach(function(ie){de.releaseProgram(ie)}),O.isShaderMaterial&&de.releaseShaderCache(O))}this.renderBufferDirect=function(O,Z,ie,le,ce,Ve){Z===null&&(Z=Ot);const He=ce.isMesh&&ce.matrixWorld.determinant()<0,Qe=ir(O,Z,ie,le,ce);lt.setMaterial(le,He);let it=ie.index,at=1;if(le.wireframe===!0){if(it=ae.getWireframeAttribute(ie),it===void 0)return;at=2}const st=ie.drawRange,Gt=ie.attributes.position;let Lt=st.start*at,Bt=(st.start+st.count)*at;Ve!==null&&(Lt=Math.max(Lt,Ve.start*at),Bt=Math.min(Bt,(Ve.start+Ve.count)*at)),it!==null?(Lt=Math.max(Lt,0),Bt=Math.min(Bt,it.count)):Gt!=null&&(Lt=Math.max(Lt,0),Bt=Math.min(Bt,Gt.count));const un=Bt-Lt;if(un<0||un===1/0)return;Vt.setup(ce,le,Qe,ie,it);let yn,qt=bn;if(it!==null&&(yn=j.get(it),qt=Yt,qt.setIndex(yn)),ce.isMesh)le.wireframe===!0?(lt.setLineWidth(le.wireframeLinewidth*ln()),qt.setMode(Me.LINES)):qt.setMode(Me.TRIANGLES);else if(ce.isLine){let Nt=le.linewidth;Nt===void 0&&(Nt=1),lt.setLineWidth(Nt*ln()),ce.isLineSegments?qt.setMode(Me.LINES):ce.isLineLoop?qt.setMode(Me.LINE_LOOP):qt.setMode(Me.LINE_STRIP)}else ce.isPoints?qt.setMode(Me.POINTS):ce.isSprite&&qt.setMode(Me.TRIANGLES);if(ce.isBatchedMesh)ce._multiDrawInstances!==null?qt.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances):qt.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else if(ce.isInstancedMesh)qt.renderInstances(Lt,un,ce.count);else if(ie.isInstancedBufferGeometry){const Nt=ie._maxInstanceCount!==void 0?ie._maxInstanceCount:1/0,pn=Math.min(ie.instanceCount,Nt);qt.renderInstances(Lt,un,pn)}else qt.render(Lt,un)};function gn(O,Z,ie){O.transparent===!0&&O.side===tc&&O.forceSinglePass===!1?(O.side=Ia,O.needsUpdate=!0,Et(O,Z,ie),O.side=Lu,O.needsUpdate=!0,Et(O,Z,ie),O.side=tc):Et(O,Z,ie)}this.compile=function(O,Z,ie=null){ie===null&&(ie=O),w=Ze.get(ie),w.init(Z),S.push(w),ie.traverseVisible(function(ce){ce.isLight&&ce.layers.test(Z.layers)&&(w.pushLight(ce),ce.castShadow&&w.pushShadow(ce))}),O!==ie&&O.traverseVisible(function(ce){ce.isLight&&ce.layers.test(Z.layers)&&(w.pushLight(ce),ce.castShadow&&w.pushShadow(ce))}),w.setupLights(C._useLegacyLights);const le=new Set;return O.traverse(function(ce){const Ve=ce.material;if(Ve)if(Array.isArray(Ve))for(let He=0;He<Ve.length;He++){const Qe=Ve[He];gn(Qe,ie,ce),le.add(Qe)}else gn(Ve,ie,ce),le.add(Ve)}),S.pop(),w=null,le},this.compileAsync=function(O,Z,ie=null){const le=this.compile(O,Z,ie);return new Promise(ce=>{function Ve(){if(le.forEach(function(He){mt.get(He).currentProgram.isReady()&&le.delete(He)}),le.size===0){ce(O);return}setTimeout(Ve,10)}We.get("KHR_parallel_shader_compile")!==null?Ve():setTimeout(Ve,10)})};let En=null;function kn(O){En&&En(O)}function Fn(){Kn.stop()}function Gr(){Kn.start()}const Kn=new Eee;Kn.setAnimationLoop(kn),typeof self<"u"&&Kn.setContext(self),this.setAnimationLoop=function(O){En=O,pt.setAnimationLoop(O),O===null?Kn.stop():Kn.start()},pt.addEventListener("sessionstart",Fn),pt.addEventListener("sessionend",Gr),this.render=function(O,Z){if(Z!==void 0&&Z.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),Z.parent===null&&Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),pt.enabled===!0&&pt.isPresenting===!0&&(pt.cameraAutoUpdate===!0&&pt.updateCamera(Z),Z=pt.getCamera()),O.isScene===!0&&O.onBeforeRender(C,O,Z,A),w=Ze.get(O,S.length),w.init(Z),S.push(w),Re.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),tt.setFromProjectionMatrix(Re),Xe=this.localClippingEnabled,Ie=vt.init(this.clippingPlanes,Xe),b=Ee.get(O,_.length),b.init(),_.push(b),vi(O,Z,0,C.sortObjects),b.finish(),C.sortObjects===!0&&b.sort(J,fe);const ie=pt.enabled===!1||pt.isPresenting===!1||pt.hasDepthSensing()===!1;ie&&yt.addToRenderList(b,O),this.info.render.frame++,Ie===!0&&vt.beginShadows();const le=w.state.shadowsArray;Xt.render(le,O,Z),Ie===!0&&vt.endShadows(),this.info.autoReset===!0&&this.info.reset();const ce=b.opaque,Ve=b.transmissive;if(w.setupLights(C._useLegacyLights),Z.isArrayCamera){const He=Z.cameras;if(Ve.length>0)for(let Qe=0,it=He.length;Qe<it;Qe++){const at=He[Qe];vn(ce,Ve,O,at)}ie&&yt.render(O);for(let Qe=0,it=He.length;Qe<it;Qe++){const at=He[Qe];is(b,O,at,at.viewport)}}else Ve.length>0&&vn(ce,Ve,O,Z),ie&&yt.render(O),is(b,O,Z);A!==null&&(Rt.updateMultisampleRenderTarget(A),Rt.updateRenderTargetMipmap(A)),O.isScene===!0&&O.onAfterRender(C,O,Z),Vt.resetDefaultState(),W=-1,U=null,S.pop(),S.length>0?(w=S[S.length-1],Ie===!0&&vt.setGlobalState(C.clippingPlanes,w.state.camera)):w=null,_.pop(),_.length>0?b=_[_.length-1]:b=null};function vi(O,Z,ie,le){if(O.visible===!1)return;if(O.layers.test(Z.layers)){if(O.isGroup)ie=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(Z);else if(O.isLight)w.pushLight(O),O.castShadow&&w.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||tt.intersectsSprite(O)){le&&qe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(Re);const He=ve.update(O),Qe=O.material;Qe.visible&&b.push(O,He,Qe,ie,qe.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||tt.intersectsObject(O))){const He=ve.update(O),Qe=O.material;if(le&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),qe.copy(O.boundingSphere.center)):(He.boundingSphere===null&&He.computeBoundingSphere(),qe.copy(He.boundingSphere.center)),qe.applyMatrix4(O.matrixWorld).applyMatrix4(Re)),Array.isArray(Qe)){const it=He.groups;for(let at=0,st=it.length;at<st;at++){const Gt=it[at],Lt=Qe[Gt.materialIndex];Lt&&Lt.visible&&b.push(O,He,Lt,ie,qe.z,Gt)}}else Qe.visible&&b.push(O,He,Qe,ie,qe.z,null)}}const Ve=O.children;for(let He=0,Qe=Ve.length;He<Qe;He++)vi(Ve[He],Z,ie,le)}function is(O,Z,ie,le){const ce=O.opaque,Ve=O.transmissive,He=O.transparent;w.setupLightsView(ie),Ie===!0&&vt.setGlobalState(C.clippingPlanes,ie),le&&lt.viewport(F.copy(le)),ce.length>0&&In(ce,Z,ie),Ve.length>0&&In(Ve,Z,ie),He.length>0&&In(He,Z,ie),lt.buffers.depth.setTest(!0),lt.buffers.depth.setMask(!0),lt.buffers.color.setMask(!0),lt.setPolygonOffset(!1)}function vn(O,Z,ie,le){if((ie.isScene===!0?ie.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[le.id]===void 0&&(w.state.transmissionRenderTarget[le.id]=new Tl(1,1,{generateMipmaps:!0,type:We.has("EXT_color_buffer_half_float")||We.has("EXT_color_buffer_float")?Co:El,minFilter:sc,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const Ve=w.state.transmissionRenderTarget[le.id],He=le.viewport||F;Ve.setSize(He.z,He.w);const Qe=C.getRenderTarget();C.setRenderTarget(Ve),C.getClearColor(ne),me=C.getClearAlpha(),me<1&&C.setClearColor(16777215,.5),C.clear();const it=C.toneMapping;C.toneMapping=Eu;const at=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),w.setupLightsView(le),Ie===!0&&vt.setGlobalState(C.clippingPlanes,le),In(O,ie,le),Rt.updateMultisampleRenderTarget(Ve),Rt.updateRenderTargetMipmap(Ve),We.has("WEBGL_multisampled_render_to_texture")===!1){let st=!1;for(let Gt=0,Lt=Z.length;Gt<Lt;Gt++){const Bt=Z[Gt],un=Bt.object,yn=Bt.geometry,qt=Bt.material,Nt=Bt.group;if(qt.side===tc&&un.layers.test(le.layers)){const pn=qt.side;qt.side=Ia,qt.needsUpdate=!0,Dn(un,ie,le,yn,qt,Nt),qt.side=pn,qt.needsUpdate=!0,st=!0}}st===!0&&(Rt.updateMultisampleRenderTarget(Ve),Rt.updateRenderTargetMipmap(Ve))}C.setRenderTarget(Qe),C.setClearColor(ne,me),at!==void 0&&(le.viewport=at),C.toneMapping=it}function In(O,Z,ie){const le=Z.isScene===!0?Z.overrideMaterial:null;for(let ce=0,Ve=O.length;ce<Ve;ce++){const He=O[ce],Qe=He.object,it=He.geometry,at=le===null?He.material:le,st=He.group;Qe.layers.test(ie.layers)&&Dn(Qe,Z,ie,it,at,st)}}function Dn(O,Z,ie,le,ce,Ve){O.onBeforeRender(C,Z,ie,le,ce,Ve),O.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),ce.onBeforeRender(C,Z,ie,le,O,Ve),ce.transparent===!0&&ce.side===tc&&ce.forceSinglePass===!1?(ce.side=Ia,ce.needsUpdate=!0,C.renderBufferDirect(ie,Z,le,ce,O,Ve),ce.side=Lu,ce.needsUpdate=!0,C.renderBufferDirect(ie,Z,le,ce,O,Ve),ce.side=tc):C.renderBufferDirect(ie,Z,le,ce,O,Ve),O.onAfterRender(C,Z,ie,le,ce,Ve)}function Et(O,Z,ie){Z.isScene!==!0&&(Z=Ot);const le=mt.get(O),ce=w.state.lights,Ve=w.state.shadowsArray,He=ce.state.version,Qe=de.getParameters(O,ce.state,Ve,Z,ie),it=de.getProgramCacheKey(Qe);let at=le.programs;le.environment=O.isMeshStandardMaterial?Z.environment:null,le.fog=Z.fog,le.envMap=(O.isMeshStandardMaterial?X:Ut).get(O.envMap||le.environment),le.envMapRotation=le.environment!==null&&O.envMap===null?Z.environmentRotation:O.envMapRotation,at===void 0&&(O.addEventListener("dispose",_t),at=new Map,le.programs=at);let st=at.get(it);if(st!==void 0){if(le.currentProgram===st&&le.lightsStateVersion===He)return xn(O,Qe),st}else Qe.uniforms=de.getUniforms(O),O.onBuild(ie,Qe,C),O.onBeforeCompile(Qe,C),st=de.acquireProgram(Qe,it),at.set(it,st),le.uniforms=Qe.uniforms;const Gt=le.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(Gt.clippingPlanes=vt.uniform),xn(O,Qe),le.needsLights=Y(O),le.lightsStateVersion=He,le.needsLights&&(Gt.ambientLightColor.value=ce.state.ambient,Gt.lightProbe.value=ce.state.probe,Gt.directionalLights.value=ce.state.directional,Gt.directionalLightShadows.value=ce.state.directionalShadow,Gt.spotLights.value=ce.state.spot,Gt.spotLightShadows.value=ce.state.spotShadow,Gt.rectAreaLights.value=ce.state.rectArea,Gt.ltc_1.value=ce.state.rectAreaLTC1,Gt.ltc_2.value=ce.state.rectAreaLTC2,Gt.pointLights.value=ce.state.point,Gt.pointLightShadows.value=ce.state.pointShadow,Gt.hemisphereLights.value=ce.state.hemi,Gt.directionalShadowMap.value=ce.state.directionalShadowMap,Gt.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,Gt.spotShadowMap.value=ce.state.spotShadowMap,Gt.spotLightMatrix.value=ce.state.spotLightMatrix,Gt.spotLightMap.value=ce.state.spotLightMap,Gt.pointShadowMap.value=ce.state.pointShadowMap,Gt.pointShadowMatrix.value=ce.state.pointShadowMatrix),le.currentProgram=st,le.uniformsList=null,st}function Mn(O){if(O.uniformsList===null){const Z=O.currentProgram.getUniforms();O.uniformsList=YA.seqWithValue(Z.seq,O.uniforms)}return O.uniformsList}function xn(O,Z){const ie=mt.get(O);ie.outputColorSpace=Z.outputColorSpace,ie.batching=Z.batching,ie.instancing=Z.instancing,ie.instancingColor=Z.instancingColor,ie.instancingMorph=Z.instancingMorph,ie.skinning=Z.skinning,ie.morphTargets=Z.morphTargets,ie.morphNormals=Z.morphNormals,ie.morphColors=Z.morphColors,ie.morphTargetsCount=Z.morphTargetsCount,ie.numClippingPlanes=Z.numClippingPlanes,ie.numIntersection=Z.numClipIntersection,ie.vertexAlphas=Z.vertexAlphas,ie.vertexTangents=Z.vertexTangents,ie.toneMapping=Z.toneMapping}function ir(O,Z,ie,le,ce){Z.isScene!==!0&&(Z=Ot),Rt.resetTextureUnits();const Ve=Z.fog,He=le.isMeshStandardMaterial?Z.environment:null,Qe=A===null?C.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:uc,it=(le.isMeshStandardMaterial?X:Ut).get(le.envMap||He),at=le.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,st=!!ie.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Gt=!!ie.morphAttributes.position,Lt=!!ie.morphAttributes.normal,Bt=!!ie.morphAttributes.color;let un=Eu;le.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(un=C.toneMapping);const yn=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,qt=yn!==void 0?yn.length:0,Nt=mt.get(le),pn=w.state.lights;if(Ie===!0&&(Xe===!0||O!==U)){const on=O===U&&le.id===W;vt.setState(le,O,on)}let Ht=!1;le.version===Nt.__version?(Nt.needsLights&&Nt.lightsStateVersion!==pn.state.version||Nt.outputColorSpace!==Qe||ce.isBatchedMesh&&Nt.batching===!1||!ce.isBatchedMesh&&Nt.batching===!0||ce.isInstancedMesh&&Nt.instancing===!1||!ce.isInstancedMesh&&Nt.instancing===!0||ce.isSkinnedMesh&&Nt.skinning===!1||!ce.isSkinnedMesh&&Nt.skinning===!0||ce.isInstancedMesh&&Nt.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&Nt.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&Nt.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&Nt.instancingMorph===!1&&ce.morphTexture!==null||Nt.envMap!==it||le.fog===!0&&Nt.fog!==Ve||Nt.numClippingPlanes!==void 0&&(Nt.numClippingPlanes!==vt.numPlanes||Nt.numIntersection!==vt.numIntersection)||Nt.vertexAlphas!==at||Nt.vertexTangents!==st||Nt.morphTargets!==Gt||Nt.morphNormals!==Lt||Nt.morphColors!==Bt||Nt.toneMapping!==un||Nt.morphTargetsCount!==qt)&&(Ht=!0):(Ht=!0,Nt.__version=le.version);let Fe=Nt.currentProgram;Ht===!0&&(Fe=Et(le,Z,ce));let Mt=!1,kt=!1,Yn=!1;const er=Fe.getUniforms(),Sr=Nt.uniforms;if(lt.useProgram(Fe.program)&&(Mt=!0,kt=!0,Yn=!0),le.id!==W&&(W=le.id,kt=!0),Mt||U!==O){er.setValue(Me,"projectionMatrix",O.projectionMatrix),er.setValue(Me,"viewMatrix",O.matrixWorldInverse);const on=er.map.cameraPosition;on!==void 0&&on.setValue(Me,qe.setFromMatrixPosition(O.matrixWorld)),rt.logarithmicDepthBuffer&&er.setValue(Me,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&er.setValue(Me,"isOrthographic",O.isOrthographicCamera===!0),U!==O&&(U=O,kt=!0,Yn=!0)}if(ce.isSkinnedMesh){er.setOptional(Me,ce,"bindMatrix"),er.setOptional(Me,ce,"bindMatrixInverse");const on=ce.skeleton;on&&(on.boneTexture===null&&on.computeBoneTexture(),er.setValue(Me,"boneTexture",on.boneTexture,Rt))}ce.isBatchedMesh&&(er.setOptional(Me,ce,"batchingTexture"),er.setValue(Me,"batchingTexture",ce._matricesTexture,Rt));const hn=ie.morphAttributes;if((hn.position!==void 0||hn.normal!==void 0||hn.color!==void 0)&&zt.update(ce,ie,Fe),(kt||Nt.receiveShadow!==ce.receiveShadow)&&(Nt.receiveShadow=ce.receiveShadow,er.setValue(Me,"receiveShadow",ce.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Sr.envMap.value=it,Sr.flipEnvMap.value=it.isCubeTexture&&it.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&Z.environment!==null&&(Sr.envMapIntensity.value=Z.environmentIntensity),kt&&(er.setValue(Me,"toneMappingExposure",C.toneMappingExposure),Nt.needsLights&&Ur(Sr,Yn),Ve&&le.fog===!0&&xe.refreshFogUniforms(Sr,Ve),xe.refreshMaterialUniforms(Sr,le,Ue,Se,w.state.transmissionRenderTarget[O.id]),YA.upload(Me,Mn(Nt),Sr,Rt)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(YA.upload(Me,Mn(Nt),Sr,Rt),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&er.setValue(Me,"center",ce.center),er.setValue(Me,"modelViewMatrix",ce.modelViewMatrix),er.setValue(Me,"normalMatrix",ce.normalMatrix),er.setValue(Me,"modelMatrix",ce.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const on=le.uniformsGroups;for(let Wr=0,sr=on.length;Wr<sr;Wr++){const Nn=on[Wr];Ae.update(Nn,Fe),Ae.bind(Nn,Fe)}}return Fe}function Ur(O,Z){O.ambientLightColor.needsUpdate=Z,O.lightProbe.needsUpdate=Z,O.directionalLights.needsUpdate=Z,O.directionalLightShadows.needsUpdate=Z,O.pointLights.needsUpdate=Z,O.pointLightShadows.needsUpdate=Z,O.spotLights.needsUpdate=Z,O.spotLightShadows.needsUpdate=Z,O.rectAreaLights.needsUpdate=Z,O.hemisphereLights.needsUpdate=Z}function Y(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return z},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(O,Z,ie){mt.get(O.texture).__webglTexture=Z,mt.get(O.depthTexture).__webglTexture=ie;const le=mt.get(O);le.__hasExternalTextures=!0,le.__autoAllocateDepthBuffer=ie===void 0,le.__autoAllocateDepthBuffer||We.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(O,Z){const ie=mt.get(O);ie.__webglFramebuffer=Z,ie.__useDefaultFramebuffer=Z===void 0},this.setRenderTarget=function(O,Z=0,ie=0){A=O,z=Z,N=ie;let le=!0,ce=null,Ve=!1,He=!1;if(O){const it=mt.get(O);it.__useDefaultFramebuffer!==void 0?(lt.bindFramebuffer(Me.FRAMEBUFFER,null),le=!1):it.__webglFramebuffer===void 0?Rt.setupRenderTarget(O):it.__hasExternalTextures&&Rt.rebindTextures(O,mt.get(O.texture).__webglTexture,mt.get(O.depthTexture).__webglTexture);const at=O.texture;(at.isData3DTexture||at.isDataArrayTexture||at.isCompressedArrayTexture)&&(He=!0);const st=mt.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(st[Z])?ce=st[Z][ie]:ce=st[Z],Ve=!0):O.samples>0&&Rt.useMultisampledRTT(O)===!1?ce=mt.get(O).__webglMultisampledFramebuffer:Array.isArray(st)?ce=st[ie]:ce=st,F.copy(O.viewport),ee.copy(O.scissor),se=O.scissorTest}else F.copy(re).multiplyScalar(Ue).floor(),ee.copy(Ce).multiplyScalar(Ue).floor(),se=ze;if(lt.bindFramebuffer(Me.FRAMEBUFFER,ce)&&le&&lt.drawBuffers(O,ce),lt.viewport(F),lt.scissor(ee),lt.setScissorTest(se),Ve){const it=mt.get(O.texture);Me.framebufferTexture2D(Me.FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Me.TEXTURE_CUBE_MAP_POSITIVE_X+Z,it.__webglTexture,ie)}else if(He){const it=mt.get(O.texture),at=Z||0;Me.framebufferTextureLayer(Me.FRAMEBUFFER,Me.COLOR_ATTACHMENT0,it.__webglTexture,ie||0,at)}W=-1},this.readRenderTargetPixels=function(O,Z,ie,le,ce,Ve,He){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qe=mt.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&He!==void 0&&(Qe=Qe[He]),Qe){lt.bindFramebuffer(Me.FRAMEBUFFER,Qe);try{const it=O.texture,at=it.format,st=it.type;if(!rt.textureFormatReadable(at)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rt.textureTypeReadable(st)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Z>=0&&Z<=O.width-le&&ie>=0&&ie<=O.height-ce&&Me.readPixels(Z,ie,le,ce,St.convert(at),St.convert(st),Ve)}finally{const it=A!==null?mt.get(A).__webglFramebuffer:null;lt.bindFramebuffer(Me.FRAMEBUFFER,it)}}},this.copyFramebufferToTexture=function(O,Z,ie=0){const le=Math.pow(2,-ie),ce=Math.floor(Z.image.width*le),Ve=Math.floor(Z.image.height*le);Rt.setTexture2D(Z,0),Me.copyTexSubImage2D(Me.TEXTURE_2D,ie,0,0,O.x,O.y,ce,Ve),lt.unbindTexture()},this.copyTextureToTexture=function(O,Z,ie,le=0){const ce=Z.image.width,Ve=Z.image.height,He=St.convert(ie.format),Qe=St.convert(ie.type);Rt.setTexture2D(ie,0),Me.pixelStorei(Me.UNPACK_FLIP_Y_WEBGL,ie.flipY),Me.pixelStorei(Me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),Me.pixelStorei(Me.UNPACK_ALIGNMENT,ie.unpackAlignment),Z.isDataTexture?Me.texSubImage2D(Me.TEXTURE_2D,le,O.x,O.y,ce,Ve,He,Qe,Z.image.data):Z.isCompressedTexture?Me.compressedTexSubImage2D(Me.TEXTURE_2D,le,O.x,O.y,Z.mipmaps[0].width,Z.mipmaps[0].height,He,Z.mipmaps[0].data):Me.texSubImage2D(Me.TEXTURE_2D,le,O.x,O.y,He,Qe,Z.image),le===0&&ie.generateMipmaps&&Me.generateMipmap(Me.TEXTURE_2D),lt.unbindTexture()},this.copyTextureToTexture3D=function(O,Z,ie,le,ce=0){const Ve=O.max.x-O.min.x,He=O.max.y-O.min.y,Qe=O.max.z-O.min.z,it=St.convert(le.format),at=St.convert(le.type);let st;if(le.isData3DTexture)Rt.setTexture3D(le,0),st=Me.TEXTURE_3D;else if(le.isDataArrayTexture||le.isCompressedArrayTexture)Rt.setTexture2DArray(le,0),st=Me.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Me.pixelStorei(Me.UNPACK_FLIP_Y_WEBGL,le.flipY),Me.pixelStorei(Me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),Me.pixelStorei(Me.UNPACK_ALIGNMENT,le.unpackAlignment);const Gt=Me.getParameter(Me.UNPACK_ROW_LENGTH),Lt=Me.getParameter(Me.UNPACK_IMAGE_HEIGHT),Bt=Me.getParameter(Me.UNPACK_SKIP_PIXELS),un=Me.getParameter(Me.UNPACK_SKIP_ROWS),yn=Me.getParameter(Me.UNPACK_SKIP_IMAGES),qt=ie.isCompressedTexture?ie.mipmaps[ce]:ie.image;Me.pixelStorei(Me.UNPACK_ROW_LENGTH,qt.width),Me.pixelStorei(Me.UNPACK_IMAGE_HEIGHT,qt.height),Me.pixelStorei(Me.UNPACK_SKIP_PIXELS,O.min.x),Me.pixelStorei(Me.UNPACK_SKIP_ROWS,O.min.y),Me.pixelStorei(Me.UNPACK_SKIP_IMAGES,O.min.z),ie.isDataTexture||ie.isData3DTexture?Me.texSubImage3D(st,ce,Z.x,Z.y,Z.z,Ve,He,Qe,it,at,qt.data):le.isCompressedArrayTexture?Me.compressedTexSubImage3D(st,ce,Z.x,Z.y,Z.z,Ve,He,Qe,it,qt.data):Me.texSubImage3D(st,ce,Z.x,Z.y,Z.z,Ve,He,Qe,it,at,qt),Me.pixelStorei(Me.UNPACK_ROW_LENGTH,Gt),Me.pixelStorei(Me.UNPACK_IMAGE_HEIGHT,Lt),Me.pixelStorei(Me.UNPACK_SKIP_PIXELS,Bt),Me.pixelStorei(Me.UNPACK_SKIP_ROWS,un),Me.pixelStorei(Me.UNPACK_SKIP_IMAGES,yn),ce===0&&le.generateMipmaps&&Me.generateMipmap(st),lt.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?Rt.setTextureCube(O,0):O.isData3DTexture?Rt.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Rt.setTexture2DArray(O,0):Rt.setTexture2D(O,0),lt.unbindTexture()},this.resetState=function(){z=0,N=0,A=null,lt.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return hu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===IM?"display-p3":"srgb",n.unpackColorSpace=li.workingColorSpace===h1?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class kM{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Zt(e),this.density=n}clone(){return new kM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class OM{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Zt(e),this.near=n,this.far=r}clone(){return new OM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ay extends Hr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Cl,this.environmentIntensity=1,this.environmentRotation=new Cl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class m1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=ab,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=bl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return yee("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const xa=new oe;class vf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.applyMatrix4(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.applyNormalMatrix(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)xa.fromBufferAttribute(this,n),xa.transformDirection(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Aa(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=br(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=br(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=br(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=br(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=br(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Aa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Aa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Aa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Aa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=br(n,this.array),r=br(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=br(n,this.array),r=br(r,this.array),i=br(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=br(n,this.array),r=br(r,this.array),i=br(i,this.array),s=br(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new jr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class XF extends Ps{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let lg;const y0=new oe,cg=new oe,ug=new oe,hg=new gt,_0=new gt,kee=new Un,_S=new oe,x0=new oe,xS=new oe,Tj=new gt,FR=new gt,Cj=new gt;class Oee extends Hr{constructor(e=new XF){if(super(),this.isSprite=!0,this.type="Sprite",lg===void 0){lg=new gr;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new m1(n,5);lg.setIndex([0,1,2,0,2,3]),lg.setAttribute("position",new vf(r,3,0,!1)),lg.setAttribute("uv",new vf(r,2,3,!1))}this.geometry=lg,this.material=e,this.center=new gt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cg.setFromMatrixScale(this.matrixWorld),kee.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ug.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cg.multiplyScalar(-ug.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;bS(_S.set(-.5,-.5,0),ug,o,cg,i,s),bS(x0.set(.5,-.5,0),ug,o,cg,i,s),bS(xS.set(.5,.5,0),ug,o,cg,i,s),Tj.set(0,0),FR.set(1,0),Cj.set(1,1);let a=e.ray.intersectTriangle(_S,x0,xS,!1,y0);if(a===null&&(bS(x0.set(-.5,.5,0),ug,o,cg,i,s),FR.set(0,1),a=e.ray.intersectTriangle(_S,xS,x0,!1,y0),a===null))return;const l=e.ray.origin.distanceTo(y0);l<e.near||l>e.far||n.push({distance:l,point:y0.clone(),uv:dl.getInterpolation(y0,_S,x0,xS,Tj,FR,Cj,new gt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bS(t,e,n,r,i,s){hg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(_0.x=s*hg.x-i*hg.y,_0.y=i*hg.x+s*hg.y):_0.copy(hg),t.copy(e),t.x+=_0.x,t.y+=_0.y,t.applyMatrix4(kee)}const wS=new oe,Mj=new oe;class Dee extends Hr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){wS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(wS);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){wS.setFromMatrixPosition(e.matrixWorld),Mj.setFromMatrixPosition(this.matrixWorld);const r=wS.distanceTo(Mj)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Pj=new oe,Ij=new ci,Rj=new ci,SFe=new oe,Lj=new Un,SS=new oe,UR=new Ro,kj=new Un,zR=new Pm;class qF extends Ni{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=NO,this.bindMatrix=new Un,this.bindMatrixInverse=new Un,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new la),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,SS),this.boundingBox.expandByPoint(SS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ro),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,SS),this.boundingSphere.expandByPoint(SS)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),UR.copy(this.boundingSphere),UR.applyMatrix4(i),e.ray.intersectsSphere(UR)!==!1&&(kj.copy(i).invert(),zR.copy(e.ray).applyMatrix4(kj),!(this.boundingBox!==null&&zR.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,zR)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ci,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===NO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===XQ?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;Ij.fromBufferAttribute(i.attributes.skinIndex,e),Rj.fromBufferAttribute(i.attributes.skinWeight,e),Pj.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=Rj.getComponent(s);if(o!==0){const a=Ij.getComponent(s);Lj.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(SFe.copy(Pj).applyMatrix4(Lj),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class DM extends Hr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bh extends Yr{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Us,u=Us,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Oj=new Un,AFe=new Un;class g1{constructor(e=[],n=[]){this.uuid=bl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Un)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Un;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:AFe;Oj.multiplyMatrices(a,n[s]),Oj.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new g1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new bh(n,e,e,zs,gs);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new DM),this.bones.push(o),this.boneInverses.push(new Un().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class mm extends jr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const dg=new Un,Dj=new Un,AS=[],Nj=new la,EFe=new Un,b0=new Ni,w0=new Ro;class KF extends Ni{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new mm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,EFe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new la),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,dg),Nj.copy(e.boundingBox).applyMatrix4(dg),this.boundingBox.union(Nj)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ro),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,dg),w0.copy(e.boundingSphere).applyMatrix4(dg),this.boundingSphere.union(w0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(b0.geometry=this.geometry,b0.material=this.material,b0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),w0.copy(this.boundingSphere),w0.applyMatrix4(r),e.ray.intersectsSphere(w0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,dg),Dj.multiplyMatrices(r,dg),b0.matrixWorld=Dj,b0.raycast(e,AS);for(let o=0,a=AS.length;o<a;o++){const l=AS[o];l.instanceId=s,l.object=this,n.push(l)}AS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new mm(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new bh(new Float32Array(i*this.count),i,this.count,MM,gs));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function TFe(t,e){return t.z-e.z}function CFe(t,e){return e.z-t.z}class MFe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const fg="batchId",fd=new Un,Bj=new Un,PFe=new Un,Fj=new Un,VR=new p1,ES=new la,Qf=new Ro,S0=new oe,HR=new MFe,Jo=new Ni,TS=[];function IFe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class Nee extends Ni{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new gr,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new bh(n,e,e,zs,gs);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,f=new c.constructor(r*u),v=new jr(f,u,d);n.setAttribute(a,v)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new jr(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(fg,new jr(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(fg))throw new Error(`BatchedMesh: Geometry cannot use attribute "${fg}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===fg)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new la);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,fd),this.getBoundingBoxAt(i,ES).applyMatrix4(fd),n.union(ES))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ro);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,fd),this.getBoundingSphereAt(i,Qf).applyMatrix4(fd),n.union(Qf))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,f=this._active,v=this._matricesTexture,y=this._matricesTexture.image.data;d.push(!0),f.push(!0);const b=this._geometryCount;this._geometryCount++,PFe.toArray(y,b*16),v.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new la,sphereInitialized:!1,sphere:new Ro});const w=this.geometry.getAttribute(fg);for(let _=0;_<i.vertexCount;_++)w.setX(i.vertexStart+_,b);return w.needsUpdate=!0,this.setGeometryAt(b,e),b}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const v in r.attributes){if(v===fg)continue;const y=n.getAttribute(v),b=r.getAttribute(v);IFe(y,b,l);const w=y.itemSize;for(let _=y.count,S=c;_<S;_++){const C=l+_;for(let I=0;I<w;I++)b.setComponent(C,I,0)}b.needsUpdate=!0,b.addUpdateRange(l*w,c*w)}if(i){const v=a.indexStart;for(let y=0;y<o.count;y++)s.setX(v+y,l+o.getX(y));for(let y=o.count,b=a.indexCount;y<b;y++)s.setX(v+y,l);s.needsUpdate=!0,s.addUpdateRange(v,a.indexCount)}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=i?o.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,n){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=n,e}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;a&&(f=a.getX(f)),s.expandByPoint(S0.fromBufferAttribute(l,f))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,ES),ES.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let v=d;a&&(v=a.getX(v)),S0.fromBufferAttribute(l,v),u=Math.max(u,s.center.distanceToSquared(S0))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Jo.material=this.material,Jo.geometry.index=l.index,Jo.geometry.attributes=l.attributes,Jo.geometry.boundingBox===null&&(Jo.geometry.boundingBox=new la),Jo.geometry.boundingSphere===null&&(Jo.geometry.boundingSphere=new Ro);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];Jo.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Jo.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Jo.geometry.boundingBox),this.getBoundingSphereAt(c,Jo.geometry.boundingSphere),Jo.raycast(e,TS);for(let d=0,f=TS.length;d<f;d++){const v=TS[d];v.object=this,v.batchId=c,n.push(v)}TS.length=0}Jo.material=null,Jo.geometry.index=null,Jo.geometry.attributes={},Jo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._drawRanges,v=this.perObjectFrustumCulled;v&&(Fj.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),VR.setFromProjectionMatrix(Fj,e.coordinateSystem));let y=0;if(this.sortObjects){Bj.copy(this.matrixWorld).invert(),S0.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Bj);for(let _=0,S=c.length;_<S;_++)if(c[_]&&l[_]){this.getMatrixAt(_,fd),this.getBoundingSphereAt(_,Qf).applyMatrix4(fd);let C=!1;if(v&&(C=!VR.intersectsSphere(Qf)),!C){const I=S0.distanceTo(Qf.center);HR.push(f[_],I)}}const b=HR.list,w=this.customSort;w===null?b.sort(s.transparent?CFe:TFe):w.call(this,b,r);for(let _=0,S=b.length;_<S;_++){const C=b[_];u[y]=C.start*a,d[y]=C.count,y++}HR.reset()}else for(let b=0,w=c.length;b<w;b++)if(c[b]&&l[b]){let _=!1;if(v&&(this.getMatrixAt(b,fd),this.getBoundingSphereAt(b,Qf).applyMatrix4(fd),_=!VR.intersectsSphere(Qf)),!_){const S=f[b];u[y]=S.start*a,d[y]=S.count,y++}}this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ha extends Ps{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Zt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RT=new oe,LT=new oe,Uj=new Un,A0=new Pm,CS=new Ro,jR=new oe,zj=new oe;class Fh extends Hr{constructor(e=new gr,n=new ha){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)RT.fromBufferAttribute(n,i-1),LT.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=RT.distanceTo(LT);e.setAttribute("lineDistance",new An(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),CS.copy(r.boundingSphere),CS.applyMatrix4(i),CS.radius+=s,e.ray.intersectsSphere(CS)===!1)return;Uj.copy(i).invert(),A0.copy(e.ray).applyMatrix4(Uj);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=r.index,f=r.attributes.position;if(u!==null){const v=Math.max(0,o.start),y=Math.min(u.count,o.start+o.count);for(let b=v,w=y-1;b<w;b+=c){const _=u.getX(b),S=u.getX(b+1),C=MS(this,e,A0,l,_,S);C&&n.push(C)}if(this.isLineLoop){const b=u.getX(y-1),w=u.getX(v),_=MS(this,e,A0,l,b,w);_&&n.push(_)}}else{const v=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let b=v,w=y-1;b<w;b+=c){const _=MS(this,e,A0,l,b,b+1);_&&n.push(_)}if(this.isLineLoop){const b=MS(this,e,A0,l,y-1,v);b&&n.push(b)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function MS(t,e,n,r,i,s){const o=t.geometry.attributes.position;if(RT.fromBufferAttribute(o,i),LT.fromBufferAttribute(o,s),n.distanceSqToSegment(RT,LT,jR,zj)>r)return;jR.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(jR);if(!(l<e.near||l>e.far))return{distance:l,point:zj.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}const Vj=new oe,Hj=new oe;class Hc extends Fh{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)Vj.fromBufferAttribute(n,i),Hj.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Vj.distanceTo(Hj);e.setAttribute("lineDistance",new An(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YF extends Fh{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class NM extends Ps{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const jj=new Un,pD=new Pm,PS=new Ro,IS=new oe;class JF extends Hr{constructor(e=new gr,n=new NM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),PS.copy(r.boundingSphere),PS.applyMatrix4(i),PS.radius+=s,e.ray.intersectsSphere(PS)===!1)return;jj.copy(i).invert(),pD.copy(e.ray).applyMatrix4(jj);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let y=f,b=v;y<b;y++){const w=c.getX(y);IS.fromBufferAttribute(d,w),Gj(IS,w,l,i,e,n,this)}}else{const f=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let y=f,b=v;y<b;y++)IS.fromBufferAttribute(d,y),Gj(IS,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Gj(t,e,n,r,i,s,o){const a=pD.distanceSqToPoint(t);if(a<n){const l=new oe;pD.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class RFe extends Yr{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Kr,this.magFilter=s!==void 0?s:Kr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class LFe extends Yr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Us,this.minFilter=Us,this.generateMipmaps=!1,this.needsUpdate=!0}}class BM extends Yr{constructor(e,n,r,i,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kFe extends BM{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ms}}class OFe extends BM{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,ku),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class DFe extends Yr{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class jc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],f=r[i+1]-u,v=(o-u)/f;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new gt:new oe);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new oe,i=[],s=[],o=[],a=new oe,l=new Un;for(let v=0;v<=e;v++){const y=v/e;i[v]=this.getTangentAt(y,new oe)}s[0]=new oe,o[0]=new oe;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(ns(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(ns(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],v*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class FM extends jc{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new gt){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,v=c-this.aY;l=f*u-v*d+this.aX,c=f*d+v*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Bee extends FM{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function ZF(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,v=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,v*=u,i(o,a,f,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const RS=new oe,GR=new ZF,$R=new ZF,WR=new ZF;class Fee extends jc{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new oe){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(RS.subVectors(i[0],i[1]).add(i[0]),c=RS);const d=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(RS.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=RS),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(d),v),b=Math.pow(d.distanceToSquared(f),v),w=Math.pow(f.distanceToSquared(u),v);b<1e-4&&(b=1),y<1e-4&&(y=b),w<1e-4&&(w=b),GR.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,y,b,w),$R.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,y,b,w),WR.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,y,b,w)}else this.curveType==="catmullrom"&&(GR.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),$R.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),WR.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(GR.calc(l),$R.calc(l),WR.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $j(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function NFe(t,e){const n=1-t;return n*n*e}function BFe(t,e){return 2*(1-t)*t*e}function FFe(t,e){return t*t*e}function O_(t,e,n,r){return NFe(t,e)+BFe(t,n)+FFe(t,r)}function UFe(t,e){const n=1-t;return n*n*n*e}function zFe(t,e){const n=1-t;return 3*n*n*t*e}function VFe(t,e){return 3*(1-t)*t*t*e}function HFe(t,e){return t*t*t*e}function D_(t,e,n,r,i){return UFe(t,e)+zFe(t,n)+VFe(t,r)+HFe(t,i)}class QF extends jc{constructor(e=new gt,n=new gt,r=new gt,i=new gt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new gt){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(D_(e,i.x,s.x,o.x,a.x),D_(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Uee extends jc{constructor(e=new oe,n=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new oe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(D_(e,i.x,s.x,o.x,a.x),D_(e,i.y,s.y,o.y,a.y),D_(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eU extends jc{constructor(e=new gt,n=new gt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new gt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new gt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zee extends jc{constructor(e=new oe,n=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new oe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tU extends jc{constructor(e=new gt,n=new gt,r=new gt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new gt){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(O_(e,i.x,s.x,o.x),O_(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nU extends jc{constructor(e=new oe,n=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new oe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(O_(e,i.x,s.x,o.x),O_(e,i.y,s.y,o.y),O_(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rU extends jc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new gt){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set($j(a,l.x,c.x,u.x,d.x),$j(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new gt().fromArray(i))}return this}}var kT=Object.freeze({__proto__:null,ArcCurve:Bee,CatmullRomCurve3:Fee,CubicBezierCurve:QF,CubicBezierCurve3:Uee,EllipseCurve:FM,LineCurve:eU,LineCurve3:zee,QuadraticBezierCurve:tU,QuadraticBezierCurve3:nU,SplineCurve:rU});class Vee extends jc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new kT[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new kT[i.type]().fromJSON(i))}return this}}class ub extends Vee{constructor(e){super(),this.type="Path",this.currentPoint=new gt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new eU(this.currentPoint.clone(),new gt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new tU(this.currentPoint.clone(),new gt(e,n),new gt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new QF(this.currentPoint.clone(),new gt(e,n),new gt(r,i),new gt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new rU(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new FM(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class v1 extends gr{constructor(e=[new gt(0,-.5),new gt(.5,0),new gt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=ns(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new oe,f=new gt,v=new oe,y=new oe,b=new oe;let w=0,_=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:w=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,v.x=_*1,v.y=-w,v.z=_*0,b.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:w=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,v.x=_*1,v.y=-w,v.z=_*0,y.copy(v),v.x+=b.x,v.y+=b.y,v.z+=b.z,v.normalize(),l.push(v.x,v.y,v.z),b.copy(y)}for(let S=0;S<=n;S++){const C=r+S*u*i,I=Math.sin(C),z=Math.cos(C);for(let N=0;N<=e.length-1;N++){d.x=e[N].x*I,d.y=e[N].y,d.z=e[N].x*z,o.push(d.x,d.y,d.z),f.x=S/n,f.y=N/(e.length-1),a.push(f.x,f.y);const A=l[3*N+0]*I,W=l[3*N+1],U=l[3*N+0]*z;c.push(A,W,U)}}for(let S=0;S<n;S++)for(let C=0;C<e.length-1;C++){const I=C+S*e.length,z=I,N=I+e.length,A=I+e.length+1,W=I+1;s.push(z,N,W),s.push(A,W,N)}this.setIndex(s),this.setAttribute("position",new An(o,3)),this.setAttribute("uv",new An(a,2)),this.setAttribute("normal",new An(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v1(e.points,e.segments,e.phiStart,e.phiLength)}}class UM extends v1{constructor(e=1,n=1,r=4,i=8){const s=new ub;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new UM(e.radius,e.length,e.capSegments,e.radialSegments)}}class zM extends gr{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new oe,u=new gt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const v=r+d/n*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new An(o,3)),this.setAttribute("normal",new An(a,3)),this.setAttribute("uv",new An(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ly extends gr{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],v=[];let y=0;const b=[],w=r/2;let _=0;S(),o===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(u),this.setAttribute("position",new An(d,3)),this.setAttribute("normal",new An(f,3)),this.setAttribute("uv",new An(v,2));function S(){const I=new oe,z=new oe;let N=0;const A=(n-e)/r;for(let W=0;W<=s;W++){const U=[],F=W/s,ee=F*(n-e)+e;for(let se=0;se<=i;se++){const ne=se/i,me=ne*l+a,be=Math.sin(me),Se=Math.cos(me);z.x=ee*be,z.y=-F*r+w,z.z=ee*Se,d.push(z.x,z.y,z.z),I.set(be,A,Se).normalize(),f.push(I.x,I.y,I.z),v.push(ne,1-F),U.push(y++)}b.push(U)}for(let W=0;W<i;W++)for(let U=0;U<s;U++){const F=b[U][W],ee=b[U+1][W],se=b[U+1][W+1],ne=b[U][W+1];u.push(F,ee,ne),u.push(ee,se,ne),N+=6}c.addGroup(_,N,0),_+=N}function C(I){const z=y,N=new gt,A=new oe;let W=0;const U=I===!0?e:n,F=I===!0?1:-1;for(let se=1;se<=i;se++)d.push(0,w*F,0),f.push(0,F,0),v.push(.5,.5),y++;const ee=y;for(let se=0;se<=i;se++){const me=se/i*l+a,be=Math.cos(me),Se=Math.sin(me);A.x=U*Se,A.y=w*F,A.z=U*be,d.push(A.x,A.y,A.z),f.push(0,F,0),N.x=be*.5+.5,N.y=Se*.5*F+.5,v.push(N.x,N.y),y++}for(let se=0;se<i;se++){const ne=z+se,me=ee+se;I===!0?u.push(me,me+1,ne):u.push(me+1,me,ne),W+=3}c.addGroup(_,W,I===!0?1:2),_+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ly(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class VM extends Ly{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new VM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kf extends gr{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new An(s,3)),this.setAttribute("normal",new An(s.slice(),3)),this.setAttribute("uv",new An(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const C=new oe,I=new oe,z=new oe;for(let N=0;N<n.length;N+=3)v(n[N+0],C),v(n[N+1],I),v(n[N+2],z),l(C,I,z,S)}function l(S,C,I,z){const N=z+1,A=[];for(let W=0;W<=N;W++){A[W]=[];const U=S.clone().lerp(I,W/N),F=C.clone().lerp(I,W/N),ee=N-W;for(let se=0;se<=ee;se++)se===0&&W===N?A[W][se]=U:A[W][se]=U.clone().lerp(F,se/ee)}for(let W=0;W<N;W++)for(let U=0;U<2*(N-W)-1;U++){const F=Math.floor(U/2);U%2===0?(f(A[W][F+1]),f(A[W+1][F]),f(A[W][F])):(f(A[W][F+1]),f(A[W+1][F+1]),f(A[W+1][F]))}}function c(S){const C=new oe;for(let I=0;I<s.length;I+=3)C.x=s[I+0],C.y=s[I+1],C.z=s[I+2],C.normalize().multiplyScalar(S),s[I+0]=C.x,s[I+1]=C.y,s[I+2]=C.z}function u(){const S=new oe;for(let C=0;C<s.length;C+=3){S.x=s[C+0],S.y=s[C+1],S.z=s[C+2];const I=w(S)/2/Math.PI+.5,z=_(S)/Math.PI+.5;o.push(I,1-z)}y(),d()}function d(){for(let S=0;S<o.length;S+=6){const C=o[S+0],I=o[S+2],z=o[S+4],N=Math.max(C,I,z),A=Math.min(C,I,z);N>.9&&A<.1&&(C<.2&&(o[S+0]+=1),I<.2&&(o[S+2]+=1),z<.2&&(o[S+4]+=1))}}function f(S){s.push(S.x,S.y,S.z)}function v(S,C){const I=S*3;C.x=e[I+0],C.y=e[I+1],C.z=e[I+2]}function y(){const S=new oe,C=new oe,I=new oe,z=new oe,N=new gt,A=new gt,W=new gt;for(let U=0,F=0;U<s.length;U+=9,F+=6){S.set(s[U+0],s[U+1],s[U+2]),C.set(s[U+3],s[U+4],s[U+5]),I.set(s[U+6],s[U+7],s[U+8]),N.set(o[F+0],o[F+1]),A.set(o[F+2],o[F+3]),W.set(o[F+4],o[F+5]),z.copy(S).add(C).add(I).divideScalar(3);const ee=w(z);b(N,F+0,S,ee),b(A,F+2,C,ee),b(W,F+4,I,ee)}}function b(S,C,I,z){z<0&&S.x===1&&(o[C]=S.x-1),I.x===0&&I.z===0&&(o[C]=z/2/Math.PI+.5)}function w(S){return Math.atan2(S.z,-S.x)}function _(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kf(e.vertices,e.indices,e.radius,e.details)}}class HM extends kf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new HM(e.radius,e.detail)}}const LS=new oe,kS=new oe,XR=new oe,OS=new dl;class Hee extends gr{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Kp*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},v=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:b,b:w,c:_}=OS;if(b.fromBufferAttribute(a,c[0]),w.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),OS.getNormal(XR),d[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,d[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,d[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const C=(S+1)%3,I=d[S],z=d[C],N=OS[u[S]],A=OS[u[C]],W=`${I}_${z}`,U=`${z}_${I}`;U in f&&f[U]?(XR.dot(f[U].normal)<=s&&(v.push(N.x,N.y,N.z),v.push(A.x,A.y,A.z)),f[U]=null):W in f||(f[W]={index0:c[S],index1:c[C],normal:XR.clone()})}}for(const y in f)if(f[y]){const{index0:b,index1:w}=f[y];LS.fromBufferAttribute(a,b),kS.fromBufferAttribute(a,w),v.push(LS.x,LS.y,LS.z),v.push(kS.x,kS.y,kS.z)}this.setAttribute("position",new An(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Jp extends ub{constructor(e){super(e),this.uuid=bl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ub().fromJSON(i))}return this}}const jFe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=jee(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,v;if(r&&(s=qFe(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let y=n;y<i;y+=n)d=t[y],f=t[y+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);v=Math.max(c-a,u-l),v=v!==0?32767/v:0}return hb(s,o,n,a,l,v,0),o}};function jee(t,e,n,r,i){let s,o;if(i===sUe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=Wj(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=Wj(s,t[s],t[s+1],o);return o&&jM(o,o.next)&&(pb(o),o=o.next),o}function gm(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(jM(n,n.next)||Vi(n.prev,n,n.next)===0)){if(pb(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function hb(t,e,n,r,i,s,o){if(!t)return;!o&&s&&QFe(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?$Fe(t,r,i,s):GFe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),pb(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=WFe(gm(t),e,n),hb(t,e,n,r,i,s,2)):o===2&&XFe(t,e,n,r,i,s):hb(gm(t),e,n,r,i,s,1);break}}}function GFe(t){const e=t.prev,n=t,r=t.next;if(Vi(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,f=i>s?i>o?i:o:s>o?s:o,v=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=f&&y.y>=d&&y.y<=v&&Qg(i,a,s,l,o,c,y.x,y.y)&&Vi(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function $Fe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Vi(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,f=o.y,v=a<l?a<c?a:c:l<c?l:c,y=u<d?u<f?u:f:d<f?d:f,b=a>l?a>c?a:c:l>c?l:c,w=u>d?u>f?u:f:d>f?d:f,_=mD(v,y,e,n,r),S=mD(b,w,e,n,r);let C=t.prevZ,I=t.nextZ;for(;C&&C.z>=_&&I&&I.z<=S;){if(C.x>=v&&C.x<=b&&C.y>=y&&C.y<=w&&C!==i&&C!==o&&Qg(a,u,l,d,c,f,C.x,C.y)&&Vi(C.prev,C,C.next)>=0||(C=C.prevZ,I.x>=v&&I.x<=b&&I.y>=y&&I.y<=w&&I!==i&&I!==o&&Qg(a,u,l,d,c,f,I.x,I.y)&&Vi(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;C&&C.z>=_;){if(C.x>=v&&C.x<=b&&C.y>=y&&C.y<=w&&C!==i&&C!==o&&Qg(a,u,l,d,c,f,C.x,C.y)&&Vi(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;I&&I.z<=S;){if(I.x>=v&&I.x<=b&&I.y>=y&&I.y<=w&&I!==i&&I!==o&&Qg(a,u,l,d,c,f,I.x,I.y)&&Vi(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function WFe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!jM(i,s)&&Gee(i,r,r.next,s)&&fb(i,s)&&fb(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),pb(r),pb(r.next),r=t=s),r=r.next}while(r!==t);return gm(r)}function XFe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&nUe(o,a)){let l=$ee(o,a);o=gm(o,o.next),l=gm(l,l.next),hb(o,e,n,r,i,s,0),hb(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function qFe(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=jee(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(tUe(c));for(i.sort(KFe),s=0;s<i.length;s++)n=YFe(i[s],n);return n}function KFe(t,e){return t.x-e.x}function YFe(t,e){const n=JFe(t,e);if(!n)return e;const r=$ee(n,t);return gm(r,r.next),gm(n,n.next)}function JFe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Qg(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),fb(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&ZFe(i,n)))&&(i=n,u=d)),n=n.next;while(n!==a);return i}function ZFe(t,e){return Vi(t.prev,t,e.prev)<0&&Vi(e.next,t,t.next)<0}function QFe(t,e,n,r){let i=t;do i.z===0&&(i.z=mD(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,eUe(i)}function eUe(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function mD(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function tUe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Qg(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function nUe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!rUe(t,e)&&(fb(t,e)&&fb(e,t)&&iUe(t,e)&&(Vi(t.prev,t,e.prev)||Vi(t,e.prev,e))||jM(t,e)&&Vi(t.prev,t,t.next)>0&&Vi(e.prev,e,e.next)>0)}function Vi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function jM(t,e){return t.x===e.x&&t.y===e.y}function Gee(t,e,n,r){const i=NS(Vi(t,e,n)),s=NS(Vi(t,e,r)),o=NS(Vi(n,r,t)),a=NS(Vi(n,r,e));return!!(i!==s&&o!==a||i===0&&DS(t,n,e)||s===0&&DS(t,r,e)||o===0&&DS(n,t,r)||a===0&&DS(n,e,r))}function DS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function NS(t){return t>0?1:t<0?-1:0}function rUe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Gee(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function fb(t,e){return Vi(t.prev,t,t.next)<0?Vi(t,e,t.next)>=0&&Vi(t,t.prev,e)>=0:Vi(t,e,t.prev)<0||Vi(t,t.next,e)<0}function iUe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function $ee(t,e){const n=new gD(t.i,t.x,t.y),r=new gD(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Wj(t,e,n,r){const i=new gD(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function pb(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function gD(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function sUe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Tu{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Tu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];Xj(e),qj(r,e);let o=e.length;n.forEach(Xj);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,qj(r,n[l]);const a=jFe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Xj(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function qj(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class GM extends gr{constructor(e=new Jp([new gt(.5,.5),new gt(-.5,.5),new gt(-.5,-.5),new gt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new An(i,3)),this.setAttribute("uv",new An(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:v-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:oUe;let C,I=!1,z,N,A,W;_&&(C=_.getSpacedPoints(u),I=!0,f=!1,z=_.computeFrenetFrames(u,!1),N=new oe,A=new oe,W=new oe),f||(w=0,v=0,y=0,b=0);const U=a.extractPoints(c);let F=U.shape;const ee=U.holes;if(!Tu.isClockWise(F)){F=F.reverse();for(let We=0,rt=ee.length;We<rt;We++){const lt=ee[We];Tu.isClockWise(lt)&&(ee[We]=lt.reverse())}}const ne=Tu.triangulateShape(F,ee),me=F;for(let We=0,rt=ee.length;We<rt;We++){const lt=ee[We];F=F.concat(lt)}function be(We,rt,lt){return rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),We.clone().addScaledVector(rt,lt)}const Se=F.length,Ue=ne.length;function J(We,rt,lt){let bt,mt,Rt;const Ut=We.x-rt.x,X=We.y-rt.y,j=lt.x-We.x,ae=lt.y-We.y,ve=Ut*Ut+X*X,de=Ut*ae-X*j;if(Math.abs(de)>Number.EPSILON){const xe=Math.sqrt(ve),Ee=Math.sqrt(j*j+ae*ae),Ze=rt.x-X/xe,vt=rt.y+Ut/xe,Xt=lt.x-ae/Ee,yt=lt.y+j/Ee,zt=((Xt-Ze)*ae-(yt-vt)*j)/(Ut*ae-X*j);bt=Ze+Ut*zt-We.x,mt=vt+X*zt-We.y;const bn=bt*bt+mt*mt;if(bn<=2)return new gt(bt,mt);Rt=Math.sqrt(bn/2)}else{let xe=!1;Ut>Number.EPSILON?j>Number.EPSILON&&(xe=!0):Ut<-Number.EPSILON?j<-Number.EPSILON&&(xe=!0):Math.sign(X)===Math.sign(ae)&&(xe=!0),xe?(bt=-X,mt=Ut,Rt=Math.sqrt(ve)):(bt=Ut,mt=X,Rt=Math.sqrt(ve/2))}return new gt(bt/Rt,mt/Rt)}const fe=[];for(let We=0,rt=me.length,lt=rt-1,bt=We+1;We<rt;We++,lt++,bt++)lt===rt&&(lt=0),bt===rt&&(bt=0),fe[We]=J(me[We],me[lt],me[bt]);const re=[];let Ce,ze=fe.concat();for(let We=0,rt=ee.length;We<rt;We++){const lt=ee[We];Ce=[];for(let bt=0,mt=lt.length,Rt=mt-1,Ut=bt+1;bt<mt;bt++,Rt++,Ut++)Rt===mt&&(Rt=0),Ut===mt&&(Ut=0),Ce[bt]=J(lt[bt],lt[Rt],lt[Ut]);re.push(Ce),ze=ze.concat(Ce)}for(let We=0;We<w;We++){const rt=We/w,lt=v*Math.cos(rt*Math.PI/2),bt=y*Math.sin(rt*Math.PI/2)+b;for(let mt=0,Rt=me.length;mt<Rt;mt++){const Ut=be(me[mt],fe[mt],bt);qe(Ut.x,Ut.y,-lt)}for(let mt=0,Rt=ee.length;mt<Rt;mt++){const Ut=ee[mt];Ce=re[mt];for(let X=0,j=Ut.length;X<j;X++){const ae=be(Ut[X],Ce[X],bt);qe(ae.x,ae.y,-lt)}}}const tt=y+b;for(let We=0;We<Se;We++){const rt=f?be(F[We],ze[We],tt):F[We];I?(A.copy(z.normals[0]).multiplyScalar(rt.x),N.copy(z.binormals[0]).multiplyScalar(rt.y),W.copy(C[0]).add(A).add(N),qe(W.x,W.y,W.z)):qe(rt.x,rt.y,0)}for(let We=1;We<=u;We++)for(let rt=0;rt<Se;rt++){const lt=f?be(F[rt],ze[rt],tt):F[rt];I?(A.copy(z.normals[We]).multiplyScalar(lt.x),N.copy(z.binormals[We]).multiplyScalar(lt.y),W.copy(C[We]).add(A).add(N),qe(W.x,W.y,W.z)):qe(lt.x,lt.y,d/u*We)}for(let We=w-1;We>=0;We--){const rt=We/w,lt=v*Math.cos(rt*Math.PI/2),bt=y*Math.sin(rt*Math.PI/2)+b;for(let mt=0,Rt=me.length;mt<Rt;mt++){const Ut=be(me[mt],fe[mt],bt);qe(Ut.x,Ut.y,d+lt)}for(let mt=0,Rt=ee.length;mt<Rt;mt++){const Ut=ee[mt];Ce=re[mt];for(let X=0,j=Ut.length;X<j;X++){const ae=be(Ut[X],Ce[X],bt);I?qe(ae.x,ae.y+C[u-1].y,C[u-1].x+lt):qe(ae.x,ae.y,d+lt)}}}Ie(),Xe();function Ie(){const We=i.length/3;if(f){let rt=0,lt=Se*rt;for(let bt=0;bt<Ue;bt++){const mt=ne[bt];Ot(mt[2]+lt,mt[1]+lt,mt[0]+lt)}rt=u+w*2,lt=Se*rt;for(let bt=0;bt<Ue;bt++){const mt=ne[bt];Ot(mt[0]+lt,mt[1]+lt,mt[2]+lt)}}else{for(let rt=0;rt<Ue;rt++){const lt=ne[rt];Ot(lt[2],lt[1],lt[0])}for(let rt=0;rt<Ue;rt++){const lt=ne[rt];Ot(lt[0]+Se*u,lt[1]+Se*u,lt[2]+Se*u)}}r.addGroup(We,i.length/3-We,0)}function Xe(){const We=i.length/3;let rt=0;Re(me,rt),rt+=me.length;for(let lt=0,bt=ee.length;lt<bt;lt++){const mt=ee[lt];Re(mt,rt),rt+=mt.length}r.addGroup(We,i.length/3-We,1)}function Re(We,rt){let lt=We.length;for(;--lt>=0;){const bt=lt;let mt=lt-1;mt<0&&(mt=We.length-1);for(let Rt=0,Ut=u+w*2;Rt<Ut;Rt++){const X=Se*Rt,j=Se*(Rt+1),ae=rt+bt+X,ve=rt+mt+X,de=rt+mt+j,xe=rt+bt+j;ln(ae,ve,de,xe)}}}function qe(We,rt,lt){l.push(We),l.push(rt),l.push(lt)}function Ot(We,rt,lt){Me(We),Me(rt),Me(lt);const bt=i.length/3,mt=S.generateTopUV(r,i,bt-3,bt-2,bt-1);rn(mt[0]),rn(mt[1]),rn(mt[2])}function ln(We,rt,lt,bt){Me(We),Me(rt),Me(bt),Me(rt),Me(lt),Me(bt);const mt=i.length/3,Rt=S.generateSideWallUV(r,i,mt-6,mt-3,mt-2,mt-1);rn(Rt[0]),rn(Rt[1]),rn(Rt[3]),rn(Rt[1]),rn(Rt[2]),rn(Rt[3])}function Me(We){i.push(l[We*3+0]),i.push(l[We*3+1]),i.push(l[We*3+2])}function rn(We){s.push(We.x),s.push(We.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return aUe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new kT[i.type]().fromJSON(i)),new GM(r,e.options)}}const oUe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new gt(s,o),new gt(a,l),new gt(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],v=e[i*3+1],y=e[i*3+2],b=e[s*3],w=e[s*3+1],_=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new gt(o,1-l),new gt(c,1-d),new gt(f,1-y),new gt(b,1-_)]:[new gt(a,1-l),new gt(u,1-d),new gt(v,1-y),new gt(w,1-_)]}};function aUe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class y1 extends kf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new y1(e.radius,e.detail)}}class _1 extends kf{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _1(e.radius,e.detail)}}class $M extends gr{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,v=new oe,y=new gt;for(let b=0;b<=i;b++){for(let w=0;w<=r;w++){const _=s+w/r*o;v.x=d*Math.cos(_),v.y=d*Math.sin(_),l.push(v.x,v.y,v.z),c.push(0,0,1),y.x=(v.x/n+1)/2,y.y=(v.y/n+1)/2,u.push(y.x,y.y)}d+=f}for(let b=0;b<i;b++){const w=b*(r+1);for(let _=0;_<r;_++){const S=_+w,C=S,I=S+r+1,z=S+r+2,N=S+1;a.push(C,I,N),a.push(I,z,N)}}this.setIndex(a),this.setAttribute("position",new An(l,3)),this.setAttribute("normal",new An(c,3)),this.setAttribute("uv",new An(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $M(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class WM extends gr{constructor(e=new Jp([new gt(0,.5),new gt(-.5,-.5),new gt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new An(i,3)),this.setAttribute("normal",new An(s,3)),this.setAttribute("uv",new An(o,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let v=f.shape;const y=f.holes;Tu.isClockWise(v)===!1&&(v=v.reverse());for(let w=0,_=y.length;w<_;w++){const S=y[w];Tu.isClockWise(S)===!0&&(y[w]=S.reverse())}const b=Tu.triangulateShape(v,y);for(let w=0,_=y.length;w<_;w++){const S=y[w];v=v.concat(S)}for(let w=0,_=v.length;w<_;w++){const S=v[w];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let w=0,_=b.length;w<_;w++){const S=b[w],C=S[0]+d,I=S[1]+d,z=S[2]+d;r.push(C,I,z),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return lUe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new WM(r,e.curveSegments)}}function lUe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class x1 extends gr{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new oe,f=new oe,v=[],y=[],b=[],w=[];for(let _=0;_<=r;_++){const S=[],C=_/r;let I=0;_===0&&o===0?I=.5/n:_===r&&l===Math.PI&&(I=-.5/n);for(let z=0;z<=n;z++){const N=z/n;d.x=-e*Math.cos(i+N*s)*Math.sin(o+C*a),d.y=e*Math.cos(o+C*a),d.z=e*Math.sin(i+N*s)*Math.sin(o+C*a),y.push(d.x,d.y,d.z),f.copy(d).normalize(),b.push(f.x,f.y,f.z),w.push(N+I,1-C),S.push(c++)}u.push(S)}for(let _=0;_<r;_++)for(let S=0;S<n;S++){const C=u[_][S+1],I=u[_][S],z=u[_+1][S],N=u[_+1][S+1];(_!==0||o>0)&&v.push(C,I,N),(_!==r-1||l<Math.PI)&&v.push(I,z,N)}this.setIndex(v),this.setAttribute("position",new An(y,3)),this.setAttribute("normal",new An(b,3)),this.setAttribute("uv",new An(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class XM extends kf{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new XM(e.radius,e.detail)}}class qM extends gr{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new oe,d=new oe,f=new oe;for(let v=0;v<=r;v++)for(let y=0;y<=i;y++){const b=y/i*s,w=v/r*Math.PI*2;d.x=(e+n*Math.cos(w))*Math.cos(b),d.y=(e+n*Math.cos(w))*Math.sin(b),d.z=n*Math.sin(w),a.push(d.x,d.y,d.z),u.x=e*Math.cos(b),u.y=e*Math.sin(b),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(y/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){const b=(i+1)*v+y-1,w=(i+1)*(v-1)+y-1,_=(i+1)*(v-1)+y,S=(i+1)*v+y;o.push(b,w,S),o.push(w,_,S)}this.setIndex(o),this.setAttribute("position",new An(a,3)),this.setAttribute("normal",new An(l,3)),this.setAttribute("uv",new An(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class KM extends gr{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new oe,f=new oe,v=new oe,y=new oe,b=new oe,w=new oe,_=new oe;for(let C=0;C<=r;++C){const I=C/r*s*Math.PI*2;S(I,s,o,e,v),S(I+.01,s,o,e,y),w.subVectors(y,v),_.addVectors(y,v),b.crossVectors(w,_),_.crossVectors(b,w),b.normalize(),_.normalize();for(let z=0;z<=i;++z){const N=z/i*Math.PI*2,A=-n*Math.cos(N),W=n*Math.sin(N);d.x=v.x+(A*_.x+W*b.x),d.y=v.y+(A*_.y+W*b.y),d.z=v.z+(A*_.z+W*b.z),l.push(d.x,d.y,d.z),f.subVectors(d,v).normalize(),c.push(f.x,f.y,f.z),u.push(C/r),u.push(z/i)}}for(let C=1;C<=r;C++)for(let I=1;I<=i;I++){const z=(i+1)*(C-1)+(I-1),N=(i+1)*C+(I-1),A=(i+1)*C+I,W=(i+1)*(C-1)+I;a.push(z,N,W),a.push(N,A,W)}this.setIndex(a),this.setAttribute("position",new An(l,3)),this.setAttribute("normal",new An(c,3)),this.setAttribute("uv",new An(u,2));function S(C,I,z,N,A){const W=Math.cos(C),U=Math.sin(C),F=z/I*C,ee=Math.cos(F);A.x=N*(2+ee)*.5*W,A.y=N*(2+ee)*U*.5,A.z=N*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class YM extends gr{constructor(e=new nU(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new oe,l=new oe,c=new gt;let u=new oe;const d=[],f=[],v=[],y=[];b(),this.setIndex(y),this.setAttribute("position",new An(d,3)),this.setAttribute("normal",new An(f,3)),this.setAttribute("uv",new An(v,2));function b(){for(let C=0;C<n;C++)w(C);w(s===!1?n:0),S(),_()}function w(C){u=e.getPointAt(C/n,u);const I=o.normals[C],z=o.binormals[C];for(let N=0;N<=i;N++){const A=N/i*Math.PI*2,W=Math.sin(A),U=-Math.cos(A);l.x=U*I.x+W*z.x,l.y=U*I.y+W*z.y,l.z=U*I.z+W*z.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function _(){for(let C=1;C<=n;C++)for(let I=1;I<=i;I++){const z=(i+1)*(C-1)+(I-1),N=(i+1)*C+(I-1),A=(i+1)*C+I,W=(i+1)*(C-1)+I;y.push(z,N,W),y.push(N,A,W)}}function S(){for(let C=0;C<=n;C++)for(let I=0;I<=i;I++)c.x=C/n,c.y=I/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new YM(new kT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Wee extends gr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new oe,s=new oe;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,v=d.count;for(let y=f,b=f+v;y<b;y+=3)for(let w=0;w<3;w++){const _=a.getX(y+w),S=a.getX(y+(w+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,S),Kj(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),Kj(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new An(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Kj(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var Yj=Object.freeze({__proto__:null,BoxGeometry:Im,CapsuleGeometry:UM,CircleGeometry:zM,ConeGeometry:VM,CylinderGeometry:Ly,DodecahedronGeometry:HM,EdgesGeometry:Hee,ExtrudeGeometry:GM,IcosahedronGeometry:y1,LatheGeometry:v1,OctahedronGeometry:_1,PlaneGeometry:Lf,PolyhedronGeometry:kf,RingGeometry:$M,ShapeGeometry:WM,SphereGeometry:x1,TetrahedronGeometry:XM,TorusGeometry:qM,TorusKnotGeometry:KM,TubeGeometry:YM,WireframeGeometry:Wee});class Xee extends Ps{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Zt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class qee extends el{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class b1 extends Ps{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dc extends b1{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new gt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ns(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Zt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Zt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Zt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Kee extends Ps{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Zt(16777215),this.specular=new Zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.combine=u1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yee extends Ps{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Jee extends Ps{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Zee extends Ps{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Cl,this.combine=u1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qee extends Ps{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rf,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ete extends ha{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Op(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function tte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nte(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function vD(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function iU(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function cUe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let v=0;v<c.times.length;++v){const y=c.times[v]*i;if(!(y<n||y>=r)){d.push(c.times[v]);for(let b=0;b<u;++b)f.push(c.values[v*u+b])}}d.length!==0&&(c.times=Op(d,c.times.constructor),c.values=Op(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function uUe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=v/3);const y=a.times.length-1;let b;if(s<=a.times[0]){const _=u,S=d-u;b=a.values.slice(_,S)}else if(s>=a.times[y]){const _=y*d+u,S=_+d-u;b=a.values.slice(_,S)}else{const _=a.createInterpolant(),S=u,C=d-u;_.evaluate(s),b=_.resultBuffer.slice(S,C)}l==="quaternion"&&new so().fromArray(b).normalize().conjugate().toArray(b);const w=c.times.length;for(let _=0;_<w;++_){const S=_*v+f;if(l==="quaternion")so.multiplyQuaternionsFlat(c.values,S,b,0,c.values,S);else{const C=v-f*2;for(let I=0;I<C;++I)c.values[S+I]-=b[I]}}}return t.blendMode=OF,t}const hUe={convertArray:Op,isTypedArray:tte,getKeyframeOrder:nte,sortedArray:vD,flattenJSON:iU,subclip:cUe,makeClipAdditive:uUe};class ky{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rte extends ky{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ip,endingEnd:Ip}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Rp:s=e,a=2*n-r;break;case rb:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Rp:o=e,l=2*r-n;break;case rb:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,v=this._weightNext,y=(r-n)/(i-n),b=y*y,w=b*y,_=-f*w+2*f*b-f*y,S=(1+f)*w+(-1.5-2*f)*b+(-.5+f)*y+1,C=(-1-v)*w+(1.5+v)*b+.5*y,I=v*w-v*b;for(let z=0;z!==a;++z)s[z]=_*o[u+z]+S*o[c+z]+C*o[l+z]+I*o[d+z];return s}}class sU extends ky{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class ite extends ky{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gc{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Op(n,this.TimeBufferType),this.values=Op(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Op(e.times,Array),values:Op(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new ite(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rte(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case iy:n=this.InterpolantFactoryMethodDiscrete;break;case pm:n=this.InterpolantFactoryMethodLinear;break;case KA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return iy;case this.InterpolantFactoryMethodLinear:return pm;case this.InterpolantFactoryMethodSmooth:return KA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&tte(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===KA,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,v=d+r;for(let y=0;y!==r;++y){const b=n[d+y];if(b!==n[f+y]||b!==n[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,f=o*r;for(let v=0;v!==r;++v)n[f+v]=n[d+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Gc.prototype.TimeBufferType=Float32Array;Gc.prototype.ValueBufferType=Float32Array;Gc.prototype.DefaultInterpolation=pm;class Rm extends Gc{}Rm.prototype.ValueTypeName="bool";Rm.prototype.ValueBufferType=Array;Rm.prototype.DefaultInterpolation=iy;Rm.prototype.InterpolantFactoryMethodLinear=void 0;Rm.prototype.InterpolantFactoryMethodSmooth=void 0;class oU extends Gc{}oU.prototype.ValueTypeName="color";class vm extends Gc{}vm.prototype.ValueTypeName="number";class ste extends ky{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)so.slerpFlat(s,0,o,c-a,o,c,l);return s}}class yf extends Gc{InterpolantFactoryMethodLinear(e){return new ste(this.times,this.values,this.getValueSize(),e)}}yf.prototype.ValueTypeName="quaternion";yf.prototype.DefaultInterpolation=pm;yf.prototype.InterpolantFactoryMethodSmooth=void 0;class Lm extends Gc{}Lm.prototype.ValueTypeName="string";Lm.prototype.ValueBufferType=Array;Lm.prototype.DefaultInterpolation=iy;Lm.prototype.InterpolantFactoryMethodLinear=void 0;Lm.prototype.InterpolantFactoryMethodSmooth=void 0;class ym extends Gc{}ym.prototype.ValueTypeName="vector";class ly{constructor(e="",n=-1,r=[],i=PM){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=bl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(fUe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Gc.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=nte(l);l=vD(l,1,u),c=vD(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new vm(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,v,y,b){if(v.length!==0){const w=[],_=[];iU(v,w,_,y),w.length!==0&&b.push(new d(f,w,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const v={};let y;for(y=0;y<f.length;y++)if(f[y].morphTargets)for(let b=0;b<f[y].morphTargets.length;b++)v[f[y].morphTargets[b]]=-1;for(const b in v){const w=[],_=[];for(let S=0;S!==f[y].morphTargets.length;++S){const C=f[y];w.push(C.time),_.push(C.morphTarget===b?1:0)}i.push(new vm(".morphTargetInfluence["+b+"]",w,_))}l=v.length*o}else{const v=".bones["+n[d].name+"]";r(ym,v+".position",f,"pos",i),r(yf,v+".quaternion",f,"rot",i),r(ym,v+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function dUe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vm;case"vector":case"vector2":case"vector3":case"vector4":return ym;case"color":return oU;case"quaternion":return yf;case"bool":case"boolean":return Rm;case"string":return Lm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function fUe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=dUe(t.type);if(t.times===void 0){const n=[],r=[];iU(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ph={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class JM{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const v=c[d],y=c[d+1];if(v.global&&(v.lastIndex=0),v.test(u))return y}return null}}}const ote=new JM;class No{constructor(e){this.manager=e!==void 0?e:ote,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}No.DEFAULT_MATERIAL_NAME="__DEFAULT";const Wu={};class pUe extends Error{constructor(e,n){super(e),this.response=n}}class Lo extends No{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ph.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Wu[e]!==void 0){Wu[e].push({onLoad:n,onProgress:r,onError:i});return}Wu[e]=[],Wu[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Wu[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=f?parseInt(f):0,y=v!==0;let b=0;const w=new ReadableStream({start(_){S();function S(){d.read().then(({done:C,value:I})=>{if(C)_.close();else{b+=I.byteLength;const z=new ProgressEvent("progress",{lengthComputable:y,loaded:b,total:v});for(let N=0,A=u.length;N<A;N++){const W=u[N];W.onProgress&&W.onProgress(z)}_.enqueue(I),S()}})}}});return new Response(w)}else throw new pUe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,v=new TextDecoder(f);return c.arrayBuffer().then(y=>v.decode(y))}}}).then(c=>{ph.add(e,c);const u=Wu[e];delete Wu[e];for(let d=0,f=u.length;d<f;d++){const v=u[d];v.onLoad&&v.onLoad(c)}}).catch(c=>{const u=Wu[e];if(u===void 0)throw this.manager.itemError(e),c;delete Wu[e];for(let d=0,f=u.length;d<f;d++){const v=u[d];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class mUe extends No{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=ly.parse(e[r]);n.push(i)}return n}}class gUe extends No{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new BM,l=new Lo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const v=s.parse(f,!0);o[d]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=Kr),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const v=f.mipmaps.length/f.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let b=0;b<f.mipmapCount;b++)o[y].mipmaps.push(f.mipmaps[y*f.mipmapCount+b]),o[y].format=f.format,o[y].width=f.width,o[y].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Kr),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class mb extends No{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ph.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=cb("img");function l(){u(),ph.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class ate extends No{constructor(e){super(e)}load(e,n,r,i){const s=new f1;s.colorSpace=hl;const o=new mb(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class aU extends No{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new bh,a=new Lo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ms,o.wrapT=c.wrapT!==void 0?c.wrapT:ms,o.magFilter=c.magFilter!==void 0?c.magFilter:Kr,o.minFilter=c.minFilter!==void 0?c.minFilter:Kr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=sc),c.mipmapCount===1&&(o.minFilter=Kr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class lte extends No{constructor(e){super(e)}load(e,n,r,i){const s=new Yr,o=new mb(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Of extends Hr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Zt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class cte extends Of{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Hr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Zt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const qR=new Un,Jj=new oe,Zj=new oe;class lU{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new gt(512,512),this.map=null,this.mapPass=null,this.matrix=new Un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new p1,this._frameExtents=new gt(1,1),this._viewportCount=1,this._viewports=[new ci(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Jj.setFromMatrixPosition(e.matrixWorld),n.position.copy(Jj),Zj.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Zj),n.updateMatrixWorld(),qR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qR),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(qR)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class vUe extends lU{constructor(){super(new Ui(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=sy*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class cU extends Of{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Hr.DEFAULT_UP),this.updateMatrix(),this.target=new Hr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new vUe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Qj=new Un,E0=new oe,KR=new oe;class yUe extends lU{constructor(){super(new Ui(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new gt(4,2),this._viewportCount=6,this._viewports=[new ci(2,1,1,1),new ci(0,1,1,1),new ci(3,1,1,1),new ci(1,1,1,1),new ci(3,0,1,1),new ci(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),E0.setFromMatrixPosition(e.matrixWorld),r.position.copy(E0),KR.copy(r.position),KR.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(KR),r.updateMatrixWorld(),i.makeTranslation(-E0.x,-E0.y,-E0.z),Qj.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qj)}}class uU extends Of{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new yUe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class _Ue extends lU{constructor(){super(new Dc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class hU extends Of{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Hr.DEFAULT_UP),this.updateMatrix(),this.target=new Hr,this.shadow=new _Ue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ute extends Of{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class hte extends Of{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class dte{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class fte extends Of{constructor(e=new dte,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class ZM extends No{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Lo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=ZM.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Zt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Zt().setHex(o.value);break;case"v2":i.uniforms[s].value=new gt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new oe().fromArray(o.value);break;case"v4":i.uniforms[s].value=new ci().fromArray(o.value);break;case"m3":i.uniforms[s].value=new xr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Un().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new gt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new gt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Xee,SpriteMaterial:XF,RawShaderMaterial:qee,ShaderMaterial:el,PointsMaterial:NM,MeshPhysicalMaterial:dc,MeshStandardMaterial:b1,MeshPhongMaterial:Kee,MeshToonMaterial:Yee,MeshNormalMaterial:Jee,MeshLambertMaterial:Zee,MeshDepthMaterial:GF,MeshDistanceMaterial:$F,MeshBasicMaterial:Ka,MeshMatcapMaterial:Qee,LineDashedMaterial:ete,LineBasicMaterial:ha,Material:Ps};return new n[e]}}class nc{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class pte extends gr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class mte extends No{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,y){if(n[y]!==void 0)return n[y];const w=v.interleavedBuffers[y],_=s(v,w.buffer),S=Jg(w.type,_),C=new m1(S,w.stride);return C.uuid=w.uuid,n[y]=C,C}function s(v,y){if(r[y]!==void 0)return r[y];const w=v.arrayBuffers[y],_=new Uint32Array(w).buffer;return r[y]=_,_}const o=e.isInstancedBufferGeometry?new pte:new gr,a=e.data.index;if(a!==void 0){const v=Jg(a.type,a.array);o.setIndex(new jr(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let b;if(y.isInterleavedBufferAttribute){const w=i(e.data,y.data);b=new vf(w,y.itemSize,y.offset,y.normalized)}else{const w=Jg(y.type,y.array),_=y.isInstancedBufferAttribute?mm:jr;b=new _(w,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),y.usage!==void 0&&b.setUsage(y.usage),o.setAttribute(v,b)}const c=e.data.morphAttributes;if(c)for(const v in c){const y=c[v],b=[];for(let w=0,_=y.length;w<_;w++){const S=y[w];let C;if(S.isInterleavedBufferAttribute){const I=i(e.data,S.data);C=new vf(I,S.itemSize,S.offset,S.normalized)}else{const I=Jg(S.type,S.array);C=new jr(I,S.itemSize,S.normalized)}S.name!==void 0&&(C.name=S.name),b.push(C)}o.morphAttributes[v]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let v=0,y=d.length;v!==y;++v){const b=d[v];o.addGroup(b.start,b.count,b.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const v=new oe;f.center!==void 0&&v.fromArray(f.center),o.boundingSphere=new Ro(v,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class xUe extends No{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?nc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Lo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?nc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Lo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Jp().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new g1().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new mte;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Yj?a=Yj[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new ZM;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ly.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Jg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new JM(n);s=new mb(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const v=[];for(let y=0,b=f.length;y<b;y++){const w=f[y],_=a(w);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new bh(_.data,_.width,_.height)))}i[d.uuid]=new Lp(v)}else{const v=a(d.url);i[d.uuid]=new Lp(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Jg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new mb(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const v=c[d],y=await s(v);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new bh(y.data,y.width,y.height)))}r[l.uuid]=new Lp(u)}else{const u=await s(l.url);r[l.uuid]=new Lp(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new f1,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new bh:u=new Yr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,bUe)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],e8),u.wrapT=r(a.wrap[1],e8)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,t8)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,t8)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const v=[];for(let y=0,b=f.length;y<b;y++){const w=f[y];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),v.push(r[w])}return v}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":o=new ay,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Zt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new OM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new kM(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ui(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Dc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new ute(e.color,e.intensity);break;case"DirectionalLight":o=new hU(e.color,e.intensity);break;case"PointLight":o=new uU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new hte(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new cU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new cte(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new fte().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new qF(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Ni(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new KF(u,d,f),o.instanceMatrix=new mm(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new mm(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new Nee(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(b=>{const w=new la;w.min.fromArray(b.boxMin),w.max.fromArray(b.boxMax);const _=new Ro;return _.radius=b.sphereRadius,_.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:w,sphereInitialized:b.sphereInitialized,sphere:_}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new Dee;break;case"Line":o=new Fh(a(e.geometry),l(e.material));break;case"LineLoop":o=new YF(a(e.geometry),l(e.material));break;case"LineSegments":o=new Hc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new JF(a(e.geometry),l(e.material));break;case"Sprite":o=new Oee(l(e.material));break;case"Group":o=new fh;break;case"Bone":o=new DM;break;default:o=new Hr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let v=0;v<f.length;v++)o.add(this.parseObject(f[v],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let v=0;v<f.length;v++){const y=f[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let v=0;v<f.length;v++){const y=f[v],b=o.getObjectByProperty("uuid",y.object);b!==void 0&&o.addLevel(b,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const bUe={UVMapping:ff,CubeReflectionMapping:ku,CubeRefractionMapping:pf,EquirectangularReflectionMapping:ty,EquirectangularRefractionMapping:nb,CubeUVReflectionMapping:Py},e8={RepeatWrapping:mf,ClampToEdgeWrapping:ms,MirroredRepeatWrapping:ny},t8={NearestFilter:Us,NearestMipmapNearestFilter:TM,NearestMipmapLinearFilter:Pp,LinearFilter:Kr,LinearMipmapNearestFilter:wv,LinearMipmapLinearFilter:sc};class gte extends No{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ph.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return ph.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),ph.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});ph.add(e,l),s.manager.itemStart(e)}}let BS;class dU{static getContext(){return BS===void 0&&(BS=new(window.AudioContext||window.webkitAudioContext)),BS}static setContext(e){BS=e}}class wUe extends No{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);dU.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const n8=new Un,r8=new Un,ep=new Un;class SUe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ui,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ui,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,ep.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Kp*n.fov*.5)/n.zoom;let a,l;r8.elements[12]=-i,n8.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,ep.elements[0]=2*n.near/(l-a),ep.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ep),a=-o*n.aspect-s,l=o*n.aspect-s,ep.elements[0]=2*n.near/(l-a),ep.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ep)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(r8),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(n8)}}class fU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=i8(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=i8();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function i8(){return(typeof performance>"u"?Date:performance).now()}const tp=new oe,s8=new so,AUe=new oe,np=new oe;class EUe extends Hr{constructor(){super(),this.type="AudioListener",this.context=dU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new fU}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tp,s8,AUe),np.set(0,0,-1).applyQuaternion(s8),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(tp.x,i),n.positionY.linearRampToValueAtTime(tp.y,i),n.positionZ.linearRampToValueAtTime(tp.z,i),n.forwardX.linearRampToValueAtTime(np.x,i),n.forwardY.linearRampToValueAtTime(np.y,i),n.forwardZ.linearRampToValueAtTime(np.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(tp.x,tp.y,tp.z),n.setOrientation(np.x,np.y,np.z,r.x,r.y,r.z)}}class vte extends Hr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const rp=new oe,o8=new so,TUe=new oe,ip=new oe;class CUe extends vte{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rp,o8,TUe),ip.set(0,0,1).applyQuaternion(o8);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(rp.x,r),n.positionY.linearRampToValueAtTime(rp.y,r),n.positionZ.linearRampToValueAtTime(rp.z,r),n.orientationX.linearRampToValueAtTime(ip.x,r),n.orientationY.linearRampToValueAtTime(ip.y,r),n.orientationZ.linearRampToValueAtTime(ip.z,r)}else n.setPosition(rp.x,rp.y,rp.z),n.setOrientation(ip.x,ip.y,ip.z)}}class MUe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class yte{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){so.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;so.multiplyQuaternionsFlat(e,o,e,n,e,r),so.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const pU="\\[\\]\\.:\\/",PUe=new RegExp("["+pU+"]","g"),mU="[^"+pU+"]",IUe="[^"+pU.replace("\\.","")+"]",RUe=/((?:WC+[\/:])*)/.source.replace("WC",mU),LUe=/(WCOD+)?/.source.replace("WCOD",IUe),kUe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mU),OUe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mU),DUe=new RegExp("^"+RUe+LUe+kUe+OUe+"$"),NUe=["material","materials","bones","map"];class BUe{constructor(e,n,r){const i=r||Vr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Vr{constructor(e,n,r){this.path=n,this.parsedPath=r||Vr.parseTrackName(n),this.node=Vr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Vr.Composite(e,n,r):new Vr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(PUe,"")}static parseTrackName(e){const n=DUe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);NUe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Vr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vr.Composite=BUe;Vr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vr.prototype.GetterByBindingType=[Vr.prototype._getValue_direct,Vr.prototype._getValue_array,Vr.prototype._getValue_arrayElement,Vr.prototype._getValue_toArray];Vr.prototype.SetterByBindingTypeAndVersioning=[[Vr.prototype._setValue_direct,Vr.prototype._setValue_direct_setNeedsUpdate,Vr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vr.prototype._setValue_array,Vr.prototype._setValue_array_setNeedsUpdate,Vr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vr.prototype._setValue_arrayElement,Vr.prototype._setValue_arrayElement_setNeedsUpdate,Vr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vr.prototype._setValue_fromArray,Vr.prototype._setValue_fromArray_setNeedsUpdate,Vr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class FUe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=bl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],v=f.uuid;let y=n[v];if(y===void 0){y=l++,n[v]=y,e.push(f);for(let b=0,w=o;b!==w;++b)s[b].push(new Vr(f,r[b],i[b]))}else if(y<c){a=e[y];const b=--c,w=e[b];n[w.uuid]=y,e[y]=w,n[v]=b,e[b]=f;for(let _=0,S=o;_!==S;++_){const C=s[_],I=C[b];let z=C[y];C[y]=I,z===void 0&&(z=new Vr(f,r[_],i[_])),C[b]=z}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let v=0,y=i;v!==y;++v){const b=r[v],w=b[d],_=b[u];b[u]=w,b[d]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const f=--s,v=e[f],y=--o,b=e[y];n[v.uuid]=d,e[d]=v,n[b.uuid]=f,e[f]=b,e.pop();for(let w=0,_=i;w!==_;++w){const S=r[w],C=S[f],I=S[y];S[d]=C,S[f]=I,S.pop()}}else{const f=--o,v=e[f];f>0&&(n[v.uuid]=d),e[d]=v,e.pop();for(let y=0,b=i;y!==b;++y){const w=r[y];w[d]=w[f],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let f=u,v=l.length;f!==v;++f){const y=l[f];d[f]=new Vr(y,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class _te{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Ip,endingEnd:Ip};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nee,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case OF:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case PM:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===ree;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===tee){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Rp,i.endingEnd=Rp):(e?i.endingStart=this.zeroSlopeAtStart?Rp:Ip:i.endingStart=rb,n?i.endingEnd=this.zeroSlopeAtEnd?Rp:Ip:i.endingEnd=rb)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const UUe=new Float32Array(1);class zUe extends Du{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=i[d],v=f.name;let y=u[v];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const b=n&&n._propertyBindings[d].binding.parsedPath;y=new yte(Vr.create(r,v,b),f.ValueTypeName,f.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new sU(new Float32Array(2),new Float32Array(2),1,UUe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?ly.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=PM),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new _te(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?ly.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class gU{constructor(e){this.value=e}clone(){return new gU(this.value.clone===void 0?this.value:this.value.clone())}}let VUe=0;class HUe extends Du{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:VUe++}),this.name="",this.usage=ab,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class jUe extends m1{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class GUe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const a8=new Un;class vU{constructor(e,n,r=0,i=1/0){this.ray=new Pm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Yp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return a8.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(a8),this}intersectObject(e,n=!0,r=[]){return yD(e,this,r,n),r.sort(l8),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)yD(e[i],this,r,n);return r.sort(l8),r}}function l8(t,e){return t.distance-e.distance}function yD(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)yD(i[s],e,n,!0)}}class _D{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ns(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $Ue{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const c8=new gt;class WUe{constructor(e=new gt(1/0,1/0),n=new gt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=c8.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,c8).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const u8=new oe,FS=new oe;class XUe{constructor(e=new oe,n=new oe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){u8.subVectors(e,this.start),FS.subVectors(this.end,this.start);const r=FS.dot(FS);let s=FS.dot(u8)/r;return n&&(s=ns(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const h8=new oe;class qUe extends Hr{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new gr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new An(i,3));const s=new ha({fog:!1,toneMapped:!1});this.cone=new Hc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),h8.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(h8),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pd=new oe,US=new Un,YR=new Un;class KUe extends Hc{constructor(e){const n=xte(e),r=new gr,i=[],s=[],o=new Zt(0,0,1),a=new Zt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new An(i,3)),r.setAttribute("color",new An(s,3));const l=new ha({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");YR.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(US.multiplyMatrices(YR,a.matrixWorld),pd.setFromMatrixPosition(US),i.setXYZ(o,pd.x,pd.y,pd.z),US.multiplyMatrices(YR,a.parent.matrixWorld),pd.setFromMatrixPosition(US),i.setXYZ(o+1,pd.x,pd.y,pd.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function xte(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,xte(t.children[n]));return e}class YUe extends Ni{constructor(e,n,r){const i=new x1(n,4,2),s=new Ka({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const JUe=new oe,d8=new Zt,f8=new Zt;class ZUe extends Hr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _1(n);i.rotateY(Math.PI*.5),this.material=new Ka({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new jr(o,3)),this.add(new Ni(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");d8.copy(this.light.color),f8.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?d8:f8;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(JUe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class QUe extends Hc{constructor(e=10,n=10,r=4473924,i=8947848){r=new Zt(r),i=new Zt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,v=0,y=-a;f<=n;f++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const b=f===s?r:i;b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3,b.toArray(c,v),v+=3}const u=new gr;u.setAttribute("position",new An(l,3)),u.setAttribute("color",new An(c,3));const d=new ha({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class e4e extends Hc{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Zt(s),o=new Zt(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),v=Math.sin(f)*e,y=Math.cos(f)*e;a.push(0,0,0),a.push(v,0,y);const b=d&1?s:o;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let d=0;d<r;d++){const f=d&1?s:o,v=e-e/r*d;for(let y=0;y<i;y++){let b=y/i*(Math.PI*2),w=Math.sin(b)*v,_=Math.cos(b)*v;a.push(w,0,_),l.push(f.r,f.g,f.b),b=(y+1)/i*(Math.PI*2),w=Math.sin(b)*v,_=Math.cos(b)*v,a.push(w,0,_),l.push(f.r,f.g,f.b)}}const c=new gr;c.setAttribute("position",new An(a,3)),c.setAttribute("color",new An(l,3));const u=new ha({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const p8=new oe,zS=new oe,m8=new oe;class t4e extends Hr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new gr;i.setAttribute("position",new An([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ha({fog:!1,toneMapped:!1});this.lightPlane=new Fh(i,s),this.add(this.lightPlane),i=new gr,i.setAttribute("position",new An([0,0,0,0,0,1],3)),this.targetLine=new Fh(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),p8.setFromMatrixPosition(this.light.matrixWorld),zS.setFromMatrixPosition(this.light.target.matrixWorld),m8.subVectors(zS,p8),this.lightPlane.lookAt(zS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zS),this.targetLine.scale.z=m8.length()}}const VS=new oe,Qi=new d1;class n4e extends Hc{constructor(e){const n=new gr,r=new ha({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,b){l(y),l(b)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new An(i,3)),n.setAttribute("color",new An(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Zt(16755200),u=new Zt(16711680),d=new Zt(43775),f=new Zt(16777215),v=new Zt(3355443);this.setColors(c,u,d,f,v)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Qi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),us("c",n,e,Qi,0,0,-1),us("t",n,e,Qi,0,0,1),us("n1",n,e,Qi,-r,-i,-1),us("n2",n,e,Qi,r,-i,-1),us("n3",n,e,Qi,-r,i,-1),us("n4",n,e,Qi,r,i,-1),us("f1",n,e,Qi,-r,-i,1),us("f2",n,e,Qi,r,-i,1),us("f3",n,e,Qi,-r,i,1),us("f4",n,e,Qi,r,i,1),us("u1",n,e,Qi,r*.7,i*1.1,-1),us("u2",n,e,Qi,-r*.7,i*1.1,-1),us("u3",n,e,Qi,0,i*2,-1),us("cf1",n,e,Qi,-r,0,1),us("cf2",n,e,Qi,r,0,1),us("cf3",n,e,Qi,0,-i,1),us("cf4",n,e,Qi,0,i,1),us("cn1",n,e,Qi,-r,0,-1),us("cn2",n,e,Qi,r,0,-1),us("cn3",n,e,Qi,0,-i,-1),us("cn4",n,e,Qi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function us(t,e,n,r,i,s,o){VS.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],VS.x,VS.y,VS.z)}}const HS=new la;class r4e extends Hc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new gr;s.setIndex(new jr(r,1)),s.setAttribute("position",new jr(i,3)),super(s,new ha({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&HS.setFromObject(this.object),HS.isEmpty())return;const n=HS.min,r=HS.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class i4e extends Hc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new gr;s.setIndex(new jr(r,1)),s.setAttribute("position",new An(i,3)),super(s,new ha({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class s4e extends Fh{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new gr;o.setAttribute("position",new An(s,3)),o.computeBoundingSphere(),super(o,new ha({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new gr;l.setAttribute("position",new An(a,3)),l.computeBoundingSphere(),this.add(new Ni(l,new Ka({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const g8=new oe;let jS,JR;class o4e extends Hr{constructor(e=new oe(0,0,1),n=new oe(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",jS===void 0&&(jS=new gr,jS.setAttribute("position",new An([0,0,0,0,1,0],3)),JR=new Ly(0,.5,1,5,1),JR.translate(0,-.5,0)),this.position.copy(n),this.line=new Fh(jS,new ha({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ni(JR,new Ka({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{g8.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(g8,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class a4e extends Hc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new gr;i.setAttribute("position",new An(n,3)),i.setAttribute("color",new An(r,3));const s=new ha({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Zt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class l4e{constructor(){this.type="ShapePath",this.color=new Zt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ub,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const S=[];for(let C=0,I=_.length;C<I;C++){const z=_[C],N=new Jp;N.curves=z.curves,S.push(N)}return S}function r(_,S){const C=S.length;let I=!1;for(let z=C-1,N=0;N<C;z=N++){let A=S[z],W=S[N],U=W.x-A.x,F=W.y-A.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(A=S[N],U=-U,W=S[z],F=-F),_.y<A.y||_.y>W.y)continue;if(_.y===A.y){if(_.x===A.x)return!0}else{const ee=F*(_.x-A.x)-U*(_.y-A.y);if(ee===0)return!0;if(ee<0)continue;I=!I}}else{if(_.y!==A.y)continue;if(W.x<=_.x&&_.x<=A.x||A.x<=_.x&&_.x<=W.x)return!0}}return I}const i=Tu.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Jp,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],f=[];let v=[],y=0,b;f[y]=void 0,v[y]=[];for(let _=0,S=s.length;_<S;_++)a=s[_],b=a.getPoints(),o=i(b),o=e?!o:o,o?(!u&&f[y]&&y++,f[y]={s:new Jp,p:b},f[y].s.curves=a.curves,u&&y++,v[y]=[]):v[y].push({h:a,p:b[0]});if(!f[0])return n(s);if(f.length>1){let _=!1,S=0;for(let C=0,I=f.length;C<I;C++)d[C]=[];for(let C=0,I=f.length;C<I;C++){const z=v[C];for(let N=0;N<z.length;N++){const A=z[N];let W=!0;for(let U=0;U<f.length;U++)r(A.p,f[U].p)&&(C!==U&&S++,W?(W=!1,d[U].push(A)):_=!0);W&&d[C].push(A)}}S>0&&_===!1&&(v=d)}let w;for(let _=0,S=f.length;_<S;_++){l=f[_].s,c.push(l),w=v[_];for(let C=0,I=w.length;C<I;C++)l.holes.push(w[C].h)}return c}}class c4e extends Tl{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:My}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=My);const u4e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:EF,AddEquation:Pd,AddOperation:zQ,AdditiveAnimationBlendMode:OF,AdditiveBlending:kO,AgXToneMapping:$Q,AlphaFormat:KQ,AlwaysCompare:pee,AlwaysDepth:kQ,AlwaysStencilFunc:uD,AmbientLight:ute,AnimationAction:_te,AnimationClip:ly,AnimationLoader:mUe,AnimationMixer:zUe,AnimationObjectGroup:FUe,AnimationUtils:hUe,ArcCurve:Bee,ArrayCamera:Lee,ArrowHelper:o4e,AttachedBindMode:NO,Audio:vte,AudioAnalyser:MUe,AudioContext:dU,AudioListener:EUe,AudioLoader:wUe,AxesHelper:a4e,BackSide:Ia,BasicDepthPacking:see,BasicShadowMap:fQ,BatchedMesh:Nee,Bone:DM,BooleanKeyframeTrack:Rm,Box2:WUe,Box3:la,Box3Helper:i4e,BoxGeometry:Im,BoxHelper:r4e,BufferAttribute:jr,BufferGeometry:gr,BufferGeometryLoader:mte,ByteType:TF,Cache:ph,Camera:d1,CameraHelper:n4e,CanvasTexture:DFe,CapsuleGeometry:UM,CatmullRomCurve3:Fee,CineonToneMapping:jQ,CircleGeometry:zM,ClampToEdgeWrapping:ms,Clock:fU,Color:Zt,ColorKeyframeTrack:oU,ColorManagement:li,CompressedArrayTexture:kFe,CompressedCubeTexture:OFe,CompressedTexture:BM,CompressedTextureLoader:gUe,ConeGeometry:VM,ConstantAlphaFactor:IQ,ConstantColorFactor:MQ,CubeCamera:Aee,CubeReflectionMapping:ku,CubeRefractionMapping:pf,CubeTexture:f1,CubeTextureLoader:ate,CubeUVReflectionMapping:Py,CubicBezierCurve:QF,CubicBezierCurve3:Uee,CubicInterpolant:rte,CullFaceBack:LO,CullFaceFront:dQ,CullFaceFrontBack:Mke,CullFaceNone:hQ,Curve:jc,CurvePath:Vee,CustomBlending:pQ,CustomToneMapping:GQ,CylinderGeometry:Ly,Cylindrical:$Ue,Data3DTexture:FF,DataArrayTexture:RM,DataTexture:bh,DataTextureLoader:aU,DataUtils:kp,DecrementStencilOp:Dke,DecrementWrapStencilOp:Bke,DefaultLoadingManager:ote,DepthFormat:qp,DepthStencilFormat:ry,DepthTexture:jF,DetachedBindMode:XQ,DirectionalLight:hU,DirectionalLightHelper:t4e,DiscreteInterpolant:ite,DisplayP3ColorSpace:IM,DodecahedronGeometry:HM,DoubleSide:tc,DstAlphaFactor:SQ,DstColorFactor:EQ,DynamicCopyUsage:Zke,DynamicDrawUsage:Wke,DynamicReadUsage:Kke,EdgesGeometry:Hee,EllipseCurve:FM,EqualCompare:uee,EqualDepth:DQ,EqualStencilFunc:Vke,EquirectangularReflectionMapping:ty,EquirectangularRefractionMapping:nb,Euler:Cl,EventDispatcher:Du,ExtrudeGeometry:GM,FileLoader:Lo,Float16BufferAttribute:BOe,Float32BufferAttribute:An,FloatType:gs,Fog:OM,FogExp2:kM,FramebufferTexture:LFe,FrontSide:Lu,Frustum:p1,GLBufferAttribute:GUe,GLSL1:eOe,GLSL3:hD,GreaterCompare:hee,GreaterDepth:BQ,GreaterEqualCompare:fee,GreaterEqualDepth:NQ,GreaterEqualStencilFunc:$ke,GreaterStencilFunc:jke,GridHelper:QUe,Group:fh,HalfFloatType:Co,HemisphereLight:cte,HemisphereLightHelper:ZUe,IcosahedronGeometry:y1,ImageBitmapLoader:gte,ImageLoader:mb,ImageUtils:_ee,IncrementStencilOp:Oke,IncrementWrapStencilOp:Nke,InstancedBufferAttribute:mm,InstancedBufferGeometry:pte,InstancedInterleavedBuffer:jUe,InstancedMesh:KF,Int16BufferAttribute:DOe,Int32BufferAttribute:NOe,Int8BufferAttribute:LOe,IntType:CM,InterleavedBuffer:m1,InterleavedBufferAttribute:vf,Interpolant:ky,InterpolateDiscrete:iy,InterpolateLinear:pm,InterpolateSmooth:KA,InvertStencilOp:Fke,KeepStencilOp:mp,KeyframeTrack:Gc,LOD:Dee,LatheGeometry:v1,Layers:Yp,LessCompare:cee,LessDepth:OQ,LessEqualCompare:NF,LessEqualDepth:tb,LessEqualStencilFunc:Hke,LessStencilFunc:zke,Light:Of,LightProbe:fte,Line:Fh,Line3:XUe,LineBasicMaterial:ha,LineCurve:eU,LineCurve3:zee,LineDashedMaterial:ete,LineLoop:YF,LineSegments:Hc,LinearDisplayP3ColorSpace:h1,LinearFilter:Kr,LinearInterpolant:sU,LinearMipMapLinearFilter:BO,LinearMipMapNearestFilter:Rke,LinearMipmapLinearFilter:sc,LinearMipmapNearestFilter:wv,LinearSRGBColorSpace:uc,LinearToneMapping:VQ,LinearTransfer:ib,Loader:No,LoaderUtils:nc,LoadingManager:JM,LoopOnce:tee,LoopPingPong:ree,LoopRepeat:nee,LuminanceAlphaFormat:ZQ,LuminanceFormat:JQ,MOUSE:fp,Material:Ps,MaterialLoader:ZM,MathUtils:mee,Matrix3:xr,Matrix4:Un,MaxEquation:yQ,Mesh:Ni,MeshBasicMaterial:Ka,MeshDepthMaterial:GF,MeshDistanceMaterial:$F,MeshLambertMaterial:Zee,MeshMatcapMaterial:Qee,MeshNormalMaterial:Jee,MeshPhongMaterial:Kee,MeshPhysicalMaterial:dc,MeshStandardMaterial:b1,MeshToonMaterial:Yee,MinEquation:vQ,MirroredRepeatWrapping:ny,MixOperation:UQ,MultiplyBlending:DO,MultiplyOperation:u1,NearestFilter:Us,NearestMipMapLinearFilter:Ike,NearestMipMapNearestFilter:Pke,NearestMipmapLinearFilter:Pp,NearestMipmapNearestFilter:TM,NeutralToneMapping:WQ,NeverCompare:lee,NeverDepth:LQ,NeverStencilFunc:Uke,NoBlending:Au,NoColorSpace:rh,NoToneMapping:Eu,NormalAnimationBlendMode:PM,NormalBlending:Xp,NotEqualCompare:dee,NotEqualDepth:FQ,NotEqualStencilFunc:Gke,NumberKeyframeTrack:vm,Object3D:Hr,ObjectLoader:xUe,ObjectSpaceNormalMap:aee,OctahedronGeometry:_1,OneFactor:xQ,OneMinusConstantAlphaFactor:RQ,OneMinusConstantColorFactor:PQ,OneMinusDstAlphaFactor:AQ,OneMinusDstColorFactor:TQ,OneMinusSrcAlphaFactor:PT,OneMinusSrcColorFactor:wQ,OrthographicCamera:Dc,P3Primaries:ob,PCFShadowMap:EM,PCFSoftShadowMap:L_,PMREMGenerator:dD,Path:ub,PerspectiveCamera:Ui,Plane:Zu,PlaneGeometry:Lf,PlaneHelper:s4e,PointLight:uU,PointLightHelper:YUe,Points:JF,PointsMaterial:NM,PolarGridHelper:e4e,PolyhedronGeometry:kf,PositionalAudio:CUe,PropertyBinding:Vr,PropertyMixer:yte,QuadraticBezierCurve:tU,QuadraticBezierCurve3:nU,Quaternion:so,QuaternionKeyframeTrack:yf,QuaternionLinearInterpolant:ste,RED_GREEN_RGTC2_Format:lD,RED_RGTC1_Format:eee,REVISION:My,RGBADepthPacking:oee,RGBAFormat:zs,RGBAIntegerFormat:kF,RGBA_ASTC_10x10_Format:nD,RGBA_ASTC_10x5_Format:QO,RGBA_ASTC_10x6_Format:eD,RGBA_ASTC_10x8_Format:tD,RGBA_ASTC_12x10_Format:rD,RGBA_ASTC_12x12_Format:iD,RGBA_ASTC_4x4_Format:$O,RGBA_ASTC_5x4_Format:WO,RGBA_ASTC_5x5_Format:XO,RGBA_ASTC_6x5_Format:qO,RGBA_ASTC_6x6_Format:KO,RGBA_ASTC_8x5_Format:YO,RGBA_ASTC_8x6_Format:JO,RGBA_ASTC_8x8_Format:ZO,RGBA_BPTC_Format:qA,RGBA_ETC2_EAC_Format:GO,RGBA_PVRTC_2BPPV1_Format:VO,RGBA_PVRTC_4BPPV1_Format:zO,RGBA_S3TC_DXT1_Format:$A,RGBA_S3TC_DXT3_Format:WA,RGBA_S3TC_DXT5_Format:XA,RGBFormat:YQ,RGB_BPTC_SIGNED_Format:sD,RGB_BPTC_UNSIGNED_Format:oD,RGB_ETC1_Format:HO,RGB_ETC2_Format:jO,RGB_PVRTC_2BPPV1_Format:UO,RGB_PVRTC_4BPPV1_Format:FO,RGB_S3TC_DXT1_Format:GA,RGFormat:QQ,RGIntegerFormat:LF,RawShaderMaterial:qee,Ray:Pm,Raycaster:vU,Rec709Primaries:sb,RectAreaLight:hte,RedFormat:MM,RedIntegerFormat:RF,ReinhardToneMapping:HQ,RenderTarget:xee,RepeatWrapping:mf,ReplaceStencilOp:kke,ReverseSubtractEquation:gQ,RingGeometry:$M,SIGNED_RED_GREEN_RGTC2_Format:cD,SIGNED_RED_RGTC1_Format:aD,SRGBColorSpace:hl,SRGBTransfer:xi,Scene:ay,ShaderChunk:wr,ShaderLib:Rc,ShaderMaterial:el,ShadowMaterial:Xee,Shape:Jp,ShapeGeometry:WM,ShapePath:l4e,ShapeUtils:Tu,ShortType:CF,Skeleton:g1,SkeletonHelper:KUe,SkinnedMesh:qF,Source:Lp,Sphere:Ro,SphereGeometry:x1,Spherical:_D,SphericalHarmonics3:dte,SplineCurve:rU,SpotLight:cU,SpotLightHelper:qUe,Sprite:Oee,SpriteMaterial:XF,SrcAlphaFactor:MT,SrcAlphaSaturateFactor:CQ,SrcColorFactor:bQ,StaticCopyUsage:Jke,StaticDrawUsage:ab,StaticReadUsage:qke,StereoCamera:SUe,StreamCopyUsage:Qke,StreamDrawUsage:Xke,StreamReadUsage:Yke,StringKeyframeTrack:Lm,SubtractEquation:mQ,SubtractiveBlending:OO,TOUCH:pp,TangentSpaceNormalMap:Rf,TetrahedronGeometry:XM,Texture:Yr,TextureLoader:lte,TorusGeometry:qM,TorusKnotGeometry:KM,Triangle:dl,TriangleFanDrawMode:IT,TriangleStripDrawMode:DF,TrianglesDrawMode:iee,TubeGeometry:YM,UVMapping:ff,Uint16BufferAttribute:UF,Uint32BufferAttribute:zF,Uint8BufferAttribute:kOe,Uint8ClampedBufferAttribute:OOe,Uniform:gU,UniformsGroup:HUe,UniformsLib:Jt,UniformsUtils:See,UnsignedByteType:El,UnsignedInt248Type:Iy,UnsignedInt5999Type:qQ,UnsignedIntType:gf,UnsignedShort4444Type:PF,UnsignedShort5551Type:IF,UnsignedShortType:MF,VSMShadowMap:Cc,Vector2:gt,Vector3:oe,Vector4:ci,VectorKeyframeTrack:ym,VideoTexture:RFe,WebGL3DRenderTarget:wOe,WebGLArrayRenderTarget:bOe,WebGLCoordinateSystem:hu,WebGLCubeRenderTarget:VF,WebGLMultipleRenderTargets:c4e,WebGLRenderTarget:Tl,WebGLRenderer:WF,WebGLUtils:Ree,WebGPUCoordinateSystem:lb,WireframeGeometry:Wee,WrapAroundEnding:rb,ZeroCurvatureEnding:Ip,ZeroFactor:_Q,ZeroSlopeEnding:Rp,ZeroStencilOp:Lke,createCanvasElement:vee},Symbol.toStringTag,{value:"Module"}));var bte={exports:{}},km={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */km.ConcurrentRoot=1;km.ContinuousEventPriority=4;km.DefaultEventPriority=16;km.DiscreteEventPriority=1;km.IdleEventPriority=536870912;km.LegacyRoot=0;bte.exports=km;var ev=bte.exports;function h4e(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(v=>v(e,f))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function v(){const y=u(e);if(!d(f,y)){const b=f;c(f=y,b)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const d4e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),v8=d4e?G.useEffect:G.useLayoutEffect;function wte(t){const e=typeof t=="function"?h4e(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=G.useReducer(w=>w+1,0),o=e.getState(),a=G.useRef(o),l=G.useRef(r),c=G.useRef(i),u=G.useRef(!1),d=G.useRef();d.current===void 0&&(d.current=r(o));let f,v=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(f=r(o),v=!i(d.current,f)),v8(()=>{v&&(d.current=f),a.current=o,l.current=r,c.current=i,u.current=!1});const y=G.useRef(o);v8(()=>{const w=()=>{try{const S=e.getState(),C=l.current(S);c.current(d.current,C)||(a.current=S,d.current=C,s())}catch{u.current=!0,s()}},_=e.subscribe(w);return e.getState()!==y.current&&w(),_},[]);const b=v?f:d.current;return G.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Ste={exports:{}},ZR={exports:{}},QR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y8;function f4e(){return y8||(y8=1,function(t){function e(J,fe){var re=J.length;J.push(fe);e:for(;0<re;){var Ce=re-1>>>1,ze=J[Ce];if(0<i(ze,fe))J[Ce]=fe,J[re]=ze,re=Ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var fe=J[0],re=J.pop();if(re!==fe){J[0]=re;e:for(var Ce=0,ze=J.length,tt=ze>>>1;Ce<tt;){var Ie=2*(Ce+1)-1,Xe=J[Ie],Re=Ie+1,qe=J[Re];if(0>i(Xe,re))Re<ze&&0>i(qe,Xe)?(J[Ce]=qe,J[Re]=re,Ce=Re):(J[Ce]=Xe,J[Ie]=re,Ce=Ie);else if(Re<ze&&0>i(qe,re))J[Ce]=qe,J[Re]=re,Ce=Re;else break e}}return fe}function i(J,fe){var re=J.sortIndex-fe.sortIndex;return re!==0?re:J.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var fe=n(c);fe!==null;){if(fe.callback===null)r(c);else if(fe.startTime<=J)r(c),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(c)}}function I(J){if(b=!1,C(J),!y)if(n(l)!==null)y=!0,Se(z);else{var fe=n(c);fe!==null&&Ue(I,fe.startTime-J)}}function z(J,fe){y=!1,b&&(b=!1,_(W),W=-1),v=!0;var re=f;try{for(C(fe),d=n(l);d!==null&&(!(d.expirationTime>fe)||J&&!ee());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,f=d.priorityLevel;var ze=Ce(d.expirationTime<=fe);fe=t.unstable_now(),typeof ze=="function"?d.callback=ze:d===n(l)&&r(l),C(fe)}else r(l);d=n(l)}if(d!==null)var tt=!0;else{var Ie=n(c);Ie!==null&&Ue(I,Ie.startTime-fe),tt=!1}return tt}finally{d=null,f=re,v=!1}}var N=!1,A=null,W=-1,U=5,F=-1;function ee(){return!(t.unstable_now()-F<U)}function se(){if(A!==null){var J=t.unstable_now();F=J;var fe=!0;try{fe=A(!0,J)}finally{fe?ne():(N=!1,A=null)}}else N=!1}var ne;if(typeof S=="function")ne=function(){S(se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,be=me.port2;me.port1.onmessage=se,ne=function(){be.postMessage(null)}}else ne=function(){w(se,0)};function Se(J){A=J,N||(N=!0,ne())}function Ue(J,fe){W=w(function(){J(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Se(z))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var fe=3;break;default:fe=f}var re=f;f=fe;try{return J()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=f;f=J;try{return fe()}finally{f=re}},t.unstable_scheduleCallback=function(J,fe,re){var Ce=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,J){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=re+ze,J={id:u++,callback:fe,priorityLevel:J,startTime:re,expirationTime:ze,sortIndex:-1},re>Ce?(J.sortIndex=re,e(c,J),n(l)===null&&J===n(c)&&(b?(_(W),W=-1):b=!0,Ue(I,re-Ce))):(J.sortIndex=ze,e(l,J),y||v||(y=!0,Se(z))),J},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(J){var fe=f;return function(){var re=f;f=fe;try{return J.apply(this,arguments)}finally{f=re}}}}(QR)),QR}var _8;function p4e(){return _8||(_8=1,ZR.exports=f4e()),ZR.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4e=function(e){var n={},r=G,i=p4e(),s=Object.assign;function o(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,T=1;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),z=Symbol.iterator;function N(p){return p===null||typeof p!="object"?null:(p=z&&p[z]||p["@@iterator"],typeof p=="function"?p:null)}function A(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case _:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case y:return(p.displayName||"Context")+".Consumer";case v:return(p._context.displayName||"Context")+".Provider";case b:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case S:return m=p.displayName||null,m!==null?m:A(p.type)||"Memo";case C:m=p._payload,p=p._init;try{return A(p(m))}catch{}}return null}function W(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function U(p){var m=p,T=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(T=m.return),p=m.return;while(p)}return m.tag===3?T:null}function F(p){if(U(p)!==p)throw Error(o(188))}function ee(p){var m=p.alternate;if(!m){if(m=U(p),m===null)throw Error(o(188));return m!==p?null:p}for(var T=p,P=m;;){var D=T.return;if(D===null)break;var $=D.alternate;if($===null){if(P=D.return,P!==null){T=P;continue}break}if(D.child===$.child){for($=D.child;$;){if($===T)return F(D),p;if($===P)return F(D),m;$=$.sibling}throw Error(o(188))}if(T.return!==P.return)T=D,P=$;else{for(var pe=!1,De=D.child;De;){if(De===T){pe=!0,T=D,P=$;break}if(De===P){pe=!0,P=D,T=$;break}De=De.sibling}if(!pe){for(De=$.child;De;){if(De===T){pe=!0,T=$,P=D;break}if(De===P){pe=!0,P=$,T=D;break}De=De.sibling}if(!pe)throw Error(o(189))}}if(T.alternate!==P)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?p:m}function se(p){return p=ee(p),p!==null?ne(p):null}function ne(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=ne(p);if(m!==null)return m;p=p.sibling}return null}function me(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=me(p);if(m!==null)return m}p=p.sibling}return null}var be=Array.isArray,Se=e.getPublicInstance,Ue=e.getRootHostContext,J=e.getChildHostContext,fe=e.prepareForCommit,re=e.resetAfterCommit,Ce=e.createInstance,ze=e.appendInitialChild,tt=e.finalizeInitialChildren,Ie=e.prepareUpdate,Xe=e.shouldSetTextContent,Re=e.createTextInstance,qe=e.scheduleTimeout,Ot=e.cancelTimeout,ln=e.noTimeout,Me=e.isPrimaryRenderer,rn=e.supportsMutation,We=e.supportsPersistence,rt=e.supportsHydration,lt=e.getInstanceFromNode,bt=e.preparePortalMount,mt=e.getCurrentEventPriority,Rt=e.detachDeletedInstance,Ut=e.supportsMicrotasks,X=e.scheduleMicrotask,j=e.supportsTestSelectors,ae=e.findFiberRoot,ve=e.getBoundingRect,de=e.getTextContent,xe=e.isHiddenSubtree,Ee=e.matchAccessibilityRole,Ze=e.setFocusIfFocusable,vt=e.setupIntersectionObserver,Xt=e.appendChild,yt=e.appendChildToContainer,zt=e.commitTextUpdate,bn=e.commitMount,Yt=e.commitUpdate,St=e.insertBefore,Vt=e.insertInContainerBefore,Ae=e.removeChild,dt=e.removeChildFromContainer,pt=e.resetTextContent,ye=e.hideInstance,ct=e.hideTextInstance,Le=e.unhideInstance,_t=e.unhideTextInstance,Pt=e.clearContainer,Bn=e.cloneInstance,gn=e.createContainerChildSet,En=e.appendChildToContainerChildSet,kn=e.finalizeContainerChildren,Fn=e.replaceContainerChildren,Gr=e.cloneHiddenInstance,Kn=e.cloneHiddenTextInstance,vi=e.canHydrateInstance,is=e.canHydrateTextInstance,vn=e.canHydrateSuspenseInstance,In=e.isSuspenseInstancePending,Dn=e.isSuspenseInstanceFallback,Et=e.registerSuspenseInstanceRetry,Mn=e.getNextHydratableSibling,xn=e.getFirstHydratableChild,ir=e.getFirstHydratableChildWithinContainer,Ur=e.getFirstHydratableChildWithinSuspenseInstance,Y=e.hydrateInstance,O=e.hydrateTextInstance,Z=e.hydrateSuspenseInstance,ie=e.getNextHydratableInstanceAfterSuspenseInstance,le=e.commitHydratedContainer,ce=e.commitHydratedSuspenseInstance,Ve=e.clearSuspenseBoundary,He=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,it=e.didNotMatchHydratedContainerTextInstance,at=e.didNotMatchHydratedTextInstance,st;function Gt(p){if(st===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);st=m&&m[1]||""}return`
`+st+p}var Lt=!1;function Bt(p,m){if(!p||Lt)return"";Lt=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Dt){var P=Dt}Reflect.construct(p,[],m)}else{try{m.call()}catch(Dt){P=Dt}p.call(m.prototype)}else{try{throw Error()}catch(Dt){P=Dt}p()}}catch(Dt){if(Dt&&P&&typeof Dt.stack=="string"){for(var D=Dt.stack.split(`
`),$=P.stack.split(`
`),pe=D.length-1,De=$.length-1;1<=pe&&0<=De&&D[pe]!==$[De];)De--;for(;1<=pe&&0<=De;pe--,De--)if(D[pe]!==$[De]){if(pe!==1||De!==1)do if(pe--,De--,0>De||D[pe]!==$[De]){var ft=`
`+D[pe].replace(" at new "," at ");return p.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",p.displayName)),ft}while(1<=pe&&0<=De);break}}}finally{Lt=!1,Error.prepareStackTrace=T}return(p=p?p.displayName||p.name:"")?Gt(p):""}var un=Object.prototype.hasOwnProperty,yn=[],qt=-1;function Nt(p){return{current:p}}function pn(p){0>qt||(p.current=yn[qt],yn[qt]=null,qt--)}function Ht(p,m){qt++,yn[qt]=p.current,p.current=m}var Fe={},Mt=Nt(Fe),kt=Nt(!1),Yn=Fe;function er(p,m){var T=p.type.contextTypes;if(!T)return Fe;var P=p.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===m)return P.__reactInternalMemoizedMaskedChildContext;var D={},$;for($ in T)D[$]=m[$];return P&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=D),D}function Sr(p){return p=p.childContextTypes,p!=null}function hn(){pn(kt),pn(Mt)}function on(p,m,T){if(Mt.current!==Fe)throw Error(o(168));Ht(Mt,m),Ht(kt,T)}function Wr(p,m,T){var P=p.stateNode;if(m=m.childContextTypes,typeof P.getChildContext!="function")return T;P=P.getChildContext();for(var D in P)if(!(D in m))throw Error(o(108,W(p)||"Unknown",D));return s({},T,P)}function sr(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Fe,Yn=Mt.current,Ht(Mt,p),Ht(kt,kt.current),!0}function Nn(p,m,T){var P=p.stateNode;if(!P)throw Error(o(169));T?(p=Wr(p,m,Yn),P.__reactInternalMemoizedMergedChildContext=p,pn(kt),pn(Mt),Ht(Mt,p)):pn(kt),Ht(kt,T)}var si=Math.clz32?Math.clz32:Rr,Ws=Math.log,Cr=Math.LN2;function Rr(p){return p>>>=0,p===0?32:31-(Ws(p)/Cr|0)|0}var ys=64,Oa=4194304;function Bo(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Xs(p,m){var T=p.pendingLanes;if(T===0)return 0;var P=0,D=p.suspendedLanes,$=p.pingedLanes,pe=T&268435455;if(pe!==0){var De=pe&~D;De!==0?P=Bo(De):($&=pe,$!==0&&(P=Bo($)))}else pe=T&~D,pe!==0?P=Bo(pe):$!==0&&(P=Bo($));if(P===0)return 0;if(m!==0&&m!==P&&!(m&D)&&(D=P&-P,$=m&-m,D>=$||D===16&&($&4194240)!==0))return m;if(P&4&&(P|=T&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=P;0<m;)T=31-si(m),D=1<<T,P|=p[T],m&=~D;return P}function co(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(p,m){for(var T=p.suspendedLanes,P=p.pingedLanes,D=p.expirationTimes,$=p.pendingLanes;0<$;){var pe=31-si($),De=1<<pe,ft=D[pe];ft===-1?(!(De&T)||De&P)&&(D[pe]=co(De,m)):ft<=m&&(p.expiredLanes|=De),$&=~De}}function tl(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Fo(p){for(var m=[],T=0;31>T;T++)m.push(p);return m}function Da(p,m,T){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-si(m),p[m]=T}function pc(p,m){var T=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var P=p.eventTimes;for(p=p.expirationTimes;0<T;){var D=31-si(T),$=1<<D;m[D]=0,P[D]=-1,p[D]=-1,T&=~$}}function Uo(p,m){var T=p.entangledLanes|=m;for(p=p.entanglements;T;){var P=31-si(T),D=1<<P;D&m|p[P]&m&&(p[P]|=m),T&=~D}}var vr=0;function Ll(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var kl=i.unstable_scheduleCallback,tr=i.unstable_cancelCallback,uo=i.unstable_shouldYield,Lr=i.unstable_requestPaint,yi=i.unstable_now,ho=i.unstable_ImmediatePriority,nl=i.unstable_UserBlockingPriority,mc=i.unstable_NormalPriority,Na=i.unstable_IdlePriority,Ol=null,ss=null;function Li(p){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Ol,p,void 0,(p.current.flags&128)===128)}catch{}}function da(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Rs=typeof Object.is=="function"?Object.is:da,qs=null,he=!1,Oe=!1;function Ke(p){qs===null?qs=[p]:qs.push(p)}function nn(p){he=!0,Ke(p)}function Jn(){if(!Oe&&qs!==null){Oe=!0;var p=0,m=vr;try{var T=qs;for(vr=1;p<T.length;p++){var P=T[p];do P=P(!0);while(P!==null)}qs=null,he=!1}catch(D){throw qs!==null&&(qs=qs.slice(p+1)),kl(ho,Jn),D}finally{vr=m,Oe=!1}}return null}var dn=a.ReactCurrentBatchConfig;function Pr(p,m){if(Rs(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var T=Object.keys(p),P=Object.keys(m);if(T.length!==P.length)return!1;for(P=0;P<T.length;P++){var D=T[P];if(!un.call(m,D)||!Rs(p[D],m[D]))return!1}return!0}function Vn(p){switch(p.tag){case 5:return Gt(p.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 2:case 15:return p=Bt(p.type,!1),p;case 11:return p=Bt(p.type.render,!1),p;case 1:return p=Bt(p.type,!0),p;default:return""}}function or(p,m){if(p&&p.defaultProps){m=s({},m),p=p.defaultProps;for(var T in p)m[T]===void 0&&(m[T]=p[T]);return m}return m}var $i=Nt(null),Wi=null,Ks=null,x=null;function M(){x=Ks=Wi=null}function k(p,m,T){Me?(Ht($i,m._currentValue),m._currentValue=T):(Ht($i,m._currentValue2),m._currentValue2=T)}function B(p){var m=$i.current;pn($i),Me?p._currentValue=m:p._currentValue2=m}function q(p,m,T){for(;p!==null;){var P=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,P!==null&&(P.childLanes|=m)):P!==null&&(P.childLanes&m)!==m&&(P.childLanes|=m),p===T)break;p=p.return}}function K(p,m){Wi=p,x=Ks=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(sl=!0),p.firstContext=null)}function Q(p){var m=Me?p._currentValue:p._currentValue2;if(x!==p)if(p={context:p,memoizedValue:m,next:null},Ks===null){if(Wi===null)throw Error(o(308));Ks=p,Wi.dependencies={lanes:0,firstContext:p}}else Ks=Ks.next=p;return m}var _e=null,ge=!1;function ke(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ot(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function ht(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function $e(p,m){var T=p.updateQueue;T!==null&&(T=T.shared,bs!==null&&p.mode&1&&!(Tr&2)?(p=T.interleaved,p===null?(m.next=m,_e===null?_e=[T]:_e.push(T)):(m.next=p.next,p.next=m),T.interleaved=m):(p=T.pending,p===null?m.next=m:(m.next=p.next,p.next=m),T.pending=m))}function wt(p,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194240)!==0)){var P=m.lanes;P&=p.pendingLanes,T|=P,m.lanes=T,Uo(p,T)}}function Hn(p,m){var T=p.updateQueue,P=p.alternate;if(P!==null&&(P=P.updateQueue,T===P)){var D=null,$=null;if(T=T.firstBaseUpdate,T!==null){do{var pe={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};$===null?D=$=pe:$=$.next=pe,T=T.next}while(T!==null);$===null?D=$=m:$=$.next=m}else D=$=m;T={baseState:P.baseState,firstBaseUpdate:D,lastBaseUpdate:$,shared:P.shared,effects:P.effects},p.updateQueue=T;return}p=T.lastBaseUpdate,p===null?T.firstBaseUpdate=m:p.next=m,T.lastBaseUpdate=m}function yr(p,m,T,P){var D=p.updateQueue;ge=!1;var $=D.firstBaseUpdate,pe=D.lastBaseUpdate,De=D.shared.pending;if(De!==null){D.shared.pending=null;var ft=De,Dt=ft.next;ft.next=null,pe===null?$=Dt:pe.next=Dt,pe=ft;var mn=p.alternate;mn!==null&&(mn=mn.updateQueue,De=mn.lastBaseUpdate,De!==pe&&(De===null?mn.firstBaseUpdate=Dt:De.next=Dt,mn.lastBaseUpdate=ft))}if($!==null){var dr=D.baseState;pe=0,mn=Dt=ft=null,De=$;do{var jn=De.lane,gi=De.eventTime;if((P&jn)===jn){mn!==null&&(mn=mn.next={eventTime:gi,lane:0,tag:De.tag,payload:De.payload,callback:De.callback,next:null});e:{var Ln=p,$o=De;switch(jn=m,gi=T,$o.tag){case 1:if(Ln=$o.payload,typeof Ln=="function"){dr=Ln.call(gi,dr,jn);break e}dr=Ln;break e;case 3:Ln.flags=Ln.flags&-65537|128;case 0:if(Ln=$o.payload,jn=typeof Ln=="function"?Ln.call(gi,dr,jn):Ln,jn==null)break e;dr=s({},dr,jn);break e;case 2:ge=!0}}De.callback!==null&&De.lane!==0&&(p.flags|=64,jn=D.effects,jn===null?D.effects=[De]:jn.push(De))}else gi={eventTime:gi,lane:jn,tag:De.tag,payload:De.payload,callback:De.callback,next:null},mn===null?(Dt=mn=gi,ft=dr):mn=mn.next=gi,pe|=jn;if(De=De.next,De===null){if(De=D.shared.pending,De===null)break;jn=De,De=jn.next,jn.next=null,D.lastBaseUpdate=jn,D.shared.pending=null}}while(!0);if(mn===null&&(ft=dr),D.baseState=ft,D.firstBaseUpdate=Dt,D.lastBaseUpdate=mn,m=D.shared.interleaved,m!==null){D=m;do pe|=D.lane,D=D.next;while(D!==m)}else $===null&&(D.shared.lanes=0);zm|=pe,p.lanes=pe,p.memoizedState=dr}}function ar(p,m,T){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var P=p[m],D=P.callback;if(D!==null){if(P.callback=null,P=T,typeof D!="function")throw Error(o(191,D));D.call(P)}}}var Xi=new r.Component().refs;function pi(p,m,T,P){m=p.memoizedState,T=T(P,m),T=T==null?m:s({},m,T),p.memoizedState=T,p.lanes===0&&(p.updateQueue.baseState=T)}var fo={isMounted:function(p){return(p=p._reactInternals)?U(p)===p:!1},enqueueSetState:function(p,m,T){p=p._reactInternals;var P=_a(),D=Jh(p),$=ht(P,D);$.payload=m,T!=null&&($.callback=T),$e(p,$),m=Ul(p,D,P),m!==null&&wt(m,p,D)},enqueueReplaceState:function(p,m,T){p=p._reactInternals;var P=_a(),D=Jh(p),$=ht(P,D);$.tag=1,$.payload=m,T!=null&&($.callback=T),$e(p,$),m=Ul(p,D,P),m!==null&&wt(m,p,D)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var T=_a(),P=Jh(p),D=ht(T,P);D.tag=2,m!=null&&(D.callback=m),$e(p,D),m=Ul(p,P,T),m!==null&&wt(m,p,P)}};function zo(p,m,T,P,D,$,pe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(P,$,pe):m.prototype&&m.prototype.isPureReactComponent?!Pr(T,P)||!Pr(D,$):!0}function _r(p,m,T){var P=!1,D=Fe,$=m.contextType;return typeof $=="object"&&$!==null?$=Q($):(D=Sr(m)?Yn:Mt.current,P=m.contextTypes,$=(P=P!=null)?er(p,D):Fe),m=new m(T,$),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fo,p.stateNode=m,m._reactInternals=p,P&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=D,p.__reactInternalMemoizedMaskedChildContext=$),m}function fa(p,m,T,P){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,P),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,P),m.state!==p&&fo.enqueueReplaceState(m,m.state,null)}function lr(p,m,T,P){var D=p.stateNode;D.props=T,D.state=p.memoizedState,D.refs=Xi,ke(p);var $=m.contextType;typeof $=="object"&&$!==null?D.context=Q($):($=Sr(m)?Yn:Mt.current,D.context=er(p,$)),D.state=p.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(pi(p,m,$,T),D.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(m=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),m!==D.state&&fo.enqueueReplaceState(D,D.state,null),yr(p,T,D,P),D.state=p.memoizedState),typeof D.componentDidMount=="function"&&(p.flags|=4194308)}var Jr=[],Ys=0,os=null,Js=0,as=[],Ai=0,_s=null,qi=1,ki="";function rl(p,m){Jr[Ys++]=Js,Jr[Ys++]=os,os=p,Js=m}function pa(p,m,T){as[Ai++]=qi,as[Ai++]=ki,as[Ai++]=_s,_s=p;var P=qi;p=ki;var D=32-si(P)-1;P&=~(1<<D),T+=1;var $=32-si(m)+D;if(30<$){var pe=D-D%5;$=(P&(1<<pe)-1).toString(32),P>>=pe,D-=pe,qi=1<<32-si(m)+D|T<<D|P,ki=$+p}else qi=1<<$|T<<D|P,ki=p}function ma(p){p.return!==null&&(rl(p,1),pa(p,1,0))}function po(p){for(;p===os;)os=Jr[--Ys],Jr[Ys]=null,Js=Jr[--Ys],Jr[Ys]=null;for(;p===_s;)_s=as[--Ai],as[Ai]=null,ki=as[--Ai],as[Ai]=null,qi=as[--Ai],as[Ai]=null}var Ki=null,mo=null,_n=!1,Dl=!1,oi=null;function gc(p,m){var T=zl(5,null,null,0);T.elementType="DELETED",T.stateNode=m,T.return=p,m=p.deletions,m===null?(p.deletions=[T],p.flags|=16):m.push(T)}function $c(p,m){switch(p.tag){case 5:return m=vi(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,Ki=p,mo=xn(m),!0):!1;case 6:return m=is(m,p.pendingProps),m!==null?(p.stateNode=m,Ki=p,mo=null,!0):!1;case 13:if(m=vn(m),m!==null){var T=_s!==null?{id:qi,overflow:ki}:null;return p.memoizedState={dehydrated:m,treeContext:T,retryLane:1073741824},T=zl(18,null,null,0),T.stateNode=m,T.return=p,p.child=T,Ki=p,mo=null,!0}return!1;default:return!1}}function Hh(p){return(p.mode&1)!==0&&(p.flags&128)===0}function vc(p){if(_n){var m=mo;if(m){var T=m;if(!$c(p,m)){if(Hh(p))throw Error(o(418));m=Mn(T);var P=Ki;m&&$c(p,m)?gc(P,T):(p.flags=p.flags&-4097|2,_n=!1,Ki=p)}}else{if(Hh(p))throw Error(o(418));p.flags=p.flags&-4097|2,_n=!1,Ki=p}}}function Nl(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ki=p}function Zs(p){if(!rt||p!==Ki)return!1;if(!_n)return Nl(p),_n=!0,!1;if(p.tag!==3&&(p.tag!==5||Qe(p.type)&&!Xe(p.type,p.memoizedProps))){var m=mo;if(m){if(Hh(p)){for(p=mo;p;)p=Mn(p);throw Error(o(418))}for(;m;)gc(p,m),m=Mn(m)}}if(Nl(p),p.tag===13){if(!rt)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));mo=ie(p)}else mo=Ki?Mn(p.stateNode):null;return!0}function xs(){rt&&(mo=Ki=null,Dl=_n=!1)}function jh(p){oi===null?oi=[p]:oi.push(p)}function ga(p,m,T){if(p=T.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var P=T.stateNode}if(!P)throw Error(o(147,p));var D=P,$=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(pe){var De=D.refs;De===Xi&&(De=D.refs={}),pe===null?delete De[$]:De[$]=pe},m._stringRef=$,m)}if(typeof p!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,p))}return p}function yc(p,m){throw p=Object.prototype.toString.call(m),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function go(p){var m=p._init;return m(p._payload)}function Gh(p){function m(Je,Be){if(p){var ut=Je.deletions;ut===null?(Je.deletions=[Be],Je.flags|=16):ut.push(Be)}}function T(Je,Be){if(!p)return null;for(;Be!==null;)m(Je,Be),Be=Be.sibling;return null}function P(Je,Be){for(Je=new Map;Be!==null;)Be.key!==null?Je.set(Be.key,Be):Je.set(Be.index,Be),Be=Be.sibling;return Je}function D(Je,Be){return Je=Qh(Je,Be),Je.index=0,Je.sibling=null,Je}function $(Je,Be,ut){return Je.index=ut,p?(ut=Je.alternate,ut!==null?(ut=ut.index,ut<Be?(Je.flags|=2,Be):ut):(Je.flags|=2,Be)):(Je.flags|=1048576,Be)}function pe(Je){return p&&Je.alternate===null&&(Je.flags|=2),Je}function De(Je,Be,ut,sn){return Be===null||Be.tag!==6?(Be=CP(ut,Je.mode,sn),Be.return=Je,Be):(Be=D(Be,ut),Be.return=Je,Be)}function ft(Je,Be,ut,sn){var Pn=ut.type;return Pn===u?mn(Je,Be,ut.props.children,sn,ut.key):Be!==null&&(Be.elementType===Pn||typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===C&&go(Pn)===Be.type)?(sn=D(Be,ut.props),sn.ref=ga(Je,Be,ut),sn.return=Je,sn):(sn=iw(ut.type,ut.key,ut.props,null,Je.mode,sn),sn.ref=ga(Je,Be,ut),sn.return=Je,sn)}function Dt(Je,Be,ut,sn){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==ut.containerInfo||Be.stateNode.implementation!==ut.implementation?(Be=MP(ut,Je.mode,sn),Be.return=Je,Be):(Be=D(Be,ut.children||[]),Be.return=Je,Be)}function mn(Je,Be,ut,sn,Pn){return Be===null||Be.tag!==7?(Be=Gf(ut,Je.mode,sn,Pn),Be.return=Je,Be):(Be=D(Be,ut),Be.return=Je,Be)}function dr(Je,Be,ut){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Be=CP(""+Be,Je.mode,ut),Be.return=Je,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case l:return ut=iw(Be.type,Be.key,Be.props,null,Je.mode,ut),ut.ref=ga(Je,null,Be),ut.return=Je,ut;case c:return Be=MP(Be,Je.mode,ut),Be.return=Je,Be;case C:var sn=Be._init;return dr(Je,sn(Be._payload),ut)}if(be(Be)||N(Be))return Be=Gf(Be,Je.mode,ut,null),Be.return=Je,Be;yc(Je,Be)}return null}function jn(Je,Be,ut,sn){var Pn=Be!==null?Be.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number")return Pn!==null?null:De(Je,Be,""+ut,sn);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:return ut.key===Pn?ft(Je,Be,ut,sn):null;case c:return ut.key===Pn?Dt(Je,Be,ut,sn):null;case C:return Pn=ut._init,jn(Je,Be,Pn(ut._payload),sn)}if(be(ut)||N(ut))return Pn!==null?null:mn(Je,Be,ut,sn,null);yc(Je,ut)}return null}function gi(Je,Be,ut,sn,Pn){if(typeof sn=="string"&&sn!==""||typeof sn=="number")return Je=Je.get(ut)||null,De(Be,Je,""+sn,Pn);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case l:return Je=Je.get(sn.key===null?ut:sn.key)||null,ft(Be,Je,sn,Pn);case c:return Je=Je.get(sn.key===null?ut:sn.key)||null,Dt(Be,Je,sn,Pn);case C:var Er=sn._init;return gi(Je,Be,ut,Er(sn._payload),Pn)}if(be(sn)||N(sn))return Je=Je.get(ut)||null,mn(Be,Je,sn,Pn,null);yc(Be,sn)}return null}function Ln(Je,Be,ut,sn){for(var Pn=null,Er=null,fr=Be,Xr=Be=0,eo=null;fr!==null&&Xr<ut.length;Xr++){fr.index>Xr?(eo=fr,fr=null):eo=fr.sibling;var qr=jn(Je,fr,ut[Xr],sn);if(qr===null){fr===null&&(fr=eo);break}p&&fr&&qr.alternate===null&&m(Je,fr),Be=$(qr,Be,Xr),Er===null?Pn=qr:Er.sibling=qr,Er=qr,fr=eo}if(Xr===ut.length)return T(Je,fr),_n&&rl(Je,Xr),Pn;if(fr===null){for(;Xr<ut.length;Xr++)fr=dr(Je,ut[Xr],sn),fr!==null&&(Be=$(fr,Be,Xr),Er===null?Pn=fr:Er.sibling=fr,Er=fr);return _n&&rl(Je,Xr),Pn}for(fr=P(Je,fr);Xr<ut.length;Xr++)eo=gi(fr,Je,Xr,ut[Xr],sn),eo!==null&&(p&&eo.alternate!==null&&fr.delete(eo.key===null?Xr:eo.key),Be=$(eo,Be,Xr),Er===null?Pn=eo:Er.sibling=eo,Er=eo);return p&&fr.forEach(function(ed){return m(Je,ed)}),_n&&rl(Je,Xr),Pn}function $o(Je,Be,ut,sn){var Pn=N(ut);if(typeof Pn!="function")throw Error(o(150));if(ut=Pn.call(ut),ut==null)throw Error(o(151));for(var Er=Pn=null,fr=Be,Xr=Be=0,eo=null,qr=ut.next();fr!==null&&!qr.done;Xr++,qr=ut.next()){fr.index>Xr?(eo=fr,fr=null):eo=fr.sibling;var ed=jn(Je,fr,qr.value,sn);if(ed===null){fr===null&&(fr=eo);break}p&&fr&&ed.alternate===null&&m(Je,fr),Be=$(ed,Be,Xr),Er===null?Pn=ed:Er.sibling=ed,Er=ed,fr=eo}if(qr.done)return T(Je,fr),_n&&rl(Je,Xr),Pn;if(fr===null){for(;!qr.done;Xr++,qr=ut.next())qr=dr(Je,qr.value,sn),qr!==null&&(Be=$(qr,Be,Xr),Er===null?Pn=qr:Er.sibling=qr,Er=qr);return _n&&rl(Je,Xr),Pn}for(fr=P(Je,fr);!qr.done;Xr++,qr=ut.next())qr=gi(fr,Je,Xr,qr.value,sn),qr!==null&&(p&&qr.alternate!==null&&fr.delete(qr.key===null?Xr:qr.key),Be=$(qr,Be,Xr),Er===null?Pn=qr:Er.sibling=qr,Er=qr);return p&&fr.forEach(function(gre){return m(Je,gre)}),_n&&rl(Je,Xr),Pn}function Vl(Je,Be,ut,sn){if(typeof ut=="object"&&ut!==null&&ut.type===u&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:e:{for(var Pn=ut.key,Er=Be;Er!==null;){if(Er.key===Pn){if(Pn=ut.type,Pn===u){if(Er.tag===7){T(Je,Er.sibling),Be=D(Er,ut.props.children),Be.return=Je,Je=Be;break e}}else if(Er.elementType===Pn||typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===C&&go(Pn)===Er.type){T(Je,Er.sibling),Be=D(Er,ut.props),Be.ref=ga(Je,Er,ut),Be.return=Je,Je=Be;break e}T(Je,Er);break}else m(Je,Er);Er=Er.sibling}ut.type===u?(Be=Gf(ut.props.children,Je.mode,sn,ut.key),Be.return=Je,Je=Be):(sn=iw(ut.type,ut.key,ut.props,null,Je.mode,sn),sn.ref=ga(Je,Be,ut),sn.return=Je,Je=sn)}return pe(Je);case c:e:{for(Er=ut.key;Be!==null;){if(Be.key===Er)if(Be.tag===4&&Be.stateNode.containerInfo===ut.containerInfo&&Be.stateNode.implementation===ut.implementation){T(Je,Be.sibling),Be=D(Be,ut.children||[]),Be.return=Je,Je=Be;break e}else{T(Je,Be);break}else m(Je,Be);Be=Be.sibling}Be=MP(ut,Je.mode,sn),Be.return=Je,Je=Be}return pe(Je);case C:return Er=ut._init,Vl(Je,Be,Er(ut._payload),sn)}if(be(ut))return Ln(Je,Be,ut,sn);if(N(ut))return $o(Je,Be,ut,sn);yc(Je,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"?(ut=""+ut,Be!==null&&Be.tag===6?(T(Je,Be.sibling),Be=D(Be,ut),Be.return=Je,Je=Be):(T(Je,Be),Be=CP(ut,Je.mode,sn),Be.return=Je,Je=Be),pe(Je)):T(Je,Be)}return Vl}var va=Gh(!0),Nu=Gh(!1),Ls={},ls=Nt(Ls),Wc=Nt(Ls),Ba=Nt(Ls);function Qs(p){if(p===Ls)throw Error(o(174));return p}function ue(p,m){Ht(Ba,m),Ht(Wc,p),Ht(ls,Ls),p=Ue(m),pn(ls),Ht(ls,p)}function Pe(){pn(ls),pn(Wc),pn(Ba)}function je(p){var m=Qs(Ba.current),T=Qs(ls.current);m=J(T,p.type,m),T!==m&&(Ht(Wc,p),Ht(ls,m))}function Ye(p){Wc.current===p&&(pn(ls),pn(Wc))}var et=Nt(0);function It(p){for(var m=p;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||In(T)||Dn(T)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Kt=[];function cn(){for(var p=0;p<Kt.length;p++){var m=Kt[p];Me?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Kt.length=0}var Wt=a.ReactCurrentDispatcher,zn=a.ReactCurrentBatchConfig,Rn=0,an=null,On=null,$t=null,kr=!1,Yi=!1,mi=0,Vo=0;function ai(){throw Error(o(321))}function Bl(p,m){if(m===null)return!1;for(var T=0;T<m.length&&T<p.length;T++)if(!Rs(p[T],m[T]))return!1;return!0}function Ei(p,m,T,P,D,$){if(Rn=$,an=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Wt.current=p===null||p.memoizedState===null?Wn:Ar,p=T(P,D),Yi){$=0;do{if(Yi=!1,mi=0,25<=$)throw Error(o(301));$+=1,$t=On=null,m.updateQueue=null,Wt.current=vo,p=T(P,D)}while(Yi)}if(Wt.current=Qt,m=On!==null&&On.next!==null,Rn=0,$t=On=an=null,kr=!1,m)throw Error(o(300));return p}function Dy(){var p=mi!==0;return mi=0,p}function Ho(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?an.memoizedState=$t=p:$t=$t.next=p,$t}function il(){if(On===null){var p=an.alternate;p=p!==null?p.memoizedState:null}else p=On.next;var m=$t===null?an.memoizedState:$t.next;if(m!==null)$t=m,On=p;else{if(p===null)throw Error(o(310));On=p,p={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},$t===null?an.memoizedState=$t=p:$t=$t.next=p}return $t}function Xc(p,m){return typeof m=="function"?m(p):m}function Om(p){var m=il(),T=m.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=p;var P=On,D=P.baseQueue,$=T.pending;if($!==null){if(D!==null){var pe=D.next;D.next=$.next,$.next=pe}P.baseQueue=D=$,T.pending=null}if(D!==null){$=D.next,P=P.baseState;var De=pe=null,ft=null,Dt=$;do{var mn=Dt.lane;if((Rn&mn)===mn)ft!==null&&(ft=ft.next={lane:0,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),P=Dt.hasEagerState?Dt.eagerState:p(P,Dt.action);else{var dr={lane:mn,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null};ft===null?(De=ft=dr,pe=P):ft=ft.next=dr,an.lanes|=mn,zm|=mn}Dt=Dt.next}while(Dt!==null&&Dt!==$);ft===null?pe=P:ft.next=De,Rs(P,m.memoizedState)||(sl=!0),m.memoizedState=P,m.baseState=pe,m.baseQueue=ft,T.lastRenderedState=P}if(p=T.interleaved,p!==null){D=p;do $=D.lane,an.lanes|=$,zm|=$,D=D.next;while(D!==p)}else D===null&&(T.lanes=0);return[m.memoizedState,T.dispatch]}function Fa(p){var m=il(),T=m.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=p;var P=T.dispatch,D=T.pending,$=m.memoizedState;if(D!==null){T.pending=null;var pe=D=D.next;do $=p($,pe.action),pe=pe.next;while(pe!==D);Rs($,m.memoizedState)||(sl=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),T.lastRenderedState=$}return[$,P]}function Ny(){}function By(p,m){var T=an,P=il(),D=m(),$=!Rs(P.memoizedState,D);if($&&(P.memoizedState=D,sl=!0),P=P.queue,qh(Nf.bind(null,T,P,p),[p]),P.getSnapshot!==m||$||$t!==null&&$t.memoizedState.tag&1){if(T.flags|=2048,Xh(9,R1.bind(null,T,P,D,m),void 0,null),bs===null)throw Error(o(349));Rn&30||$h(T,m,D)}return D}function $h(p,m,T){p.flags|=16384,p={getSnapshot:m,value:T},m=an.updateQueue,m===null?(m={lastEffect:null,stores:null},an.updateQueue=m,m.stores=[p]):(T=m.stores,T===null?m.stores=[p]:T.push(p))}function R1(p,m,T,P){m.value=T,m.getSnapshot=P,Wh(m)&&Ul(p,1,-1)}function Nf(p,m,T){return T(function(){Wh(m)&&Ul(p,1,-1)})}function Wh(p){var m=p.getSnapshot;p=p.value;try{var T=m();return!Rs(p,T)}catch{return!0}}function Dm(p){var m=Ho();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:p},m.queue=p,p=p.dispatch=te.bind(null,an,p),[m.memoizedState,p]}function Xh(p,m,T,P){return p={tag:p,create:m,destroy:T,deps:P,next:null},m=an.updateQueue,m===null?(m={lastEffect:null,stores:null},an.updateQueue=m,m.lastEffect=p.next=p):(T=m.lastEffect,T===null?m.lastEffect=p.next=p:(P=T.next,T.next=p,p.next=P,m.lastEffect=p)),p}function L1(){return il().memoizedState}function Bf(p,m,T,P){var D=Ho();an.flags|=p,D.memoizedState=Xh(1|m,T,void 0,P===void 0?null:P)}function Ff(p,m,T,P){var D=il();P=P===void 0?null:P;var $=void 0;if(On!==null){var pe=On.memoizedState;if($=pe.destroy,P!==null&&Bl(P,pe.deps)){D.memoizedState=Xh(m,T,$,P);return}}an.flags|=p,D.memoizedState=Xh(1|m,T,$,P)}function Nm(p,m){return Bf(8390656,8,p,m)}function qh(p,m){return Ff(2048,8,p,m)}function Fy(p,m){return Ff(4,2,p,m)}function k1(p,m){return Ff(4,4,p,m)}function Uy(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function zy(p,m,T){return T=T!=null?T.concat([p]):null,Ff(4,4,Uy.bind(null,m,p),T)}function Vy(){}function h(p,m){var T=il();m=m===void 0?null:m;var P=T.memoizedState;return P!==null&&m!==null&&Bl(m,P[1])?P[0]:(T.memoizedState=[p,m],p)}function g(p,m){var T=il();m=m===void 0?null:m;var P=T.memoizedState;return P!==null&&m!==null&&Bl(m,P[1])?P[0]:(p=p(),T.memoizedState=[p,m],p)}function E(p,m){var T=vr;vr=T!==0&&4>T?T:4,p(!0);var P=zn.transition;zn.transition={};try{p(!1),m()}finally{vr=T,zn.transition=P}}function R(){return il().memoizedState}function H(p,m,T){var P=Jh(p);T={lane:P,action:T,hasEagerState:!1,eagerState:null,next:null},we(p)?Ge(m,T):(nt(p,m,T),T=_a(),p=Ul(p,P,T),p!==null&&xt(p,m,P))}function te(p,m,T){var P=Jh(p),D={lane:P,action:T,hasEagerState:!1,eagerState:null,next:null};if(we(p))Ge(m,D);else{nt(p,m,D);var $=p.alternate;if(p.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var pe=m.lastRenderedState,De=$(pe,T);if(D.hasEagerState=!0,D.eagerState=De,Rs(De,pe))return}catch{}finally{}T=_a(),p=Ul(p,P,T),p!==null&&xt(p,m,P)}}function we(p){var m=p.alternate;return p===an||m!==null&&m===an}function Ge(p,m){Yi=kr=!0;var T=p.pending;T===null?m.next=m:(m.next=T.next,T.next=m),p.pending=m}function nt(p,m,T){bs!==null&&p.mode&1&&!(Tr&2)?(p=m.interleaved,p===null?(T.next=T,_e===null?_e=[m]:_e.push(m)):(T.next=p.next,p.next=T),m.interleaved=T):(p=m.pending,p===null?T.next=T:(T.next=p.next,p.next=T),m.pending=T)}function xt(p,m,T){if(T&4194240){var P=m.lanes;P&=p.pendingLanes,T|=P,m.lanes=T,Uo(p,T)}}var Qt={readContext:Q,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},Wn={readContext:Q,useCallback:function(p,m){return Ho().memoizedState=[p,m===void 0?null:m],p},useContext:Q,useEffect:Nm,useImperativeHandle:function(p,m,T){return T=T!=null?T.concat([p]):null,Bf(4194308,4,Uy.bind(null,m,p),T)},useLayoutEffect:function(p,m){return Bf(4194308,4,p,m)},useInsertionEffect:function(p,m){return Bf(4,2,p,m)},useMemo:function(p,m){var T=Ho();return m=m===void 0?null:m,p=p(),T.memoizedState=[p,m],p},useReducer:function(p,m,T){var P=Ho();return m=T!==void 0?T(m):m,P.memoizedState=P.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},P.queue=p,p=p.dispatch=H.bind(null,an,p),[P.memoizedState,p]},useRef:function(p){var m=Ho();return p={current:p},m.memoizedState=p},useState:Dm,useDebugValue:Vy,useDeferredValue:function(p){var m=Dm(p),T=m[0],P=m[1];return Nm(function(){var D=zn.transition;zn.transition={};try{P(p)}finally{zn.transition=D}},[p]),T},useTransition:function(){var p=Dm(!1),m=p[0];return p=E.bind(null,p[1]),Ho().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,T){var P=an,D=Ho();if(_n){if(T===void 0)throw Error(o(407));T=T()}else{if(T=m(),bs===null)throw Error(o(349));Rn&30||$h(P,m,T)}D.memoizedState=T;var $={value:T,getSnapshot:m};return D.queue=$,Nm(Nf.bind(null,P,$,p),[p]),P.flags|=2048,Xh(9,R1.bind(null,P,$,T,m),void 0,null),T},useId:function(){var p=Ho(),m=bs.identifierPrefix;if(_n){var T=ki,P=qi;T=(P&~(1<<32-si(P)-1)).toString(32)+T,m=":"+m+"R"+T,T=mi++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=Vo++,m=":"+m+"r"+T.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},Ar={readContext:Q,useCallback:h,useContext:Q,useEffect:qh,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:k1,useMemo:g,useReducer:Om,useRef:L1,useState:function(){return Om(Xc)},useDebugValue:Vy,useDeferredValue:function(p){var m=Om(Xc),T=m[0],P=m[1];return qh(function(){var D=zn.transition;zn.transition={};try{P(p)}finally{zn.transition=D}},[p]),T},useTransition:function(){var p=Om(Xc)[0],m=il().memoizedState;return[p,m]},useMutableSource:Ny,useSyncExternalStore:By,useId:R,unstable_isNewReconciler:!1},vo={readContext:Q,useCallback:h,useContext:Q,useEffect:qh,useImperativeHandle:zy,useInsertionEffect:Fy,useLayoutEffect:k1,useMemo:g,useReducer:Fa,useRef:L1,useState:function(){return Fa(Xc)},useDebugValue:Vy,useDeferredValue:function(p){var m=Fa(Xc),T=m[0],P=m[1];return qh(function(){var D=zn.transition;zn.transition={};try{P(p)}finally{zn.transition=D}},[p]),T},useTransition:function(){var p=Fa(Xc)[0],m=il().memoizedState;return[p,m]},useMutableSource:Ny,useSyncExternalStore:By,useId:R,unstable_isNewReconciler:!1};function Ji(p,m){try{var T="",P=m;do T+=Vn(P),P=P.return;while(P);var D=T}catch($){D=`
Error generating stack: `+$.message+`
`+$.stack}return{value:p,source:m,stack:D}}function jo(p,m){try{console.error(m.value)}catch(T){setTimeout(function(){throw T})}}var Go=typeof WeakMap=="function"?WeakMap:Map;function Bu(p,m,T){T=ht(-1,T),T.tag=3,T.payload={element:null};var P=m.value;return T.callback=function(){J1||(J1=!0,xP=P),jo(p,m)},T}function O1(p,m,T){T=ht(-1,T),T.tag=3;var P=p.type.getDerivedStateFromError;if(typeof P=="function"){var D=m.value;T.payload=function(){return P(D)},T.callback=function(){jo(p,m)}}var $=p.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(T.callback=function(){jo(p,m),typeof P!="function"&&(Kh===null?Kh=new Set([this]):Kh.add(this));var pe=m.stack;this.componentDidCatch(m.value,{componentStack:pe!==null?pe:""})}),T}function D1(p,m,T){var P=p.pingCache;if(P===null){P=p.pingCache=new Go;var D=new Set;P.set(m,D)}else D=P.get(m),D===void 0&&(D=new Set,P.set(m,D));D.has(T)||(D.add(T),p=lre.bind(null,p,m,T),m.then(p,p))}function N1(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function Hy(p,m,T,P,D){return p.mode&1?(p.flags|=65536,p.lanes=D,p):(p===m?p.flags|=65536:(p.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(m=ht(-1,1),m.tag=2,$e(T,m))),T.lanes|=1),p)}function Fl(p){p.flags|=4}function jy(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var _i,qc,Bm,Fm;if(rn)_i=function(p,m){for(var T=m.child;T!==null;){if(T.tag===5||T.tag===6)ze(p,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},qc=function(){},Bm=function(p,m,T,P,D){if(p=p.memoizedProps,p!==P){var $=m.stateNode,pe=Qs(ls.current);T=Ie($,T,p,P,D,pe),(m.updateQueue=T)&&Fl(m)}},Fm=function(p,m,T,P){T!==P&&Fl(m)};else if(We){_i=function(p,m,T,P){for(var D=m.child;D!==null;){if(D.tag===5){var $=D.stateNode;T&&P&&($=Gr($,D.type,D.memoizedProps,D)),ze(p,$)}else if(D.tag===6)$=D.stateNode,T&&P&&($=Kn($,D.memoizedProps,D)),ze(p,$);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)$=D.child,$!==null&&($.return=D),_i(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var B1=function(p,m,T,P){for(var D=m.child;D!==null;){if(D.tag===5){var $=D.stateNode;T&&P&&($=Gr($,D.type,D.memoizedProps,D)),En(p,$)}else if(D.tag===6)$=D.stateNode,T&&P&&($=Kn($,D.memoizedProps,D)),En(p,$);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)$=D.child,$!==null&&($.return=D),B1(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};qc=function(p,m){var T=m.stateNode;if(!jy(p,m)){p=T.containerInfo;var P=gn(p);B1(P,m,!1,!1),T.pendingChildren=P,Fl(m),kn(p,P)}},Bm=function(p,m,T,P,D){var $=p.stateNode,pe=p.memoizedProps;if((p=jy(p,m))&&pe===P)m.stateNode=$;else{var De=m.stateNode,ft=Qs(ls.current),Dt=null;pe!==P&&(Dt=Ie(De,T,pe,P,D,ft)),p&&Dt===null?m.stateNode=$:($=Bn($,Dt,T,pe,P,m,p,De),tt($,T,P,D,ft)&&Fl(m),m.stateNode=$,p?Fl(m):_i($,m,!1,!1))}},Fm=function(p,m,T,P){T!==P?(p=Qs(Ba.current),T=Qs(ls.current),m.stateNode=Re(P,p,T,m),Fl(m)):m.stateNode=p.stateNode}}else qc=function(){},Bm=function(){},Fm=function(){};function Fu(p,m){if(!_n)switch(p.tailMode){case"hidden":m=p.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?p.tail=null:T.sibling=null;break;case"collapsed":T=p.tail;for(var P=null;T!==null;)T.alternate!==null&&(P=T),T=T.sibling;P===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:P.sibling=null}}function ks(p){var m=p.alternate!==null&&p.alternate.child===p.child,T=0,P=0;if(m)for(var D=p.child;D!==null;)T|=D.lanes|D.childLanes,P|=D.subtreeFlags&14680064,P|=D.flags&14680064,D.return=p,D=D.sibling;else for(D=p.child;D!==null;)T|=D.lanes|D.childLanes,P|=D.subtreeFlags,P|=D.flags,D.return=p,D=D.sibling;return p.subtreeFlags|=P,p.childLanes=T,m}function nP(p,m,T){var P=m.pendingProps;switch(po(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(m),null;case 1:return Sr(m.type)&&hn(),ks(m),null;case 3:return P=m.stateNode,Pe(),pn(kt),pn(Mt),cn(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(p===null||p.child===null)&&(Zs(m)?Fl(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,oi!==null&&(SP(oi),oi=null))),qc(p,m),ks(m),null;case 5:Ye(m),T=Qs(Ba.current);var D=m.type;if(p!==null&&m.stateNode!=null)Bm(p,m,D,P,T),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!P){if(m.stateNode===null)throw Error(o(166));return ks(m),null}if(p=Qs(ls.current),Zs(m)){if(!rt)throw Error(o(175));p=Y(m.stateNode,m.type,m.memoizedProps,T,p,m,!Dl),m.updateQueue=p,p!==null&&Fl(m)}else{var $=Ce(D,P,T,p,m);_i($,m,!1,!1),m.stateNode=$,tt($,D,P,T,p)&&Fl(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ks(m),null;case 6:if(p&&m.stateNode!=null)Fm(p,m,p.memoizedProps,P);else{if(typeof P!="string"&&m.stateNode===null)throw Error(o(166));if(p=Qs(Ba.current),T=Qs(ls.current),Zs(m)){if(!rt)throw Error(o(176));if(p=m.stateNode,P=m.memoizedProps,(T=O(p,P,m,!Dl))&&(D=Ki,D!==null))switch($=(D.mode&1)!==0,D.tag){case 3:it(D.stateNode.containerInfo,p,P,$);break;case 5:at(D.type,D.memoizedProps,D.stateNode,p,P,$)}T&&Fl(m)}else m.stateNode=Re(P,p,T,m)}return ks(m),null;case 13:if(pn(et),P=m.memoizedState,_n&&mo!==null&&m.mode&1&&!(m.flags&128)){for(p=mo;p;)p=Mn(p);return xs(),m.flags|=98560,m}if(P!==null&&P.dehydrated!==null){if(P=Zs(m),p===null){if(!P)throw Error(o(318));if(!rt)throw Error(o(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Z(p,m)}else xs(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return ks(m),null}return oi!==null&&(SP(oi),oi=null),m.flags&128?(m.lanes=T,m):(P=P!==null,T=!1,p===null?Zs(m):T=p.memoizedState!==null,P&&!T&&(m.child.flags|=8192,m.mode&1&&(p===null||et.current&1?Os===0&&(Os=3):EP())),m.updateQueue!==null&&(m.flags|=4),ks(m),null);case 4:return Pe(),qc(p,m),p===null&&bt(m.stateNode.containerInfo),ks(m),null;case 10:return B(m.type._context),ks(m),null;case 17:return Sr(m.type)&&hn(),ks(m),null;case 19:if(pn(et),D=m.memoizedState,D===null)return ks(m),null;if(P=(m.flags&128)!==0,$=D.rendering,$===null)if(P)Fu(D,!1);else{if(Os!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if($=It(p),$!==null){for(m.flags|=128,Fu(D,!1),p=$.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=T,P=m.child;P!==null;)T=P,D=p,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=D,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,D=$.dependencies,T.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),P=P.sibling;return Ht(et,et.current&1|2),m.child}p=p.sibling}D.tail!==null&&yi()>_P&&(m.flags|=128,P=!0,Fu(D,!1),m.lanes=4194304)}else{if(!P)if(p=It($),p!==null){if(m.flags|=128,P=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),Fu(D,!0),D.tail===null&&D.tailMode==="hidden"&&!$.alternate&&!_n)return ks(m),null}else 2*yi()-D.renderingStartTime>_P&&T!==1073741824&&(m.flags|=128,P=!0,Fu(D,!1),m.lanes=4194304);D.isBackwards?($.sibling=m.child,m.child=$):(p=D.last,p!==null?p.sibling=$:m.child=$,D.last=$)}return D.tail!==null?(m=D.tail,D.rendering=m,D.tail=m.sibling,D.renderingStartTime=yi(),m.sibling=null,p=et.current,Ht(et,P?p&1|2:p&1),m):(ks(m),null);case 22:case 23:return AP(),P=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==P&&(m.flags|=8192),P&&m.mode&1?ol&1073741824&&(ks(m),rn&&m.subtreeFlags&6&&(m.flags|=8192)):ks(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var Yne=a.ReactCurrentOwner,sl=!1;function ya(p,m,T,P){m.child=p===null?Nu(m,null,T,P):va(m,p.child,T,P)}function VU(p,m,T,P,D){T=T.render;var $=m.ref;return K(m,D),P=Ei(p,m,T,P,$,D),T=Dy(),p!==null&&!sl?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~D,Uu(p,m,D)):(_n&&T&&ma(m),m.flags|=1,ya(p,m,P,D),m.child)}function HU(p,m,T,P,D){if(p===null){var $=T.type;return typeof $=="function"&&!TP($)&&$.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(m.tag=15,m.type=$,jU(p,m,$,P,D)):(p=iw(T.type,null,P,m,m.mode,D),p.ref=m.ref,p.return=m,m.child=p)}if($=p.child,!(p.lanes&D)){var pe=$.memoizedProps;if(T=T.compare,T=T!==null?T:Pr,T(pe,P)&&p.ref===m.ref)return Uu(p,m,D)}return m.flags|=1,p=Qh($,P),p.ref=m.ref,p.return=m,m.child=p}function jU(p,m,T,P,D){if(p!==null&&Pr(p.memoizedProps,P)&&p.ref===m.ref)if(sl=!1,(p.lanes&D)!==0)p.flags&131072&&(sl=!0);else return m.lanes=p.lanes,Uu(p,m,D);return rP(p,m,T,P,D)}function GU(p,m,T){var P=m.pendingProps,D=P.children,$=p!==null?p.memoizedState:null;if(P.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Ht(Um,ol),ol|=T;else if(T&1073741824)m.memoizedState={baseLanes:0,cachePool:null},P=$!==null?$.baseLanes:T,Ht(Um,ol),ol|=P;else return p=$!==null?$.baseLanes|T:T,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,Ht(Um,ol),ol|=p,null;else $!==null?(P=$.baseLanes|T,m.memoizedState=null):P=T,Ht(Um,ol),ol|=P;return ya(p,m,D,T),m.child}function $U(p,m){var T=m.ref;(p===null&&T!==null||p!==null&&p.ref!==T)&&(m.flags|=512,m.flags|=2097152)}function rP(p,m,T,P,D){var $=Sr(T)?Yn:Mt.current;return $=er(m,$),K(m,D),T=Ei(p,m,T,P,$,D),P=Dy(),p!==null&&!sl?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~D,Uu(p,m,D)):(_n&&P&&ma(m),m.flags|=1,ya(p,m,T,D),m.child)}function WU(p,m,T,P,D){if(Sr(T)){var $=!0;sr(m)}else $=!1;if(K(m,D),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),_r(m,T,P),lr(m,T,P,D),P=!0;else if(p===null){var pe=m.stateNode,De=m.memoizedProps;pe.props=De;var ft=pe.context,Dt=T.contextType;typeof Dt=="object"&&Dt!==null?Dt=Q(Dt):(Dt=Sr(T)?Yn:Mt.current,Dt=er(m,Dt));var mn=T.getDerivedStateFromProps,dr=typeof mn=="function"||typeof pe.getSnapshotBeforeUpdate=="function";dr||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(De!==P||ft!==Dt)&&fa(m,pe,P,Dt),ge=!1;var jn=m.memoizedState;pe.state=jn,yr(m,P,pe,D),ft=m.memoizedState,De!==P||jn!==ft||kt.current||ge?(typeof mn=="function"&&(pi(m,T,mn,P),ft=m.memoizedState),(De=ge||zo(m,T,De,P,jn,ft,Dt))?(dr||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(m.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=P,m.memoizedState=ft),pe.props=P,pe.state=ft,pe.context=Dt,P=De):(typeof pe.componentDidMount=="function"&&(m.flags|=4194308),P=!1)}else{pe=m.stateNode,ot(p,m),De=m.memoizedProps,Dt=m.type===m.elementType?De:or(m.type,De),pe.props=Dt,dr=m.pendingProps,jn=pe.context,ft=T.contextType,typeof ft=="object"&&ft!==null?ft=Q(ft):(ft=Sr(T)?Yn:Mt.current,ft=er(m,ft));var gi=T.getDerivedStateFromProps;(mn=typeof gi=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(De!==dr||jn!==ft)&&fa(m,pe,P,ft),ge=!1,jn=m.memoizedState,pe.state=jn,yr(m,P,pe,D);var Ln=m.memoizedState;De!==dr||jn!==Ln||kt.current||ge?(typeof gi=="function"&&(pi(m,T,gi,P),Ln=m.memoizedState),(Dt=ge||zo(m,T,Dt,P,jn,Ln,ft)||!1)?(mn||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(P,Ln,ft),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(P,Ln,ft)),typeof pe.componentDidUpdate=="function"&&(m.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof pe.componentDidUpdate!="function"||De===p.memoizedProps&&jn===p.memoizedState||(m.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||De===p.memoizedProps&&jn===p.memoizedState||(m.flags|=1024),m.memoizedProps=P,m.memoizedState=Ln),pe.props=P,pe.state=Ln,pe.context=ft,P=Dt):(typeof pe.componentDidUpdate!="function"||De===p.memoizedProps&&jn===p.memoizedState||(m.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||De===p.memoizedProps&&jn===p.memoizedState||(m.flags|=1024),P=!1)}return iP(p,m,T,P,$,D)}function iP(p,m,T,P,D,$){$U(p,m);var pe=(m.flags&128)!==0;if(!P&&!pe)return D&&Nn(m,T,!1),Uu(p,m,$);P=m.stateNode,Yne.current=m;var De=pe&&typeof T.getDerivedStateFromError!="function"?null:P.render();return m.flags|=1,p!==null&&pe?(m.child=va(m,p.child,null,$),m.child=va(m,null,De,$)):ya(p,m,De,$),m.memoizedState=P.state,D&&Nn(m,T,!0),m.child}function XU(p){var m=p.stateNode;m.pendingContext?on(p,m.pendingContext,m.pendingContext!==m.context):m.context&&on(p,m.context,!1),ue(p,m.containerInfo)}function qU(p,m,T,P,D){return xs(),jh(D),m.flags|=256,ya(p,m,T,P),m.child}var F1={dehydrated:null,treeContext:null,retryLane:0};function U1(p){return{baseLanes:p,cachePool:null}}function KU(p,m,T){var P=m.pendingProps,D=et.current,$=!1,pe=(m.flags&128)!==0,De;if((De=pe)||(De=p!==null&&p.memoizedState===null?!1:(D&2)!==0),De?($=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(D|=1),Ht(et,D&1),p===null)return vc(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?Dn(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(D=P.children,p=P.fallback,$?(P=m.mode,$=m.child,D={mode:"hidden",children:D},!(P&1)&&$!==null?($.childLanes=0,$.pendingProps=D):$=sw(D,P,0,null),p=Gf(p,P,T,null),$.return=m,p.return=m,$.sibling=p,m.child=$,m.child.memoizedState=U1(T),m.memoizedState=F1,p):sP(m,D));if(D=p.memoizedState,D!==null){if(De=D.dehydrated,De!==null){if(pe)return m.flags&256?(m.flags&=-257,z1(p,m,T,Error(o(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):($=P.fallback,D=m.mode,P=sw({mode:"visible",children:P.children},D,0,null),$=Gf($,D,T,null),$.flags|=2,P.return=m,$.return=m,P.sibling=$,m.child=P,m.mode&1&&va(m,p.child,null,T),m.child.memoizedState=U1(T),m.memoizedState=F1,$);if(!(m.mode&1))m=z1(p,m,T,null);else if(Dn(De))m=z1(p,m,T,Error(o(419)));else if(P=(T&p.childLanes)!==0,sl||P){if(P=bs,P!==null){switch(T&-T){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}P=$&(P.suspendedLanes|T)?0:$,P!==0&&P!==D.retryLane&&(D.retryLane=P,Ul(p,P,-1))}EP(),m=z1(p,m,T,Error(o(421)))}else In(De)?(m.flags|=128,m.child=p.child,m=cre.bind(null,p),Et(De,m),m=null):(T=D.treeContext,rt&&(mo=Ur(De),Ki=m,_n=!0,oi=null,Dl=!1,T!==null&&(as[Ai++]=qi,as[Ai++]=ki,as[Ai++]=_s,qi=T.id,ki=T.overflow,_s=m)),m=sP(m,m.pendingProps.children),m.flags|=4096);return m}return $?(P=JU(p,m,P.children,P.fallback,T),$=m.child,D=p.child.memoizedState,$.memoizedState=D===null?U1(T):{baseLanes:D.baseLanes|T,cachePool:null},$.childLanes=p.childLanes&~T,m.memoizedState=F1,P):(T=YU(p,m,P.children,T),m.memoizedState=null,T)}return $?(P=JU(p,m,P.children,P.fallback,T),$=m.child,D=p.child.memoizedState,$.memoizedState=D===null?U1(T):{baseLanes:D.baseLanes|T,cachePool:null},$.childLanes=p.childLanes&~T,m.memoizedState=F1,P):(T=YU(p,m,P.children,T),m.memoizedState=null,T)}function sP(p,m){return m=sw({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function YU(p,m,T,P){var D=p.child;return p=D.sibling,T=Qh(D,{mode:"visible",children:T}),!(m.mode&1)&&(T.lanes=P),T.return=m,T.sibling=null,p!==null&&(P=m.deletions,P===null?(m.deletions=[p],m.flags|=16):P.push(p)),m.child=T}function JU(p,m,T,P,D){var $=m.mode;p=p.child;var pe=p.sibling,De={mode:"hidden",children:T};return!($&1)&&m.child!==p?(T=m.child,T.childLanes=0,T.pendingProps=De,m.deletions=null):(T=Qh(p,De),T.subtreeFlags=p.subtreeFlags&14680064),pe!==null?P=Qh(pe,P):(P=Gf(P,$,D,null),P.flags|=2),P.return=m,T.return=m,T.sibling=P,m.child=T,P}function z1(p,m,T,P){return P!==null&&jh(P),va(m,p.child,null,T),p=sP(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function ZU(p,m,T){p.lanes|=m;var P=p.alternate;P!==null&&(P.lanes|=m),q(p.return,m,T)}function oP(p,m,T,P,D){var $=p.memoizedState;$===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:P,tail:T,tailMode:D}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=P,$.tail=T,$.tailMode=D)}function QU(p,m,T){var P=m.pendingProps,D=P.revealOrder,$=P.tail;if(ya(p,m,P.children,T),P=et.current,P&2)P=P&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&ZU(p,T,m);else if(p.tag===19)ZU(p,T,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}P&=1}if(Ht(et,P),!(m.mode&1))m.memoizedState=null;else switch(D){case"forwards":for(T=m.child,D=null;T!==null;)p=T.alternate,p!==null&&It(p)===null&&(D=T),T=T.sibling;T=D,T===null?(D=m.child,m.child=null):(D=T.sibling,T.sibling=null),oP(m,!1,D,T,$);break;case"backwards":for(T=null,D=m.child,m.child=null;D!==null;){if(p=D.alternate,p!==null&&It(p)===null){m.child=D;break}p=D.sibling,D.sibling=T,T=D,D=p}oP(m,!0,T,null,$);break;case"together":oP(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Uu(p,m,T){if(p!==null&&(m.dependencies=p.dependencies),zm|=m.lanes,!(T&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(o(153));if(m.child!==null){for(p=m.child,T=Qh(p,p.pendingProps),m.child=T,T.return=m;p.sibling!==null;)p=p.sibling,T=T.sibling=Qh(p,p.pendingProps),T.return=m;T.sibling=null}return m.child}function Jne(p,m,T){switch(m.tag){case 3:XU(m),xs();break;case 5:je(m);break;case 1:Sr(m.type)&&sr(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:k(m,m.type._context,m.memoizedProps.value);break;case 13:var P=m.memoizedState;if(P!==null)return P.dehydrated!==null?(Ht(et,et.current&1),m.flags|=128,null):T&m.child.childLanes?KU(p,m,T):(Ht(et,et.current&1),p=Uu(p,m,T),p!==null?p.sibling:null);Ht(et,et.current&1);break;case 19:if(P=(T&m.childLanes)!==0,p.flags&128){if(P)return QU(p,m,T);m.flags|=128}var D=m.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Ht(et,et.current),P)break;return null;case 22:case 23:return m.lanes=0,GU(p,m,T)}return Uu(p,m,T)}function Zne(p,m){switch(po(m),m.tag){case 1:return Sr(m.type)&&hn(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return Pe(),pn(kt),pn(Mt),cn(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return Ye(m),null;case 13:if(pn(et),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(o(340));xs()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return pn(et),null;case 4:return Pe(),null;case 10:return B(m.type._context),null;case 22:case 23:return AP(),null;case 24:return null;default:return null}}var V1=!1,Uf=!1,Qne=typeof WeakSet=="function"?WeakSet:Set,tn=null;function H1(p,m){var T=p.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(P){Va(p,m,P)}else T.current=null}function aP(p,m,T){try{T()}catch(P){Va(p,m,P)}}var e4=!1;function ere(p,m){for(fe(p.containerInfo),tn=m;tn!==null;)if(p=tn,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,tn=m;else for(;tn!==null;){p=tn;try{var T=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var P=T.memoizedProps,D=T.memoizedState,$=p.stateNode,pe=$.getSnapshotBeforeUpdate(p.elementType===p.type?P:or(p.type,P),D);$.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:rn&&Pt(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(De){Va(p,p.return,De)}if(m=p.sibling,m!==null){m.return=p.return,tn=m;break}tn=p.return}return T=e4,e4=!1,T}function zf(p,m,T){var P=m.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var D=P=P.next;do{if((D.tag&p)===p){var $=D.destroy;D.destroy=void 0,$!==void 0&&aP(m,T,$)}D=D.next}while(D!==P)}}function Gy(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var T=m=m.next;do{if((T.tag&p)===p){var P=T.create;T.destroy=P()}T=T.next}while(T!==m)}}function lP(p){var m=p.ref;if(m!==null){var T=p.stateNode;switch(p.tag){case 5:p=Se(T);break;default:p=T}typeof m=="function"?m(p):m.current=p}}function t4(p,m,T){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Ol,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var P=p=p.next;do{var D=P,$=D.destroy;D=D.tag,$!==void 0&&(D&2||D&4)&&aP(m,T,$),P=P.next}while(P!==p)}break;case 1:if(H1(m,T),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(pe){Va(m,T,pe)}break;case 5:H1(m,T);break;case 4:rn?a4(p,m,T):We&&We&&(m=m.stateNode.containerInfo,T=gn(m),Fn(m,T))}}function n4(p,m,T){for(var P=m;;)if(t4(p,P,T),P.child===null||rn&&P.tag===4){if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}else P.child.return=P,P=P.child}function r4(p){var m=p.alternate;m!==null&&(p.alternate=null,r4(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Rt(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function i4(p){return p.tag===5||p.tag===3||p.tag===4}function s4(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||i4(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function o4(p){if(rn){e:{for(var m=p.return;m!==null;){if(i4(m))break e;m=m.return}throw Error(o(160))}var T=m;switch(T.tag){case 5:m=T.stateNode,T.flags&32&&(pt(m),T.flags&=-33),T=s4(p),uP(p,T,m);break;case 3:case 4:m=T.stateNode.containerInfo,T=s4(p),cP(p,T,m);break;default:throw Error(o(161))}}}function cP(p,m,T){var P=p.tag;if(P===5||P===6)p=p.stateNode,m?Vt(T,p,m):yt(T,p);else if(P!==4&&(p=p.child,p!==null))for(cP(p,m,T),p=p.sibling;p!==null;)cP(p,m,T),p=p.sibling}function uP(p,m,T){var P=p.tag;if(P===5||P===6)p=p.stateNode,m?St(T,p,m):Xt(T,p);else if(P!==4&&(p=p.child,p!==null))for(uP(p,m,T),p=p.sibling;p!==null;)uP(p,m,T),p=p.sibling}function a4(p,m,T){for(var P=m,D=!1,$,pe;;){if(!D){D=P.return;e:for(;;){if(D===null)throw Error(o(160));switch($=D.stateNode,D.tag){case 5:pe=!1;break e;case 3:$=$.containerInfo,pe=!0;break e;case 4:$=$.containerInfo,pe=!0;break e}D=D.return}D=!0}if(P.tag===5||P.tag===6)n4(p,P,T),pe?dt($,P.stateNode):Ae($,P.stateNode);else if(P.tag===18)pe?He($,P.stateNode):Ve($,P.stateNode);else if(P.tag===4){if(P.child!==null){$=P.stateNode.containerInfo,pe=!0,P.child.return=P,P=P.child;continue}}else if(t4(p,P,T),P.child!==null){P.child.return=P,P=P.child;continue}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return,P.tag===4&&(D=!1)}P.sibling.return=P.return,P=P.sibling}}function hP(p,m){if(rn){switch(m.tag){case 0:case 11:case 14:case 15:zf(3,m,m.return),Gy(3,m),zf(5,m,m.return);return;case 1:return;case 5:var T=m.stateNode;if(T!=null){var P=m.memoizedProps;p=p!==null?p.memoizedProps:P;var D=m.type,$=m.updateQueue;m.updateQueue=null,$!==null&&Yt(T,$,D,p,P,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));T=m.memoizedProps,zt(m.stateNode,p!==null?p.memoizedProps:T,T);return;case 3:rt&&p!==null&&p.memoizedState.isDehydrated&&le(m.stateNode.containerInfo);return;case 12:return;case 13:j1(m);return;case 19:j1(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:zf(3,m,m.return),Gy(3,m),zf(5,m,m.return);return;case 12:return;case 13:j1(m);return;case 19:j1(m);return;case 3:rt&&p!==null&&p.memoizedState.isDehydrated&&le(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(We){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Fn(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function j1(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var T=p.stateNode;T===null&&(T=p.stateNode=new Qne),m.forEach(function(P){var D=ure.bind(null,p,P);T.has(P)||(T.add(P),P.then(D,D))})}}function tre(p,m){for(tn=m;tn!==null;){m=tn;var T=m.deletions;if(T!==null)for(var P=0;P<T.length;P++){var D=T[P];try{var $=p;rn?a4($,D,m):n4($,D,m);var pe=D.alternate;pe!==null&&(pe.return=null),D.return=null}catch(Pn){Va(D,m,Pn)}}if(T=m.child,m.subtreeFlags&12854&&T!==null)T.return=m,tn=T;else for(;tn!==null;){m=tn;try{var De=m.flags;if(De&32&&rn&&pt(m.stateNode),De&512){var ft=m.alternate;if(ft!==null){var Dt=ft.ref;Dt!==null&&(typeof Dt=="function"?Dt(null):Dt.current=null)}}if(De&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var mn=m.alternate;(mn===null||mn.memoizedState===null)&&(yP=yi())}break;case 22:var dr=m.memoizedState!==null,jn=m.alternate,gi=jn!==null&&jn.memoizedState!==null;if(T=m,rn){e:if(P=T,D=dr,$=null,rn)for(var Ln=P;;){if(Ln.tag===5){if($===null){$=Ln;var $o=Ln.stateNode;D?ye($o):Le(Ln.stateNode,Ln.memoizedProps)}}else if(Ln.tag===6){if($===null){var Vl=Ln.stateNode;D?ct(Vl):_t(Vl,Ln.memoizedProps)}}else if((Ln.tag!==22&&Ln.tag!==23||Ln.memoizedState===null||Ln===P)&&Ln.child!==null){Ln.child.return=Ln,Ln=Ln.child;continue}if(Ln===P)break;for(;Ln.sibling===null;){if(Ln.return===null||Ln.return===P)break e;$===Ln&&($=null),Ln=Ln.return}$===Ln&&($=null),Ln.sibling.return=Ln.return,Ln=Ln.sibling}}if(dr&&!gi&&T.mode&1){tn=T;for(var Je=T.child;Je!==null;){for(T=tn=Je;tn!==null;){P=tn;var Be=P.child;switch(P.tag){case 0:case 11:case 14:case 15:zf(4,P,P.return);break;case 1:H1(P,P.return);var ut=P.stateNode;if(typeof ut.componentWillUnmount=="function"){var sn=P.return;try{ut.props=P.memoizedProps,ut.state=P.memoizedState,ut.componentWillUnmount()}catch(Pn){Va(P,sn,Pn)}}break;case 5:H1(P,P.return);break;case 22:if(P.memoizedState!==null){u4(T);continue}}Be!==null?(Be.return=P,tn=Be):u4(T)}Je=Je.sibling}}}switch(De&4102){case 2:o4(m),m.flags&=-3;break;case 6:o4(m),m.flags&=-3,hP(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,hP(m.alternate,m);break;case 4:hP(m.alternate,m)}}catch(Pn){Va(m,m.return,Pn)}if(T=m.sibling,T!==null){T.return=m.return,tn=T;break}tn=m.return}}}function nre(p,m,T){tn=p,l4(p)}function l4(p,m,T){for(var P=(p.mode&1)!==0;tn!==null;){var D=tn,$=D.child;if(D.tag===22&&P){var pe=D.memoizedState!==null||V1;if(!pe){var De=D.alternate,ft=De!==null&&De.memoizedState!==null||Uf;De=V1;var Dt=Uf;if(V1=pe,(Uf=ft)&&!Dt)for(tn=D;tn!==null;)pe=tn,ft=pe.child,pe.tag===22&&pe.memoizedState!==null?h4(D):ft!==null?(ft.return=pe,tn=ft):h4(D);for(;$!==null;)tn=$,l4($),$=$.sibling;tn=D,V1=De,Uf=Dt}c4(p)}else D.subtreeFlags&8772&&$!==null?($.return=D,tn=$):c4(p)}}function c4(p){for(;tn!==null;){var m=tn;if(m.flags&8772){var T=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:Uf||Gy(5,m);break;case 1:var P=m.stateNode;if(m.flags&4&&!Uf)if(T===null)P.componentDidMount();else{var D=m.elementType===m.type?T.memoizedProps:or(m.type,T.memoizedProps);P.componentDidUpdate(D,T.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&ar(m,$,P);break;case 3:var pe=m.updateQueue;if(pe!==null){if(T=null,m.child!==null)switch(m.child.tag){case 5:T=Se(m.child.stateNode);break;case 1:T=m.child.stateNode}ar(m,pe,T)}break;case 5:var De=m.stateNode;T===null&&m.flags&4&&bn(De,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(rt&&m.memoizedState===null){var ft=m.alternate;if(ft!==null){var Dt=ft.memoizedState;if(Dt!==null){var mn=Dt.dehydrated;mn!==null&&ce(mn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Uf||m.flags&512&&lP(m)}catch(dr){Va(m,m.return,dr)}}if(m===p){tn=null;break}if(T=m.sibling,T!==null){T.return=m.return,tn=T;break}tn=m.return}}function u4(p){for(;tn!==null;){var m=tn;if(m===p){tn=null;break}var T=m.sibling;if(T!==null){T.return=m.return,tn=T;break}tn=m.return}}function h4(p){for(;tn!==null;){var m=tn;try{switch(m.tag){case 0:case 11:case 15:var T=m.return;try{Gy(4,m)}catch(ft){Va(m,T,ft)}break;case 1:var P=m.stateNode;if(typeof P.componentDidMount=="function"){var D=m.return;try{P.componentDidMount()}catch(ft){Va(m,D,ft)}}var $=m.return;try{lP(m)}catch(ft){Va(m,$,ft)}break;case 5:var pe=m.return;try{lP(m)}catch(ft){Va(m,pe,ft)}}}catch(ft){Va(m,m.return,ft)}if(m===p){tn=null;break}var De=m.sibling;if(De!==null){De.return=m.return,tn=De;break}tn=m.return}}var G1=0,$1=1,W1=2,X1=3,q1=4;if(typeof Symbol=="function"&&Symbol.for){var $y=Symbol.for;G1=$y("selector.component"),$1=$y("selector.has_pseudo_class"),W1=$y("selector.role"),X1=$y("selector.test_id"),q1=$y("selector.text")}function dP(p){var m=lt(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(p=ae(p),p===null)throw Error(o(362));return p.stateNode.current}function fP(p,m){switch(m.$$typeof){case G1:if(p.type===m.value)return!0;break;case $1:e:{m=m.value,p=[p,0];for(var T=0;T<p.length;){var P=p[T++],D=p[T++],$=m[D];if(P.tag!==5||!xe(P)){for(;$!=null&&fP(P,$);)D++,$=m[D];if(D===m.length){m=!0;break e}else for(P=P.child;P!==null;)p.push(P,D),P=P.sibling}}m=!1}return m;case W1:if(p.tag===5&&Ee(p.stateNode,m.value))return!0;break;case q1:if((p.tag===5||p.tag===6)&&(p=de(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case X1:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function pP(p){switch(p.$$typeof){case G1:return"<"+(A(p.value)||"Unknown")+">";case $1:return":has("+(pP(p)||"")+")";case W1:return'[role="'+p.value+'"]';case q1:return'"'+p.value+'"';case X1:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function d4(p,m){var T=[];p=[p,0];for(var P=0;P<p.length;){var D=p[P++],$=p[P++],pe=m[$];if(D.tag!==5||!xe(D)){for(;pe!=null&&fP(D,pe);)$++,pe=m[$];if($===m.length)T.push(D);else for(D=D.child;D!==null;)p.push(D,$),D=D.sibling}}return T}function mP(p,m){if(!j)throw Error(o(363));p=dP(p),p=d4(p,m),m=[],p=Array.from(p);for(var T=0;T<p.length;){var P=p[T++];if(P.tag===5)xe(P)||m.push(P.stateNode);else for(P=P.child;P!==null;)p.push(P),P=P.sibling}return m}var rre=Math.ceil,K1=a.ReactCurrentDispatcher,gP=a.ReactCurrentOwner,cs=a.ReactCurrentBatchConfig,Tr=0,bs=null,ws=null,yo=0,ol=0,Um=Nt(0),Os=0,Wy=null,zm=0,Y1=0,vP=0,Xy=null,Ua=null,yP=0,_P=1/0;function Vm(){_P=yi()+500}var J1=!1,xP=null,Kh=null,Z1=!1,Yh=null,Q1=0,qy=0,bP=null,ew=-1,tw=0;function _a(){return Tr&6?yi():ew!==-1?ew:ew=yi()}function Jh(p){return p.mode&1?Tr&2&&yo!==0?yo&-yo:dn.transition!==null?(tw===0&&(p=ys,ys<<=1,!(ys&4194240)&&(ys=64),tw=p),tw):(p=vr,p!==0?p:mt()):1}function Ul(p,m,T){if(50<qy)throw qy=0,bP=null,Error(o(185));var P=nw(p,m);return P===null?null:(Da(P,m,T),(!(Tr&2)||P!==bs)&&(P===bs&&(!(Tr&2)&&(Y1|=m),Os===4&&Zh(P,yo)),za(P,T),m===1&&Tr===0&&!(p.mode&1)&&(Vm(),he&&Jn())),P)}function nw(p,m){p.lanes|=m;var T=p.alternate;for(T!==null&&(T.lanes|=m),T=p,p=p.return;p!==null;)p.childLanes|=m,T=p.alternate,T!==null&&(T.childLanes|=m),T=p,p=p.return;return T.tag===3?T.stateNode:null}function za(p,m){var T=p.callbackNode;fc(p,m);var P=Xs(p,p===bs?yo:0);if(P===0)T!==null&&tr(T),p.callbackNode=null,p.callbackPriority=0;else if(m=P&-P,p.callbackPriority!==m){if(T!=null&&tr(T),m===1)p.tag===0?nn(p4.bind(null,p)):Ke(p4.bind(null,p)),Ut?X(function(){Tr===0&&Jn()}):kl(ho,Jn),T=null;else{switch(Ll(P)){case 1:T=ho;break;case 4:T=nl;break;case 16:T=mc;break;case 536870912:T=Na;break;default:T=mc}T=S4(T,f4.bind(null,p))}p.callbackPriority=m,p.callbackNode=T}}function f4(p,m){if(ew=-1,tw=0,Tr&6)throw Error(o(327));var T=p.callbackNode;if(jf()&&p.callbackNode!==T)return null;var P=Xs(p,p===bs?yo:0);if(P===0)return null;if(P&30||P&p.expiredLanes||m)m=rw(p,P);else{m=P;var D=Tr;Tr|=2;var $=v4();(bs!==p||yo!==m)&&(Vm(),Vf(p,m));do try{ore();break}catch(De){g4(p,De)}while(!0);M(),K1.current=$,Tr=D,ws!==null?m=0:(bs=null,yo=0,m=Os)}if(m!==0){if(m===2&&(D=tl(p),D!==0&&(P=D,m=wP(p,D))),m===1)throw T=Wy,Vf(p,0),Zh(p,P),za(p,yi()),T;if(m===6)Zh(p,P);else{if(D=p.current.alternate,!(P&30)&&!ire(D)&&(m=rw(p,P),m===2&&($=tl(p),$!==0&&(P=$,m=wP(p,$))),m===1))throw T=Wy,Vf(p,0),Zh(p,P),za(p,yi()),T;switch(p.finishedWork=D,p.finishedLanes=P,m){case 0:case 1:throw Error(o(345));case 2:Hf(p,Ua);break;case 3:if(Zh(p,P),(P&130023424)===P&&(m=yP+500-yi(),10<m)){if(Xs(p,0)!==0)break;if(D=p.suspendedLanes,(D&P)!==P){_a(),p.pingedLanes|=p.suspendedLanes&D;break}p.timeoutHandle=qe(Hf.bind(null,p,Ua),m);break}Hf(p,Ua);break;case 4:if(Zh(p,P),(P&4194240)===P)break;for(m=p.eventTimes,D=-1;0<P;){var pe=31-si(P);$=1<<pe,pe=m[pe],pe>D&&(D=pe),P&=~$}if(P=D,P=yi()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*rre(P/1960))-P,10<P){p.timeoutHandle=qe(Hf.bind(null,p,Ua),P);break}Hf(p,Ua);break;case 5:Hf(p,Ua);break;default:throw Error(o(329))}}}return za(p,yi()),p.callbackNode===T?f4.bind(null,p):null}function wP(p,m){var T=Xy;return p.current.memoizedState.isDehydrated&&(Vf(p,m).flags|=256),p=rw(p,m),p!==2&&(m=Ua,Ua=T,m!==null&&SP(m)),p}function SP(p){Ua===null?Ua=p:Ua.push.apply(Ua,p)}function ire(p){for(var m=p;;){if(m.flags&16384){var T=m.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var P=0;P<T.length;P++){var D=T[P],$=D.getSnapshot;D=D.value;try{if(!Rs($(),D))return!1}catch{return!1}}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Zh(p,m){for(m&=~vP,m&=~Y1,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var T=31-si(m),P=1<<T;p[T]=-1,m&=~P}}function p4(p){if(Tr&6)throw Error(o(327));jf();var m=Xs(p,0);if(!(m&1))return za(p,yi()),null;var T=rw(p,m);if(p.tag!==0&&T===2){var P=tl(p);P!==0&&(m=P,T=wP(p,P))}if(T===1)throw T=Wy,Vf(p,0),Zh(p,m),za(p,yi()),T;if(T===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,Hf(p,Ua),za(p,yi()),null}function m4(p){Yh!==null&&Yh.tag===0&&!(Tr&6)&&jf();var m=Tr;Tr|=1;var T=cs.transition,P=vr;try{if(cs.transition=null,vr=1,p)return p()}finally{vr=P,cs.transition=T,Tr=m,!(Tr&6)&&Jn()}}function AP(){ol=Um.current,pn(Um)}function Vf(p,m){p.finishedWork=null,p.finishedLanes=0;var T=p.timeoutHandle;if(T!==ln&&(p.timeoutHandle=ln,Ot(T)),ws!==null)for(T=ws.return;T!==null;){var P=T;switch(po(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&hn();break;case 3:Pe(),pn(kt),pn(Mt),cn();break;case 5:Ye(P);break;case 4:Pe();break;case 13:pn(et);break;case 19:pn(et);break;case 10:B(P.type._context);break;case 22:case 23:AP()}T=T.return}if(bs=p,ws=p=Qh(p.current,null),yo=ol=m,Os=0,Wy=null,vP=Y1=zm=0,Ua=Xy=null,_e!==null){for(m=0;m<_e.length;m++)if(T=_e[m],P=T.interleaved,P!==null){T.interleaved=null;var D=P.next,$=T.pending;if($!==null){var pe=$.next;$.next=D,P.next=pe}T.pending=P}_e=null}return p}function g4(p,m){do{var T=ws;try{if(M(),Wt.current=Qt,kr){for(var P=an.memoizedState;P!==null;){var D=P.queue;D!==null&&(D.pending=null),P=P.next}kr=!1}if(Rn=0,$t=On=an=null,Yi=!1,mi=0,gP.current=null,T===null||T.return===null){Os=1,Wy=m,ws=null;break}e:{var $=p,pe=T.return,De=T,ft=m;if(m=yo,De.flags|=32768,ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Dt=ft,mn=De,dr=mn.tag;if(!(mn.mode&1)&&(dr===0||dr===11||dr===15)){var jn=mn.alternate;jn?(mn.updateQueue=jn.updateQueue,mn.memoizedState=jn.memoizedState,mn.lanes=jn.lanes):(mn.updateQueue=null,mn.memoizedState=null)}var gi=N1(pe);if(gi!==null){gi.flags&=-257,Hy(gi,pe,De,$,m),gi.mode&1&&D1($,Dt,m),m=gi,ft=Dt;var Ln=m.updateQueue;if(Ln===null){var $o=new Set;$o.add(ft),m.updateQueue=$o}else Ln.add(ft);break e}else{if(!(m&1)){D1($,Dt,m),EP();break e}ft=Error(o(426))}}else if(_n&&De.mode&1){var Vl=N1(pe);if(Vl!==null){!(Vl.flags&65536)&&(Vl.flags|=256),Hy(Vl,pe,De,$,m),jh(ft);break e}}$=ft,Os!==4&&(Os=2),Xy===null?Xy=[$]:Xy.push($),ft=Ji(ft,De),De=pe;do{switch(De.tag){case 3:De.flags|=65536,m&=-m,De.lanes|=m;var Je=Bu(De,ft,m);Hn(De,Je);break e;case 1:$=ft;var Be=De.type,ut=De.stateNode;if(!(De.flags&128)&&(typeof Be.getDerivedStateFromError=="function"||ut!==null&&typeof ut.componentDidCatch=="function"&&(Kh===null||!Kh.has(ut)))){De.flags|=65536,m&=-m,De.lanes|=m;var sn=O1(De,$,m);Hn(De,sn);break e}}De=De.return}while(De!==null)}_4(T)}catch(Pn){m=Pn,ws===T&&T!==null&&(ws=T=T.return);continue}break}while(!0)}function v4(){var p=K1.current;return K1.current=Qt,p===null?Qt:p}function EP(){(Os===0||Os===3||Os===2)&&(Os=4),bs===null||!(zm&268435455)&&!(Y1&268435455)||Zh(bs,yo)}function rw(p,m){var T=Tr;Tr|=2;var P=v4();bs===p&&yo===m||Vf(p,m);do try{sre();break}catch(D){g4(p,D)}while(!0);if(M(),Tr=T,K1.current=P,ws!==null)throw Error(o(261));return bs=null,yo=0,Os}function sre(){for(;ws!==null;)y4(ws)}function ore(){for(;ws!==null&&!uo();)y4(ws)}function y4(p){var m=w4(p.alternate,p,ol);p.memoizedProps=p.pendingProps,m===null?_4(p):ws=m,gP.current=null}function _4(p){var m=p;do{var T=m.alternate;if(p=m.return,m.flags&32768){if(T=Zne(T,m),T!==null){T.flags&=32767,ws=T;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Os=6,ws=null;return}}else if(T=nP(T,m,ol),T!==null){ws=T;return}if(m=m.sibling,m!==null){ws=m;return}ws=m=p}while(m!==null);Os===0&&(Os=5)}function Hf(p,m){var T=vr,P=cs.transition;try{cs.transition=null,vr=1,are(p,m,T)}finally{cs.transition=P,vr=T}return null}function are(p,m,T){do jf();while(Yh!==null);if(Tr&6)throw Error(o(327));var P=p.finishedWork,D=p.finishedLanes;if(P===null)return null;if(p.finishedWork=null,p.finishedLanes=0,P===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var $=P.lanes|P.childLanes;if(pc(p,$),p===bs&&(ws=bs=null,yo=0),!(P.subtreeFlags&2064)&&!(P.flags&2064)||Z1||(Z1=!0,S4(mc,function(){return jf(),null})),$=(P.flags&15990)!==0,P.subtreeFlags&15990||$){$=cs.transition,cs.transition=null;var pe=vr;vr=1;var De=Tr;Tr|=4,gP.current=null,ere(p,P),tre(p,P),re(p.containerInfo),p.current=P,nre(P),Lr(),Tr=De,vr=pe,cs.transition=$}else p.current=P;if(Z1&&(Z1=!1,Yh=p,Q1=D),$=p.pendingLanes,$===0&&(Kh=null),Li(P.stateNode),za(p,yi()),m!==null)for(T=p.onRecoverableError,P=0;P<m.length;P++)T(m[P]);if(J1)throw J1=!1,p=xP,xP=null,p;return Q1&1&&p.tag!==0&&jf(),$=p.pendingLanes,$&1?p===bP?qy++:(qy=0,bP=p):qy=0,Jn(),null}function jf(){if(Yh!==null){var p=Ll(Q1),m=cs.transition,T=vr;try{if(cs.transition=null,vr=16>p?16:p,Yh===null)var P=!1;else{if(p=Yh,Yh=null,Q1=0,Tr&6)throw Error(o(331));var D=Tr;for(Tr|=4,tn=p.current;tn!==null;){var $=tn,pe=$.child;if(tn.flags&16){var De=$.deletions;if(De!==null){for(var ft=0;ft<De.length;ft++){var Dt=De[ft];for(tn=Dt;tn!==null;){var mn=tn;switch(mn.tag){case 0:case 11:case 15:zf(8,mn,$)}var dr=mn.child;if(dr!==null)dr.return=mn,tn=dr;else for(;tn!==null;){mn=tn;var jn=mn.sibling,gi=mn.return;if(r4(mn),mn===Dt){tn=null;break}if(jn!==null){jn.return=gi,tn=jn;break}tn=gi}}}var Ln=$.alternate;if(Ln!==null){var $o=Ln.child;if($o!==null){Ln.child=null;do{var Vl=$o.sibling;$o.sibling=null,$o=Vl}while($o!==null)}}tn=$}}if($.subtreeFlags&2064&&pe!==null)pe.return=$,tn=pe;else e:for(;tn!==null;){if($=tn,$.flags&2048)switch($.tag){case 0:case 11:case 15:zf(9,$,$.return)}var Je=$.sibling;if(Je!==null){Je.return=$.return,tn=Je;break e}tn=$.return}}var Be=p.current;for(tn=Be;tn!==null;){pe=tn;var ut=pe.child;if(pe.subtreeFlags&2064&&ut!==null)ut.return=pe,tn=ut;else e:for(pe=Be;tn!==null;){if(De=tn,De.flags&2048)try{switch(De.tag){case 0:case 11:case 15:Gy(9,De)}}catch(Pn){Va(De,De.return,Pn)}if(De===pe){tn=null;break e}var sn=De.sibling;if(sn!==null){sn.return=De.return,tn=sn;break e}tn=De.return}}if(Tr=D,Jn(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Ol,p)}catch{}P=!0}return P}finally{vr=T,cs.transition=m}}return!1}function x4(p,m,T){m=Ji(T,m),m=Bu(p,m,1),$e(p,m),m=_a(),p=nw(p,1),p!==null&&(Da(p,1,m),za(p,m))}function Va(p,m,T){if(p.tag===3)x4(p,p,T);else for(;m!==null;){if(m.tag===3){x4(m,p,T);break}else if(m.tag===1){var P=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Kh===null||!Kh.has(P))){p=Ji(T,p),p=O1(m,p,1),$e(m,p),p=_a(),m=nw(m,1),m!==null&&(Da(m,1,p),za(m,p));break}}m=m.return}}function lre(p,m,T){var P=p.pingCache;P!==null&&P.delete(m),m=_a(),p.pingedLanes|=p.suspendedLanes&T,bs===p&&(yo&T)===T&&(Os===4||Os===3&&(yo&130023424)===yo&&500>yi()-yP?Vf(p,0):vP|=T),za(p,m)}function b4(p,m){m===0&&(p.mode&1?(m=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):m=1);var T=_a();p=nw(p,m),p!==null&&(Da(p,m,T),za(p,T))}function cre(p){var m=p.memoizedState,T=0;m!==null&&(T=m.retryLane),b4(p,T)}function ure(p,m){var T=0;switch(p.tag){case 13:var P=p.stateNode,D=p.memoizedState;D!==null&&(T=D.retryLane);break;case 19:P=p.stateNode;break;default:throw Error(o(314))}P!==null&&P.delete(m),b4(p,T)}var w4;w4=function(p,m,T){if(p!==null)if(p.memoizedProps!==m.pendingProps||kt.current)sl=!0;else{if(!(p.lanes&T)&&!(m.flags&128))return sl=!1,Jne(p,m,T);sl=!!(p.flags&131072)}else sl=!1,_n&&m.flags&1048576&&pa(m,Js,m.index);switch(m.lanes=0,m.tag){case 2:var P=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var D=er(m,Mt.current);K(m,T),D=Ei(null,m,P,p,D,T);var $=Dy();return m.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Sr(P)?($=!0,sr(m)):$=!1,m.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,ke(m),D.updater=fo,m.stateNode=D,D._reactInternals=m,lr(m,P,p,T),m=iP(null,m,P,!0,$,T)):(m.tag=0,_n&&$&&ma(m),ya(null,m,D,T),m=m.child),m;case 16:P=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,D=P._init,P=D(P._payload),m.type=P,D=m.tag=dre(P),p=or(P,p),D){case 0:m=rP(null,m,P,p,T);break e;case 1:m=WU(null,m,P,p,T);break e;case 11:m=VU(null,m,P,p,T);break e;case 14:m=HU(null,m,P,or(P.type,p),T);break e}throw Error(o(306,P,""))}return m;case 0:return P=m.type,D=m.pendingProps,D=m.elementType===P?D:or(P,D),rP(p,m,P,D,T);case 1:return P=m.type,D=m.pendingProps,D=m.elementType===P?D:or(P,D),WU(p,m,P,D,T);case 3:e:{if(XU(m),p===null)throw Error(o(387));P=m.pendingProps,$=m.memoizedState,D=$.element,ot(p,m),yr(m,P,null,T);var pe=m.memoizedState;if(P=pe.element,rt&&$.isDehydrated)if($={element:P,isDehydrated:!1,cache:pe.cache,transitions:pe.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){D=Error(o(423)),m=qU(p,m,P,T,D);break e}else if(P!==D){D=Error(o(424)),m=qU(p,m,P,T,D);break e}else for(rt&&(mo=ir(m.stateNode.containerInfo),Ki=m,_n=!0,oi=null,Dl=!1),T=Nu(m,null,P,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(xs(),P===D){m=Uu(p,m,T);break e}ya(p,m,P,T)}m=m.child}return m;case 5:return je(m),p===null&&vc(m),P=m.type,D=m.pendingProps,$=p!==null?p.memoizedProps:null,pe=D.children,Xe(P,D)?pe=null:$!==null&&Xe(P,$)&&(m.flags|=32),$U(p,m),ya(p,m,pe,T),m.child;case 6:return p===null&&vc(m),null;case 13:return KU(p,m,T);case 4:return ue(m,m.stateNode.containerInfo),P=m.pendingProps,p===null?m.child=va(m,null,P,T):ya(p,m,P,T),m.child;case 11:return P=m.type,D=m.pendingProps,D=m.elementType===P?D:or(P,D),VU(p,m,P,D,T);case 7:return ya(p,m,m.pendingProps,T),m.child;case 8:return ya(p,m,m.pendingProps.children,T),m.child;case 12:return ya(p,m,m.pendingProps.children,T),m.child;case 10:e:{if(P=m.type._context,D=m.pendingProps,$=m.memoizedProps,pe=D.value,k(m,P,pe),$!==null)if(Rs($.value,pe)){if($.children===D.children&&!kt.current){m=Uu(p,m,T);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var De=$.dependencies;if(De!==null){pe=$.child;for(var ft=De.firstContext;ft!==null;){if(ft.context===P){if($.tag===1){ft=ht(-1,T&-T),ft.tag=2;var Dt=$.updateQueue;if(Dt!==null){Dt=Dt.shared;var mn=Dt.pending;mn===null?ft.next=ft:(ft.next=mn.next,mn.next=ft),Dt.pending=ft}}$.lanes|=T,ft=$.alternate,ft!==null&&(ft.lanes|=T),q($.return,T,m),De.lanes|=T;break}ft=ft.next}}else if($.tag===10)pe=$.type===m.type?null:$.child;else if($.tag===18){if(pe=$.return,pe===null)throw Error(o(341));pe.lanes|=T,De=pe.alternate,De!==null&&(De.lanes|=T),q(pe,T,m),pe=$.sibling}else pe=$.child;if(pe!==null)pe.return=$;else for(pe=$;pe!==null;){if(pe===m){pe=null;break}if($=pe.sibling,$!==null){$.return=pe.return,pe=$;break}pe=pe.return}$=pe}ya(p,m,D.children,T),m=m.child}return m;case 9:return D=m.type,P=m.pendingProps.children,K(m,T),D=Q(D),P=P(D),m.flags|=1,ya(p,m,P,T),m.child;case 14:return P=m.type,D=or(P,m.pendingProps),D=or(P.type,D),HU(p,m,P,D,T);case 15:return jU(p,m,m.type,m.pendingProps,T);case 17:return P=m.type,D=m.pendingProps,D=m.elementType===P?D:or(P,D),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Sr(P)?(p=!0,sr(m)):p=!1,K(m,T),_r(m,P,D),lr(m,P,D,T),iP(null,m,P,!0,p,T);case 19:return QU(p,m,T);case 22:return GU(p,m,T)}throw Error(o(156,m.tag))};function S4(p,m){return kl(p,m)}function hre(p,m,T,P){this.tag=p,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(p,m,T,P){return new hre(p,m,T,P)}function TP(p){return p=p.prototype,!(!p||!p.isReactComponent)}function dre(p){if(typeof p=="function")return TP(p)?1:0;if(p!=null){if(p=p.$$typeof,p===b)return 11;if(p===S)return 14}return 2}function Qh(p,m){var T=p.alternate;return T===null?(T=zl(p.tag,m,p.key,p.mode),T.elementType=p.elementType,T.type=p.type,T.stateNode=p.stateNode,T.alternate=p,p.alternate=T):(T.pendingProps=m,T.type=p.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=p.flags&14680064,T.childLanes=p.childLanes,T.lanes=p.lanes,T.child=p.child,T.memoizedProps=p.memoizedProps,T.memoizedState=p.memoizedState,T.updateQueue=p.updateQueue,m=p.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=p.sibling,T.index=p.index,T.ref=p.ref,T}function iw(p,m,T,P,D,$){var pe=2;if(P=p,typeof p=="function")TP(p)&&(pe=1);else if(typeof p=="string")pe=5;else e:switch(p){case u:return Gf(T.children,D,$,m);case d:pe=8,D|=8;break;case f:return p=zl(12,T,m,D|2),p.elementType=f,p.lanes=$,p;case w:return p=zl(13,T,m,D),p.elementType=w,p.lanes=$,p;case _:return p=zl(19,T,m,D),p.elementType=_,p.lanes=$,p;case I:return sw(T,D,$,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case v:pe=10;break e;case y:pe=9;break e;case b:pe=11;break e;case S:pe=14;break e;case C:pe=16,P=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return m=zl(pe,T,m,D),m.elementType=p,m.type=P,m.lanes=$,m}function Gf(p,m,T,P){return p=zl(7,p,P,m),p.lanes=T,p}function sw(p,m,T,P){return p=zl(22,p,P,m),p.elementType=I,p.lanes=T,p.stateNode={},p}function CP(p,m,T){return p=zl(6,p,null,m),p.lanes=T,p}function MP(p,m,T){return m=zl(4,p.children!==null?p.children:[],p.key,m),m.lanes=T,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function fre(p,m,T,P,D){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ln,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=P,this.onRecoverableError=D,rt&&(this.mutableSourceEagerHydrationData=null)}function A4(p,m,T,P,D,$,pe,De,ft){return p=new fre(p,m,T,De,ft),m===1?(m=1,$===!0&&(m|=8)):m=0,$=zl(3,null,null,m),p.current=$,$.stateNode=p,$.memoizedState={element:P,isDehydrated:T,cache:null,transitions:null},ke($),p}function E4(p){if(!p)return Fe;p=p._reactInternals;e:{if(U(p)!==p||p.tag!==1)throw Error(o(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Sr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(p.tag===1){var T=p.type;if(Sr(T))return Wr(p,T,m)}return m}function T4(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=se(m),p===null?null:p.stateNode}function C4(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var T=p.retryLane;p.retryLane=T!==0&&T<m?T:m}}function PP(p,m){C4(p,m),(p=p.alternate)&&C4(p,m)}function pre(p){return p=se(p),p===null?null:p.stateNode}function mre(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=_a();Ul(p,134217728,m),PP(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=_a(),T=Jh(p);Ul(p,T,m),PP(p,T)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var T=Bo(m.pendingLanes);T!==0&&(Uo(m,T|1),za(m,yi()),!(Tr&6)&&(Vm(),Jn()))}break;case 13:var P=_a();m4(function(){return Ul(p,1,P)}),PP(p,1)}},n.batchedUpdates=function(p,m){var T=Tr;Tr|=1;try{return p(m)}finally{Tr=T,Tr===0&&(Vm(),he&&Jn())}},n.createComponentSelector=function(p){return{$$typeof:G1,value:p}},n.createContainer=function(p,m,T,P,D,$,pe){return A4(p,m,!1,null,T,P,D,$,pe)},n.createHasPseudoClassSelector=function(p){return{$$typeof:$1,value:p}},n.createHydrationContainer=function(p,m,T,P,D,$,pe,De,ft){return p=A4(T,P,!0,p,D,$,pe,De,ft),p.context=E4(null),T=p.current,P=_a(),D=Jh(T),$=ht(P,D),$.callback=m??null,$e(T,$),p.current.lanes=D,Da(p,D,P),za(p,P),p},n.createPortal=function(p,m,T){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:P==null?null:""+P,children:p,containerInfo:m,implementation:T}},n.createRoleSelector=function(p){return{$$typeof:W1,value:p}},n.createTestNameSelector=function(p){return{$$typeof:X1,value:p}},n.createTextSelector=function(p){return{$$typeof:q1,value:p}},n.deferredUpdates=function(p){var m=vr,T=cs.transition;try{return cs.transition=null,vr=16,p()}finally{vr=m,cs.transition=T}},n.discreteUpdates=function(p,m,T,P,D){var $=vr,pe=cs.transition;try{return cs.transition=null,vr=1,p(m,T,P,D)}finally{vr=$,cs.transition=pe,Tr===0&&Vm()}},n.findAllNodes=mP,n.findBoundingRects=function(p,m){if(!j)throw Error(o(363));m=mP(p,m),p=[];for(var T=0;T<m.length;T++)p.push(ve(m[T]));for(m=p.length-1;0<m;m--){T=p[m];for(var P=T.x,D=P+T.width,$=T.y,pe=$+T.height,De=m-1;0<=De;De--)if(m!==De){var ft=p[De],Dt=ft.x,mn=Dt+ft.width,dr=ft.y,jn=dr+ft.height;if(P>=Dt&&$>=dr&&D<=mn&&pe<=jn){p.splice(m,1);break}else if(P!==Dt||T.width!==ft.width||jn<$||dr>pe){if(!($!==dr||T.height!==ft.height||mn<P||Dt>D)){Dt>P&&(ft.width+=Dt-P,ft.x=P),mn<D&&(ft.width=D-Dt),p.splice(m,1);break}}else{dr>$&&(ft.height+=dr-$,ft.y=$),jn<pe&&(ft.height=pe-dr),p.splice(m,1);break}}}return p},n.findHostInstance=T4,n.findHostInstanceWithNoPortals=function(p){return p=ee(p),p=p!==null?me(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return T4(p)},n.flushControlled=function(p){var m=Tr;Tr|=1;var T=cs.transition,P=vr;try{cs.transition=null,vr=1,p()}finally{vr=P,cs.transition=T,Tr=m,Tr===0&&(Vm(),Jn())}},n.flushPassiveEffects=jf,n.flushSync=m4,n.focusWithin=function(p,m){if(!j)throw Error(o(363));for(p=dP(p),m=d4(p,m),m=Array.from(m),p=0;p<m.length;){var T=m[p++];if(!xe(T)){if(T.tag===5&&Ze(T.stateNode))return!0;for(T=T.child;T!==null;)m.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return vr},n.getFindAllNodesFailureDescription=function(p,m){if(!j)throw Error(o(363));var T=0,P=[];p=[dP(p),0];for(var D=0;D<p.length;){var $=p[D++],pe=p[D++],De=m[pe];if(($.tag!==5||!xe($))&&(fP($,De)&&(P.push(pP(De)),pe++,pe>T&&(T=pe)),pe<m.length))for($=$.child;$!==null;)p.push($,pe),$=$.sibling}if(T<m.length){for(p=[];T<m.length;T++)p.push(pP(m[T]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Se(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:pre,findFiberByHostInstance:p.findFiberByHostInstance||mre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{Ol=m.inject(p),ss=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,T,P){if(!j)throw Error(o(363));p=mP(p,m);var D=vt(p,T,P).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(p,m){var T=m._getVersion;T=T(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,T]:p.mutableSourceEagerHydrationData.push(m,T)},n.runWithPriority=function(p,m){var T=vr;try{return vr=p,m()}finally{vr=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,T,P){var D=m.current,$=_a(),pe=Jh(D);return T=E4(T),m.context===null?m.context=T:m.pendingContext=T,m=ht($,pe),m.payload={element:p},P=P===void 0?null:P,P!==null&&(m.callback=P),$e(D,m),p=Ul(D,pe,$),p!==null&&wt(p,D,pe),pe},n};Ste.exports=m4e;var g4e=Ste.exports;const v4e=_f(g4e);var Ate={exports:{}},Ete={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,fe){var re=J.length;J.push(fe);e:for(;0<re;){var Ce=re-1>>>1,ze=J[Ce];if(0<i(ze,fe))J[Ce]=fe,J[re]=ze,re=Ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var fe=J[0],re=J.pop();if(re!==fe){J[0]=re;e:for(var Ce=0,ze=J.length,tt=ze>>>1;Ce<tt;){var Ie=2*(Ce+1)-1,Xe=J[Ie],Re=Ie+1,qe=J[Re];if(0>i(Xe,re))Re<ze&&0>i(qe,Xe)?(J[Ce]=qe,J[Re]=re,Ce=Re):(J[Ce]=Xe,J[Ie]=re,Ce=Ie);else if(Re<ze&&0>i(qe,re))J[Ce]=qe,J[Re]=re,Ce=Re;else break e}}return fe}function i(J,fe){var re=J.sortIndex-fe.sortIndex;return re!==0?re:J.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var fe=n(c);fe!==null;){if(fe.callback===null)r(c);else if(fe.startTime<=J)r(c),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(c)}}function I(J){if(b=!1,C(J),!y)if(n(l)!==null)y=!0,Se(z);else{var fe=n(c);fe!==null&&Ue(I,fe.startTime-J)}}function z(J,fe){y=!1,b&&(b=!1,_(W),W=-1),v=!0;var re=f;try{for(C(fe),d=n(l);d!==null&&(!(d.expirationTime>fe)||J&&!ee());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,f=d.priorityLevel;var ze=Ce(d.expirationTime<=fe);fe=t.unstable_now(),typeof ze=="function"?d.callback=ze:d===n(l)&&r(l),C(fe)}else r(l);d=n(l)}if(d!==null)var tt=!0;else{var Ie=n(c);Ie!==null&&Ue(I,Ie.startTime-fe),tt=!1}return tt}finally{d=null,f=re,v=!1}}var N=!1,A=null,W=-1,U=5,F=-1;function ee(){return!(t.unstable_now()-F<U)}function se(){if(A!==null){var J=t.unstable_now();F=J;var fe=!0;try{fe=A(!0,J)}finally{fe?ne():(N=!1,A=null)}}else N=!1}var ne;if(typeof S=="function")ne=function(){S(se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,be=me.port2;me.port1.onmessage=se,ne=function(){be.postMessage(null)}}else ne=function(){w(se,0)};function Se(J){A=J,N||(N=!0,ne())}function Ue(J,fe){W=w(function(){J(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Se(z))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var fe=3;break;default:fe=f}var re=f;f=fe;try{return J()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=f;f=J;try{return fe()}finally{f=re}},t.unstable_scheduleCallback=function(J,fe,re){var Ce=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,J){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=re+ze,J={id:u++,callback:fe,priorityLevel:J,startTime:re,expirationTime:ze,sortIndex:-1},re>Ce?(J.sortIndex=re,e(c,J),n(l)===null&&J===n(c)&&(b?(_(W),W=-1):b=!0,Ue(I,re-Ce))):(J.sortIndex=ze,e(l,J),y||v||(y=!0,Se(z))),J},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(J){var fe=f;return function(){var re=f;f=fe;try{return J.apply(this,arguments)}finally{f=re}}}})(Ete);Ate.exports=Ete;var x8=Ate.exports;const y4e=t=>typeof t=="object"&&typeof t.then=="function",Dp=[];function Tte(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Cte(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Dp)if(Tte(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Dp.indexOf(i);s!==-1&&Dp.splice(s,1)},promise:(y4e(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Dp.push(i),!n)throw i.promise}const _4e=(t,e,n)=>Cte(t,e,!1,n),x4e=(t,e,n)=>void Cte(t,e,!0,n),b4e=t=>{if(t===void 0||t.length===0)Dp.splice(0,Dp.length);else{const e=Dp.find(n=>Tte(t,n.keys,n.equal));e&&e.remove()}},yU={},Mte=t=>void Object.assign(yU,t);function w4e(t,e){function n(u,{args:d=[],attach:f,...v},y){let b=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(u==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=v.object;w=xg(_,{type:u,root:y,attach:f,primitive:!0})}else{const _=yU[b];if(!_)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");w=xg(new _(...d),{type:u,root:y,attach:f,memoizedProps:{args:d}})}return w.__r3f.attach===void 0&&(w instanceof gr?w.__r3f.attach="geometry":w instanceof Ps&&(w.__r3f.attach="material")),b!=="inject"&&n2(w,v),w}function r(u,d){let f=!1;if(d){var v,y;(v=d.__r3f)!=null&&v.attach?t2(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||xg(d,{}),d.__r3f.parent=u,bD(d),bg(d)}}function i(u,d,f){let v=!1;if(d){var y,b;if((y=d.__r3f)!=null&&y.attach)t2(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const w=u.children.filter(S=>S!==d),_=w.indexOf(f);u.children=[...w.slice(0,_),d,...w.slice(_)],v=!0}v||(b=u.__r3f)==null||b.objects.push(d),d.__r3f||xg(d,{}),d.__r3f.parent=u,bD(d),bg(d)}}function s(u,d,f=!1){u&&[...u].forEach(v=>o(d,v,f))}function o(u,d,f){if(d){var v,y,b;if(d.__r3f&&(d.__r3f.parent=null),(v=u.__r3f)!=null&&v.objects&&(u.__r3f.objects=u.__r3f.objects.filter(I=>I!==d)),(y=d.__r3f)!=null&&y.attach)E8(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var w;u.remove(d),(w=d.__r3f)!=null&&w.root&&I4e(JA(d),d)}const S=(b=d.__r3f)==null?void 0:b.primitive,C=!S&&(f===void 0?d.dispose!==null:f);if(!S){var _;s((_=d.__r3f)==null?void 0:_.objects,d,C),s(d.children,d,C)}if(delete d.__r3f,C&&d.dispose&&d.type!=="Scene"){const I=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?x8.unstable_scheduleCallback(x8.unstable_IdlePriority,I):I()}bg(u)}}function a(u,d,f,v){var y;const b=(y=u.__r3f)==null?void 0:y.parent;if(!b)return;const w=n(d,f,u.__r3f.root);if(u.children){for(const _ of u.children)_.__r3f&&r(w,_);u.children=u.children.filter(_=>!_.__r3f)}u.__r3f.objects.forEach(_=>r(w,_)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(b,u),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(b,w),w.raycast&&w.__r3f.eventCount&&JA(w).getState().internal.interaction.push(w),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=w,_.ref&&(typeof _.ref=="function"?_.ref(w):_.ref.current=w))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:v4e({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const v=u.getState().scene;v.__r3f&&i(v,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,v){var y;if(((y=u==null?void 0:u.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==u)return[!0];{const{args:w=[],children:_,...S}=v,{args:C=[],children:I,...z}=f;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((A,W)=>A!==C[W]))return[!0];const N=Dte(u,S,z,!0);return N.changes.length?[!1,N]:null}},commitUpdate(u,[d,f],v,y,b,w){d?a(u,v,b,w):n2(u,f)},commitMount(u,d,f,v){var y;const b=(y=u.__r3f)!=null?y:{};u.raycast&&b.handlers&&b.eventCount&&JA(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>xg(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:v}=(d=u.__r3f)!=null?d:{};f&&v&&E8(v,u,f),u.isObject3D&&(u.visible=!1),bg(u)},unhideInstance(u,d){var f;const{attach:v,parent:y}=(f=u.__r3f)!=null?f:{};v&&y&&t2(y,u,v),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),bg(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ev.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Mi.fun(performance.now)?performance.now:Mi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Mi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Mi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:n2}}var b8,w8;const e2=t=>"colorSpace"in t||"outputColorSpace"in t,Pte=()=>{var t;return(t=yU.ColorManagement)!=null?t:null},Ite=t=>t&&t.isOrthographicCamera,S4e=t=>t&&t.hasOwnProperty("current"),w1=typeof window<"u"&&((b8=window.document)!=null&&b8.createElement||((w8=window.navigator)==null?void 0:w8.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function Rte(t){const e=G.useRef(t);return w1(()=>void(e.current=t),[t]),e}function A4e({set:t}){return w1(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Lte extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Lte.getDerivedStateFromError=()=>({error:!0});const kte="__default",S8=new Map,E4e=t=>t&&!!t.memoized&&!!t.changes;function Ote(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const T0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function JA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Mi={obj:t=>t===Object(t)&&!Mi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Mi.str(t)||Mi.num(t))return t===e;const s=Mi.obj(t);if(s&&r==="reference")return t===e;const o=Mi.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Mi.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Mi.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function T4e(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function C4e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function xg(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function xD(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const A8=/-\d+$/;function t2(t,e,n){if(Mi.str(n)){if(A8.test(n)){const s=n.replace(A8,""),{target:o,key:a}=xD(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=xD(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function E8(t,e,n){var r,i;if(Mi.str(n)){const{target:s,key:o}=xD(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Dte(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,d=Object.entries(i),f=[];if(c){const y=Object.keys(l);for(let b=0;b<y.length;b++)i.hasOwnProperty(y[b])||d.unshift([y[b],kte+"remove"])}d.forEach(([y,b])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&y==="object"||Mi.equ(b,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return f.push([y,b,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),f.push([y,b,!1,_]);for(const S in i){const C=i[S];S.startsWith(`${y}-`)&&f.push([S,C,!1,S.split("-")])}});const v={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(v.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(v.attach=u.memoizedProps.attach),{memoized:v,changes:f}}const M4e=typeof process<"u"&&!1;function n2(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=E4e(e)?e:Dte(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let u=0;u<a.length;u++){let[d,f,v,y]=a[u];if(e2(t)){const S="srgb",C="srgb-linear";d==="encoding"?(d="colorSpace",f=f===3001?S:C):d==="outputEncoding"&&(d="outputColorSpace",f=f===3001?S:C)}let b=t,w=b[d];if(y.length&&(w=y.reduce((_,S)=>_[S],t),!(w&&w.set))){const[_,...S]=y.reverse();b=S.reverse().reduce((C,I)=>C[I],t),d=_}if(f===kte+"remove")if(b.constructor){let _=S8.get(b.constructor);_||(_=new b.constructor,S8.set(b.constructor,_)),f=_[d]}else f=0;if(v&&r)f?r.handlers[d]=f:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Yp)){if(Array.isArray(f))w.fromArray?w.fromArray(f):w.set(...f);else if(w.copy&&f&&f.constructor&&(M4e?w.constructor.name===f.constructor.name:w.constructor===f.constructor))w.copy(f);else if(f!==void 0){const _=w instanceof Zt;!_&&w.setScalar?w.setScalar(f):w instanceof Yp&&f instanceof Yp?w.mask=f.mask:w.set(f),!Pte()&&s&&!s.linear&&_&&w.convertSRGBToLinear()}}else if(b[d]=f,b[d]instanceof Yr&&b[d].format===zs&&b[d].type===El&&s){const _=b[d];e2(_)&&e2(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}bg(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const u=JA(t).getState().internal,d=u.interaction.indexOf(t);d>-1&&u.interaction.splice(d,1),r.eventCount&&u.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&bD(t),t}function bg(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function bD(t){t.onUpdate==null||t.onUpdate(t)}function Nte(t,e){t.manual||(Ite(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function GS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function P4e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ev.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ev.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ev.ContinuousEventPriority;default:return ev.DefaultEventPriority}}function Bte(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function I4e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Bte(n.capturedMap,e,r,i)})}function R4e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],v=c?c(u.internal.interaction):u.internal.interaction;for(let _=0;_<v.length;_++){const S=T0(v[_]);S&&(S.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(_){const S=T0(_);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var C;S.events.compute==null||S.events.compute(l,S,(C=S.previousRoot)==null?void 0:C.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(_,!0):[]}let b=v.flatMap(y).sort((_,S)=>{const C=T0(_.object),I=T0(S.object);return!C||!I?_.distance-S.distance:I.events.priority-C.events.priority||_.distance-S.distance}).filter(_=>{const S=GS(_);return d.has(S)?!1:(d.add(S),!0)});u.events.filter&&(b=u.events.filter(b,u));for(const _ of b){let S=_.object;for(;S;){var w;(w=S.__r3f)!=null&&w.eventCount&&f.push({..._,eventObject:S}),S=S.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let _ of u.internal.capturedMap.get(l.pointerId).values())d.has(GS(_.intersection))||f.push(_.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const v={stopped:!1};for(const y of l){const b=T0(y.object)||f,{raycaster:w,pointer:_,camera:S,internal:C}=b,I=new oe(_.x,_.y,0).unproject(S),z=F=>{var ee,se;return(ee=(se=C.capturedMap.get(F))==null?void 0:se.has(y.eventObject))!=null?ee:!1},N=F=>{const ee={intersection:y,target:c.target};C.capturedMap.has(F)?C.capturedMap.get(F).set(y.eventObject,ee):C.capturedMap.set(F,new Map([[y.eventObject,ee]])),c.target.setPointerCapture(F)},A=F=>{const ee=C.capturedMap.get(F);ee&&Bte(C.capturedMap,y.eventObject,ee,F)};let W={};for(let F in c){let ee=c[F];typeof ee!="function"&&(W[F]=ee)}let U={...y,...W,pointer:_,intersections:l,stopped:v.stopped,delta:u,unprojectedPoint:I,ray:w.ray,camera:S,stopPropagation(){const F="pointerId"in c&&C.capturedMap.get(c.pointerId);if((!F||F.has(y.eventObject))&&(U.stopped=v.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(ee=>ee.eventObject===y.eventObject))){const ee=l.slice(0,l.indexOf(y));s([...ee,y])}},target:{hasPointerCapture:z,setPointerCapture:N,releasePointerCapture:A},currentTarget:{hasPointerCapture:z,setPointerCapture:N,releasePointerCapture:A},nativeEvent:c};if(d(U),v.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,v=f==null?void 0:f.handlers;if(c.hovered.delete(GS(u)),f!=null&&f.eventCount){const y={...u,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=r(u,v?n:void 0),_=y?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=w.map(C=>C.eventObject)),y&&!w.length&&_<=2&&(o(u,f.interaction),d&&d(u)),v&&s(w);function S(C){const I=C.eventObject,z=I.__r3f,N=z==null?void 0:z.handlers;if(z!=null&&z.eventCount)if(v){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const A=GS(C),W=f.hovered.get(A);W?W.stopped&&C.stopPropagation():(f.hovered.set(A,C),N.onPointerOver==null||N.onPointerOver(C),N.onPointerEnter==null||N.onPointerEnter(C))}N.onPointerMove==null||N.onPointerMove(C)}else{const A=N[l];A?(!y||f.initialHits.includes(I))&&(o(u,f.interaction.filter(W=>!f.initialHits.includes(W))),A(C)):y&&f.initialHits.includes(I)&&o(u,f.interaction.filter(W=>!f.initialHits.includes(W)))}}i(w,u,_,S)}}return{handlePointer:a}}const L4e=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Fte=t=>!!(t!=null&&t.render),_U=G.createContext(null),k4e=(t,e)=>{const n=wte((a,l)=>{const c=new oe,u=new oe,d=new oe;function f(_=l().camera,S=u,C=l().size){const{width:I,height:z,top:N,left:A}=C,W=I/z;S instanceof oe?d.copy(S):d.set(...S);const U=_.getWorldPosition(c).distanceTo(d);if(Ite(_))return{width:I/_.zoom,height:z/_.zoom,top:N,left:A,factor:1,distance:U,aspect:W};{const F=_.fov*Math.PI/180,ee=2*Math.tan(F/2)*U,se=ee*(I/z);return{width:se,height:ee,top:N,left:A,factor:I/se,distance:U,aspect:W}}}let v;const y=_=>a(S=>({performance:{...S.performance,current:_}})),b=new gt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,S)=>e(_,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new fU,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();v&&clearTimeout(v),_.performance.current!==_.performance.min&&y(_.performance.min),v=setTimeout(()=>y(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:_=>a(S=>({...S,events:{...S.events,..._}})),setSize:(_,S,C,I,z)=>{const N=l().camera,A={width:_,height:S,top:I||0,left:z||0,updateStyle:C};a(W=>({size:A,viewport:{...W.viewport,...f(N,u,A)}}))},setDpr:_=>a(S=>{const C=Ote(_);return{viewport:{...S.viewport,dpr:C,initialDpr:S.viewport.initialDpr||C}}}),setFrameloop:(_="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,_!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,S,C)=>{const I=l().internal;return I.priority=I.priority+(S>0?1:0),I.subscribers.push({ref:_,priority:S,store:C}),I.subscribers=I.subscribers.sort((z,N)=>z.priority-N.priority),()=>{const z=l().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(S>0?1:0),z.subscribers=z.subscribers.filter(N=>N.ref!==_))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var f;i=l,s=c.dpr,Nte(a,l),u.setPixelRatio(c.dpr);const v=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,v)}a!==o&&(o=a,d(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let $S,O4e=new Set,D4e=new Set,N4e=new Set;function r2(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function C0(t,e){switch(t){case"before":return r2(O4e,e);case"after":return r2(D4e,e);case"tail":return r2(N4e,e)}}let i2,s2;function o2(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),i2=e.internal.subscribers,$S=0;$S<i2.length;$S++)s2=i2[$S],s2.ref.current(s2.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function B4e(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,C0("before",c),n=!0;for(const d of t.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=o2(c,s))}if(n=!1,C0("after",c),r===0)return C0("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var d;if(!c)return t.forEach(f=>a(f.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,f){if(u&&C0("before",c),d)o2(c,d,f);else for(const v of t.values())o2(c,v.store.getState());u&&C0("after",c)}return{loop:o,invalidate:a,advance:l}}function xU(){const t=G.useContext(_U);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ul(t=n=>n,e){return xU()(t,e)}function Ute(t,e=0){const n=xU(),r=n.getState().internal.subscribe,i=Rte(t);return w1(()=>r(i,e,n),[e,r,n]),null}const T8=new WeakMap;function zte(t,e){return function(n,...r){let i=T8.get(n);return i||(i=new n,T8.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,T4e(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Oy(t,e,n,r){const i=Array.isArray(e)?e:[e],s=_4e(zte(n,r),[t,...i],{equal:Mi.equ});return Array.isArray(e)?s:s[0]}Oy.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return x4e(zte(n),[t,...r])};Oy.clear=function(t,e){const n=Array.isArray(e)?e:[e];return b4e([t,...n])};const cy=new Map,{invalidate:C8,advance:M8}=B4e(cy),{reconciler:gb,applyProps:bd}=w4e(cy,P4e),pg={objects:"shallow",strict:!1},F4e=(t,e)=>{const n=typeof t=="function"?t(e):t;return Fte(n)?n:new WF({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function U4e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function z4e(t){const e=cy.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||k4e(C8,M8),o=n||gb.createContainer(s,ev.ConcurrentRoot,null,!1,null,"",i,null);e||cy.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:v,events:y,onCreated:b,shadows:w=!1,linear:_=!1,flat:S=!1,legacy:C=!1,orthographic:I=!1,frameloop:z="always",dpr:N=[1,2],performance:A,raycaster:W,camera:U,onPointerMissed:F}=u,ee=s.getState(),se=ee.gl;ee.gl||ee.set({gl:se=F4e(d,t)});let ne=ee.raycaster;ne||ee.set({raycaster:ne=new vU});const{params:me,...be}=W||{};if(Mi.equ(be,ne,pg)||bd(ne,{...be}),Mi.equ(me,ne.params,pg)||bd(ne,{params:{...ne.params,...me}}),!ee.camera||ee.camera===c&&!Mi.equ(c,U,pg)){c=U;const re=U instanceof d1,Ce=re?U:I?new Dc(0,0,0,0,.1,1e3):new Ui(75,0,.1,1e3);re||(Ce.position.z=5,U&&(bd(Ce,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(Ce.manual=!0,Ce.updateProjectionMatrix())),!ee.camera&&!(U!=null&&U.rotation)&&Ce.lookAt(0,0,0)),ee.set({camera:Ce}),ne.camera=Ce}if(!ee.scene){let re;v instanceof ay?re=v:(re=new ay,v&&bd(re,v)),ee.set({scene:xg(re)})}if(!ee.xr){var Se;const re=(tt,Ie)=>{const Xe=s.getState();Xe.frameloop!=="never"&&M8(tt,!0,Xe,Ie)},Ce=()=>{const tt=s.getState();tt.gl.xr.enabled=tt.gl.xr.isPresenting,tt.gl.xr.setAnimationLoop(tt.gl.xr.isPresenting?re:null),tt.gl.xr.isPresenting||C8(tt)},ze={connect(){const tt=s.getState().gl;tt.xr.addEventListener("sessionstart",Ce),tt.xr.addEventListener("sessionend",Ce)},disconnect(){const tt=s.getState().gl;tt.xr.removeEventListener("sessionstart",Ce),tt.xr.removeEventListener("sessionend",Ce)}};typeof((Se=se.xr)==null?void 0:Se.addEventListener)=="function"&&ze.connect(),ee.set({xr:ze})}if(se.shadowMap){const re=se.shadowMap.enabled,Ce=se.shadowMap.type;if(se.shadowMap.enabled=!!w,Mi.boo(w))se.shadowMap.type=L_;else if(Mi.str(w)){var Ue;const ze={basic:fQ,percentage:EM,soft:L_,variance:Cc};se.shadowMap.type=(Ue=ze[w])!=null?Ue:L_}else Mi.obj(w)&&Object.assign(se.shadowMap,w);(re!==se.shadowMap.enabled||Ce!==se.shadowMap.type)&&(se.shadowMap.needsUpdate=!0)}const J=Pte();J&&("enabled"in J?J.enabled=!C:"legacyMode"in J&&(J.legacyMode=C)),l||bd(se,{outputEncoding:_?3e3:3001,toneMapping:S?Eu:EF}),ee.legacy!==C&&ee.set(()=>({legacy:C})),ee.linear!==_&&ee.set(()=>({linear:_})),ee.flat!==S&&ee.set(()=>({flat:S})),d&&!Mi.fun(d)&&!Fte(d)&&!Mi.equ(d,se,pg)&&bd(se,d),y&&!ee.events.handlers&&ee.set({events:y(s)});const fe=U4e(t,f);return Mi.equ(fe,ee.size,pg)||ee.setSize(fe.width,fe.height,fe.updateStyle,fe.top,fe.left),N&&ee.viewport.dpr!==Ote(N)&&ee.setDpr(N),ee.frameloop!==z&&ee.setFrameloop(z),ee.onPointerMissed||ee.set({onPointerMissed:F}),A&&!Mi.equ(A,ee.performance,pg)&&ee.set(re=>({performance:{...re.performance,...A}})),a=b,l=!0,this},render(u){return l||this.configure(),gb.updateContainer(V.jsx(V4e,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){Vte(t)}}}function V4e({store:t,children:e,onCreated:n,rootElement:r}){return w1(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),V.jsx(_U.Provider,{value:t,children:e})}function Vte(t,e){const n=cy.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),gb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),C4e(i),cy.delete(t),e&&e(t)}catch{}},500)})}}function H4e(t,e,n){return V.jsx(j4e,{children:t,container:e,state:n},e.uuid)}function j4e({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=xU(),[a]=G.useState(()=>new vU),[l]=G.useState(()=>new gt),c=G.useCallback((d,f)=>{const v={...d};Object.keys(d).forEach(b=>{(L4e.includes(b)||d[b]!==f[b]&&f[b])&&delete v[b]});let y;if(f&&i){const b=f.camera;y=d.viewport.getCurrentViewport(b,new oe,i),b!==d.camera&&Nte(b,i)}return{...v,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...f==null?void 0:f.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...y},...s}},[t]),[u]=G.useState(()=>{const d=o.getState();return wte((v,y)=>({...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:v,get:y,setEvents:b=>v(w=>({...w,events:{...w.events,...b}}))}))});return G.useEffect(()=>{const d=o.subscribe(f=>u.setState(v=>c(f,v)));return()=>{d()}},[c]),G.useEffect(()=>{u.setState(d=>c(o.getState(),d))},[c]),G.useEffect(()=>()=>{u.destroy()},[]),V.jsx(V.Fragment,{children:gb.createPortal(V.jsx(_U.Provider,{value:u,children:e}),u,null)})}gb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});function wD(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}wD.debounce=wD;var G4e=wD;const P8=_f(G4e);function $4e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=G.useRef(!1);G.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,v,y]=G.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:C,top:I,width:z,height:N,bottom:A,right:W,x:U,y:F}=l.current.element.getBoundingClientRect(),ee={left:C,top:I,width:z,height:N,bottom:A,right:W,x:U,y:F};l.current.element instanceof HTMLElement&&i&&(ee.height=l.current.element.offsetHeight,ee.width=l.current.element.offsetWidth),Object.freeze(ee),d.current&&!K4e(l.current.lastBounds,ee)&&a(l.current.lastBounds=ee)};return[S,u?P8(S,u):S,c?P8(S,c):S]},[a,i,c,u]);function b(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function w(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",y,{capture:!0,passive:!0})))}const _=S=>{!S||S===l.current.element||(b(),l.current.element=S,l.current.scrollContainers=Hte(S),w())};return X4e(y,!!n),W4e(v),G.useEffect(()=>{b(),w()},[n,y,v]),G.useEffect(()=>b,[]),[_,o,f]}function W4e(t){G.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function X4e(t,e){G.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Hte(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Hte(t.parentElement)]}const q4e=["x","y","top","bottom","left","right","width","height"],K4e=(t,e)=>q4e.every(n=>t[n]===e[n]);var Y4e=Object.defineProperty,J4e=Object.defineProperties,Z4e=Object.getOwnPropertyDescriptors,I8=Object.getOwnPropertySymbols,Q4e=Object.prototype.hasOwnProperty,eze=Object.prototype.propertyIsEnumerable,R8=(t,e,n)=>e in t?Y4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L8=(t,e)=>{for(var n in e||(e={}))Q4e.call(e,n)&&R8(t,n,e[n]);if(I8)for(var n of I8(e))eze.call(e,n)&&R8(t,n,e[n]);return t},tze=(t,e)=>J4e(t,Z4e(e)),k8,O8;typeof window<"u"&&((k8=window.document)!=null&&k8.createElement||((O8=window.navigator)==null?void 0:O8.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function jte(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=jte(r,e,n);if(i)return i;r=e?null:r.sibling}}function Gte(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const D8=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=D8;return}return D8.apply(this,arguments)};const bU=Gte(G.createContext(null));class $te extends G.Component{render(){return G.createElement(bU.Provider,{value:this._reactInternals},this.props.children)}}function nze(){const t=G.useContext(bU);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=jte(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function rze(){const t=nze(),[e]=G.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==bU&&!e.has(i)&&e.set(i,G.useContext(Gte(i)))}n=n.return}return e}function ize(){const t=rze();return G.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>G.createElement(e,null,G.createElement(n.Provider,tze(L8({},r),{value:t.get(n)}))),e=>G.createElement($te,L8({},e))),[t])}const a2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function sze(t){const{handlePointer:e}=R4e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(a2).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=a2[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=a2[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const oze=G.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=sze,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:v,frameloop:y,dpr:b,performance:w,raycaster:_,camera:S,scene:C,onPointerMissed:I,onCreated:z,...N},A){G.useMemo(()=>Mte(u4e),[]);const W=ize(),[U,F]=$4e({scroll:!0,debounce:{scroll:50,resize:0},...r}),ee=G.useRef(null),se=G.useRef(null);G.useImperativeHandle(A,()=>ee.current);const ne=Rte(I),[me,be]=G.useState(!1),[Se,Ue]=G.useState(!1);if(me)throw me;if(Se)throw Se;const J=G.useRef(null);w1(()=>{const re=ee.current;F.width>0&&F.height>0&&re&&(J.current||(J.current=z4e(re)),J.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:f,orthographic:v,frameloop:y,dpr:b,performance:w,raycaster:_,camera:S,scene:C,size:F,onPointerMissed:(...Ce)=>ne.current==null?void 0:ne.current(...Ce),onCreated:Ce=>{Ce.events.connect==null||Ce.events.connect(a?S4e(a)?a.current:a:se.current),l&&Ce.setEvents({compute:(ze,tt)=>{const Ie=ze[l+"X"],Xe=ze[l+"Y"];tt.pointer.set(Ie/tt.size.width*2-1,-(Xe/tt.size.height)*2+1),tt.raycaster.setFromCamera(tt.pointer,tt.camera)}}),z==null||z(Ce)}}),J.current.render(V.jsx(W,{children:V.jsx(Lte,{set:Ue,children:V.jsx(G.Suspense,{fallback:V.jsx(A4e,{set:be}),children:e})})})))}),G.useEffect(()=>{const re=ee.current;if(re)return()=>Vte(re)},[]);const fe=a?"none":"auto";return V.jsx("div",{ref:se,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:fe,...i},...N,children:V.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:V.jsx("canvas",{ref:ee,style:{display:"block"},children:n})})})}),Wte=G.forwardRef(function(e,n){return V.jsx($te,{children:V.jsx(oze,{...e,ref:n})})});function N8(t,e){if(e===iee)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===IT||e===DF){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===IT)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const aze=parseInt(My.replace(/\D+/g,""));var rc=Uint8Array,zd=Uint16Array,SD=Uint32Array,Xte=new rc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qte=new rc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lze=new rc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kte=function(t,e){for(var n=new zd(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new SD(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},Yte=Kte(Xte,2),Jte=Yte[0],cze=Yte[1];Jte[28]=258,cze[258]=28;var uze=Kte(qte,0),hze=uze[0],AD=new zd(32768);for(var Ii=0;Ii<32768;++Ii){var md=(Ii&43690)>>>1|(Ii&21845)<<1;md=(md&52428)>>>2|(md&13107)<<2,md=(md&61680)>>>4|(md&3855)<<4,AD[Ii]=((md&65280)>>>8|(md&255)<<8)>>>1}var N_=function(t,e,n){for(var r=t.length,i=0,s=new zd(e);i<r;++i)++s[t[i]-1];var o=new zd(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new zd(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[AD[d]>>>l]=c}else for(a=new zd(r),i=0;i<r;++i)t[i]&&(a[i]=AD[o[t[i]-1]++]>>>15-t[i]);return a},S1=new rc(288);for(var Ii=0;Ii<144;++Ii)S1[Ii]=8;for(var Ii=144;Ii<256;++Ii)S1[Ii]=9;for(var Ii=256;Ii<280;++Ii)S1[Ii]=7;for(var Ii=280;Ii<288;++Ii)S1[Ii]=8;var Zte=new rc(32);for(var Ii=0;Ii<32;++Ii)Zte[Ii]=5;var dze=N_(S1,9,1),fze=N_(Zte,5,1),l2=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ac=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},c2=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},pze=function(t){return(t/8|0)+(t&7&&1)},mze=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof zd?zd:t instanceof SD?SD:rc)(n-e);return r.set(t.subarray(e,n)),r},gze=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new rc(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new rc(r*3));var o=function(Re){var qe=e.length;if(Re>qe){var Ot=new rc(Math.max(qe*2,Re));Ot.set(e),e=Ot}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,f=n.m,v=n.n,y=r*8;do{if(!u){n.f=a=Ac(t,l,1);var b=Ac(t,l+1,3);if(l+=3,b)if(b==1)u=dze,d=fze,f=9,v=5;else if(b==2){var C=Ac(t,l,31)+257,I=Ac(t,l+10,15)+4,z=C+Ac(t,l+5,31)+1;l+=14;for(var N=new rc(z),A=new rc(19),W=0;W<I;++W)A[lze[W]]=Ac(t,l+W*3,7);l+=I*3;for(var U=l2(A),F=(1<<U)-1,ee=N_(A,U,1),W=0;W<z;){var se=ee[Ac(t,l,F)];l+=se&15;var w=se>>>4;if(w<16)N[W++]=w;else{var ne=0,me=0;for(w==16?(me=3+Ac(t,l,3),l+=2,ne=N[W-1]):w==17?(me=3+Ac(t,l,7),l+=3):w==18&&(me=11+Ac(t,l,127),l+=7);me--;)N[W++]=ne}}var be=N.subarray(0,C),Se=N.subarray(C);f=l2(be),v=l2(Se),u=N_(be,f,1),d=N_(Se,v,1)}else throw"invalid block type";else{var w=pze(l)+4,_=t[w-4]|t[w-3]<<8,S=w+_;if(S>r){if(s)throw"unexpected EOF";break}i&&o(c+_),e.set(t.subarray(w,S),c),n.b=c+=_,n.p=l=S*8;continue}if(l>y){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var Ue=(1<<f)-1,J=(1<<v)-1,fe=l;;fe=l){var ne=u[c2(t,l)&Ue],re=ne>>>4;if(l+=ne&15,l>y){if(s)throw"unexpected EOF";break}if(!ne)throw"invalid length/literal";if(re<256)e[c++]=re;else if(re==256){fe=l,u=null;break}else{var Ce=re-254;if(re>264){var W=re-257,ze=Xte[W];Ce=Ac(t,l,(1<<ze)-1)+Jte[W],l+=ze}var tt=d[c2(t,l)&J],Ie=tt>>>4;if(!tt)throw"invalid distance";l+=tt&15;var Se=hze[Ie];if(Ie>3){var ze=qte[Ie];Se+=c2(t,l)&(1<<ze)-1,l+=ze}if(l>y){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var Xe=c+Ce;c<Xe;c+=4)e[c]=e[c-Se],e[c+1]=e[c+1-Se],e[c+2]=e[c+2-Se],e[c+3]=e[c+3-Se];c=Xe}}n.l=u,n.p=fe,n.b=c,u&&(a=1,n.m=f,n.d=d,n.n=v)}while(!a);return c==e.length?e:mze(e,0,c)},vze=new rc(0),yze=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function WS(t,e){return gze((yze(t),t.subarray(2,-4)),e)}var _ze=typeof TextDecoder<"u"&&new TextDecoder,xze=0;try{_ze.decode(vze,{stream:!0}),xze=1}catch{}const bze=t=>t&&t.isCubeTexture;class wze extends Ni{constructor(e,n){var r,i;const s=bze(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(My.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},w=new y1(1,16),_=new el({uniforms:b,fragmentShader:y,vertexShader:v,side:tc});super(w,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Sze=Object.defineProperty,Aze=(t,e,n)=>e in t?Sze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rr=(t,e,n)=>(Aze(t,typeof e!="symbol"?e+"":e,n),n);const XS=new Pm,B8=new Zu,Eze=Math.cos(70*(Math.PI/180)),F8=(t,e)=>(t%e+e)%e;let Tze=class extends Du{constructor(e,n){super(),rr(this,"object"),rr(this,"domElement"),rr(this,"enabled",!0),rr(this,"target",new oe),rr(this,"minDistance",0),rr(this,"maxDistance",1/0),rr(this,"minZoom",0),rr(this,"maxZoom",1/0),rr(this,"minPolarAngle",0),rr(this,"maxPolarAngle",Math.PI),rr(this,"minAzimuthAngle",-1/0),rr(this,"maxAzimuthAngle",1/0),rr(this,"enableDamping",!1),rr(this,"dampingFactor",.05),rr(this,"enableZoom",!0),rr(this,"zoomSpeed",1),rr(this,"enableRotate",!0),rr(this,"rotateSpeed",1),rr(this,"enablePan",!0),rr(this,"panSpeed",1),rr(this,"screenSpacePanning",!0),rr(this,"keyPanSpeed",7),rr(this,"zoomToCursor",!1),rr(this,"autoRotate",!1),rr(this,"autoRotateSpeed",2),rr(this,"reverseOrbit",!1),rr(this,"reverseHorizontalOrbit",!1),rr(this,"reverseVerticalOrbit",!1),rr(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rr(this,"mouseButtons",{LEFT:fp.ROTATE,MIDDLE:fp.DOLLY,RIGHT:fp.PAN}),rr(this,"touches",{ONE:pp.ROTATE,TWO:pp.DOLLY_PAN}),rr(this,"target0"),rr(this,"position0"),rr(this,"zoom0"),rr(this,"_domElementKeyEvents",null),rr(this,"getPolarAngle"),rr(this,"getAzimuthalAngle"),rr(this,"setPolarAngle"),rr(this,"setAzimuthalAngle"),rr(this,"getDistance"),rr(this,"listenToKeyEvents"),rr(this,"stopListenToKeyEvents"),rr(this,"saveState"),rr(this,"reset"),rr(this,"update"),rr(this,"connect"),rr(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Ae=>{let dt=F8(Ae,2*Math.PI),pt=u.phi;pt<0&&(pt+=2*Math.PI),dt<0&&(dt+=2*Math.PI);let ye=Math.abs(dt-pt);2*Math.PI-ye<ye&&(dt<pt?dt+=2*Math.PI:pt+=2*Math.PI),d.phi=dt-pt,r.update()},this.setAzimuthalAngle=Ae=>{let dt=F8(Ae,2*Math.PI),pt=u.theta;pt<0&&(pt+=2*Math.PI),dt<0&&(dt+=2*Math.PI);let ye=Math.abs(dt-pt);2*Math.PI-ye<ye&&(dt<pt?dt+=2*Math.PI:pt+=2*Math.PI),d.theta=dt-pt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Ae=>{Ae.addEventListener("keydown",vt),this._domElementKeyEvents=Ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",vt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Ae=new oe,dt=new oe(0,1,0),pt=new so().setFromUnitVectors(e.up,dt),ye=pt.clone().invert(),ct=new oe,Le=new so,_t=2*Math.PI;return function(){const Bn=r.object.position;pt.setFromUnitVectors(e.up,dt),ye.copy(pt).invert(),Ae.copy(Bn).sub(r.target),Ae.applyQuaternion(pt),u.setFromVector3(Ae),r.autoRotate&&l===a.NONE&&me(se()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let gn=r.minAzimuthAngle,En=r.maxAzimuthAngle;isFinite(gn)&&isFinite(En)&&(gn<-Math.PI?gn+=_t:gn>Math.PI&&(gn-=_t),En<-Math.PI?En+=_t:En>Math.PI&&(En-=_t),gn<=En?u.theta=Math.max(gn,Math.min(En,u.theta)):u.theta=u.theta>(gn+En)/2?Math.max(gn,u.theta):Math.min(En,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&U||r.object.isOrthographicCamera?u.radius=ze(u.radius):u.radius=ze(u.radius*f),Ae.setFromSpherical(u),Ae.applyQuaternion(ye),Bn.copy(r.target).add(Ae),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),v.set(0,0,0));let kn=!1;if(r.zoomToCursor&&U){let Fn=null;if(r.object instanceof Ui&&r.object.isPerspectiveCamera){const Gr=Ae.length();Fn=ze(Gr*f);const Kn=Gr-Fn;r.object.position.addScaledVector(A,Kn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gr=new oe(W.x,W.y,0);Gr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),kn=!0;const Kn=new oe(W.x,W.y,0);Kn.unproject(r.object),r.object.position.sub(Kn).add(Gr),r.object.updateMatrixWorld(),Fn=Ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Fn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Fn).add(r.object.position):(XS.origin.copy(r.object.position),XS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(XS.direction))<Eze?e.lookAt(r.target):(B8.setFromNormalAndCoplanarPoint(r.object.up,r.target),XS.intersectPlane(B8,r.target))))}else r.object instanceof Dc&&r.object.isOrthographicCamera&&(kn=f!==1,kn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,U=!1,kn||ct.distanceToSquared(r.object.position)>c||8*(1-Le.dot(r.object.quaternion))>c?(r.dispatchEvent(i),ct.copy(r.object.position),Le.copy(r.object.quaternion),kn=!1,!0):!1}})(),this.connect=Ae=>{Ae===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",zt),r.domElement.addEventListener("pointerdown",ae),r.domElement.addEventListener("pointercancel",de),r.domElement.addEventListener("wheel",Ze)},this.dispose=()=>{var Ae,dt,pt,ye,ct,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(Ae=r.domElement)==null||Ae.removeEventListener("contextmenu",zt),(dt=r.domElement)==null||dt.removeEventListener("pointerdown",ae),(pt=r.domElement)==null||pt.removeEventListener("pointercancel",de),(ye=r.domElement)==null||ye.removeEventListener("wheel",Ze),(ct=r.domElement)==null||ct.ownerDocument.removeEventListener("pointermove",ve),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",de),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",vt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new _D,d=new _D;let f=1;const v=new oe,y=new gt,b=new gt,w=new gt,_=new gt,S=new gt,C=new gt,I=new gt,z=new gt,N=new gt,A=new oe,W=new gt;let U=!1;const F=[],ee={};function se(){return 2*Math.PI/60/60*r.autoRotateSpeed}function ne(){return Math.pow(.95,r.zoomSpeed)}function me(Ae){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=Ae:d.theta-=Ae}function be(Ae){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=Ae:d.phi-=Ae}const Se=(()=>{const Ae=new oe;return function(pt,ye){Ae.setFromMatrixColumn(ye,0),Ae.multiplyScalar(-pt),v.add(Ae)}})(),Ue=(()=>{const Ae=new oe;return function(pt,ye){r.screenSpacePanning===!0?Ae.setFromMatrixColumn(ye,1):(Ae.setFromMatrixColumn(ye,0),Ae.crossVectors(r.object.up,Ae)),Ae.multiplyScalar(pt),v.add(Ae)}})(),J=(()=>{const Ae=new oe;return function(pt,ye){const ct=r.domElement;if(ct&&r.object instanceof Ui&&r.object.isPerspectiveCamera){const Le=r.object.position;Ae.copy(Le).sub(r.target);let _t=Ae.length();_t*=Math.tan(r.object.fov/2*Math.PI/180),Se(2*pt*_t/ct.clientHeight,r.object.matrix),Ue(2*ye*_t/ct.clientHeight,r.object.matrix)}else ct&&r.object instanceof Dc&&r.object.isOrthographicCamera?(Se(pt*(r.object.right-r.object.left)/r.object.zoom/ct.clientWidth,r.object.matrix),Ue(ye*(r.object.top-r.object.bottom)/r.object.zoom/ct.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function fe(Ae){r.object instanceof Ui&&r.object.isPerspectiveCamera||r.object instanceof Dc&&r.object.isOrthographicCamera?f/=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function re(Ae){r.object instanceof Ui&&r.object.isPerspectiveCamera||r.object instanceof Dc&&r.object.isOrthographicCamera?f*=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Ce(Ae){if(!r.zoomToCursor||!r.domElement)return;U=!0;const dt=r.domElement.getBoundingClientRect(),pt=Ae.clientX-dt.left,ye=Ae.clientY-dt.top,ct=dt.width,Le=dt.height;W.x=pt/ct*2-1,W.y=-(ye/Le)*2+1,A.set(W.x,W.y,1).unproject(r.object).sub(r.object.position).normalize()}function ze(Ae){return Math.max(r.minDistance,Math.min(r.maxDistance,Ae))}function tt(Ae){y.set(Ae.clientX,Ae.clientY)}function Ie(Ae){Ce(Ae),I.set(Ae.clientX,Ae.clientY)}function Xe(Ae){_.set(Ae.clientX,Ae.clientY)}function Re(Ae){b.set(Ae.clientX,Ae.clientY),w.subVectors(b,y).multiplyScalar(r.rotateSpeed);const dt=r.domElement;dt&&(me(2*Math.PI*w.x/dt.clientHeight),be(2*Math.PI*w.y/dt.clientHeight)),y.copy(b),r.update()}function qe(Ae){z.set(Ae.clientX,Ae.clientY),N.subVectors(z,I),N.y>0?fe(ne()):N.y<0&&re(ne()),I.copy(z),r.update()}function Ot(Ae){S.set(Ae.clientX,Ae.clientY),C.subVectors(S,_).multiplyScalar(r.panSpeed),J(C.x,C.y),_.copy(S),r.update()}function ln(Ae){Ce(Ae),Ae.deltaY<0?re(ne()):Ae.deltaY>0&&fe(ne()),r.update()}function Me(Ae){let dt=!1;switch(Ae.code){case r.keys.UP:J(0,r.keyPanSpeed),dt=!0;break;case r.keys.BOTTOM:J(0,-r.keyPanSpeed),dt=!0;break;case r.keys.LEFT:J(r.keyPanSpeed,0),dt=!0;break;case r.keys.RIGHT:J(-r.keyPanSpeed,0),dt=!0;break}dt&&(Ae.preventDefault(),r.update())}function rn(){if(F.length==1)y.set(F[0].pageX,F[0].pageY);else{const Ae=.5*(F[0].pageX+F[1].pageX),dt=.5*(F[0].pageY+F[1].pageY);y.set(Ae,dt)}}function We(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const Ae=.5*(F[0].pageX+F[1].pageX),dt=.5*(F[0].pageY+F[1].pageY);_.set(Ae,dt)}}function rt(){const Ae=F[0].pageX-F[1].pageX,dt=F[0].pageY-F[1].pageY,pt=Math.sqrt(Ae*Ae+dt*dt);I.set(0,pt)}function lt(){r.enableZoom&&rt(),r.enablePan&&We()}function bt(){r.enableZoom&&rt(),r.enableRotate&&rn()}function mt(Ae){if(F.length==1)b.set(Ae.pageX,Ae.pageY);else{const pt=Vt(Ae),ye=.5*(Ae.pageX+pt.x),ct=.5*(Ae.pageY+pt.y);b.set(ye,ct)}w.subVectors(b,y).multiplyScalar(r.rotateSpeed);const dt=r.domElement;dt&&(me(2*Math.PI*w.x/dt.clientHeight),be(2*Math.PI*w.y/dt.clientHeight)),y.copy(b)}function Rt(Ae){if(F.length==1)S.set(Ae.pageX,Ae.pageY);else{const dt=Vt(Ae),pt=.5*(Ae.pageX+dt.x),ye=.5*(Ae.pageY+dt.y);S.set(pt,ye)}C.subVectors(S,_).multiplyScalar(r.panSpeed),J(C.x,C.y),_.copy(S)}function Ut(Ae){const dt=Vt(Ae),pt=Ae.pageX-dt.x,ye=Ae.pageY-dt.y,ct=Math.sqrt(pt*pt+ye*ye);z.set(0,ct),N.set(0,Math.pow(z.y/I.y,r.zoomSpeed)),fe(N.y),I.copy(z)}function X(Ae){r.enableZoom&&Ut(Ae),r.enablePan&&Rt(Ae)}function j(Ae){r.enableZoom&&Ut(Ae),r.enableRotate&&mt(Ae)}function ae(Ae){var dt,pt;r.enabled!==!1&&(F.length===0&&((dt=r.domElement)==null||dt.ownerDocument.addEventListener("pointermove",ve),(pt=r.domElement)==null||pt.ownerDocument.addEventListener("pointerup",de)),bn(Ae),Ae.pointerType==="touch"?Xt(Ae):xe(Ae))}function ve(Ae){r.enabled!==!1&&(Ae.pointerType==="touch"?yt(Ae):Ee(Ae))}function de(Ae){var dt,pt,ye;Yt(Ae),F.length===0&&((dt=r.domElement)==null||dt.releasePointerCapture(Ae.pointerId),(pt=r.domElement)==null||pt.ownerDocument.removeEventListener("pointermove",ve),(ye=r.domElement)==null||ye.ownerDocument.removeEventListener("pointerup",de)),r.dispatchEvent(o),l=a.NONE}function xe(Ae){let dt;switch(Ae.button){case 0:dt=r.mouseButtons.LEFT;break;case 1:dt=r.mouseButtons.MIDDLE;break;case 2:dt=r.mouseButtons.RIGHT;break;default:dt=-1}switch(dt){case fp.DOLLY:if(r.enableZoom===!1)return;Ie(Ae),l=a.DOLLY;break;case fp.ROTATE:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(r.enablePan===!1)return;Xe(Ae),l=a.PAN}else{if(r.enableRotate===!1)return;tt(Ae),l=a.ROTATE}break;case fp.PAN:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(r.enableRotate===!1)return;tt(Ae),l=a.ROTATE}else{if(r.enablePan===!1)return;Xe(Ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ee(Ae){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Re(Ae);break;case a.DOLLY:if(r.enableZoom===!1)return;qe(Ae);break;case a.PAN:if(r.enablePan===!1)return;Ot(Ae);break}}function Ze(Ae){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Ae.preventDefault(),r.dispatchEvent(s),ln(Ae),r.dispatchEvent(o))}function vt(Ae){r.enabled===!1||r.enablePan===!1||Me(Ae)}function Xt(Ae){switch(St(Ae),F.length){case 1:switch(r.touches.ONE){case pp.ROTATE:if(r.enableRotate===!1)return;rn(),l=a.TOUCH_ROTATE;break;case pp.PAN:if(r.enablePan===!1)return;We(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case pp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;lt(),l=a.TOUCH_DOLLY_PAN;break;case pp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;bt(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function yt(Ae){switch(St(Ae),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;mt(Ae),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Rt(Ae),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;X(Ae),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;j(Ae),r.update();break;default:l=a.NONE}}function zt(Ae){r.enabled!==!1&&Ae.preventDefault()}function bn(Ae){F.push(Ae)}function Yt(Ae){delete ee[Ae.pointerId];for(let dt=0;dt<F.length;dt++)if(F[dt].pointerId==Ae.pointerId){F.splice(dt,1);return}}function St(Ae){let dt=ee[Ae.pointerId];dt===void 0&&(dt=new gt,ee[Ae.pointerId]=dt),dt.set(Ae.pageX,Ae.pageY)}function Vt(Ae){const dt=Ae.pointerId===F[0].pointerId?F[1]:F[0];return ee[dt.pointerId]}n!==void 0&&this.connect(n),this.update()}};const Np="srgb",wh="srgb-linear",U8=3001,Cze=3e3;class wU extends No{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Lze(n)}),this.register(function(n){return new kze(n)}),this.register(function(n){return new Hze(n)}),this.register(function(n){return new jze(n)}),this.register(function(n){return new Gze(n)}),this.register(function(n){return new Dze(n)}),this.register(function(n){return new Nze(n)}),this.register(function(n){return new Bze(n)}),this.register(function(n){return new Fze(n)}),this.register(function(n){return new Rze(n)}),this.register(function(n){return new Uze(n)}),this.register(function(n){return new Oze(n)}),this.register(function(n){return new Vze(n)}),this.register(function(n){return new zze(n)}),this.register(function(n){return new Pze(n)}),this.register(function(n){return new $ze(n)}),this.register(function(n){return new Wze(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=nc.extractUrlBase(e);o=nc.resolveURL(c,this.path)}else o=nc.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Lo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(nc.decodeText(new Uint8Array(e.slice(0,4)))===Qte){try{o[Ir.KHR_BINARY_GLTF]=new Xze(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Ir.KHR_BINARY_GLTF].content)}else s=JSON.parse(nc.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new o5e(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Ir.KHR_MATERIALS_UNLIT:o[u]=new Ize;break;case Ir.KHR_DRACO_MESH_COMPRESSION:o[u]=new qze(s,this.dracoLoader);break;case Ir.KHR_TEXTURE_TRANSFORM:o[u]=new Kze;break;case Ir.KHR_MESH_QUANTIZATION:o[u]=new Yze;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Mze(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Ir={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Pze{constructor(e){this.parser=e,this.name=Ir.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Zt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],wh);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new hU(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new uU(u),c.distance=d;break;case"spot":c=new cU(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Yu(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Ize{constructor(){this.name=Ir.KHR_MATERIALS_UNLIT}getMaterialType(){return Ka}extendParams(e,n,r){const i=[];e.color=new Zt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],wh),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Np))}return Promise.all(i)}}class Rze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Lze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new gt(a,a)}return Promise.all(s)}}class kze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Oze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Dze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Zt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],wh)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Np)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Nze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Bze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Zt().setRGB(a[0],a[1],a[2],wh),Promise.all(s)}}class Fze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Uze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Zt().setRGB(a[0],a[1],a[2],wh),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,Np)),Promise.all(s)}}class zze{constructor(e){this.parser=e,this.name=Ir.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class Vze{constructor(e){this.parser=e,this.name=Ir.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:dc}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Hze{constructor(e){this.parser=e,this.name=Ir.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class jze{constructor(e){this.parser=e,this.name=Ir.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Gze{constructor(e){this.parser=e,this.name=Ir.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class $ze{constructor(e){this.name=Ir.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,f,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(v),u,d,f,i.mode,i.filter),v})})}else return null}}class Wze{constructor(e){this.name=Ir.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==ql.TRIANGLES&&c.mode!==ql.TRIANGLE_STRIP&&c.mode!==ql.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],f=c[0].count,v=[];for(const y of d){const b=new Un,w=new oe,_=new so,S=new oe(1,1,1),C=new KF(y.geometry,y.material,f);for(let I=0;I<f;I++)l.TRANSLATION&&w.fromBufferAttribute(l.TRANSLATION,I),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,I),l.SCALE&&S.fromBufferAttribute(l.SCALE,I),C.setMatrixAt(I,b.compose(w,_,S));for(const I in l)if(I==="_COLOR_0"){const z=l[I];C.instanceColor=new mm(z.array,z.itemSize,z.normalized)}else I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&y.geometry.setAttribute(I,l[I]);Hr.prototype.copy.call(C,y),this.parser.assignFinalMaterial(C),v.push(C)}return u.isGroup?(u.clear(),u.add(...v),u):v[0]}))}}const Qte="glTF",M0=12,z8={JSON:1313821514,BIN:5130562};class Xze{constructor(e){this.name=Ir.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,M0);if(this.header={magic:nc.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Qte)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-M0,i=new DataView(e,M0);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===z8.JSON){const l=new Uint8Array(e,M0+s,o);this.content=nc.decodeText(l)}else if(a===z8.BIN){const l=M0+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class qze{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ir.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=ED[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=ED[u]||u.toLowerCase();if(o[u]!==void 0){const f=r.accessors[e.attributes[u]],v=Av[f.componentType];c[d]=v.name,l[d]=f.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(d,f){i.decodeDracoFile(u,function(v){for(const y in v.attributes){const b=v.attributes[y],w=l[y];w!==void 0&&(b.normalized=w)}d(v)},a,c,wh,f)})})}}class Kze{constructor(){this.name=Ir.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Yze{constructor(){this.name=Ir.KHR_MESH_QUANTIZATION}}class ene extends ky{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,d=(r-n)/u,f=d*d,v=f*d,y=e*c,b=y-c,w=-2*v+3*f,_=v-f,S=1-w,C=_-f+d;for(let I=0;I!==a;I++){const z=o[b+I+a],N=o[b+I+l]*u,A=o[y+I+a],W=o[y+I]*u;s[I]=S*z+C*N+w*A+_*W}return s}}const Jze=new so;class Zze extends ene{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return Jze.fromArray(s).normalize().toArray(s),s}}const ql={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Av={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},V8={9728:Us,9729:Kr,9984:TM,9985:wv,9986:Pp,9987:sc},H8={33071:ms,33648:ny,10497:mf},u2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ED={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...aze>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Qze={CUBICSPLINE:void 0,LINEAR:pm,STEP:iy},h2={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function e5e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new b1({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Lu})),t.DefaultMaterial}function sp(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Yu(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function t5e(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(f)}if(i){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(f)}if(s){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function n5e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function r5e(t){let e;const n=t.extensions&&t.extensions[Ir.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+d2(n.attributes):e=t.indices+":"+d2(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+d2(t.targets[r]);return e}function d2(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function TD(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function i5e(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const s5e=new Un;class o5e{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Mze,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new lte(this.options.manager):this.textureLoader=new gte(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Lo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return sp(s,a,i),Yu(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ir.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(nc.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=u2[i.type],a=Av[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new jr(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=u2[i.type],c=Av[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let b,w;if(v&&v!==d){const _=Math.floor(f/v),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let C=n.cache.get(S);C||(b=new c(a,_*v,i.count*v/u),C=new m1(b,v/u),n.cache.add(S,C)),w=new vf(C,l,f%v/u,y)}else a===null?b=new c(i.count*l):b=new c(a,f,i.count*l),w=new jr(b,l,y);if(i.sparse!==void 0){const _=u2.SCALAR,S=Av[i.sparse.indices.componentType],C=i.sparse.indices.byteOffset||0,I=i.sparse.values.byteOffset||0,z=new S(o[1],C,i.sparse.count*_),N=new c(o[2],I,i.sparse.count*l);a!==null&&(w=new jr(w.array.slice(),w.itemSize,w.normalized));for(let A=0,W=z.length;A<W;A++){const U=z[A];if(w.setX(U,N[A*l]),l>=2&&w.setY(U,N[A*l+1]),l>=3&&w.setZ(U,N[A*l+2]),l>=4&&w.setW(U,N[A*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return w})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=V8[f.magFilter]||Kr,u.minFilter=V8[f.minFilter]||sc,u.wrapS=H8[f.wrapS]||mf,u.wrapT=H8[f.wrapT]||mf,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,v){let y=f;n.isImageBitmapLoader===!0&&(y=function(b){const w=new Yr(b);w.needsUpdate=!0,f(w)}),n.load(nc.resolveURL(d,s.path),y,void 0,v)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),Yu(d,o),d.userData.mimeType=o.mimeType||i5e(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Ir.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ir.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ir.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===U8?Np:wh),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Np?U8:Cze),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new NM,Ps.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ha,Ps.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return b1}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ir.KHR_MATERIALS_UNLIT]){const d=i[Ir.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Zt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],wh),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,Np)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=tc);const u=s.alphaMode||h2.OPAQUE;if(u===h2.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===h2.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ka&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new gt(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==Ka&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ka){const d=s.emissiveFactor;a.emissive=new Zt().setRGB(d[0],d[1],d[2],wh)}return s.emissiveTexture!==void 0&&o!==Ka&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,Np)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Yu(d,s),n.associations.set(d,{materials:e}),s.extensions&&sp(i,d,s),d})}createUniqueName(e){const n=Vr.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ir.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return j8(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=r5e(c),d=i[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[Ir.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=j8(new gr,c,n),i[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?e5e(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let v=0,y=u.length;v<y;v++){const b=u[v],w=o[v];let _;const S=c[v];if(w.mode===ql.TRIANGLES||w.mode===ql.TRIANGLE_STRIP||w.mode===ql.TRIANGLE_FAN||w.mode===void 0)_=s.isSkinnedMesh===!0?new qF(b,S):new Ni(b,S),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),w.mode===ql.TRIANGLE_STRIP?_.geometry=N8(_.geometry,DF):w.mode===ql.TRIANGLE_FAN&&(_.geometry=N8(_.geometry,IT));else if(w.mode===ql.LINES)_=new Hc(b,S);else if(w.mode===ql.LINE_STRIP)_=new Fh(b,S);else if(w.mode===ql.LINE_LOOP)_=new YF(b,S);else if(w.mode===ql.POINTS)_=new JF(b,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+w.mode);Object.keys(_.geometry.morphAttributes).length>0&&n5e(_,s),_.name=n.createUniqueName(s.name||"mesh_"+e),Yu(_,s),w.extensions&&sp(i,_,w),n.assignFinalMaterial(_),d.push(_)}for(let v=0,y=d.length;v<y;v++)n.associations.set(d[v],{meshes:e,primitives:v});if(d.length===1)return s.extensions&&sp(i,d[0],s),d[0];const f=new fh;s.extensions&&sp(i,f,s),n.associations.set(f,{meshes:e});for(let v=0,y=d.length;v<y;v++)f.add(d[v]);return f})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Ui(mee.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Dc(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Yu(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const f=new Un;s!==null&&f.fromArray(s.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new g1(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let d=0,f=i.channels.length;d<f;d++){const v=i.channels[d],y=i.samplers[v.sampler],b=v.target,w=b.node,_=i.parameters!==void 0?i.parameters[y.input]:y.input,S=i.parameters!==void 0?i.parameters[y.output]:y.output;b.node!==void 0&&(o.push(this.getDependency("node",w)),a.push(this.getDependency("accessor",_)),l.push(this.getDependency("accessor",S)),c.push(y),u.push(b))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const f=d[0],v=d[1],y=d[2],b=d[3],w=d[4],_=[];for(let S=0,C=f.length;S<C;S++){const I=f[S],z=v[S],N=y[S],A=b[S],W=w[S];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();const U=r._createAnimationTracks(I,z,N,A,W);if(U)for(let F=0;F<U.length;F++)_.push(U[F])}return new ly(s,void 0,_)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(v){v.isSkinnedMesh&&v.bind(f,s5e)});for(let v=0,y=d.length;v<y;v++)u.add(d[v]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new DM:c.length>1?u=new fh:c.length===1?u=c[0]:u=new Hr,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),Yu(u,s),s.extensions&&sp(r,u,s),s.matrix!==void 0){const d=new Un;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new fh;r.name&&(s.name=i.createUniqueName(r.name)),Yu(s,r),r.extensions&&sp(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[f,v]of i.associations)(f instanceof Ps||f instanceof Yr)&&d.set(f,v);return u.traverse(f=>{const v=i.associations.get(f);v!=null&&d.set(f,v)}),d};return i.associations=c(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];gd[s.path]===gd.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(a);let c;switch(gd[s.path]){case gd.weights:c=vm;break;case gd.rotation:c=yf;break;case gd.position:case gd.scale:c=ym;break;default:switch(r.itemSize){case 1:c=vm;break;case 2:case 3:default:c=ym;break}break}const u=i.interpolation!==void 0?Qze[i.interpolation]:pm,d=this._getArrayFromAccessor(r);for(let f=0,v=l.length;f<v;f++){const y=new c(l[f]+"."+gd[s.path],n.array,d,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=TD(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof yf?Zze:ene;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function a5e(t,e,n){const r=e.attributes,i=new la;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new oe(l[0],l[1],l[2]),new oe(c[0],c[1],c[2])),a.normalized){const u=TD(Av[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new oe,l=new oe;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],v=f.min,y=f.max;if(v!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),f.normalized){const b=TD(Av[f.componentType]);l.multiplyScalar(b)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Ro;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function j8(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=ED[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Yu(t,e),a5e(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?t5e(t,e.targets,n):t})}class l5e extends aU{constructor(e){super(e),this.type=Co}parse(e){const o=function(W,U){switch(W){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(U||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(U||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(U||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(U||""))}},u=`
`,d=function(W,U,F){U=U||1024;let se=W.pos,ne=-1,me=0,be="",Se=String.fromCharCode.apply(null,new Uint16Array(W.subarray(se,se+128)));for(;0>(ne=Se.indexOf(u))&&me<U&&se<W.byteLength;)be+=Se,me+=Se.length,se+=128,Se+=String.fromCharCode.apply(null,new Uint16Array(W.subarray(se,se+128)));return-1<ne?(F!==!1&&(W.pos+=me+ne+1),be+Se.slice(0,ne)):!1},f=function(W){const U=/^#\?(\S+)/,F=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ee=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,se=/^\s*FORMAT=(\S+)\s*$/,ne=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,me={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let be,Se;for((W.pos>=W.byteLength||!(be=d(W)))&&o(1,"no header found"),(Se=be.match(U))||o(3,"bad initial token"),me.valid|=1,me.programtype=Se[1],me.string+=be+`
`;be=d(W),be!==!1;){if(me.string+=be+`
`,be.charAt(0)==="#"){me.comments+=be+`
`;continue}if((Se=be.match(F))&&(me.gamma=parseFloat(Se[1])),(Se=be.match(ee))&&(me.exposure=parseFloat(Se[1])),(Se=be.match(se))&&(me.valid|=2,me.format=Se[1]),(Se=be.match(ne))&&(me.valid|=4,me.height=parseInt(Se[1],10),me.width=parseInt(Se[2],10)),me.valid&2&&me.valid&4)break}return me.valid&2||o(3,"missing format specifier"),me.valid&4||o(3,"missing image size specifier"),me},v=function(W,U,F){const ee=U;if(ee<8||ee>32767||W[0]!==2||W[1]!==2||W[2]&128)return new Uint8Array(W);ee!==(W[2]<<8|W[3])&&o(3,"wrong scanline width");const se=new Uint8Array(4*U*F);se.length||o(4,"unable to allocate buffer space");let ne=0,me=0;const be=4*ee,Se=new Uint8Array(4),Ue=new Uint8Array(be);let J=F;for(;J>0&&me<W.byteLength;){me+4>W.byteLength&&o(1),Se[0]=W[me++],Se[1]=W[me++],Se[2]=W[me++],Se[3]=W[me++],(Se[0]!=2||Se[1]!=2||(Se[2]<<8|Se[3])!=ee)&&o(3,"bad rgbe scanline format");let fe=0,re;for(;fe<be&&me<W.byteLength;){re=W[me++];const ze=re>128;if(ze&&(re-=128),(re===0||fe+re>be)&&o(3,"bad scanline data"),ze){const tt=W[me++];for(let Ie=0;Ie<re;Ie++)Ue[fe++]=tt}else Ue.set(W.subarray(me,me+re),fe),fe+=re,me+=re}const Ce=ee;for(let ze=0;ze<Ce;ze++){let tt=0;se[ne]=Ue[ze+tt],tt+=ee,se[ne+1]=Ue[ze+tt],tt+=ee,se[ne+2]=Ue[ze+tt],tt+=ee,se[ne+3]=Ue[ze+tt],ne+=4}J--}return se},y=function(W,U,F,ee){const se=W[U+3],ne=Math.pow(2,se-128)/255;F[ee+0]=W[U+0]*ne,F[ee+1]=W[U+1]*ne,F[ee+2]=W[U+2]*ne,F[ee+3]=1},b=function(W,U,F,ee){const se=W[U+3],ne=Math.pow(2,se-128)/255;F[ee+0]=kp.toHalfFloat(Math.min(W[U+0]*ne,65504)),F[ee+1]=kp.toHalfFloat(Math.min(W[U+1]*ne,65504)),F[ee+2]=kp.toHalfFloat(Math.min(W[U+2]*ne,65504)),F[ee+3]=kp.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const _=f(w),S=_.width,C=_.height,I=v(w.subarray(w.pos),S,C);let z,N,A;switch(this.type){case gs:A=I.length/4;const W=new Float32Array(A*4);for(let F=0;F<A;F++)y(I,F*4,W,F*4);z=W,N=gs;break;case Co:A=I.length/4;const U=new Uint16Array(A*4);for(let F=0;F<A;F++)b(I,F*4,U,F*4);z=U,N=Co;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:S,height:C,data:z,header:_.string,gamma:_.gamma,exposure:_.exposure,type:N}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case gs:case Co:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Kr,o.magFilter=Kr,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const P0="colorSpace"in new Yr;class c5e extends aU{constructor(e){super(e),this.type=Co}parse(e){const U=Math.pow(2.7182818,2.2);function F(Y,O){for(var Z=0,ie=0;ie<65536;++ie)(ie==0||Y[ie>>3]&1<<(ie&7))&&(O[Z++]=ie);for(var le=Z-1;Z<65536;)O[Z++]=0;return le}function ee(Y){for(var O=0;O<16384;O++)Y[O]={},Y[O].len=0,Y[O].lit=0,Y[O].p=null}const se={l:0,c:0,lc:0};function ne(Y,O,Z,ie,le){for(;Z<Y;)O=O<<8|Ae(ie,le),Z+=8;Z-=Y,se.l=O>>Z&(1<<Y)-1,se.c=O,se.lc=Z}const me=new Array(59);function be(Y){for(var O=0;O<=58;++O)me[O]=0;for(var O=0;O<65537;++O)me[Y[O]]+=1;for(var Z=0,O=58;O>0;--O){var ie=Z+me[O]>>1;me[O]=Z,Z=ie}for(var O=0;O<65537;++O){var le=Y[O];le>0&&(Y[O]=le|me[le]++<<6)}}function Se(Y,O,Z,ie,le,ce,Ve){for(var He=Z,Qe=0,it=0;le<=ce;le++){if(He.value-Z.value>ie)return!1;ne(6,Qe,it,Y,He);var at=se.l;if(Qe=se.c,it=se.lc,Ve[le]=at,at==63){if(He.value-Z.value>ie)throw"Something wrong with hufUnpackEncTable";ne(8,Qe,it,Y,He);var st=se.l+6;if(Qe=se.c,it=se.lc,le+st>ce+1)throw"Something wrong with hufUnpackEncTable";for(;st--;)Ve[le++]=0;le--}else if(at>=59){var st=at-59+2;if(le+st>ce+1)throw"Something wrong with hufUnpackEncTable";for(;st--;)Ve[le++]=0;le--}}be(Ve)}function Ue(Y){return Y&63}function J(Y){return Y>>6}function fe(Y,O,Z,ie){for(;O<=Z;O++){var le=J(Y[O]),ce=Ue(Y[O]);if(le>>ce)throw"Invalid table entry";if(ce>14){var Ve=ie[le>>ce-14];if(Ve.len)throw"Invalid table entry";if(Ve.lit++,Ve.p){var He=Ve.p;Ve.p=new Array(Ve.lit);for(var Qe=0;Qe<Ve.lit-1;++Qe)Ve.p[Qe]=He[Qe]}else Ve.p=new Array(1);Ve.p[Ve.lit-1]=O}else if(ce)for(var it=0,Qe=1<<14-ce;Qe>0;Qe--){var Ve=ie[(le<<14-ce)+it];if(Ve.len||Ve.p)throw"Invalid table entry";Ve.len=ce,Ve.lit=O,it++}}return!0}const re={c:0,lc:0};function Ce(Y,O,Z,ie){Y=Y<<8|Ae(Z,ie),O+=8,re.c=Y,re.lc=O}const ze={c:0,lc:0};function tt(Y,O,Z,ie,le,ce,Ve,He,Qe,it){if(Y==O){ie<8&&(Ce(Z,ie,le,Ve),Z=re.c,ie=re.lc),ie-=8;var at=Z>>ie,at=new Uint8Array([at])[0];if(Qe.value+at>it)return!1;for(var st=He[Qe.value-1];at-- >0;)He[Qe.value++]=st}else if(Qe.value<it)He[Qe.value++]=Y;else return!1;ze.c=Z,ze.lc=ie}function Ie(Y){return Y&65535}function Xe(Y){var O=Ie(Y);return O>32767?O-65536:O}const Re={a:0,b:0};function qe(Y,O){var Z=Xe(Y),ie=Xe(O),le=ie,ce=Z+(le&1)+(le>>1),Ve=ce,He=ce-le;Re.a=Ve,Re.b=He}function Ot(Y,O){var Z=Ie(Y),ie=Ie(O),le=Z-(ie>>1)&65535,ce=ie+le-32768&65535;Re.a=ce,Re.b=le}function ln(Y,O,Z,ie,le,ce,Ve){for(var He=Ve<16384,Qe=Z>le?le:Z,it=1,at;it<=Qe;)it<<=1;for(it>>=1,at=it,it>>=1;it>=1;){for(var st=0,Gt=st+ce*(le-at),Lt=ce*it,Bt=ce*at,un=ie*it,yn=ie*at,qt,Nt,pn,Ht;st<=Gt;st+=Bt){for(var Fe=st,Mt=st+ie*(Z-at);Fe<=Mt;Fe+=yn){var kt=Fe+un,Yn=Fe+Lt,er=Yn+un;He?(qe(Y[Fe+O],Y[Yn+O]),qt=Re.a,pn=Re.b,qe(Y[kt+O],Y[er+O]),Nt=Re.a,Ht=Re.b,qe(qt,Nt),Y[Fe+O]=Re.a,Y[kt+O]=Re.b,qe(pn,Ht),Y[Yn+O]=Re.a,Y[er+O]=Re.b):(Ot(Y[Fe+O],Y[Yn+O]),qt=Re.a,pn=Re.b,Ot(Y[kt+O],Y[er+O]),Nt=Re.a,Ht=Re.b,Ot(qt,Nt),Y[Fe+O]=Re.a,Y[kt+O]=Re.b,Ot(pn,Ht),Y[Yn+O]=Re.a,Y[er+O]=Re.b)}if(Z&it){var Yn=Fe+Lt;He?qe(Y[Fe+O],Y[Yn+O]):Ot(Y[Fe+O],Y[Yn+O]),qt=Re.a,Y[Yn+O]=Re.b,Y[Fe+O]=qt}}if(le&it)for(var Fe=st,Mt=st+ie*(Z-at);Fe<=Mt;Fe+=yn){var kt=Fe+un;He?qe(Y[Fe+O],Y[kt+O]):Ot(Y[Fe+O],Y[kt+O]),qt=Re.a,Y[kt+O]=Re.b,Y[Fe+O]=qt}at=it,it>>=1}return st}function Me(Y,O,Z,ie,le,ce,Ve,He,Qe,it){for(var at=0,st=0,Gt=He,Lt=Math.trunc(le.value+(ce+7)/8);le.value<Lt;)for(Ce(at,st,Z,le),at=re.c,st=re.lc;st>=14;){var Bt=at>>st-14&16383,un=O[Bt];if(un.len)st-=un.len,tt(un.lit,Ve,at,st,Z,ie,le,Qe,it,Gt),at=ze.c,st=ze.lc;else{if(!un.p)throw"hufDecode issues";var yn;for(yn=0;yn<un.lit;yn++){for(var qt=Ue(Y[un.p[yn]]);st<qt&&le.value<Lt;)Ce(at,st,Z,le),at=re.c,st=re.lc;if(st>=qt&&J(Y[un.p[yn]])==(at>>st-qt&(1<<qt)-1)){st-=qt,tt(un.p[yn],Ve,at,st,Z,ie,le,Qe,it,Gt),at=ze.c,st=ze.lc;break}}if(yn==un.lit)throw"hufDecode issues"}}var Nt=8-ce&7;for(at>>=Nt,st-=Nt;st>0;){var un=O[at<<14-st&16383];if(un.len)st-=un.len,tt(un.lit,Ve,at,st,Z,ie,le,Qe,it,Gt),at=ze.c,st=ze.lc;else throw"hufDecode issues"}return!0}function rn(Y,O,Z,ie,le,ce){var Ve={value:0},He=Z.value,Qe=Vt(O,Z),it=Vt(O,Z);Z.value+=4;var at=Vt(O,Z);if(Z.value+=4,Qe<0||Qe>=65537||it<0||it>=65537)throw"Something wrong with HUF_ENCSIZE";var st=new Array(65537),Gt=new Array(16384);ee(Gt);var Lt=ie-(Z.value-He);if(Se(Y,O,Z,Lt,Qe,it,st),at>8*(ie-(Z.value-He)))throw"Something wrong with hufUncompress";fe(st,Qe,it,Gt),Me(st,Gt,Y,O,Z,at,it,ce,le,Ve)}function We(Y,O,Z){for(var ie=0;ie<Z;++ie)O[ie]=Y[O[ie]]}function rt(Y){for(var O=1;O<Y.length;O++){var Z=Y[O-1]+Y[O]-128;Y[O]=Z}}function lt(Y,O){for(var Z=0,ie=Math.floor((Y.length+1)/2),le=0,ce=Y.length-1;!(le>ce||(O[le++]=Y[Z++],le>ce));)O[le++]=Y[ie++]}function bt(Y){for(var O=Y.byteLength,Z=new Array,ie=0,le=new DataView(Y);O>0;){var ce=le.getInt8(ie++);if(ce<0){var Ve=-ce;O-=Ve+1;for(var He=0;He<Ve;He++)Z.push(le.getUint8(ie++))}else{var Ve=ce;O-=2;for(var Qe=le.getUint8(ie++),He=0;He<Ve+1;He++)Z.push(Qe)}}return Z}function mt(Y,O,Z,ie,le,ce){var kt=new DataView(ce.buffer),Ve=Z[Y.idx[0]].width,He=Z[Y.idx[0]].height,Qe=3,it=Math.floor(Ve/8),at=Math.ceil(Ve/8),st=Math.ceil(He/8),Gt=Ve-(at-1)*8,Lt=He-(st-1)*8,Bt={value:0},un=new Array(Qe),yn=new Array(Qe),qt=new Array(Qe),Nt=new Array(Qe),pn=new Array(Qe);for(let on=0;on<Qe;++on)pn[on]=O[Y.idx[on]],un[on]=on<1?0:un[on-1]+at*st,yn[on]=new Float32Array(64),qt[on]=new Uint16Array(64),Nt[on]=new Uint16Array(at*64);for(let on=0;on<st;++on){var Ht=8;on==st-1&&(Ht=Lt);var Fe=8;for(let sr=0;sr<at;++sr){sr==at-1&&(Fe=Gt);for(let Nn=0;Nn<Qe;++Nn)qt[Nn].fill(0),qt[Nn][0]=le[un[Nn]++],Rt(Bt,ie,qt[Nn]),Ut(qt[Nn],yn[Nn]),X(yn[Nn]);j(yn);for(let Nn=0;Nn<Qe;++Nn)ae(yn[Nn],Nt[Nn],sr*64)}let Wr=0;for(let sr=0;sr<Qe;++sr){const Nn=Z[Y.idx[sr]].type;for(let si=8*on;si<8*on+Ht;++si){Wr=pn[sr][si];for(let Ws=0;Ws<it;++Ws){const Cr=Ws*64+(si&7)*8;kt.setUint16(Wr+0*2*Nn,Nt[sr][Cr+0],!0),kt.setUint16(Wr+1*2*Nn,Nt[sr][Cr+1],!0),kt.setUint16(Wr+2*2*Nn,Nt[sr][Cr+2],!0),kt.setUint16(Wr+3*2*Nn,Nt[sr][Cr+3],!0),kt.setUint16(Wr+4*2*Nn,Nt[sr][Cr+4],!0),kt.setUint16(Wr+5*2*Nn,Nt[sr][Cr+5],!0),kt.setUint16(Wr+6*2*Nn,Nt[sr][Cr+6],!0),kt.setUint16(Wr+7*2*Nn,Nt[sr][Cr+7],!0),Wr+=8*2*Nn}}if(it!=at)for(let si=8*on;si<8*on+Ht;++si){const Ws=pn[sr][si]+8*it*2*Nn,Cr=it*64+(si&7)*8;for(let Rr=0;Rr<Fe;++Rr)kt.setUint16(Ws+Rr*2*Nn,Nt[sr][Cr+Rr],!0)}}}for(var Mt=new Uint16Array(Ve),kt=new DataView(ce.buffer),Yn=0;Yn<Qe;++Yn){Z[Y.idx[Yn]].decoded=!0;var er=Z[Y.idx[Yn]].type;if(Z[Yn].type==2)for(var Sr=0;Sr<He;++Sr){const on=pn[Yn][Sr];for(var hn=0;hn<Ve;++hn)Mt[hn]=kt.getUint16(on+hn*2*er,!0);for(var hn=0;hn<Ve;++hn)kt.setFloat32(on+hn*2*er,Le(Mt[hn]),!0)}}}function Rt(Y,O,Z){for(var ie,le=1;le<64;)ie=O[Y.value],ie==65280?le=64:ie>>8==255?le+=ie&255:(Z[le]=ie,le++),Y.value++}function Ut(Y,O){O[0]=Le(Y[0]),O[1]=Le(Y[1]),O[2]=Le(Y[5]),O[3]=Le(Y[6]),O[4]=Le(Y[14]),O[5]=Le(Y[15]),O[6]=Le(Y[27]),O[7]=Le(Y[28]),O[8]=Le(Y[2]),O[9]=Le(Y[4]),O[10]=Le(Y[7]),O[11]=Le(Y[13]),O[12]=Le(Y[16]),O[13]=Le(Y[26]),O[14]=Le(Y[29]),O[15]=Le(Y[42]),O[16]=Le(Y[3]),O[17]=Le(Y[8]),O[18]=Le(Y[12]),O[19]=Le(Y[17]),O[20]=Le(Y[25]),O[21]=Le(Y[30]),O[22]=Le(Y[41]),O[23]=Le(Y[43]),O[24]=Le(Y[9]),O[25]=Le(Y[11]),O[26]=Le(Y[18]),O[27]=Le(Y[24]),O[28]=Le(Y[31]),O[29]=Le(Y[40]),O[30]=Le(Y[44]),O[31]=Le(Y[53]),O[32]=Le(Y[10]),O[33]=Le(Y[19]),O[34]=Le(Y[23]),O[35]=Le(Y[32]),O[36]=Le(Y[39]),O[37]=Le(Y[45]),O[38]=Le(Y[52]),O[39]=Le(Y[54]),O[40]=Le(Y[20]),O[41]=Le(Y[22]),O[42]=Le(Y[33]),O[43]=Le(Y[38]),O[44]=Le(Y[46]),O[45]=Le(Y[51]),O[46]=Le(Y[55]),O[47]=Le(Y[60]),O[48]=Le(Y[21]),O[49]=Le(Y[34]),O[50]=Le(Y[37]),O[51]=Le(Y[47]),O[52]=Le(Y[50]),O[53]=Le(Y[56]),O[54]=Le(Y[59]),O[55]=Le(Y[61]),O[56]=Le(Y[35]),O[57]=Le(Y[36]),O[58]=Le(Y[48]),O[59]=Le(Y[49]),O[60]=Le(Y[57]),O[61]=Le(Y[58]),O[62]=Le(Y[62]),O[63]=Le(Y[63])}function X(Y){const O=.5*Math.cos(.7853975),Z=.5*Math.cos(3.14159/16),ie=.5*Math.cos(3.14159/8),le=.5*Math.cos(3*3.14159/16),ce=.5*Math.cos(5*3.14159/16),Ve=.5*Math.cos(3*3.14159/8),He=.5*Math.cos(7*3.14159/16);for(var Qe=new Array(4),it=new Array(4),at=new Array(4),st=new Array(4),Gt=0;Gt<8;++Gt){var Lt=Gt*8;Qe[0]=ie*Y[Lt+2],Qe[1]=Ve*Y[Lt+2],Qe[2]=ie*Y[Lt+6],Qe[3]=Ve*Y[Lt+6],it[0]=Z*Y[Lt+1]+le*Y[Lt+3]+ce*Y[Lt+5]+He*Y[Lt+7],it[1]=le*Y[Lt+1]-He*Y[Lt+3]-Z*Y[Lt+5]-ce*Y[Lt+7],it[2]=ce*Y[Lt+1]-Z*Y[Lt+3]+He*Y[Lt+5]+le*Y[Lt+7],it[3]=He*Y[Lt+1]-ce*Y[Lt+3]+le*Y[Lt+5]-Z*Y[Lt+7],at[0]=O*(Y[Lt+0]+Y[Lt+4]),at[3]=O*(Y[Lt+0]-Y[Lt+4]),at[1]=Qe[0]+Qe[3],at[2]=Qe[1]-Qe[2],st[0]=at[0]+at[1],st[1]=at[3]+at[2],st[2]=at[3]-at[2],st[3]=at[0]-at[1],Y[Lt+0]=st[0]+it[0],Y[Lt+1]=st[1]+it[1],Y[Lt+2]=st[2]+it[2],Y[Lt+3]=st[3]+it[3],Y[Lt+4]=st[3]-it[3],Y[Lt+5]=st[2]-it[2],Y[Lt+6]=st[1]-it[1],Y[Lt+7]=st[0]-it[0]}for(var Bt=0;Bt<8;++Bt)Qe[0]=ie*Y[16+Bt],Qe[1]=Ve*Y[16+Bt],Qe[2]=ie*Y[48+Bt],Qe[3]=Ve*Y[48+Bt],it[0]=Z*Y[8+Bt]+le*Y[24+Bt]+ce*Y[40+Bt]+He*Y[56+Bt],it[1]=le*Y[8+Bt]-He*Y[24+Bt]-Z*Y[40+Bt]-ce*Y[56+Bt],it[2]=ce*Y[8+Bt]-Z*Y[24+Bt]+He*Y[40+Bt]+le*Y[56+Bt],it[3]=He*Y[8+Bt]-ce*Y[24+Bt]+le*Y[40+Bt]-Z*Y[56+Bt],at[0]=O*(Y[Bt]+Y[32+Bt]),at[3]=O*(Y[Bt]-Y[32+Bt]),at[1]=Qe[0]+Qe[3],at[2]=Qe[1]-Qe[2],st[0]=at[0]+at[1],st[1]=at[3]+at[2],st[2]=at[3]-at[2],st[3]=at[0]-at[1],Y[0+Bt]=st[0]+it[0],Y[8+Bt]=st[1]+it[1],Y[16+Bt]=st[2]+it[2],Y[24+Bt]=st[3]+it[3],Y[32+Bt]=st[3]-it[3],Y[40+Bt]=st[2]-it[2],Y[48+Bt]=st[1]-it[1],Y[56+Bt]=st[0]-it[0]}function j(Y){for(var O=0;O<64;++O){var Z=Y[0][O],ie=Y[1][O],le=Y[2][O];Y[0][O]=Z+1.5747*le,Y[1][O]=Z-.1873*ie-.4682*le,Y[2][O]=Z+1.8556*ie}}function ae(Y,O,Z){for(var ie=0;ie<64;++ie)O[Z+ie]=kp.toHalfFloat(ve(Y[ie]))}function ve(Y){return Y<=1?Math.sign(Y)*Math.pow(Math.abs(Y),2.2):Math.sign(Y)*Math.pow(U,Math.abs(Y)-1)}function de(Y){return new DataView(Y.array.buffer,Y.offset.value,Y.size)}function xe(Y){var O=Y.viewer.buffer.slice(Y.offset.value,Y.offset.value+Y.size),Z=new Uint8Array(bt(O)),ie=new Uint8Array(Z.length);return rt(Z),lt(Z,ie),new DataView(ie.buffer)}function Ee(Y){var O=Y.array.slice(Y.offset.value,Y.offset.value+Y.size),Z=WS(O),ie=new Uint8Array(Z.length);return rt(Z),lt(Z,ie),new DataView(ie.buffer)}function Ze(Y){for(var O=Y.viewer,Z={value:Y.offset.value},ie=new Uint16Array(Y.width*Y.scanlineBlockSize*(Y.channels*Y.type)),le=new Uint8Array(8192),ce=0,Ve=new Array(Y.channels),He=0;He<Y.channels;He++)Ve[He]={},Ve[He].start=ce,Ve[He].end=Ve[He].start,Ve[He].nx=Y.width,Ve[He].ny=Y.lines,Ve[He].size=Y.type,ce+=Ve[He].nx*Ve[He].ny*Ve[He].size;var Qe=_t(O,Z),it=_t(O,Z);if(it>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Qe<=it)for(var He=0;He<it-Qe+1;He++)le[He+Qe]=dt(O,Z);var at=new Uint16Array(65536),st=F(le,at),Gt=Vt(O,Z);rn(Y.array,O,Z,Gt,ie,ce);for(var He=0;He<Y.channels;++He)for(var Lt=Ve[He],Bt=0;Bt<Ve[He].size;++Bt)ln(ie,Lt.start+Bt,Lt.nx,Lt.size,Lt.ny,Lt.nx*Lt.size,st);We(at,ie,ce);for(var un=0,yn=new Uint8Array(ie.buffer.byteLength),qt=0;qt<Y.lines;qt++)for(var Nt=0;Nt<Y.channels;Nt++){var Lt=Ve[Nt],pn=Lt.nx*Lt.size,Ht=new Uint8Array(ie.buffer,Lt.end*2,pn*2);yn.set(Ht,un),un+=pn*2,Lt.end+=pn}return new DataView(yn.buffer)}function vt(Y){var O=Y.array.slice(Y.offset.value,Y.offset.value+Y.size),Z=WS(O);const ie=Y.lines*Y.channels*Y.width,le=Y.type==1?new Uint16Array(ie):new Uint32Array(ie);let ce=0,Ve=0;const He=new Array(4);for(let Qe=0;Qe<Y.lines;Qe++)for(let it=0;it<Y.channels;it++){let at=0;switch(Y.type){case 1:He[0]=ce,He[1]=He[0]+Y.width,ce=He[1]+Y.width;for(let st=0;st<Y.width;++st){const Gt=Z[He[0]++]<<8|Z[He[1]++];at+=Gt,le[Ve]=at,Ve++}break;case 2:He[0]=ce,He[1]=He[0]+Y.width,He[2]=He[1]+Y.width,ce=He[2]+Y.width;for(let st=0;st<Y.width;++st){const Gt=Z[He[0]++]<<24|Z[He[1]++]<<16|Z[He[2]++]<<8;at+=Gt,le[Ve]=at,Ve++}break}}return new DataView(le.buffer)}function Xt(Y){var O=Y.viewer,Z={value:Y.offset.value},ie=new Uint8Array(Y.width*Y.lines*(Y.channels*Y.type*2)),le={version:pt(O,Z),unknownUncompressedSize:pt(O,Z),unknownCompressedSize:pt(O,Z),acCompressedSize:pt(O,Z),dcCompressedSize:pt(O,Z),rleCompressedSize:pt(O,Z),rleUncompressedSize:pt(O,Z),rleRawSize:pt(O,Z),totalAcUncompressedCount:pt(O,Z),totalDcUncompressedCount:pt(O,Z),acCompression:pt(O,Z)};if(le.version<2)throw"EXRLoader.parse: "+Mn.compression+" version "+le.version+" is unsupported";for(var ce=new Array,Ve=_t(O,Z)-2;Ve>0;){var He=yt(O.buffer,Z),Qe=dt(O,Z),it=Qe>>2&3,at=(Qe>>4)-1,st=new Int8Array([at])[0],Gt=dt(O,Z);ce.push({name:He,index:st,type:Gt,compression:it}),Ve-=He.length+3}for(var Lt=Mn.channels,Bt=new Array(Y.channels),un=0;un<Y.channels;++un){var yn=Bt[un]={},qt=Lt[un];yn.name=qt.name,yn.compression=0,yn.decoded=!1,yn.type=qt.pixelType,yn.pLinear=qt.pLinear,yn.width=Y.width,yn.height=Y.lines}for(var Nt={idx:new Array(3)},pn=0;pn<Y.channels;++pn)for(var yn=Bt[pn],un=0;un<ce.length;++un){var Ht=ce[un];yn.name==Ht.name&&(yn.compression=Ht.compression,Ht.index>=0&&(Nt.idx[Ht.index]=pn),yn.offset=pn)}if(le.acCompressedSize>0)switch(le.acCompression){case 0:var kt=new Uint16Array(le.totalAcUncompressedCount);rn(Y.array,O,Z,le.acCompressedSize,kt,le.totalAcUncompressedCount);break;case 1:var Fe=Y.array.slice(Z.value,Z.value+le.totalAcUncompressedCount),Mt=WS(Fe),kt=new Uint16Array(Mt.buffer);Z.value+=le.totalAcUncompressedCount;break}if(le.dcCompressedSize>0){var Yn={array:Y.array,offset:Z,size:le.dcCompressedSize},er=new Uint16Array(Ee(Yn).buffer);Z.value+=le.dcCompressedSize}if(le.rleRawSize>0){var Fe=Y.array.slice(Z.value,Z.value+le.rleCompressedSize),Mt=WS(Fe),Sr=bt(Mt.buffer);Z.value+=le.rleCompressedSize}for(var hn=0,on=new Array(Bt.length),un=0;un<on.length;++un)on[un]=new Array;for(var Wr=0;Wr<Y.lines;++Wr)for(var sr=0;sr<Bt.length;++sr)on[sr].push(hn),hn+=Bt[sr].width*Y.type*2;mt(Nt,on,Bt,kt,er,ie);for(var un=0;un<Bt.length;++un){var yn=Bt[un];if(!yn.decoded)switch(yn.compression){case 2:for(var Nn=0,si=0,Wr=0;Wr<Y.lines;++Wr){for(var Ws=on[un][Nn],Cr=0;Cr<yn.width;++Cr){for(var Rr=0;Rr<2*yn.type;++Rr)ie[Ws++]=Sr[si+Rr*yn.width*yn.height];si++}Nn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ie.buffer)}function yt(Y,O){for(var Z=new Uint8Array(Y),ie=0;Z[O.value+ie]!=0;)ie+=1;var le=new TextDecoder().decode(Z.slice(O.value,O.value+ie));return O.value=O.value+ie+1,le}function zt(Y,O,Z){var ie=new TextDecoder().decode(new Uint8Array(Y).slice(O.value,O.value+Z));return O.value=O.value+Z,ie}function bn(Y,O){var Z=St(Y,O),ie=Vt(Y,O);return[Z,ie]}function Yt(Y,O){var Z=Vt(Y,O),ie=Vt(Y,O);return[Z,ie]}function St(Y,O){var Z=Y.getInt32(O.value,!0);return O.value=O.value+4,Z}function Vt(Y,O){var Z=Y.getUint32(O.value,!0);return O.value=O.value+4,Z}function Ae(Y,O){var Z=Y[O.value];return O.value=O.value+1,Z}function dt(Y,O){var Z=Y.getUint8(O.value);return O.value=O.value+1,Z}const pt=function(Y,O){let Z;return"getBigInt64"in DataView.prototype?Z=Number(Y.getBigInt64(O.value,!0)):Z=Y.getUint32(O.value+4,!0)+Number(Y.getUint32(O.value,!0)<<32),O.value+=8,Z};function ye(Y,O){var Z=Y.getFloat32(O.value,!0);return O.value+=4,Z}function ct(Y,O){return kp.toHalfFloat(ye(Y,O))}function Le(Y){var O=(Y&31744)>>10,Z=Y&1023;return(Y>>15?-1:1)*(O?O===31?Z?NaN:1/0:Math.pow(2,O-15)*(1+Z/1024):6103515625e-14*(Z/1024))}function _t(Y,O){var Z=Y.getUint16(O.value,!0);return O.value+=2,Z}function Pt(Y,O){return Le(_t(Y,O))}function Bn(Y,O,Z,ie){for(var le=Z.value,ce=[];Z.value<le+ie-1;){var Ve=yt(O,Z),He=St(Y,Z),Qe=dt(Y,Z);Z.value+=3;var it=St(Y,Z),at=St(Y,Z);ce.push({name:Ve,pixelType:He,pLinear:Qe,xSampling:it,ySampling:at})}return Z.value+=1,ce}function gn(Y,O){var Z=ye(Y,O),ie=ye(Y,O),le=ye(Y,O),ce=ye(Y,O),Ve=ye(Y,O),He=ye(Y,O),Qe=ye(Y,O),it=ye(Y,O);return{redX:Z,redY:ie,greenX:le,greenY:ce,blueX:Ve,blueY:He,whiteX:Qe,whiteY:it}}function En(Y,O){var Z=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ie=dt(Y,O);return Z[ie]}function kn(Y,O){var Z=Vt(Y,O),ie=Vt(Y,O),le=Vt(Y,O),ce=Vt(Y,O);return{xMin:Z,yMin:ie,xMax:le,yMax:ce}}function Fn(Y,O){var Z=["INCREASING_Y"],ie=dt(Y,O);return Z[ie]}function Gr(Y,O){var Z=ye(Y,O),ie=ye(Y,O);return[Z,ie]}function Kn(Y,O){var Z=ye(Y,O),ie=ye(Y,O),le=ye(Y,O);return[Z,ie,le]}function vi(Y,O,Z,ie,le){if(ie==="string"||ie==="stringvector"||ie==="iccProfile")return zt(O,Z,le);if(ie==="chlist")return Bn(Y,O,Z,le);if(ie==="chromaticities")return gn(Y,Z);if(ie==="compression")return En(Y,Z);if(ie==="box2i")return kn(Y,Z);if(ie==="lineOrder")return Fn(Y,Z);if(ie==="float")return ye(Y,Z);if(ie==="v2f")return Gr(Y,Z);if(ie==="v3f")return Kn(Y,Z);if(ie==="int")return St(Y,Z);if(ie==="rational")return bn(Y,Z);if(ie==="timecode")return Yt(Y,Z);if(ie==="preview")return Z.value+=le,"skipped";Z.value+=le}function is(Y,O,Z){const ie={};if(Y.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ie.version=Y.getUint8(4);const le=Y.getUint8(5);ie.spec={singleTile:!!(le&2),longName:!!(le&4),deepFormat:!!(le&8),multiPart:!!(le&16)},Z.value=8;for(var ce=!0;ce;){var Ve=yt(O,Z);if(Ve==0)ce=!1;else{var He=yt(O,Z),Qe=Vt(Y,Z),it=vi(Y,O,Z,He,Qe);it===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${He}'.`):ie[Ve]=it}}if(le&-5)throw console.error("EXRHeader:",ie),"THREE.EXRLoader: provided file is currently unsupported.";return ie}function vn(Y,O,Z,ie,le){const ce={size:0,viewer:O,array:Z,offset:ie,width:Y.dataWindow.xMax-Y.dataWindow.xMin+1,height:Y.dataWindow.yMax-Y.dataWindow.yMin+1,channels:Y.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Y.channels[0].pixelType,uncompress:null,getter:null,format:null,[P0?"colorSpace":"encoding"]:null};switch(Y.compression){case"NO_COMPRESSION":ce.lines=1,ce.uncompress=de;break;case"RLE_COMPRESSION":ce.lines=1,ce.uncompress=xe;break;case"ZIPS_COMPRESSION":ce.lines=1,ce.uncompress=Ee;break;case"ZIP_COMPRESSION":ce.lines=16,ce.uncompress=Ee;break;case"PIZ_COMPRESSION":ce.lines=32,ce.uncompress=Ze;break;case"PXR24_COMPRESSION":ce.lines=16,ce.uncompress=vt;break;case"DWAA_COMPRESSION":ce.lines=32,ce.uncompress=Xt;break;case"DWAB_COMPRESSION":ce.lines=256,ce.uncompress=Xt;break;default:throw"EXRLoader.parse: "+Y.compression+" is unsupported"}if(ce.scanlineBlockSize=ce.lines,ce.type==1)switch(le){case gs:ce.getter=Pt,ce.inputSize=2;break;case Co:ce.getter=_t,ce.inputSize=2;break}else if(ce.type==2)switch(le){case gs:ce.getter=ye,ce.inputSize=4;break;case Co:ce.getter=ct,ce.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ce.type+" for "+Y.compression+".";ce.blockCount=(Y.dataWindow.yMax+1)/ce.scanlineBlockSize;for(var Ve=0;Ve<ce.blockCount;Ve++)pt(O,ie);ce.outputChannels=ce.channels==3?4:ce.channels;const He=ce.width*ce.height*ce.outputChannels;switch(le){case gs:ce.byteArray=new Float32Array(He),ce.channels<ce.outputChannels&&ce.byteArray.fill(1,0,He);break;case Co:ce.byteArray=new Uint16Array(He),ce.channels<ce.outputChannels&&ce.byteArray.fill(15360,0,He);break;default:console.error("THREE.EXRLoader: unsupported type: ",le);break}return ce.bytesPerLine=ce.width*ce.inputSize*ce.channels,ce.outputChannels==4?ce.format=zs:ce.format=MM,P0?ce.colorSpace="srgb-linear":ce.encoding=3e3,ce}const In=new DataView(e),Dn=new Uint8Array(e),Et={value:0},Mn=is(In,e,Et),xn=vn(Mn,In,Dn,Et,this.type),ir={value:0},Ur={R:0,G:1,B:2,A:3,Y:0};for(let Y=0;Y<xn.height/xn.scanlineBlockSize;Y++){const O=Vt(In,Et);xn.size=Vt(In,Et),xn.lines=O+xn.scanlineBlockSize>xn.height?xn.height-O:xn.scanlineBlockSize;const ie=xn.size<xn.lines*xn.bytesPerLine?xn.uncompress(xn):de(xn);Et.value+=xn.size;for(let le=0;le<xn.scanlineBlockSize;le++){const ce=le+Y*xn.scanlineBlockSize;if(ce>=xn.height)break;for(let Ve=0;Ve<xn.channels;Ve++){const He=Ur[Mn.channels[Ve].name];for(let Qe=0;Qe<xn.width;Qe++){ir.value=(le*(xn.channels*xn.width)+Ve*xn.width+Qe)*xn.inputSize;const it=(xn.height-1-ce)*(xn.width*xn.outputChannels)+Qe*xn.outputChannels+He;xn.byteArray[it]=xn.getter(ie,ir)}}}}return{header:Mn,width:xn.width,height:xn.height,data:xn.byteArray,format:xn.format,[P0?"colorSpace":"encoding"]:xn[P0?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){P0?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=Kr,o.magFilter=Kr,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const f2=new WeakMap;class u5e extends No{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Lo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(f2.has(e)){const l=f2.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),f2.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new gr;e.index&&n.setIndex(new jr(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new jr(o,a))}return n}_loadLibrary(e,n){const r=new Lo(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=h5e.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function h5e(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,v=new d.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const y=n(d,f,v,c),b=y.attributes.map(w=>w.array.buffer);y.index&&b.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},b)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(v),d.destroy(f)}});break}};function n(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,v;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)f=new o.Mesh,v=a.DecodeBufferToMesh(l,f);else if(y===o.POINT_CLOUD)f=new o.PointCloud,v=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const b={index:null,attributes:[]};for(const w in u){const _=self[d[w]];let S,C;if(c.useUniqueIDs)C=u[w],S=a.GetAttributeByUniqueId(f,C);else{if(C=a.GetAttributeId(f,o[u[w]]),C===-1)continue;S=a.GetAttribute(f,C)}b.attributes.push(i(o,a,f,w,_,S))}return y===o.TRIANGULAR_MESH&&(b.index=r(o,a,f)),o.destroy(f),b}function r(o,a,l){const u=l.num_faces()*3,d=u*4,f=o._malloc(d);a.GetTrianglesUInt32Array(l,d,f);const v=new Uint32Array(o.HEAPF32.buffer,f,u).slice();return o._free(f),{array:v,itemSize:1}}function i(o,a,l,c,u,d){const f=d.num_components(),y=l.num_points()*f,b=y*u.BYTES_PER_ELEMENT,w=s(o,u),_=o._malloc(b);a.GetAttributeDataArrayForAllPoints(l,d,w,b,_);const S=new u(o.HEAPF32.buffer,_,y).slice();return o._free(_),{name:c,array:S,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let qS;const p2=()=>{if(qS)return qS;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const f=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const b=d.charCodeAt(y);f[y]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let v=0;for(let y=0;y<d.length;++y)f[v++]=f[y]<60?r[f[y]]:(f[y]-60)*64+f[++y];return f.buffer.slice(0,v)}function l(d,f,v,y,b,w){const _=s.exports.sbrk,S=v+3&-4,C=_(S*y),I=_(b.length),z=new Uint8Array(s.exports.memory.buffer);z.set(b,I);const N=d(C,v,y,I,b.length);if(N===0&&w&&w(C,S,y),f.set(z.subarray(C,C+v*y)),_(C-_(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return qS={ready:o,supported:!0,decodeVertexBuffer(d,f,v,y,b){l(s.exports.meshopt_decodeVertexBuffer,d,f,v,y,s.exports[c[b]])},decodeIndexBuffer(d,f,v,y){l(s.exports.meshopt_decodeIndexBuffer,d,f,v,y)},decodeIndexSequence(d,f,v,y){l(s.exports.meshopt_decodeIndexSequence,d,f,v,y)},decodeGltfBuffer(d,f,v,y,b,w){l(s.exports[u[b]],d,f,v,y,s.exports[c[w]])}},qS};let KS=null,tne="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function nne(t,e,n){return r=>{n&&n(r),t&&(KS||(KS=new u5e),KS.setDecoderPath(typeof t=="string"?t:tne),r.setDRACOLoader(KS)),e&&r.setMeshoptDecoder(typeof p2=="function"?p2():p2)}}function A1(t,e=!0,n=!0,r){return Oy(wU,t,nne(e,n,r))}A1.preload=(t,e=!0,n=!0,r)=>Oy.preload(wU,t,nne(e,n,r));A1.clear=t=>Oy.clear(wU,t);A1.setDecoderPath=t=>{tne=t};const rne=G.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=ul(N=>N.invalidate),f=ul(N=>N.camera),v=ul(N=>N.gl),y=ul(N=>N.events),b=ul(N=>N.setEvents),w=ul(N=>N.set),_=ul(N=>N.get),S=ul(N=>N.performance),C=e||f,I=r||y.connected||v.domElement,z=G.useMemo(()=>new Tze(C),[C]);return Ute(()=>{z.enabled&&z.update()},-1),G.useEffect(()=>(s&&z.connect(s===!0?I:s),z.connect(I),()=>void z.dispose()),[s,I,n,z,d]),G.useEffect(()=>{const N=U=>{d(),n&&S.regress(),o&&o(U)},A=U=>{a&&a(U)},W=U=>{l&&l(U)};return z.addEventListener("change",N),z.addEventListener("start",A),z.addEventListener("end",W),()=>{z.removeEventListener("start",A),z.removeEventListener("end",W),z.removeEventListener("change",N)}},[o,a,l,z,d,b]),G.useEffect(()=>{if(t){const N=_().controls;return w({controls:z}),()=>w({controls:N})}},[t,z]),G.createElement("primitive",fm({ref:u,object:z,enableDamping:i},c))}),d5e=3e3,f5e=3001,ine=(t,e,n)=>{let r;switch(t){case El:r=new Uint8ClampedArray(e*n*4);break;case Co:r=new Uint16Array(e*n*4);break;case gf:r=new Uint32Array(e*n*4);break;case TF:r=new Int8Array(e*n*4);break;case CF:r=new Int16Array(e*n*4);break;case CM:r=new Int32Array(e*n*4);break;case gs:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let YS;const p5e=(t,e,n,r)=>{if(YS!==void 0)return YS;const i=new Tl(1,1,r);e.setRenderTarget(i);const s=new Ni(new Lf,new Ka({color:16777215}));e.render(s,n),e.setRenderTarget(null);const o=ine(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),YS=o[0]!==0,YS};class SU{constructor(e){var n,r,i,s,o,a,l,c,u,d,f,v,y,b,w,_;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(C){throw this._renderer.setRenderTarget(null),C}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const S={format:zs,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:Kr,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:Kr,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS:ms,wrapT:((y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT:ms};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=SU.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new ay,this._camera=new Dc,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!p5e(this._type,this._renderer,this._camera,S)){let C;switch(this._type){case Co:C=this._renderer.extensions.has("EXT_color_buffer_float")?gs:void 0;break}C!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${gs}`),this._type=C):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Ni(new Lf,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Tl(this.width,this.height,S),this._renderTarget.texture.mapping=((w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.mapping:ff}static instantiateRenderer(){const e=new WF;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=ine(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new bh(this.toArray(),this.width,this.height,zs,this._type,(e==null?void 0:e.mapping)||ff,(e==null?void 0:e.wrapS)||ms,(e==null?void 0:e.wrapT)||ms,(e==null?void 0:e.magFilter)||Kr,(e==null?void 0:e.minFilter)||Kr,(e==null?void 0:e.anisotropy)||1,uc);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof el&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Yr&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Yr&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const m5e=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,g5e=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class v5e extends el{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:m5e,fragmentShader:g5e,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new oe(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new oe().fromArray(n)},offsetSdr:{value:new oe().fromArray(r)},gainMapMin:{value:new oe().fromArray(i)},gainMapMax:{value:new oe().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:Au,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class sne extends Error{}class one extends Error{}const I0=(t,e,n)=>{var r;let i;const s=(r=t.attributes.getNamedItem(e))===null||r===void 0?void 0:r.nodeValue;if(s)i=s;else{const o=t.getElementsByTagName(e)[0];if(o){const a=o.getElementsByTagName("rdf:li");if(a.length===3)i=Array.from(a).map(l=>l.innerHTML);else throw new Error(`Gainmap metadata contains an array of items for ${e} but its length is not 3`)}else{if(n)return n;throw new Error(`Can't find ${e} in gainmap metadata`)}}return i},y5e=t=>{var e,n;let r;typeof TextDecoder<"u"?r=new TextDecoder().decode(t):r=t.toString();let i=r.indexOf("<x:xmpmeta");const s=new DOMParser;for(;i!==-1;){const o=r.indexOf("x:xmpmeta>",i);r.slice(i,o+10);const a=r.slice(i,o+10);try{const c=s.parseFromString(a,"text/xml").getElementsByTagName("rdf:Description")[0],u=I0(c,"hdrgm:GainMapMin","0"),d=I0(c,"hdrgm:GainMapMax"),f=I0(c,"hdrgm:Gamma","1"),v=I0(c,"hdrgm:OffsetSDR","0.015625"),y=I0(c,"hdrgm:OffsetHDR","0.015625");let b=(e=c.attributes.getNamedItem("hdrgm:HDRCapacityMin"))===null||e===void 0?void 0:e.nodeValue;b||(b="0");const w=(n=c.attributes.getNamedItem("hdrgm:HDRCapacityMax"))===null||n===void 0?void 0:n.nodeValue;if(!w)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(u)?u.map(_=>parseFloat(_)):[parseFloat(u),parseFloat(u),parseFloat(u)],gainMapMax:Array.isArray(d)?d.map(_=>parseFloat(_)):[parseFloat(d),parseFloat(d),parseFloat(d)],gamma:Array.isArray(f)?f.map(_=>parseFloat(_)):[parseFloat(f),parseFloat(f),parseFloat(f)],offsetSdr:Array.isArray(v)?v.map(_=>parseFloat(_)):[parseFloat(v),parseFloat(v),parseFloat(v)],offsetHdr:Array.isArray(y)?y.map(_=>parseFloat(_)):[parseFloat(y),parseFloat(y),parseFloat(y)],hdrCapacityMin:parseFloat(b),hdrCapacityMax:parseFloat(w)}}catch{}i=r.indexOf("<x:xmpmeta",o)}};class _5e{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,c;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops 😵`));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(c=s.getUint8(a+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=a+4;if(s.getUint32(u)===1297106432){const d=u+4;let f;if(s.getUint16(d)===18761)f=!1;else if(s.getUint16(d)===19789)f=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(d+2,!f)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const v=s.getUint32(d+4,!f);if(v<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const y=d+v,b=s.getUint16(y,!f),w=y+2;let _=0;for(let z=w;z<w+12*b;z+=12)s.getUint16(z,!f)===45057&&(_=s.getUint32(z+8,!f));const C=y+2+b*12+4,I=[];for(let z=C;z<C+_*16;z+=16){const N={MPType:s.getUint32(z,!f),size:s.getUint32(z+4,!f),dataOffset:s.getUint32(z+8,!f),dependantImages:s.getUint32(z+12,!f),start:-1,end:-1,isFII:!1};N.dataOffset?(N.start=d+N.dataOffset,N.isFII=!1):(N.start=0,N.isFII=!0),N.end=N.start+N.size,I.push(N)}if(this.options.extractNonFII&&I.length){const z=new Blob([s]),N=[];for(const A of I){if(A.isFII&&!this.options.extractFII)continue;const W=z.slice(A.start,A.end+1,"image/jpeg");N.push(W)}n(N)}}}a+=2+s.getUint16(a+2)}})}}const x5e=async t=>{const e=y5e(t);if(!e)throw new one("Gain map XMP metadata not found");const r=await new _5e({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new sne("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},G8=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class ane extends No{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new JM}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new v5e({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Yr,sdr:new Yr});return new SU({width:16,height:16,type:Co,colorSpace:uc,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const f=await Promise.all([s?G8(s):Promise.resolve(void 0),G8(o)]);l=f[0],a=f[1],c=!0}else{const f=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=f[0],a=f[1]}const u=new Yr(l||new ImageData(2,2),ff,ms,ms,Kr,BO,zs,El,1,uc);u.flipY=c,u.needsUpdate=!0;const d=new Yr(a,ff,ms,ms,Kr,BO,zs,El,1,hl);d.flipY=c,d.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=u,e.material.sdr=d,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class b5e extends ane{load([e,n,r],i,s,o){const a=this.prepareQuadRenderer();let l,c,u;const d=async()=>{if(l&&c&&u){try{await this.render(a,u,l,c)}catch(U){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(U),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let f=!0,v=0,y=0,b=!0,w=0,_=0,S=!0,C=0,I=0;const z=()=>{if(typeof s=="function"){const U=v+w+C,F=y+_+I,ee=f&&b&&S;s(new ProgressEvent("progress",{lengthComputable:ee,loaded:F,total:U}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const N=new Lo(this._internalLoadingManager);N.setResponseType("arraybuffer"),N.setRequestHeader(this.requestHeader),N.setPath(this.path),N.setWithCredentials(this.withCredentials),N.load(e,async U=>{if(typeof U=="string")throw new Error("Invalid sdr buffer");l=U,await d()},U=>{f=U.lengthComputable,y=U.loaded,v=U.total,z()},U=>{this.manager.itemError(e),typeof o=="function"&&o(U)});const A=new Lo(this._internalLoadingManager);A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(this.withCredentials),A.load(n,async U=>{if(typeof U=="string")throw new Error("Invalid gainmap buffer");c=U,await d()},U=>{b=U.lengthComputable,_=U.loaded,w=U.total,z()},U=>{this.manager.itemError(n),typeof o=="function"&&o(U)});const W=new Lo(this._internalLoadingManager);return W.setRequestHeader(this.requestHeader),W.setPath(this.path),W.setWithCredentials(this.withCredentials),W.load(r,async U=>{if(typeof U!="string")throw new Error("Invalid metadata string");u=JSON.parse(U),await d()},U=>{S=U.lengthComputable,I=U.loaded,C=U.total,z()},U=>{this.manager.itemError(r),typeof o=="function"&&o(U)}),a}}class w5e extends ane{load(e,n,r,i){const s=this.prepareQuadRenderer(),o=new Lo(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,u,d;try{const f=await x5e(l);c=f.sdr,u=f.gainMap,d=f.metadata}catch(f){if(f instanceof one||f instanceof sne)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw f}try{await this.render(s,d,c,u)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const m2={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},S5e="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",JS=t=>Array.isArray(t);function lne({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var s;let o=null,a=!1,l;if(n){if(!(n in m2))throw new Error("Preset must be one of: "+Object.keys(m2).join(", "));t=m2[n],e=S5e}const c=JS(t)&&t.length===6,u=JS(t)&&t.length===3&&t.some(w=>w.endsWith("json")),d=JS(t)?t[0]:t;if(a=JS(t),l=c?"cube":u?"webp":d.startsWith("data:application/exr")?"exr":d.startsWith("data:application/hdr")?"hdr":d.startsWith("data:image/jpeg")?"jpg":(s=d.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=l==="cube"?ate:l==="hdr"?l5e:l==="exr"?c5e:l==="jpg"||l==="jpeg"?w5e:l==="webp"?b5e:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const f=ul(w=>w.gl),v=Oy(o,a?[t]:t,w=>{(l==="webp"||l==="jpg"||l==="jpeg")&&w.setRenderer(f),w.setPath==null||w.setPath(e),i&&i(w)});let y=a?v[0]:v;if(l==="jpg"||l==="jpeg"||l==="webp"){var b;y=(b=y.renderTarget)==null?void 0:b.texture}return y.mapping=c?ku:ty,"colorSpace"in y?y.colorSpace=r??c?"srgb":"srgb-linear":y.encoding=r??c?f5e:d5e,y}const A5e=t=>t.current&&t.current.isScene,E5e=t=>A5e(t)?t.current:t;function AU(t,e,n,r,i={}){var s,o,a,l,c;i={backgroundBlurriness:(s=i.blur)!==null&&s!==void 0?s:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=E5e(e||n),d=u.background,f=u.environment,v={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(o=(a=u.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&o!==void 0?o:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(l=(c=u.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),bd(u,i),()=>{t!=="only"&&(u.environment=f),t&&(u.background=d),bd(u,v)}}function EU({scene:t,background:e=!1,map:n,...r}){const i=ul(s=>s.scene);return G.useLayoutEffect(()=>{if(n)return AU(e,t,i,n,r)}),null}function cne({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const c=lne(l),u=ul(d=>d.scene);return G.useLayoutEffect(()=>AU(t,e,u,c,{blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),null}function T5e({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f,scene:v,files:y,path:b,preset:w=void 0,extensions:_}){const S=ul(W=>W.gl),C=ul(W=>W.scene),I=G.useRef(null),[z]=G.useState(()=>new ay),N=G.useMemo(()=>{const W=new VF(r);return W.texture.type=Co,W},[r]);G.useLayoutEffect(()=>(i===1&&I.current.update(S,z),AU(o,v,C,N.texture,{blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f})),[t,z,N.texture,v,C,o,i,S]);let A=1;return Ute(()=>{(i===1/0||A<i)&&(I.current.update(S,z),A++)}),G.createElement(G.Fragment,null,H4e(G.createElement(G.Fragment,null,t,G.createElement("cubeCamera",{ref:I,args:[e,n,N]}),y||w?G.createElement(cne,{background:!0,files:y,preset:w,path:b,extensions:_}):s?G.createElement(EU,{background:!0,map:s,extensions:_}):null),z))}function C5e(t){var e,n,r,i;const s=lne(t),o=t.map||s;G.useMemo(()=>Mte({GroundProjectedEnvImpl:wze}),[]);const a=G.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return G.createElement(G.Fragment,null,G.createElement(EU,fm({},t,{map:o})),G.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function une(t){return t.ground?G.createElement(C5e,t):t.map?G.createElement(EU,t):t.children?G.createElement(T5e,t):G.createElement(cne,t)}const M5e="/CryptoCasino/assets/Anya-BueBo2tV.glb";function P5e(t){const{scene:e}=A1(M5e);return V.jsx("primitive",{object:e,scale:t.scale||[1,1,1]})}function I5e(){return V.jsxs(Wte,{style:{height:"60vh",width:"60vw"},children:[V.jsx("ambientLight",{intensity:.5}),V.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),V.jsx("pointLight",{position:[-10,-10,-10]}),V.jsx(rne,{}),V.jsx(une,{preset:"sunset"}),V.jsx(P5e,{scale:[2.6,2.6,2.6]})," "]})}function R5e(){const t=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsxs(Lh.div,{style:t,className:"app",children:[V.jsx(Cm,{title:"Quantum Bet Bot"}),V.jsx("main",{className:"py-6",children:V.jsxs("div",{className:"content-container",children:[V.jsxs("section",{className:"container",children:[V.jsx("h2",{className:"text-2xl",children:"Juegos Destacados"}),V.jsxs("div",{className:"game-list",children:[V.jsx("div",{className:"game-item",children:V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/jack.jpg",alt:"juego de blackjack"})}),V.jsx("div",{className:"game-item",children:V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Roulette.png",alt:"juego de ruleta"})})]})]}),V.jsxs("section",{className:"container",children:[V.jsx("h2",{className:"text-2xl",children:"Promociones"}),V.jsxs("div",{className:"game-list",children:[V.jsx("div",{className:"game-item",children:V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Promocion1.webp",alt:"juego de blackjack"})}),V.jsx("div",{className:"game-item",children:V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/promocion2.webp",alt:"juego de blackjack"})}),V.jsx(I5e,{scale:[.1,.1,.1],position:[1,0,0]})]})]})]})}),V.jsx(Cke,{})]})}var E1=t=>t.type==="checkbox",tv=t=>t instanceof Date,Sa=t=>t==null;const hne=t=>typeof t=="object";var Gs=t=>!Sa(t)&&!Array.isArray(t)&&hne(t)&&!tv(t),L5e=t=>Gs(t)&&t.target?E1(t.target)?t.target.checked:t.target.value:t,k5e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,O5e=(t,e)=>t.has(k5e(e)),D5e=t=>{const e=t.constructor&&t.constructor.prototype;return Gs(e)&&e.hasOwnProperty("isPrototypeOf")},TU=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $l(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(TU&&(t instanceof Blob||t instanceof FileList))&&(n||Gs(t)))if(e=n?[]:{},!n&&!D5e(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=$l(t[r]));else return t;return e}var T1=t=>Array.isArray(t)?t.filter(Boolean):[],ds=t=>t===void 0,Sn=(t,e,n)=>{if(!e||!Gs(t))return n;const r=T1(e.split(/[,[\].]+?/)).reduce((i,s)=>Sa(i)?i:i[s],t);return ds(r)||r===t?ds(t[e])?n:t[e]:r},Qu=t=>typeof t=="boolean";const $8={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Te.createContext(null);var N5e=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==kc.all&&(e._proxyFormState[o]=!r||kc.all),n&&(n[o]=!0),t[o]}});return i},Kl=t=>Gs(t)&&!Object.keys(t).length,B5e=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Kl(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||kc.all))},g2=t=>Array.isArray(t)?t:[t];function F5e(t){const e=Te.useRef(t);e.current=t,Te.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var du=t=>typeof t=="string",U5e=(t,e,n,r,i)=>du(t)?(r&&e.watch.add(t),Sn(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Sn(n,s))):(r&&(e.watchAll=!0),n),CU=t=>/^\w*$/.test(t),dne=t=>T1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Oi=(t,e,n)=>{let r=-1;const i=CU(e)?[e]:dne(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Gs(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},z5e=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},W8=t=>({isOnSubmit:!t||t===kc.onSubmit,isOnBlur:t===kc.onBlur,isOnChange:t===kc.onChange,isOnAll:t===kc.all,isOnTouch:t===kc.onTouched}),X8=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const B_=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Sn(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;B_(a,e)}else Gs(a)&&B_(a,e)}}};var V5e=(t,e,n)=>{const r=T1(Sn(t,n));return Oi(r,"root",e[n]),Oi(t,n,r),t},MU=t=>t.type==="file",Vd=t=>typeof t=="function",OT=t=>{if(!TU)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ZA=t=>du(t),PU=t=>t.type==="radio",DT=t=>t instanceof RegExp;const q8={value:!1,isValid:!1},K8={value:!0,isValid:!0};var fne=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ds(t[0].attributes.value)?ds(t[0].value)||t[0].value===""?K8:{value:t[0].value,isValid:!0}:K8:q8}return q8};const Y8={isValid:!1,value:null};var pne=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Y8):Y8;function J8(t,e,n="validate"){if(ZA(t)||Array.isArray(t)&&t.every(ZA)||Qu(t)&&!t)return{type:n,message:ZA(t)?t:"",ref:e}}var mg=t=>Gs(t)&&!DT(t)?t:{value:t,message:""},Z8=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:v,name:y,valueAsNumber:b,mount:w,disabled:_}=t._f,S=Sn(e,y);if(!w||_)return{};const C=o?o[0]:s,I=se=>{r&&C.reportValidity&&(C.setCustomValidity(Qu(se)?"":se||""),C.reportValidity())},z={},N=PU(s),A=E1(s),W=N||A,U=(b||MU(s))&&ds(s.value)&&ds(S)||OT(s)&&s.value===""||S===""||Array.isArray(S)&&!S.length,F=z5e.bind(null,y,n,z),ee=(se,ne,me,be=Xu.maxLength,Se=Xu.minLength)=>{const Ue=se?ne:me;z[y]={type:se?be:Se,message:Ue,ref:s,...F(se?be:Se,Ue)}};if(i?!Array.isArray(S)||!S.length:a&&(!W&&(U||Sa(S))||Qu(S)&&!S||A&&!fne(o).isValid||N&&!pne(o).isValid)){const{value:se,message:ne}=ZA(a)?{value:!!a,message:a}:mg(a);if(se&&(z[y]={type:Xu.required,message:ne,ref:C,...F(Xu.required,ne)},!n))return I(ne),z}if(!U&&(!Sa(u)||!Sa(d))){let se,ne;const me=mg(d),be=mg(u);if(!Sa(S)&&!isNaN(S)){const Se=s.valueAsNumber||S&&+S;Sa(me.value)||(se=Se>me.value),Sa(be.value)||(ne=Se<be.value)}else{const Se=s.valueAsDate||new Date(S),Ue=re=>new Date(new Date().toDateString()+" "+re),J=s.type=="time",fe=s.type=="week";du(me.value)&&S&&(se=J?Ue(S)>Ue(me.value):fe?S>me.value:Se>new Date(me.value)),du(be.value)&&S&&(ne=J?Ue(S)<Ue(be.value):fe?S<be.value:Se<new Date(be.value))}if((se||ne)&&(ee(!!se,me.message,be.message,Xu.max,Xu.min),!n))return I(z[y].message),z}if((l||c)&&!U&&(du(S)||i&&Array.isArray(S))){const se=mg(l),ne=mg(c),me=!Sa(se.value)&&S.length>+se.value,be=!Sa(ne.value)&&S.length<+ne.value;if((me||be)&&(ee(me,se.message,ne.message),!n))return I(z[y].message),z}if(f&&!U&&du(S)){const{value:se,message:ne}=mg(f);if(DT(se)&&!S.match(se)&&(z[y]={type:Xu.pattern,message:ne,ref:s,...F(Xu.pattern,ne)},!n))return I(ne),z}if(v){if(Vd(v)){const se=await v(S,e),ne=J8(se,C);if(ne&&(z[y]={...ne,...F(Xu.validate,ne.message)},!n))return I(ne.message),z}else if(Gs(v)){let se={};for(const ne in v){if(!Kl(se)&&!n)break;const me=J8(await v[ne](S,e),C,ne);me&&(se={...me,...F(ne,me.message)},I(me.message),n&&(z[y]=se))}if(!Kl(se)&&(z[y]={ref:C,...se},!n))return z}}return I(!0),z};function H5e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ds(t)?r++:t[e[r++]];return t}function j5e(t){for(const e in t)if(t.hasOwnProperty(e)&&!ds(t[e]))return!1;return!0}function xo(t,e){const n=Array.isArray(e)?e:CU(e)?[e]:dne(e),r=n.length===1?t:H5e(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Gs(r)&&Kl(r)||Array.isArray(r)&&j5e(r))&&xo(t,n.slice(0,-1)),t}var v2=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},NT=t=>Sa(t)||!hne(t);function Bp(t,e){if(NT(t)||NT(e))return t===e;if(tv(t)&&tv(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(tv(s)&&tv(o)||Gs(s)&&Gs(o)||Array.isArray(s)&&Array.isArray(o)?!Bp(s,o):s!==o)return!1}}return!0}var mne=t=>t.type==="select-multiple",G5e=t=>PU(t)||E1(t),y2=t=>OT(t)&&t.isConnected,gne=t=>{for(const e in t)if(Vd(t[e]))return!0;return!1};function BT(t,e={}){const n=Array.isArray(t);if(Gs(t)||n)for(const r in t)Array.isArray(t[r])||Gs(t[r])&&!gne(t[r])?(e[r]=Array.isArray(t[r])?[]:{},BT(t[r],e[r])):Sa(t[r])||(e[r]=!0);return e}function vne(t,e,n){const r=Array.isArray(t);if(Gs(t)||r)for(const i in t)Array.isArray(t[i])||Gs(t[i])&&!gne(t[i])?ds(e)||NT(n[i])?n[i]=Array.isArray(t[i])?BT(t[i],[]):{...BT(t[i])}:vne(t[i],Sa(e)?{}:e[i],n[i]):n[i]=!Bp(t[i],e[i]);return n}var ZS=(t,e)=>vne(t,e,BT(e)),yne=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ds(t)?t:e?t===""?NaN:t&&+t:n&&du(t)?new Date(t):r?r(t):t;function _2(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return MU(e)?e.files:PU(e)?pne(t.refs).value:mne(e)?[...e.selectedOptions].map(({value:n})=>n):E1(e)?fne(t.refs).value:yne(ds(e.value)?t.ref.value:e.value,t)}var $5e=(t,e,n,r)=>{const i={};for(const s of t){const o=Sn(e,s);o&&Oi(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},R0=t=>ds(t)?t:DT(t)?t.source:Gs(t)?DT(t.value)?t.value.source:t.value:t,W5e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Q8(t,e,n){const r=Sn(t,n);if(r||CU(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Sn(e,s),a=Sn(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var X5e=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,q5e=(t,e)=>!T1(Sn(t,e)).length&&xo(t,e);const K5e={mode:kc.onSubmit,reValidateMode:kc.onChange,shouldFocusError:!0};function Y5e(t={},e){let n={...K5e,...t},r={submitCount:0,isDirty:!1,isLoading:Vd(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},s=Gs(n.values)||Gs(n.defaultValues)?$l(n.values||n.defaultValues)||{}:{},o=n.shouldUnregister?{}:$l(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:v2(),array:v2(),state:v2()},v=W8(n.mode),y=W8(n.reValidateMode),b=n.criteriaMode===kc.all,w=X=>j=>{clearTimeout(u),u=setTimeout(X,j)},_=async X=>{if(d.isValid||X){const j=n.resolver?Kl((await U()).errors):await ee(i,!0);j!==r.isValid&&f.state.next({isValid:j})}},S=X=>d.isValidating&&f.state.next({isValidating:X}),C=(X,j=[],ae,ve,de=!0,xe=!0)=>{if(ve&&ae){if(a.action=!0,xe&&Array.isArray(Sn(i,X))){const Ee=ae(Sn(i,X),ve.argA,ve.argB);de&&Oi(i,X,Ee)}if(xe&&Array.isArray(Sn(r.errors,X))){const Ee=ae(Sn(r.errors,X),ve.argA,ve.argB);de&&Oi(r.errors,X,Ee),q5e(r.errors,X)}if(d.touchedFields&&xe&&Array.isArray(Sn(r.touchedFields,X))){const Ee=ae(Sn(r.touchedFields,X),ve.argA,ve.argB);de&&Oi(r.touchedFields,X,Ee)}d.dirtyFields&&(r.dirtyFields=ZS(s,o)),f.state.next({name:X,isDirty:ne(X,j),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Oi(o,X,j)},I=(X,j)=>{Oi(r.errors,X,j),f.state.next({errors:r.errors})},z=X=>{r.errors=X,f.state.next({errors:r.errors,isValid:!1})},N=(X,j,ae,ve)=>{const de=Sn(i,X);if(de){const xe=Sn(o,X,ds(ae)?Sn(s,X):ae);ds(xe)||ve&&ve.defaultChecked||j?Oi(o,X,j?xe:_2(de._f)):Se(X,xe),a.mount&&_()}},A=(X,j,ae,ve,de)=>{let xe=!1,Ee=!1;const Ze={name:X},vt=!!(Sn(i,X)&&Sn(i,X)._f.disabled);if(!ae||ve){d.isDirty&&(Ee=r.isDirty,r.isDirty=Ze.isDirty=ne(),xe=Ee!==Ze.isDirty);const Xt=vt||Bp(Sn(s,X),j);Ee=!!(!vt&&Sn(r.dirtyFields,X)),Xt||vt?xo(r.dirtyFields,X):Oi(r.dirtyFields,X,!0),Ze.dirtyFields=r.dirtyFields,xe=xe||d.dirtyFields&&Ee!==!Xt}if(ae){const Xt=Sn(r.touchedFields,X);Xt||(Oi(r.touchedFields,X,ae),Ze.touchedFields=r.touchedFields,xe=xe||d.touchedFields&&Xt!==ae)}return xe&&de&&f.state.next(Ze),xe?Ze:{}},W=(X,j,ae,ve)=>{const de=Sn(r.errors,X),xe=d.isValid&&Qu(j)&&r.isValid!==j;if(t.delayError&&ae?(c=w(()=>I(X,ae)),c(t.delayError)):(clearTimeout(u),c=null,ae?Oi(r.errors,X,ae):xo(r.errors,X)),(ae?!Bp(de,ae):de)||!Kl(ve)||xe){const Ee={...ve,...xe&&Qu(j)?{isValid:j}:{},errors:r.errors,name:X};r={...r,...Ee},f.state.next(Ee)}S(!1)},U=async X=>n.resolver(o,n.context,$5e(X||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),F=async X=>{const{errors:j}=await U(X);if(X)for(const ae of X){const ve=Sn(j,ae);ve?Oi(r.errors,ae,ve):xo(r.errors,ae)}else r.errors=j;return j},ee=async(X,j,ae={valid:!0})=>{for(const ve in X){const de=X[ve];if(de){const{_f:xe,...Ee}=de;if(xe){const Ze=l.array.has(xe.name),vt=await Z8(de,o,b,n.shouldUseNativeValidation&&!j,Ze);if(vt[xe.name]&&(ae.valid=!1,j))break;!j&&(Sn(vt,xe.name)?Ze?V5e(r.errors,vt,xe.name):Oi(r.errors,xe.name,vt[xe.name]):xo(r.errors,xe.name))}Ee&&await ee(Ee,j,ae)}}return ae.valid},se=()=>{for(const X of l.unMount){const j=Sn(i,X);j&&(j._f.refs?j._f.refs.every(ae=>!y2(ae)):!y2(j._f.ref))&&qe(X)}l.unMount=new Set},ne=(X,j)=>(X&&j&&Oi(o,X,j),!Bp(ze(),s)),me=(X,j,ae)=>U5e(X,l,{...a.mount?o:ds(j)?s:du(X)?{[X]:j}:j},ae,j),be=X=>T1(Sn(a.mount?o:s,X,t.shouldUnregister?Sn(s,X,[]):[])),Se=(X,j,ae={})=>{const ve=Sn(i,X);let de=j;if(ve){const xe=ve._f;xe&&(!xe.disabled&&Oi(o,X,yne(j,xe)),de=OT(xe.ref)&&Sa(j)?"":j,mne(xe.ref)?[...xe.ref.options].forEach(Ee=>Ee.selected=de.includes(Ee.value)):xe.refs?E1(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(de)?!!de.find(Ze=>Ze===Ee.value):de===Ee.value)):xe.refs[0]&&(xe.refs[0].checked=!!de):xe.refs.forEach(Ee=>Ee.checked=Ee.value===de):MU(xe.ref)?xe.ref.value="":(xe.ref.value=de,xe.ref.type||f.values.next({name:X,values:{...o}})))}(ae.shouldDirty||ae.shouldTouch)&&A(X,de,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&Ce(X)},Ue=(X,j,ae)=>{for(const ve in j){const de=j[ve],xe=`${X}.${ve}`,Ee=Sn(i,xe);(l.array.has(X)||!NT(de)||Ee&&!Ee._f)&&!tv(de)?Ue(xe,de,ae):Se(xe,de,ae)}},J=(X,j,ae={})=>{const ve=Sn(i,X),de=l.array.has(X),xe=$l(j);Oi(o,X,xe),de?(f.array.next({name:X,values:{...o}}),(d.isDirty||d.dirtyFields)&&ae.shouldDirty&&f.state.next({name:X,dirtyFields:ZS(s,o),isDirty:ne(X,xe)})):ve&&!ve._f&&!Sa(xe)?Ue(X,xe,ae):Se(X,xe,ae),X8(X,l)&&f.state.next({...r}),f.values.next({name:X,values:{...o}}),!a.mount&&e()},fe=async X=>{const j=X.target;let ae=j.name,ve=!0;const de=Sn(i,ae),xe=()=>j.type?_2(de._f):L5e(X),Ee=Ze=>{ve=Number.isNaN(Ze)||Ze===Sn(o,ae,Ze)};if(de){let Ze,vt;const Xt=xe(),yt=X.type===$8.BLUR||X.type===$8.FOCUS_OUT,zt=!W5e(de._f)&&!n.resolver&&!Sn(r.errors,ae)&&!de._f.deps||X5e(yt,Sn(r.touchedFields,ae),r.isSubmitted,y,v),bn=X8(ae,l,yt);Oi(o,ae,Xt),yt?(de._f.onBlur&&de._f.onBlur(X),c&&c(0)):de._f.onChange&&de._f.onChange(X);const Yt=A(ae,Xt,yt,!1),St=!Kl(Yt)||bn;if(!yt&&f.values.next({name:ae,type:X.type,values:{...o}}),zt)return d.isValid&&_(),St&&f.state.next({name:ae,...bn?{}:Yt});if(!yt&&bn&&f.state.next({...r}),S(!0),n.resolver){const{errors:Vt}=await U([ae]);if(Ee(Xt),ve){const Ae=Q8(r.errors,i,ae),dt=Q8(Vt,i,Ae.name||ae);Ze=dt.error,ae=dt.name,vt=Kl(Vt)}}else Ze=(await Z8(de,o,b,n.shouldUseNativeValidation))[ae],Ee(Xt),ve&&(Ze?vt=!1:d.isValid&&(vt=await ee(i,!0)));ve&&(de._f.deps&&Ce(de._f.deps),W(ae,vt,Ze,Yt))}},re=(X,j)=>{if(Sn(r.errors,j)&&X.focus)return X.focus(),1},Ce=async(X,j={})=>{let ae,ve;const de=g2(X);if(S(!0),n.resolver){const xe=await F(ds(X)?X:de);ae=Kl(xe),ve=X?!de.some(Ee=>Sn(xe,Ee)):ae}else X?(ve=(await Promise.all(de.map(async xe=>{const Ee=Sn(i,xe);return await ee(Ee&&Ee._f?{[xe]:Ee}:Ee)}))).every(Boolean),!(!ve&&!r.isValid)&&_()):ve=ae=await ee(i);return f.state.next({...!du(X)||d.isValid&&ae!==r.isValid?{}:{name:X},...n.resolver||!X?{isValid:ae}:{},errors:r.errors,isValidating:!1}),j.shouldFocus&&!ve&&B_(i,re,X?de:l.mount),ve},ze=X=>{const j={...s,...a.mount?o:{}};return ds(X)?j:du(X)?Sn(j,X):X.map(ae=>Sn(j,ae))},tt=(X,j)=>({invalid:!!Sn((j||r).errors,X),isDirty:!!Sn((j||r).dirtyFields,X),isTouched:!!Sn((j||r).touchedFields,X),error:Sn((j||r).errors,X)}),Ie=X=>{X&&g2(X).forEach(j=>xo(r.errors,j)),f.state.next({errors:X?r.errors:{}})},Xe=(X,j,ae)=>{const ve=(Sn(i,X,{_f:{}})._f||{}).ref;Oi(r.errors,X,{...j,ref:ve}),f.state.next({name:X,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&ve&&ve.focus&&ve.focus()},Re=(X,j)=>Vd(X)?f.values.subscribe({next:ae=>X(me(void 0,j),ae)}):me(X,j,!0),qe=(X,j={})=>{for(const ae of X?g2(X):l.mount)l.mount.delete(ae),l.array.delete(ae),j.keepValue||(xo(i,ae),xo(o,ae)),!j.keepError&&xo(r.errors,ae),!j.keepDirty&&xo(r.dirtyFields,ae),!j.keepTouched&&xo(r.touchedFields,ae),!n.shouldUnregister&&!j.keepDefaultValue&&xo(s,ae);f.values.next({values:{...o}}),f.state.next({...r,...j.keepDirty?{isDirty:ne()}:{}}),!j.keepIsValid&&_()},Ot=({disabled:X,name:j,field:ae,fields:ve,value:de})=>{if(Qu(X)){const xe=X?void 0:ds(de)?_2(ae?ae._f:Sn(ve,j)._f):de;Oi(o,j,xe),A(j,xe,!1,!1,!0)}},ln=(X,j={})=>{let ae=Sn(i,X);const ve=Qu(j.disabled);return Oi(i,X,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:X}},name:X,mount:!0,...j}}),l.mount.add(X),ae?Ot({field:ae,disabled:j.disabled,name:X,value:j.value}):N(X,!0,j.value),{...ve?{disabled:j.disabled}:{},...n.progressive?{required:!!j.required,min:R0(j.min),max:R0(j.max),minLength:R0(j.minLength),maxLength:R0(j.maxLength),pattern:R0(j.pattern)}:{},name:X,onChange:fe,onBlur:fe,ref:de=>{if(de){ln(X,j),ae=Sn(i,X);const xe=ds(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Ee=G5e(xe),Ze=ae._f.refs||[];if(Ee?Ze.find(vt=>vt===xe):xe===ae._f.ref)return;Oi(i,X,{_f:{...ae._f,...Ee?{refs:[...Ze.filter(y2),xe,...Array.isArray(Sn(s,X))?[{}]:[]],ref:{type:xe.type,name:X}}:{ref:xe}}}),N(X,!1,void 0,xe)}else ae=Sn(i,X,{}),ae._f&&(ae._f.mount=!1),(n.shouldUnregister||j.shouldUnregister)&&!(O5e(l.array,X)&&a.action)&&l.unMount.add(X)}}},Me=()=>n.shouldFocusError&&B_(i,re,l.mount),rn=X=>{Qu(X)&&(f.state.next({disabled:X}),B_(i,(j,ae)=>{let ve=X;const de=Sn(i,ae);de&&Qu(de._f.disabled)&&(ve||(ve=de._f.disabled)),j.disabled=ve},0,!1))},We=(X,j)=>async ae=>{let ve;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let de=$l(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:xe,values:Ee}=await U();r.errors=xe,de=Ee}else await ee(i);if(xo(r.errors,"root"),Kl(r.errors)){f.state.next({errors:{}});try{await X(de,ae)}catch(xe){ve=xe}}else j&&await j({...r.errors},ae),Me(),setTimeout(Me);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kl(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},rt=(X,j={})=>{Sn(i,X)&&(ds(j.defaultValue)?J(X,$l(Sn(s,X))):(J(X,j.defaultValue),Oi(s,X,$l(j.defaultValue))),j.keepTouched||xo(r.touchedFields,X),j.keepDirty||(xo(r.dirtyFields,X),r.isDirty=j.defaultValue?ne(X,$l(Sn(s,X))):ne()),j.keepError||(xo(r.errors,X),d.isValid&&_()),f.state.next({...r}))},lt=(X,j={})=>{const ae=X?$l(X):s,ve=$l(ae),de=X&&!Kl(X)?ve:s;if(j.keepDefaultValues||(s=ae),!j.keepValues){if(j.keepDirtyValues)for(const xe of l.mount)Sn(r.dirtyFields,xe)?Oi(de,xe,Sn(o,xe)):J(xe,Sn(de,xe));else{if(TU&&ds(X))for(const xe of l.mount){const Ee=Sn(i,xe);if(Ee&&Ee._f){const Ze=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(OT(Ze)){const vt=Ze.closest("form");if(vt){vt.reset();break}}}}i={}}o=t.shouldUnregister?j.keepDefaultValues?$l(s):{}:$l(de),f.array.next({values:{...de}}),f.values.next({values:{...de}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:j.keepSubmitCount?r.submitCount:0,isDirty:j.keepDirty?r.isDirty:!!(j.keepDefaultValues&&!Bp(X,s)),isSubmitted:j.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:j.keepDirtyValues?j.keepDefaultValues&&o?ZS(s,o):r.dirtyFields:j.keepDefaultValues&&X?ZS(s,X):{},touchedFields:j.keepTouched?r.touchedFields:{},errors:j.keepErrors?r.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},bt=(X,j)=>lt(Vd(X)?X(o):X,j);return{control:{register:ln,unregister:qe,getFieldState:tt,handleSubmit:We,setError:Xe,_executeSchema:U,_getWatch:me,_getDirty:ne,_updateValid:_,_removeUnmounted:se,_updateFieldArray:C,_updateDisabledField:Ot,_getFieldArray:be,_reset:lt,_resetDefaultValues:()=>Vd(n.defaultValues)&&n.defaultValues().then(X=>{bt(X,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:X=>{r={...r,...X}},_disableForm:rn,_subjects:f,_proxyFormState:d,_setErrors:z,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(X){a=X},get _defaultValues(){return s},get _names(){return l},set _names(X){l=X},get _formState(){return r},set _formState(X){r=X},get _options(){return n},set _options(X){n={...n,...X}}},trigger:Ce,register:ln,handleSubmit:We,watch:Re,setValue:J,getValues:ze,reset:bt,resetField:rt,clearErrors:Ie,unregister:qe,setError:Xe,setFocus:(X,j={})=>{const ae=Sn(i,X),ve=ae&&ae._f;if(ve){const de=ve.refs?ve.refs[0]:ve.ref;de.focus&&(de.focus(),j.shouldSelect&&de.select())}},getFieldState:tt}}function _ne(t={}){const e=Te.useRef(),n=Te.useRef(),[r,i]=Te.useState({isDirty:!1,isValidating:!1,isLoading:Vd(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Vd(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Y5e(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,F5e({subject:s._subjects.state,next:o=>{B5e(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Te.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Te.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Te.useEffect(()=>{t.values&&!Bp(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Te.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Te.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Te.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=N5e(r,s),e.current}function J5e(){const{register:t,handleSubmit:e,formState:{errors:n}}=_ne(),r=s=>{console.log(s),alert("¡Formulario enviado con éxito!")},i=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsxs(Lh.div,{style:i,className:"app",children:[V.jsx(Cm,{title:"Contacto"}),V.jsx("section",{className:"contact-section",children:V.jsxs("div",{className:"container mx-auto",children:[V.jsx("h2",{children:"Contacta con nosotros"}),V.jsx("p",{children:"¿Tienes preguntas, sugerencias o quieres trabajar con nosotros? ¡No dudes en contactarnos!"}),V.jsx("div",{className:"contact-info",children:V.jsxs("ul",{children:[V.jsxs("li",{children:[V.jsx("i",{className:"fas fa-phone"})," +34 911 21 00 90"]}),V.jsxs("li",{children:[V.jsx("i",{className:"fas fa-envelope"})," info@quantumbetbot.com"]})]})}),V.jsx("div",{className:"contact-form",children:V.jsxs("form",{onSubmit:e(r),children:[V.jsx("input",{type:"text",name:"nombre",placeholder:"Tu nombre",...t("nombre",{required:"Este campo es requerido"})}),n.nombre&&V.jsx("p",{children:n.nombre.message}),V.jsx("input",{type:"email",name:"email",placeholder:"Tu email",...t("email",{required:"Este campo es requerido",pattern:{value:/^\S+@\S+$/i,message:"Por favor, ingresa una dirección de correo válida"}})}),n.email&&V.jsx("p",{children:n.email.message}),V.jsx("textarea",{name:"mensaje",placeholder:"Tu mensaje",...t("mensaje",{required:"Este campo es requerido"})}),n.mensaje&&V.jsx("p",{children:n.mensaje.message}),V.jsx("button",{type:"submit",className:"btn",children:"Enviar mensaje"})]})})]})})]})}const CD=({children:t})=>{const{loading:e,user:n}=G.useContext(Pu);return e?V.jsx("span",{className:"loading loading-dots loading-lg"}):n?t:V.jsx(Poe,{to:"/login"})};CD.propTypes={children:jt.node};const Z5e=()=>{const{loginUser:t,loading:e,user:n}=G.useContext(Pu),r=py(),i=Rh({from:{opacity:0,transform:"translate3d(0,-40px,0)",width:"0%"},to:{opacity:1,transform:"translate3d(0,0px,0)",width:"100%"},config:{tension:210,friction:20}});if(e)return V.jsx("span",{className:"loading loading-dots loading-lg flex item-center mx-auto"});const s=async a=>{a.preventDefault();const l=a.target.email.value,c=a.target.password.value;try{await t(l,c).then(u=>{alert("Inicio de sesión exitoso!"),r("/Profile")})}catch{alert("Error al iniciar sesión. Verifica tus credenciales e inténtalo de nuevo.")}a.target.reset()},o=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsx(Lh.div,{style:o,className:"app",children:V.jsxs(Lh.div,{style:i,children:[V.jsxs("header",{children:[V.jsx("h1",{className:"title",children:V.jsxs(ra,{to:"/",children:[V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Logo.png",alt:"Logo"}),"Quantum Bet Bot"]})}),V.jsx(iC,{})]}),V.jsx("main",{className:"py-6",children:V.jsxs("div",{className:"login-container",children:[V.jsx("h2",{children:"Ingresa a tu cuenta"}),V.jsxs("form",{onSubmit:s,name:"sesion",children:[V.jsxs("div",{className:"input-group",children:[V.jsx("label",{name:"email",children:"Correo electrónico:"}),V.jsx("input",{name:"email",type:"email",placeholder:"Email"})]}),V.jsxs("div",{className:"input-group",children:[V.jsx("label",{name:"password",children:"Contraseña:"}),V.jsx("input",{type:"password",name:"password",placeholder:"Password"})]}),V.jsxs("div",{children:[V.jsx("label",{name:"recuerdame",children:"Recuérdame"}),V.jsx("input",{type:"checkbox",className:"box"})]}),V.jsx("div",{children:V.jsx("li",{children:V.jsx(ra,{to:"/Contact",style:{color:"darkorchid"},children:"¿Has olvidado tu contraseña?"})})}),V.jsx("div",{children:V.jsx("button",{type:"submit",className:"login-btn",children:"Iniciar sesión"})}),V.jsx("div",{children:V.jsx("li",{name:"registro",children:V.jsx(ra,{to:"/register",style:{color:"darkorchid"},children:"¿No tienes cuenta?"})})})]})]})})]})})},xne=async t=>{try{const e=await XB(hm(jv,"users",t));return e.exists()?e.data().balance:(console.error("No such document!"),null)}catch(e){return console.error("Error al obtener el balance: ",e),null}};function Q5e(){const{createUser:t,user:e,loading:n}=G.useContext(Pu);G.useState(null);const[r,i]=G.useState(null),s=py(),o=async c=>{c.preventDefault();const u=c.target.usuario.value,d=c.target.email.value,f=c.target.password.value;t(d,f).then(v=>{const y=v.user.uid;gce(Od==null?void 0:Od.currentUser,{displayName:u}),Qpe(hm(jv,"users",y),{usuario:u,email:d,balance:40}).then(async()=>{alert("Usuario registrado con éxito!"),s("/Profile"),_7(Od,d,f).then(async()=>{const b=await xne(y);i(b),handleOnPurchase(y),s("/Profile")}).catch(b=>{console.error("Error al iniciar sesión después del registro: ",b)}),setSubmitted(!0),setError(!1)}).catch(b=>{console.error("Error al guardar los datos del usuario: ",b)})}).catch(v=>{console.error("Error al registrar el usuario: ",v)}),c.target.reset()},a=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}}),{register:l}=_ne();return V.jsxs(Lh.div,{style:a,className:"app",children:[V.jsxs("header",{children:[V.jsx("h1",{className:"title",children:V.jsxs(ra,{to:"/",children:[V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Logo.png",alt:"Logo"}),"Quantum Bet Bot"]})}),V.jsx(iC,{})]}),V.jsx("main",{className:"py-6",children:V.jsxs("div",{className:"login-container",style:{height:"450px"},children:[V.jsx("h2",{children:"Crea tu cuenta"}),V.jsxs("form",{onSubmit:o,children:[V.jsxs("div",{className:"input-group",children:[V.jsx("label",{name:"usuario",children:"Usuario:"}),V.jsx("input",{id:"usuario",type:"text",...l("usuario",{required:"Este campo es requerido"}),placeholder:"Usuario"})]}),V.jsxs("div",{className:"input-group",children:[V.jsx("label",{name:"email",children:"Correo:"}),V.jsx("input",{type:"email",name:"email",...l("email",{required:"Este campo es requerido",pattern:{value:/^\S+@\S+$/i,message:"Por favor, ingresa una dirección de correo válida"}}),placeholder:"Email"})]}),V.jsxs("div",{className:"input-group",children:[V.jsx("label",{name:"password",children:"Contraseña:"}),V.jsx("input",{type:"password",name:"password",...l("password",{required:"Este campo es requerido"}),placeholder:"Password"})]}),V.jsx("div",{children:V.jsx("button",{type:"submit",className:"login-btn",children:"Registrarse"})})]}),V.jsx("div",{children:V.jsxs("p",{children:["¿Ya tienes una cuenta? ",V.jsx(ra,{to:"/login",style:{color:"darkorchid"},children:"Inicia sesión"})]})}),r!==null&&V.jsxs("p",{children:["Tu balance es: ",r]})," "]})})]})}const eVe=()=>{const[t,e]=G.useState(null),{user:n,logOut:r}=G.useContext(Pu);G.useEffect(()=>{(async()=>{if(n){const o=await xne(n.uid);e(o)}})()},[n]);const i=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsxs(Lh.div,{style:i,className:"app",children:[V.jsxs("header",{children:[V.jsx("h1",{className:"title",children:V.jsxs(ra,{to:"/",children:[V.jsx("img",{src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Logo.png",alt:"Logo"}),"Perfil"]})}),V.jsx("div",{children:V.jsx("button",{className:"logout-btn",onClick:r,children:"Cerrar sesión"})}),V.jsx(iC,{})]}),V.jsx("main",{className:"py-6",children:V.jsx("div",{children:V.jsxs("div",{className:"hero-content flex-col lg:flex-row",children:[V.jsx("img",{src:"https://media.discordapp.net/attachments/1155067568885862420/1244730756790485114/image.png?ex=66562d5a&is=6654dbda&hm=66c2f0b153a01a88d1f3961689b90b204835ca1020ccc676a4d74d093ff7f04e&=&format=webp&quality=lossless&width=632&height=676",className:"max-w-sm rounded-lg shadow-2xl"}),V.jsxs("div",{children:[V.jsxs("p",{style:{color:"white"},children:["¡Bienvenido ",n==null?void 0:n.displayName,"!"]}),V.jsxs("p",{style:{color:"white"},children:["Tu correo es: ",n==null?void 0:n.email]}),t!==null?V.jsxs("p",{style:{color:"white"},children:["Tu balance es: ",t]}):V.jsx("p",{style:{color:"white"},children:"Obteniendo balance..."}),V.jsx("button",{className:"btn btn-primary",children:V.jsx(ra,{to:"/",children:"¿Listo para jugar?"})})]})]})})})]})};var bne={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:wg,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(x){return r.flat.call(x)}:function(x){return r.concat.apply([],x)},a=r.push,l=r.indexOf,c={},u=c.toString,d=c.hasOwnProperty,f=d.toString,v=f.call(Object),y={},b=function(M){return typeof M=="function"&&typeof M.nodeType!="number"&&typeof M.item!="function"},w=function(M){return M!=null&&M===M.window},_=e.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function C(x,M,k){k=k||_;var B,q,K=k.createElement("script");if(K.text=x,M)for(B in S)q=M[B]||M.getAttribute&&M.getAttribute(B),q&&K.setAttribute(B,q);k.head.appendChild(K).parentNode.removeChild(K)}function I(x){return x==null?x+"":typeof x=="object"||typeof x=="function"?c[u.call(x)]||"object":typeof x}var z="3.7.1",N=/HTML$/i,A=function(x,M){return new A.fn.init(x,M)};A.fn=A.prototype={jquery:z,constructor:A,length:0,toArray:function(){return s.call(this)},get:function(x){return x==null?s.call(this):x<0?this[x+this.length]:this[x]},pushStack:function(x){var M=A.merge(this.constructor(),x);return M.prevObject=this,M},each:function(x){return A.each(this,x)},map:function(x){return this.pushStack(A.map(this,function(M,k){return x.call(M,k,M)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(x,M){return(M+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(x,M){return M%2}))},eq:function(x){var M=this.length,k=+x+(x<0?M:0);return this.pushStack(k>=0&&k<M?[this[k]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},A.extend=A.fn.extend=function(){var x,M,k,B,q,K,Q=arguments[0]||{},_e=1,ge=arguments.length,ke=!1;for(typeof Q=="boolean"&&(ke=Q,Q=arguments[_e]||{},_e++),typeof Q!="object"&&!b(Q)&&(Q={}),_e===ge&&(Q=this,_e--);_e<ge;_e++)if((x=arguments[_e])!=null)for(M in x)B=x[M],!(M==="__proto__"||Q===B)&&(ke&&B&&(A.isPlainObject(B)||(q=Array.isArray(B)))?(k=Q[M],q&&!Array.isArray(k)?K=[]:!q&&!A.isPlainObject(k)?K={}:K=k,q=!1,Q[M]=A.extend(ke,K,B)):B!==void 0&&(Q[M]=B));return Q},A.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(x){throw new Error(x)},noop:function(){},isPlainObject:function(x){var M,k;return!x||u.call(x)!=="[object Object]"?!1:(M=i(x),M?(k=d.call(M,"constructor")&&M.constructor,typeof k=="function"&&f.call(k)===v):!0)},isEmptyObject:function(x){var M;for(M in x)return!1;return!0},globalEval:function(x,M,k){C(x,{nonce:M&&M.nonce},k)},each:function(x,M){var k,B=0;if(W(x))for(k=x.length;B<k&&M.call(x[B],B,x[B])!==!1;B++);else for(B in x)if(M.call(x[B],B,x[B])===!1)break;return x},text:function(x){var M,k="",B=0,q=x.nodeType;if(!q)for(;M=x[B++];)k+=A.text(M);return q===1||q===11?x.textContent:q===9?x.documentElement.textContent:q===3||q===4?x.nodeValue:k},makeArray:function(x,M){var k=M||[];return x!=null&&(W(Object(x))?A.merge(k,typeof x=="string"?[x]:x):a.call(k,x)),k},inArray:function(x,M,k){return M==null?-1:l.call(M,x,k)},isXMLDoc:function(x){var M=x&&x.namespaceURI,k=x&&(x.ownerDocument||x).documentElement;return!N.test(M||k&&k.nodeName||"HTML")},merge:function(x,M){for(var k=+M.length,B=0,q=x.length;B<k;B++)x[q++]=M[B];return x.length=q,x},grep:function(x,M,k){for(var B,q=[],K=0,Q=x.length,_e=!k;K<Q;K++)B=!M(x[K],K),B!==_e&&q.push(x[K]);return q},map:function(x,M,k){var B,q,K=0,Q=[];if(W(x))for(B=x.length;K<B;K++)q=M(x[K],K,k),q!=null&&Q.push(q);else for(K in x)q=M(x[K],K,k),q!=null&&Q.push(q);return o(Q)},guid:1,support:y}),typeof Symbol=="function"&&(A.fn[Symbol.iterator]=r[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(x,M){c["[object "+M+"]"]=M.toLowerCase()});function W(x){var M=!!x&&"length"in x&&x.length,k=I(x);return b(x)||w(x)?!1:k==="array"||M===0||typeof M=="number"&&M>0&&M-1 in x}function U(x,M){return x.nodeName&&x.nodeName.toLowerCase()===M.toLowerCase()}var F=r.pop,ee=r.sort,se=r.splice,ne="[\\x20\\t\\r\\n\\f]",me=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g");A.contains=function(x,M){var k=M&&M.parentNode;return x===k||!!(k&&k.nodeType===1&&(x.contains?x.contains(k):x.compareDocumentPosition&&x.compareDocumentPosition(k)&16))};var be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Se(x,M){return M?x==="\0"?"�":x.slice(0,-1)+"\\"+x.charCodeAt(x.length-1).toString(16)+" ":"\\"+x}A.escapeSelector=function(x){return(x+"").replace(be,Se)};var Ue=_,J=a;(function(){var x,M,k,B,q,K=J,Q,_e,ge,ke,ot,ht=A.expando,$e=0,wt=0,Hn=Dl(),yr=Dl(),ar=Dl(),Xi=Dl(),pi=function(ue,Pe){return ue===Pe&&(q=!0),0},fo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",zo="(?:\\\\[\\da-fA-F]{1,6}"+ne+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_r="\\["+ne+"*("+zo+")(?:"+ne+"*([*^$|!~]?=)"+ne+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zo+"))|)"+ne+"*\\]",fa=":("+zo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+_r+")*)|.*)\\)|)",lr=new RegExp(ne+"+","g"),Jr=new RegExp("^"+ne+"*,"+ne+"*"),Ys=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),os=new RegExp(ne+"|>"),Js=new RegExp(fa),as=new RegExp("^"+zo+"$"),Ai={ID:new RegExp("^#("+zo+")"),CLASS:new RegExp("^\\.("+zo+")"),TAG:new RegExp("^("+zo+"|[*])"),ATTR:new RegExp("^"+_r),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+fo+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},_s=/^(?:input|select|textarea|button)$/i,qi=/^h\d$/i,ki=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rl=/[+~]/,pa=new RegExp("\\\\[\\da-fA-F]{1,6}"+ne+"?|\\\\([^\\r\\n\\f])","g"),ma=function(ue,Pe){var je="0x"+ue.slice(1)-65536;return Pe||(je<0?String.fromCharCode(je+65536):String.fromCharCode(je>>10|55296,je&1023|56320))},po=function(){xs()},Ki=go(function(ue){return ue.disabled===!0&&U(ue,"fieldset")},{dir:"parentNode",next:"legend"});function mo(){try{return Q.activeElement}catch{}}try{K.apply(r=s.call(Ue.childNodes),Ue.childNodes),r[Ue.childNodes.length].nodeType}catch{K={apply:function(Pe,je){J.apply(Pe,s.call(je))},call:function(Pe){J.apply(Pe,s.call(arguments,1))}}}function _n(ue,Pe,je,Ye){var et,It,Kt,cn,Wt,zn,Rn,an=Pe&&Pe.ownerDocument,On=Pe?Pe.nodeType:9;if(je=je||[],typeof ue!="string"||!ue||On!==1&&On!==9&&On!==11)return je;if(!Ye&&(xs(Pe),Pe=Pe||Q,ge)){if(On!==11&&(Wt=ki.exec(ue)))if(et=Wt[1]){if(On===9)if(Kt=Pe.getElementById(et)){if(Kt.id===et)return K.call(je,Kt),je}else return je;else if(an&&(Kt=an.getElementById(et))&&_n.contains(Pe,Kt)&&Kt.id===et)return K.call(je,Kt),je}else{if(Wt[2])return K.apply(je,Pe.getElementsByTagName(ue)),je;if((et=Wt[3])&&Pe.getElementsByClassName)return K.apply(je,Pe.getElementsByClassName(et)),je}if(!Xi[ue+" "]&&(!ke||!ke.test(ue))){if(Rn=ue,an=Pe,On===1&&(os.test(ue)||Ys.test(ue))){for(an=rl.test(ue)&&Zs(Pe.parentNode)||Pe,(an!=Pe||!y.scope)&&((cn=Pe.getAttribute("id"))?cn=A.escapeSelector(cn):Pe.setAttribute("id",cn=ht)),zn=ga(ue),It=zn.length;It--;)zn[It]=(cn?"#"+cn:":scope")+" "+yc(zn[It]);Rn=zn.join(",")}try{return K.apply(je,an.querySelectorAll(Rn)),je}catch{Xi(ue,!0)}finally{cn===ht&&Pe.removeAttribute("id")}}}return Qs(ue.replace(me,"$1"),Pe,je,Ye)}function Dl(){var ue=[];function Pe(je,Ye){return ue.push(je+" ")>M.cacheLength&&delete Pe[ue.shift()],Pe[je+" "]=Ye}return Pe}function oi(ue){return ue[ht]=!0,ue}function gc(ue){var Pe=Q.createElement("fieldset");try{return!!ue(Pe)}catch{return!1}finally{Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pe=null}}function $c(ue){return function(Pe){return U(Pe,"input")&&Pe.type===ue}}function Hh(ue){return function(Pe){return(U(Pe,"input")||U(Pe,"button"))&&Pe.type===ue}}function vc(ue){return function(Pe){return"form"in Pe?Pe.parentNode&&Pe.disabled===!1?"label"in Pe?"label"in Pe.parentNode?Pe.parentNode.disabled===ue:Pe.disabled===ue:Pe.isDisabled===ue||Pe.isDisabled!==!ue&&Ki(Pe)===ue:Pe.disabled===ue:"label"in Pe?Pe.disabled===ue:!1}}function Nl(ue){return oi(function(Pe){return Pe=+Pe,oi(function(je,Ye){for(var et,It=ue([],je.length,Pe),Kt=It.length;Kt--;)je[et=It[Kt]]&&(je[et]=!(Ye[et]=je[et]))})})}function Zs(ue){return ue&&typeof ue.getElementsByTagName<"u"&&ue}function xs(ue){var Pe,je=ue?ue.ownerDocument||ue:Ue;return je==Q||je.nodeType!==9||!je.documentElement||(Q=je,_e=Q.documentElement,ge=!A.isXMLDoc(Q),ot=_e.matches||_e.webkitMatchesSelector||_e.msMatchesSelector,_e.msMatchesSelector&&Ue!=Q&&(Pe=Q.defaultView)&&Pe.top!==Pe&&Pe.addEventListener("unload",po),y.getById=gc(function(Ye){return _e.appendChild(Ye).id=A.expando,!Q.getElementsByName||!Q.getElementsByName(A.expando).length}),y.disconnectedMatch=gc(function(Ye){return ot.call(Ye,"*")}),y.scope=gc(function(){return Q.querySelectorAll(":scope")}),y.cssHas=gc(function(){try{return Q.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),y.getById?(M.filter.ID=function(Ye){var et=Ye.replace(pa,ma);return function(It){return It.getAttribute("id")===et}},M.find.ID=function(Ye,et){if(typeof et.getElementById<"u"&&ge){var It=et.getElementById(Ye);return It?[It]:[]}}):(M.filter.ID=function(Ye){var et=Ye.replace(pa,ma);return function(It){var Kt=typeof It.getAttributeNode<"u"&&It.getAttributeNode("id");return Kt&&Kt.value===et}},M.find.ID=function(Ye,et){if(typeof et.getElementById<"u"&&ge){var It,Kt,cn,Wt=et.getElementById(Ye);if(Wt){if(It=Wt.getAttributeNode("id"),It&&It.value===Ye)return[Wt];for(cn=et.getElementsByName(Ye),Kt=0;Wt=cn[Kt++];)if(It=Wt.getAttributeNode("id"),It&&It.value===Ye)return[Wt]}return[]}}),M.find.TAG=function(Ye,et){return typeof et.getElementsByTagName<"u"?et.getElementsByTagName(Ye):et.querySelectorAll(Ye)},M.find.CLASS=function(Ye,et){if(typeof et.getElementsByClassName<"u"&&ge)return et.getElementsByClassName(Ye)},ke=[],gc(function(Ye){var et;_e.appendChild(Ye).innerHTML="<a id='"+ht+"' href='' disabled='disabled'></a><select id='"+ht+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ye.querySelectorAll("[selected]").length||ke.push("\\["+ne+"*(?:value|"+fo+")"),Ye.querySelectorAll("[id~="+ht+"-]").length||ke.push("~="),Ye.querySelectorAll("a#"+ht+"+*").length||ke.push(".#.+[+~]"),Ye.querySelectorAll(":checked").length||ke.push(":checked"),et=Q.createElement("input"),et.setAttribute("type","hidden"),Ye.appendChild(et).setAttribute("name","D"),_e.appendChild(Ye).disabled=!0,Ye.querySelectorAll(":disabled").length!==2&&ke.push(":enabled",":disabled"),et=Q.createElement("input"),et.setAttribute("name",""),Ye.appendChild(et),Ye.querySelectorAll("[name='']").length||ke.push("\\["+ne+"*name"+ne+"*="+ne+`*(?:''|"")`)}),y.cssHas||ke.push(":has"),ke=ke.length&&new RegExp(ke.join("|")),pi=function(Ye,et){if(Ye===et)return q=!0,0;var It=!Ye.compareDocumentPosition-!et.compareDocumentPosition;return It||(It=(Ye.ownerDocument||Ye)==(et.ownerDocument||et)?Ye.compareDocumentPosition(et):1,It&1||!y.sortDetached&&et.compareDocumentPosition(Ye)===It?Ye===Q||Ye.ownerDocument==Ue&&_n.contains(Ue,Ye)?-1:et===Q||et.ownerDocument==Ue&&_n.contains(Ue,et)?1:B?l.call(B,Ye)-l.call(B,et):0:It&4?-1:1)}),Q}_n.matches=function(ue,Pe){return _n(ue,null,null,Pe)},_n.matchesSelector=function(ue,Pe){if(xs(ue),ge&&!Xi[Pe+" "]&&(!ke||!ke.test(Pe)))try{var je=ot.call(ue,Pe);if(je||y.disconnectedMatch||ue.document&&ue.document.nodeType!==11)return je}catch{Xi(Pe,!0)}return _n(Pe,Q,null,[ue]).length>0},_n.contains=function(ue,Pe){return(ue.ownerDocument||ue)!=Q&&xs(ue),A.contains(ue,Pe)},_n.attr=function(ue,Pe){(ue.ownerDocument||ue)!=Q&&xs(ue);var je=M.attrHandle[Pe.toLowerCase()],Ye=je&&d.call(M.attrHandle,Pe.toLowerCase())?je(ue,Pe,!ge):void 0;return Ye!==void 0?Ye:ue.getAttribute(Pe)},_n.error=function(ue){throw new Error("Syntax error, unrecognized expression: "+ue)},A.uniqueSort=function(ue){var Pe,je=[],Ye=0,et=0;if(q=!y.sortStable,B=!y.sortStable&&s.call(ue,0),ee.call(ue,pi),q){for(;Pe=ue[et++];)Pe===ue[et]&&(Ye=je.push(et));for(;Ye--;)se.call(ue,je[Ye],1)}return B=null,ue},A.fn.uniqueSort=function(){return this.pushStack(A.uniqueSort(s.apply(this)))},M=A.expr={cacheLength:50,createPseudo:oi,match:Ai,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ue){return ue[1]=ue[1].replace(pa,ma),ue[3]=(ue[3]||ue[4]||ue[5]||"").replace(pa,ma),ue[2]==="~="&&(ue[3]=" "+ue[3]+" "),ue.slice(0,4)},CHILD:function(ue){return ue[1]=ue[1].toLowerCase(),ue[1].slice(0,3)==="nth"?(ue[3]||_n.error(ue[0]),ue[4]=+(ue[4]?ue[5]+(ue[6]||1):2*(ue[3]==="even"||ue[3]==="odd")),ue[5]=+(ue[7]+ue[8]||ue[3]==="odd")):ue[3]&&_n.error(ue[0]),ue},PSEUDO:function(ue){var Pe,je=!ue[6]&&ue[2];return Ai.CHILD.test(ue[0])?null:(ue[3]?ue[2]=ue[4]||ue[5]||"":je&&Js.test(je)&&(Pe=ga(je,!0))&&(Pe=je.indexOf(")",je.length-Pe)-je.length)&&(ue[0]=ue[0].slice(0,Pe),ue[2]=je.slice(0,Pe)),ue.slice(0,3))}},filter:{TAG:function(ue){var Pe=ue.replace(pa,ma).toLowerCase();return ue==="*"?function(){return!0}:function(je){return U(je,Pe)}},CLASS:function(ue){var Pe=Hn[ue+" "];return Pe||(Pe=new RegExp("(^|"+ne+")"+ue+"("+ne+"|$)"))&&Hn(ue,function(je){return Pe.test(typeof je.className=="string"&&je.className||typeof je.getAttribute<"u"&&je.getAttribute("class")||"")})},ATTR:function(ue,Pe,je){return function(Ye){var et=_n.attr(Ye,ue);return et==null?Pe==="!=":Pe?(et+="",Pe==="="?et===je:Pe==="!="?et!==je:Pe==="^="?je&&et.indexOf(je)===0:Pe==="*="?je&&et.indexOf(je)>-1:Pe==="$="?je&&et.slice(-je.length)===je:Pe==="~="?(" "+et.replace(lr," ")+" ").indexOf(je)>-1:Pe==="|="?et===je||et.slice(0,je.length+1)===je+"-":!1):!0}},CHILD:function(ue,Pe,je,Ye,et){var It=ue.slice(0,3)!=="nth",Kt=ue.slice(-4)!=="last",cn=Pe==="of-type";return Ye===1&&et===0?function(Wt){return!!Wt.parentNode}:function(Wt,zn,Rn){var an,On,$t,kr,Yi,mi=It!==Kt?"nextSibling":"previousSibling",Vo=Wt.parentNode,ai=cn&&Wt.nodeName.toLowerCase(),Bl=!Rn&&!cn,Ei=!1;if(Vo){if(It){for(;mi;){for($t=Wt;$t=$t[mi];)if(cn?U($t,ai):$t.nodeType===1)return!1;Yi=mi=ue==="only"&&!Yi&&"nextSibling"}return!0}if(Yi=[Kt?Vo.firstChild:Vo.lastChild],Kt&&Bl){for(On=Vo[ht]||(Vo[ht]={}),an=On[ue]||[],kr=an[0]===$e&&an[1],Ei=kr&&an[2],$t=kr&&Vo.childNodes[kr];$t=++kr&&$t&&$t[mi]||(Ei=kr=0)||Yi.pop();)if($t.nodeType===1&&++Ei&&$t===Wt){On[ue]=[$e,kr,Ei];break}}else if(Bl&&(On=Wt[ht]||(Wt[ht]={}),an=On[ue]||[],kr=an[0]===$e&&an[1],Ei=kr),Ei===!1)for(;($t=++kr&&$t&&$t[mi]||(Ei=kr=0)||Yi.pop())&&!((cn?U($t,ai):$t.nodeType===1)&&++Ei&&(Bl&&(On=$t[ht]||($t[ht]={}),On[ue]=[$e,Ei]),$t===Wt)););return Ei-=et,Ei===Ye||Ei%Ye===0&&Ei/Ye>=0}}},PSEUDO:function(ue,Pe){var je,Ye=M.pseudos[ue]||M.setFilters[ue.toLowerCase()]||_n.error("unsupported pseudo: "+ue);return Ye[ht]?Ye(Pe):Ye.length>1?(je=[ue,ue,"",Pe],M.setFilters.hasOwnProperty(ue.toLowerCase())?oi(function(et,It){for(var Kt,cn=Ye(et,Pe),Wt=cn.length;Wt--;)Kt=l.call(et,cn[Wt]),et[Kt]=!(It[Kt]=cn[Wt])}):function(et){return Ye(et,0,je)}):Ye}},pseudos:{not:oi(function(ue){var Pe=[],je=[],Ye=Ba(ue.replace(me,"$1"));return Ye[ht]?oi(function(et,It,Kt,cn){for(var Wt,zn=Ye(et,null,cn,[]),Rn=et.length;Rn--;)(Wt=zn[Rn])&&(et[Rn]=!(It[Rn]=Wt))}):function(et,It,Kt){return Pe[0]=et,Ye(Pe,null,Kt,je),Pe[0]=null,!je.pop()}}),has:oi(function(ue){return function(Pe){return _n(ue,Pe).length>0}}),contains:oi(function(ue){return ue=ue.replace(pa,ma),function(Pe){return(Pe.textContent||A.text(Pe)).indexOf(ue)>-1}}),lang:oi(function(ue){return as.test(ue||"")||_n.error("unsupported lang: "+ue),ue=ue.replace(pa,ma).toLowerCase(),function(Pe){var je;do if(je=ge?Pe.lang:Pe.getAttribute("xml:lang")||Pe.getAttribute("lang"))return je=je.toLowerCase(),je===ue||je.indexOf(ue+"-")===0;while((Pe=Pe.parentNode)&&Pe.nodeType===1);return!1}}),target:function(ue){var Pe=e.location&&e.location.hash;return Pe&&Pe.slice(1)===ue.id},root:function(ue){return ue===_e},focus:function(ue){return ue===mo()&&Q.hasFocus()&&!!(ue.type||ue.href||~ue.tabIndex)},enabled:vc(!1),disabled:vc(!0),checked:function(ue){return U(ue,"input")&&!!ue.checked||U(ue,"option")&&!!ue.selected},selected:function(ue){return ue.parentNode&&ue.parentNode.selectedIndex,ue.selected===!0},empty:function(ue){for(ue=ue.firstChild;ue;ue=ue.nextSibling)if(ue.nodeType<6)return!1;return!0},parent:function(ue){return!M.pseudos.empty(ue)},header:function(ue){return qi.test(ue.nodeName)},input:function(ue){return _s.test(ue.nodeName)},button:function(ue){return U(ue,"input")&&ue.type==="button"||U(ue,"button")},text:function(ue){var Pe;return U(ue,"input")&&ue.type==="text"&&((Pe=ue.getAttribute("type"))==null||Pe.toLowerCase()==="text")},first:Nl(function(){return[0]}),last:Nl(function(ue,Pe){return[Pe-1]}),eq:Nl(function(ue,Pe,je){return[je<0?je+Pe:je]}),even:Nl(function(ue,Pe){for(var je=0;je<Pe;je+=2)ue.push(je);return ue}),odd:Nl(function(ue,Pe){for(var je=1;je<Pe;je+=2)ue.push(je);return ue}),lt:Nl(function(ue,Pe,je){var Ye;for(je<0?Ye=je+Pe:je>Pe?Ye=Pe:Ye=je;--Ye>=0;)ue.push(Ye);return ue}),gt:Nl(function(ue,Pe,je){for(var Ye=je<0?je+Pe:je;++Ye<Pe;)ue.push(Ye);return ue})}},M.pseudos.nth=M.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[x]=$c(x);for(x in{submit:!0,reset:!0})M.pseudos[x]=Hh(x);function jh(){}jh.prototype=M.filters=M.pseudos,M.setFilters=new jh;function ga(ue,Pe){var je,Ye,et,It,Kt,cn,Wt,zn=yr[ue+" "];if(zn)return Pe?0:zn.slice(0);for(Kt=ue,cn=[],Wt=M.preFilter;Kt;){(!je||(Ye=Jr.exec(Kt)))&&(Ye&&(Kt=Kt.slice(Ye[0].length)||Kt),cn.push(et=[])),je=!1,(Ye=Ys.exec(Kt))&&(je=Ye.shift(),et.push({value:je,type:Ye[0].replace(me," ")}),Kt=Kt.slice(je.length));for(It in M.filter)(Ye=Ai[It].exec(Kt))&&(!Wt[It]||(Ye=Wt[It](Ye)))&&(je=Ye.shift(),et.push({value:je,type:It,matches:Ye}),Kt=Kt.slice(je.length));if(!je)break}return Pe?Kt.length:Kt?_n.error(ue):yr(ue,cn).slice(0)}function yc(ue){for(var Pe=0,je=ue.length,Ye="";Pe<je;Pe++)Ye+=ue[Pe].value;return Ye}function go(ue,Pe,je){var Ye=Pe.dir,et=Pe.next,It=et||Ye,Kt=je&&It==="parentNode",cn=wt++;return Pe.first?function(Wt,zn,Rn){for(;Wt=Wt[Ye];)if(Wt.nodeType===1||Kt)return ue(Wt,zn,Rn);return!1}:function(Wt,zn,Rn){var an,On,$t=[$e,cn];if(Rn){for(;Wt=Wt[Ye];)if((Wt.nodeType===1||Kt)&&ue(Wt,zn,Rn))return!0}else for(;Wt=Wt[Ye];)if(Wt.nodeType===1||Kt)if(On=Wt[ht]||(Wt[ht]={}),et&&U(Wt,et))Wt=Wt[Ye]||Wt;else{if((an=On[It])&&an[0]===$e&&an[1]===cn)return $t[2]=an[2];if(On[It]=$t,$t[2]=ue(Wt,zn,Rn))return!0}return!1}}function Gh(ue){return ue.length>1?function(Pe,je,Ye){for(var et=ue.length;et--;)if(!ue[et](Pe,je,Ye))return!1;return!0}:ue[0]}function va(ue,Pe,je){for(var Ye=0,et=Pe.length;Ye<et;Ye++)_n(ue,Pe[Ye],je);return je}function Nu(ue,Pe,je,Ye,et){for(var It,Kt=[],cn=0,Wt=ue.length,zn=Pe!=null;cn<Wt;cn++)(It=ue[cn])&&(!je||je(It,Ye,et))&&(Kt.push(It),zn&&Pe.push(cn));return Kt}function Ls(ue,Pe,je,Ye,et,It){return Ye&&!Ye[ht]&&(Ye=Ls(Ye)),et&&!et[ht]&&(et=Ls(et,It)),oi(function(Kt,cn,Wt,zn){var Rn,an,On,$t,kr=[],Yi=[],mi=cn.length,Vo=Kt||va(Pe||"*",Wt.nodeType?[Wt]:Wt,[]),ai=ue&&(Kt||!Pe)?Nu(Vo,kr,ue,Wt,zn):Vo;if(je?($t=et||(Kt?ue:mi||Ye)?[]:cn,je(ai,$t,Wt,zn)):$t=ai,Ye)for(Rn=Nu($t,Yi),Ye(Rn,[],Wt,zn),an=Rn.length;an--;)(On=Rn[an])&&($t[Yi[an]]=!(ai[Yi[an]]=On));if(Kt){if(et||ue){if(et){for(Rn=[],an=$t.length;an--;)(On=$t[an])&&Rn.push(ai[an]=On);et(null,$t=[],Rn,zn)}for(an=$t.length;an--;)(On=$t[an])&&(Rn=et?l.call(Kt,On):kr[an])>-1&&(Kt[Rn]=!(cn[Rn]=On))}}else $t=Nu($t===cn?$t.splice(mi,$t.length):$t),et?et(null,cn,$t,zn):K.apply(cn,$t)})}function ls(ue){for(var Pe,je,Ye,et=ue.length,It=M.relative[ue[0].type],Kt=It||M.relative[" "],cn=It?1:0,Wt=go(function(an){return an===Pe},Kt,!0),zn=go(function(an){return l.call(Pe,an)>-1},Kt,!0),Rn=[function(an,On,$t){var kr=!It&&($t||On!=k)||((Pe=On).nodeType?Wt(an,On,$t):zn(an,On,$t));return Pe=null,kr}];cn<et;cn++)if(je=M.relative[ue[cn].type])Rn=[go(Gh(Rn),je)];else{if(je=M.filter[ue[cn].type].apply(null,ue[cn].matches),je[ht]){for(Ye=++cn;Ye<et&&!M.relative[ue[Ye].type];Ye++);return Ls(cn>1&&Gh(Rn),cn>1&&yc(ue.slice(0,cn-1).concat({value:ue[cn-2].type===" "?"*":""})).replace(me,"$1"),je,cn<Ye&&ls(ue.slice(cn,Ye)),Ye<et&&ls(ue=ue.slice(Ye)),Ye<et&&yc(ue))}Rn.push(je)}return Gh(Rn)}function Wc(ue,Pe){var je=Pe.length>0,Ye=ue.length>0,et=function(It,Kt,cn,Wt,zn){var Rn,an,On,$t=0,kr="0",Yi=It&&[],mi=[],Vo=k,ai=It||Ye&&M.find.TAG("*",zn),Bl=$e+=Vo==null?1:Math.random()||.1,Ei=ai.length;for(zn&&(k=Kt==Q||Kt||zn);kr!==Ei&&(Rn=ai[kr])!=null;kr++){if(Ye&&Rn){for(an=0,!Kt&&Rn.ownerDocument!=Q&&(xs(Rn),cn=!ge);On=ue[an++];)if(On(Rn,Kt||Q,cn)){K.call(Wt,Rn);break}zn&&($e=Bl)}je&&((Rn=!On&&Rn)&&$t--,It&&Yi.push(Rn))}if($t+=kr,je&&kr!==$t){for(an=0;On=Pe[an++];)On(Yi,mi,Kt,cn);if(It){if($t>0)for(;kr--;)Yi[kr]||mi[kr]||(mi[kr]=F.call(Wt));mi=Nu(mi)}K.apply(Wt,mi),zn&&!It&&mi.length>0&&$t+Pe.length>1&&A.uniqueSort(Wt)}return zn&&($e=Bl,k=Vo),Yi};return je?oi(et):et}function Ba(ue,Pe){var je,Ye=[],et=[],It=ar[ue+" "];if(!It){for(Pe||(Pe=ga(ue)),je=Pe.length;je--;)It=ls(Pe[je]),It[ht]?Ye.push(It):et.push(It);It=ar(ue,Wc(et,Ye)),It.selector=ue}return It}function Qs(ue,Pe,je,Ye){var et,It,Kt,cn,Wt,zn=typeof ue=="function"&&ue,Rn=!Ye&&ga(ue=zn.selector||ue);if(je=je||[],Rn.length===1){if(It=Rn[0]=Rn[0].slice(0),It.length>2&&(Kt=It[0]).type==="ID"&&Pe.nodeType===9&&ge&&M.relative[It[1].type]){if(Pe=(M.find.ID(Kt.matches[0].replace(pa,ma),Pe)||[])[0],Pe)zn&&(Pe=Pe.parentNode);else return je;ue=ue.slice(It.shift().value.length)}for(et=Ai.needsContext.test(ue)?0:It.length;et--&&(Kt=It[et],!M.relative[cn=Kt.type]);)if((Wt=M.find[cn])&&(Ye=Wt(Kt.matches[0].replace(pa,ma),rl.test(It[0].type)&&Zs(Pe.parentNode)||Pe))){if(It.splice(et,1),ue=Ye.length&&yc(It),!ue)return K.apply(je,Ye),je;break}}return(zn||Ba(ue,Rn))(Ye,Pe,!ge,je,!Pe||rl.test(ue)&&Zs(Pe.parentNode)||Pe),je}y.sortStable=ht.split("").sort(pi).join("")===ht,xs(),y.sortDetached=gc(function(ue){return ue.compareDocumentPosition(Q.createElement("fieldset"))&1}),A.find=_n,A.expr[":"]=A.expr.pseudos,A.unique=A.uniqueSort,_n.compile=Ba,_n.select=Qs,_n.setDocument=xs,_n.tokenize=ga,_n.escape=A.escapeSelector,_n.getText=A.text,_n.isXML=A.isXMLDoc,_n.selectors=A.expr,_n.support=A.support,_n.uniqueSort=A.uniqueSort})();var fe=function(x,M,k){for(var B=[],q=k!==void 0;(x=x[M])&&x.nodeType!==9;)if(x.nodeType===1){if(q&&A(x).is(k))break;B.push(x)}return B},re=function(x,M){for(var k=[];x;x=x.nextSibling)x.nodeType===1&&x!==M&&k.push(x);return k},Ce=A.expr.match.needsContext,ze=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function tt(x,M,k){return b(M)?A.grep(x,function(B,q){return!!M.call(B,q,B)!==k}):M.nodeType?A.grep(x,function(B){return B===M!==k}):typeof M!="string"?A.grep(x,function(B){return l.call(M,B)>-1!==k}):A.filter(M,x,k)}A.filter=function(x,M,k){var B=M[0];return k&&(x=":not("+x+")"),M.length===1&&B.nodeType===1?A.find.matchesSelector(B,x)?[B]:[]:A.find.matches(x,A.grep(M,function(q){return q.nodeType===1}))},A.fn.extend({find:function(x){var M,k,B=this.length,q=this;if(typeof x!="string")return this.pushStack(A(x).filter(function(){for(M=0;M<B;M++)if(A.contains(q[M],this))return!0}));for(k=this.pushStack([]),M=0;M<B;M++)A.find(x,q[M],k);return B>1?A.uniqueSort(k):k},filter:function(x){return this.pushStack(tt(this,x||[],!1))},not:function(x){return this.pushStack(tt(this,x||[],!0))},is:function(x){return!!tt(this,typeof x=="string"&&Ce.test(x)?A(x):x||[],!1).length}});var Ie,Xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Re=A.fn.init=function(x,M,k){var B,q;if(!x)return this;if(k=k||Ie,typeof x=="string")if(x[0]==="<"&&x[x.length-1]===">"&&x.length>=3?B=[null,x,null]:B=Xe.exec(x),B&&(B[1]||!M))if(B[1]){if(M=M instanceof A?M[0]:M,A.merge(this,A.parseHTML(B[1],M&&M.nodeType?M.ownerDocument||M:_,!0)),ze.test(B[1])&&A.isPlainObject(M))for(B in M)b(this[B])?this[B](M[B]):this.attr(B,M[B]);return this}else return q=_.getElementById(B[2]),q&&(this[0]=q,this.length=1),this;else return!M||M.jquery?(M||k).find(x):this.constructor(M).find(x);else{if(x.nodeType)return this[0]=x,this.length=1,this;if(b(x))return k.ready!==void 0?k.ready(x):x(A)}return A.makeArray(x,this)};Re.prototype=A.fn,Ie=A(_);var qe=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};A.fn.extend({has:function(x){var M=A(x,this),k=M.length;return this.filter(function(){for(var B=0;B<k;B++)if(A.contains(this,M[B]))return!0})},closest:function(x,M){var k,B=0,q=this.length,K=[],Q=typeof x!="string"&&A(x);if(!Ce.test(x)){for(;B<q;B++)for(k=this[B];k&&k!==M;k=k.parentNode)if(k.nodeType<11&&(Q?Q.index(k)>-1:k.nodeType===1&&A.find.matchesSelector(k,x))){K.push(k);break}}return this.pushStack(K.length>1?A.uniqueSort(K):K)},index:function(x){return x?typeof x=="string"?l.call(A(x),this[0]):l.call(this,x.jquery?x[0]:x):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(x,M){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(x,M))))},addBack:function(x){return this.add(x==null?this.prevObject:this.prevObject.filter(x))}});function ln(x,M){for(;(x=x[M])&&x.nodeType!==1;);return x}A.each({parent:function(x){var M=x.parentNode;return M&&M.nodeType!==11?M:null},parents:function(x){return fe(x,"parentNode")},parentsUntil:function(x,M,k){return fe(x,"parentNode",k)},next:function(x){return ln(x,"nextSibling")},prev:function(x){return ln(x,"previousSibling")},nextAll:function(x){return fe(x,"nextSibling")},prevAll:function(x){return fe(x,"previousSibling")},nextUntil:function(x,M,k){return fe(x,"nextSibling",k)},prevUntil:function(x,M,k){return fe(x,"previousSibling",k)},siblings:function(x){return re((x.parentNode||{}).firstChild,x)},children:function(x){return re(x.firstChild)},contents:function(x){return x.contentDocument!=null&&i(x.contentDocument)?x.contentDocument:(U(x,"template")&&(x=x.content||x),A.merge([],x.childNodes))}},function(x,M){A.fn[x]=function(k,B){var q=A.map(this,M,k);return x.slice(-5)!=="Until"&&(B=k),B&&typeof B=="string"&&(q=A.filter(B,q)),this.length>1&&(Ot[x]||A.uniqueSort(q),qe.test(x)&&q.reverse()),this.pushStack(q)}});var Me=/[^\x20\t\r\n\f]+/g;function rn(x){var M={};return A.each(x.match(Me)||[],function(k,B){M[B]=!0}),M}A.Callbacks=function(x){x=typeof x=="string"?rn(x):A.extend({},x);var M,k,B,q,K=[],Q=[],_e=-1,ge=function(){for(q=q||x.once,B=M=!0;Q.length;_e=-1)for(k=Q.shift();++_e<K.length;)K[_e].apply(k[0],k[1])===!1&&x.stopOnFalse&&(_e=K.length,k=!1);x.memory||(k=!1),M=!1,q&&(k?K=[]:K="")},ke={add:function(){return K&&(k&&!M&&(_e=K.length-1,Q.push(k)),function ot(ht){A.each(ht,function($e,wt){b(wt)?(!x.unique||!ke.has(wt))&&K.push(wt):wt&&wt.length&&I(wt)!=="string"&&ot(wt)})}(arguments),k&&!M&&ge()),this},remove:function(){return A.each(arguments,function(ot,ht){for(var $e;($e=A.inArray(ht,K,$e))>-1;)K.splice($e,1),$e<=_e&&_e--}),this},has:function(ot){return ot?A.inArray(ot,K)>-1:K.length>0},empty:function(){return K&&(K=[]),this},disable:function(){return q=Q=[],K=k="",this},disabled:function(){return!K},lock:function(){return q=Q=[],!k&&!M&&(K=k=""),this},locked:function(){return!!q},fireWith:function(ot,ht){return q||(ht=ht||[],ht=[ot,ht.slice?ht.slice():ht],Q.push(ht),M||ge()),this},fire:function(){return ke.fireWith(this,arguments),this},fired:function(){return!!B}};return ke};function We(x){return x}function rt(x){throw x}function lt(x,M,k,B){var q;try{x&&b(q=x.promise)?q.call(x).done(M).fail(k):x&&b(q=x.then)?q.call(x,M,k):M.apply(void 0,[x].slice(B))}catch(K){k.apply(void 0,[K])}}A.extend({Deferred:function(x){var M=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],k="pending",B={state:function(){return k},always:function(){return q.done(arguments).fail(arguments),this},catch:function(K){return B.then(null,K)},pipe:function(){var K=arguments;return A.Deferred(function(Q){A.each(M,function(_e,ge){var ke=b(K[ge[4]])&&K[ge[4]];q[ge[1]](function(){var ot=ke&&ke.apply(this,arguments);ot&&b(ot.promise)?ot.promise().progress(Q.notify).done(Q.resolve).fail(Q.reject):Q[ge[0]+"With"](this,ke?[ot]:arguments)})}),K=null}).promise()},then:function(K,Q,_e){var ge=0;function ke(ot,ht,$e,wt){return function(){var Hn=this,yr=arguments,ar=function(){var pi,fo;if(!(ot<ge)){if(pi=$e.apply(Hn,yr),pi===ht.promise())throw new TypeError("Thenable self-resolution");fo=pi&&(typeof pi=="object"||typeof pi=="function")&&pi.then,b(fo)?wt?fo.call(pi,ke(ge,ht,We,wt),ke(ge,ht,rt,wt)):(ge++,fo.call(pi,ke(ge,ht,We,wt),ke(ge,ht,rt,wt),ke(ge,ht,We,ht.notifyWith))):($e!==We&&(Hn=void 0,yr=[pi]),(wt||ht.resolveWith)(Hn,yr))}},Xi=wt?ar:function(){try{ar()}catch(pi){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(pi,Xi.error),ot+1>=ge&&($e!==rt&&(Hn=void 0,yr=[pi]),ht.rejectWith(Hn,yr))}};ot?Xi():(A.Deferred.getErrorHook?Xi.error=A.Deferred.getErrorHook():A.Deferred.getStackHook&&(Xi.error=A.Deferred.getStackHook()),e.setTimeout(Xi))}}return A.Deferred(function(ot){M[0][3].add(ke(0,ot,b(_e)?_e:We,ot.notifyWith)),M[1][3].add(ke(0,ot,b(K)?K:We)),M[2][3].add(ke(0,ot,b(Q)?Q:rt))}).promise()},promise:function(K){return K!=null?A.extend(K,B):B}},q={};return A.each(M,function(K,Q){var _e=Q[2],ge=Q[5];B[Q[1]]=_e.add,ge&&_e.add(function(){k=ge},M[3-K][2].disable,M[3-K][3].disable,M[0][2].lock,M[0][3].lock),_e.add(Q[3].fire),q[Q[0]]=function(){return q[Q[0]+"With"](this===q?void 0:this,arguments),this},q[Q[0]+"With"]=_e.fireWith}),B.promise(q),x&&x.call(q,q),q},when:function(x){var M=arguments.length,k=M,B=Array(k),q=s.call(arguments),K=A.Deferred(),Q=function(_e){return function(ge){B[_e]=this,q[_e]=arguments.length>1?s.call(arguments):ge,--M||K.resolveWith(B,q)}};if(M<=1&&(lt(x,K.done(Q(k)).resolve,K.reject,!M),K.state()==="pending"||b(q[k]&&q[k].then)))return K.then();for(;k--;)lt(q[k],Q(k),K.reject);return K.promise()}});var bt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(x,M){e.console&&e.console.warn&&x&&bt.test(x.name)&&e.console.warn("jQuery.Deferred exception: "+x.message,x.stack,M)},A.readyException=function(x){e.setTimeout(function(){throw x})};var mt=A.Deferred();A.fn.ready=function(x){return mt.then(x).catch(function(M){A.readyException(M)}),this},A.extend({isReady:!1,readyWait:1,ready:function(x){(x===!0?--A.readyWait:A.isReady)||(A.isReady=!0,!(x!==!0&&--A.readyWait>0)&&mt.resolveWith(_,[A]))}}),A.ready.then=mt.then;function Rt(){_.removeEventListener("DOMContentLoaded",Rt),e.removeEventListener("load",Rt),A.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(A.ready):(_.addEventListener("DOMContentLoaded",Rt),e.addEventListener("load",Rt));var Ut=function(x,M,k,B,q,K,Q){var _e=0,ge=x.length,ke=k==null;if(I(k)==="object"){q=!0;for(_e in k)Ut(x,M,_e,k[_e],!0,K,Q)}else if(B!==void 0&&(q=!0,b(B)||(Q=!0),ke&&(Q?(M.call(x,B),M=null):(ke=M,M=function(ot,ht,$e){return ke.call(A(ot),$e)})),M))for(;_e<ge;_e++)M(x[_e],k,Q?B:B.call(x[_e],_e,M(x[_e],k)));return q?x:ke?M.call(x):ge?M(x[0],k):K},X=/^-ms-/,j=/-([a-z])/g;function ae(x,M){return M.toUpperCase()}function ve(x){return x.replace(X,"ms-").replace(j,ae)}var de=function(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType};function xe(){this.expando=A.expando+xe.uid++}xe.uid=1,xe.prototype={cache:function(x){var M=x[this.expando];return M||(M={},de(x)&&(x.nodeType?x[this.expando]=M:Object.defineProperty(x,this.expando,{value:M,configurable:!0}))),M},set:function(x,M,k){var B,q=this.cache(x);if(typeof M=="string")q[ve(M)]=k;else for(B in M)q[ve(B)]=M[B];return q},get:function(x,M){return M===void 0?this.cache(x):x[this.expando]&&x[this.expando][ve(M)]},access:function(x,M,k){return M===void 0||M&&typeof M=="string"&&k===void 0?this.get(x,M):(this.set(x,M,k),k!==void 0?k:M)},remove:function(x,M){var k,B=x[this.expando];if(B!==void 0){if(M!==void 0)for(Array.isArray(M)?M=M.map(ve):(M=ve(M),M=M in B?[M]:M.match(Me)||[]),k=M.length;k--;)delete B[M[k]];(M===void 0||A.isEmptyObject(B))&&(x.nodeType?x[this.expando]=void 0:delete x[this.expando])}},hasData:function(x){var M=x[this.expando];return M!==void 0&&!A.isEmptyObject(M)}};var Ee=new xe,Ze=new xe,vt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xt=/[A-Z]/g;function yt(x){return x==="true"?!0:x==="false"?!1:x==="null"?null:x===+x+""?+x:vt.test(x)?JSON.parse(x):x}function zt(x,M,k){var B;if(k===void 0&&x.nodeType===1)if(B="data-"+M.replace(Xt,"-$&").toLowerCase(),k=x.getAttribute(B),typeof k=="string"){try{k=yt(k)}catch{}Ze.set(x,M,k)}else k=void 0;return k}A.extend({hasData:function(x){return Ze.hasData(x)||Ee.hasData(x)},data:function(x,M,k){return Ze.access(x,M,k)},removeData:function(x,M){Ze.remove(x,M)},_data:function(x,M,k){return Ee.access(x,M,k)},_removeData:function(x,M){Ee.remove(x,M)}}),A.fn.extend({data:function(x,M){var k,B,q,K=this[0],Q=K&&K.attributes;if(x===void 0){if(this.length&&(q=Ze.get(K),K.nodeType===1&&!Ee.get(K,"hasDataAttrs"))){for(k=Q.length;k--;)Q[k]&&(B=Q[k].name,B.indexOf("data-")===0&&(B=ve(B.slice(5)),zt(K,B,q[B])));Ee.set(K,"hasDataAttrs",!0)}return q}return typeof x=="object"?this.each(function(){Ze.set(this,x)}):Ut(this,function(_e){var ge;if(K&&_e===void 0)return ge=Ze.get(K,x),ge!==void 0||(ge=zt(K,x),ge!==void 0)?ge:void 0;this.each(function(){Ze.set(this,x,_e)})},null,M,arguments.length>1,null,!0)},removeData:function(x){return this.each(function(){Ze.remove(this,x)})}}),A.extend({queue:function(x,M,k){var B;if(x)return M=(M||"fx")+"queue",B=Ee.get(x,M),k&&(!B||Array.isArray(k)?B=Ee.access(x,M,A.makeArray(k)):B.push(k)),B||[]},dequeue:function(x,M){M=M||"fx";var k=A.queue(x,M),B=k.length,q=k.shift(),K=A._queueHooks(x,M),Q=function(){A.dequeue(x,M)};q==="inprogress"&&(q=k.shift(),B--),q&&(M==="fx"&&k.unshift("inprogress"),delete K.stop,q.call(x,Q,K)),!B&&K&&K.empty.fire()},_queueHooks:function(x,M){var k=M+"queueHooks";return Ee.get(x,k)||Ee.access(x,k,{empty:A.Callbacks("once memory").add(function(){Ee.remove(x,[M+"queue",k])})})}}),A.fn.extend({queue:function(x,M){var k=2;return typeof x!="string"&&(M=x,x="fx",k--),arguments.length<k?A.queue(this[0],x):M===void 0?this:this.each(function(){var B=A.queue(this,x,M);A._queueHooks(this,x),x==="fx"&&B[0]!=="inprogress"&&A.dequeue(this,x)})},dequeue:function(x){return this.each(function(){A.dequeue(this,x)})},clearQueue:function(x){return this.queue(x||"fx",[])},promise:function(x,M){var k,B=1,q=A.Deferred(),K=this,Q=this.length,_e=function(){--B||q.resolveWith(K,[K])};for(typeof x!="string"&&(M=x,x=void 0),x=x||"fx";Q--;)k=Ee.get(K[Q],x+"queueHooks"),k&&k.empty&&(B++,k.empty.add(_e));return _e(),q.promise(M)}});var bn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Yt=new RegExp("^(?:([+-])=|)("+bn+")([a-z%]*)$","i"),St=["Top","Right","Bottom","Left"],Vt=_.documentElement,Ae=function(x){return A.contains(x.ownerDocument,x)},dt={composed:!0};Vt.getRootNode&&(Ae=function(x){return A.contains(x.ownerDocument,x)||x.getRootNode(dt)===x.ownerDocument});var pt=function(x,M){return x=M||x,x.style.display==="none"||x.style.display===""&&Ae(x)&&A.css(x,"display")==="none"};function ye(x,M,k,B){var q,K,Q=20,_e=B?function(){return B.cur()}:function(){return A.css(x,M,"")},ge=_e(),ke=k&&k[3]||(A.cssNumber[M]?"":"px"),ot=x.nodeType&&(A.cssNumber[M]||ke!=="px"&&+ge)&&Yt.exec(A.css(x,M));if(ot&&ot[3]!==ke){for(ge=ge/2,ke=ke||ot[3],ot=+ge||1;Q--;)A.style(x,M,ot+ke),(1-K)*(1-(K=_e()/ge||.5))<=0&&(Q=0),ot=ot/K;ot=ot*2,A.style(x,M,ot+ke),k=k||[]}return k&&(ot=+ot||+ge||0,q=k[1]?ot+(k[1]+1)*k[2]:+k[2],B&&(B.unit=ke,B.start=ot,B.end=q)),q}var ct={};function Le(x){var M,k=x.ownerDocument,B=x.nodeName,q=ct[B];return q||(M=k.body.appendChild(k.createElement(B)),q=A.css(M,"display"),M.parentNode.removeChild(M),q==="none"&&(q="block"),ct[B]=q,q)}function _t(x,M){for(var k,B,q=[],K=0,Q=x.length;K<Q;K++)B=x[K],B.style&&(k=B.style.display,M?(k==="none"&&(q[K]=Ee.get(B,"display")||null,q[K]||(B.style.display="")),B.style.display===""&&pt(B)&&(q[K]=Le(B))):k!=="none"&&(q[K]="none",Ee.set(B,"display",k)));for(K=0;K<Q;K++)q[K]!=null&&(x[K].style.display=q[K]);return x}A.fn.extend({show:function(){return _t(this,!0)},hide:function(){return _t(this)},toggle:function(x){return typeof x=="boolean"?x?this.show():this.hide():this.each(function(){pt(this)?A(this).show():A(this).hide()})}});var Pt=/^(?:checkbox|radio)$/i,Bn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,gn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var x=_.createDocumentFragment(),M=x.appendChild(_.createElement("div")),k=_.createElement("input");k.setAttribute("type","radio"),k.setAttribute("checked","checked"),k.setAttribute("name","t"),M.appendChild(k),y.checkClone=M.cloneNode(!0).cloneNode(!0).lastChild.checked,M.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!M.cloneNode(!0).lastChild.defaultValue,M.innerHTML="<option></option>",y.option=!!M.lastChild})();var En={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};En.tbody=En.tfoot=En.colgroup=En.caption=En.thead,En.th=En.td,y.option||(En.optgroup=En.option=[1,"<select multiple='multiple'>","</select>"]);function kn(x,M){var k;return typeof x.getElementsByTagName<"u"?k=x.getElementsByTagName(M||"*"):typeof x.querySelectorAll<"u"?k=x.querySelectorAll(M||"*"):k=[],M===void 0||M&&U(x,M)?A.merge([x],k):k}function Fn(x,M){for(var k=0,B=x.length;k<B;k++)Ee.set(x[k],"globalEval",!M||Ee.get(M[k],"globalEval"))}var Gr=/<|&#?\w+;/;function Kn(x,M,k,B,q){for(var K,Q,_e,ge,ke,ot,ht=M.createDocumentFragment(),$e=[],wt=0,Hn=x.length;wt<Hn;wt++)if(K=x[wt],K||K===0)if(I(K)==="object")A.merge($e,K.nodeType?[K]:K);else if(!Gr.test(K))$e.push(M.createTextNode(K));else{for(Q=Q||ht.appendChild(M.createElement("div")),_e=(Bn.exec(K)||["",""])[1].toLowerCase(),ge=En[_e]||En._default,Q.innerHTML=ge[1]+A.htmlPrefilter(K)+ge[2],ot=ge[0];ot--;)Q=Q.lastChild;A.merge($e,Q.childNodes),Q=ht.firstChild,Q.textContent=""}for(ht.textContent="",wt=0;K=$e[wt++];){if(B&&A.inArray(K,B)>-1){q&&q.push(K);continue}if(ke=Ae(K),Q=kn(ht.appendChild(K),"script"),ke&&Fn(Q),k)for(ot=0;K=Q[ot++];)gn.test(K.type||"")&&k.push(K)}return ht}var vi=/^([^.]*)(?:\.(.+)|)/;function is(){return!0}function vn(){return!1}function In(x,M,k,B,q,K){var Q,_e;if(typeof M=="object"){typeof k!="string"&&(B=B||k,k=void 0);for(_e in M)In(x,_e,k,B,M[_e],K);return x}if(B==null&&q==null?(q=k,B=k=void 0):q==null&&(typeof k=="string"?(q=B,B=void 0):(q=B,B=k,k=void 0)),q===!1)q=vn;else if(!q)return x;return K===1&&(Q=q,q=function(ge){return A().off(ge),Q.apply(this,arguments)},q.guid=Q.guid||(Q.guid=A.guid++)),x.each(function(){A.event.add(this,M,q,B,k)})}A.event={global:{},add:function(x,M,k,B,q){var K,Q,_e,ge,ke,ot,ht,$e,wt,Hn,yr,ar=Ee.get(x);if(de(x))for(k.handler&&(K=k,k=K.handler,q=K.selector),q&&A.find.matchesSelector(Vt,q),k.guid||(k.guid=A.guid++),(ge=ar.events)||(ge=ar.events=Object.create(null)),(Q=ar.handle)||(Q=ar.handle=function(Xi){return typeof A<"u"&&A.event.triggered!==Xi.type?A.event.dispatch.apply(x,arguments):void 0}),M=(M||"").match(Me)||[""],ke=M.length;ke--;)_e=vi.exec(M[ke])||[],wt=yr=_e[1],Hn=(_e[2]||"").split(".").sort(),wt&&(ht=A.event.special[wt]||{},wt=(q?ht.delegateType:ht.bindType)||wt,ht=A.event.special[wt]||{},ot=A.extend({type:wt,origType:yr,data:B,handler:k,guid:k.guid,selector:q,needsContext:q&&A.expr.match.needsContext.test(q),namespace:Hn.join(".")},K),($e=ge[wt])||($e=ge[wt]=[],$e.delegateCount=0,(!ht.setup||ht.setup.call(x,B,Hn,Q)===!1)&&x.addEventListener&&x.addEventListener(wt,Q)),ht.add&&(ht.add.call(x,ot),ot.handler.guid||(ot.handler.guid=k.guid)),q?$e.splice($e.delegateCount++,0,ot):$e.push(ot),A.event.global[wt]=!0)},remove:function(x,M,k,B,q){var K,Q,_e,ge,ke,ot,ht,$e,wt,Hn,yr,ar=Ee.hasData(x)&&Ee.get(x);if(!(!ar||!(ge=ar.events))){for(M=(M||"").match(Me)||[""],ke=M.length;ke--;){if(_e=vi.exec(M[ke])||[],wt=yr=_e[1],Hn=(_e[2]||"").split(".").sort(),!wt){for(wt in ge)A.event.remove(x,wt+M[ke],k,B,!0);continue}for(ht=A.event.special[wt]||{},wt=(B?ht.delegateType:ht.bindType)||wt,$e=ge[wt]||[],_e=_e[2]&&new RegExp("(^|\\.)"+Hn.join("\\.(?:.*\\.|)")+"(\\.|$)"),Q=K=$e.length;K--;)ot=$e[K],(q||yr===ot.origType)&&(!k||k.guid===ot.guid)&&(!_e||_e.test(ot.namespace))&&(!B||B===ot.selector||B==="**"&&ot.selector)&&($e.splice(K,1),ot.selector&&$e.delegateCount--,ht.remove&&ht.remove.call(x,ot));Q&&!$e.length&&((!ht.teardown||ht.teardown.call(x,Hn,ar.handle)===!1)&&A.removeEvent(x,wt,ar.handle),delete ge[wt])}A.isEmptyObject(ge)&&Ee.remove(x,"handle events")}},dispatch:function(x){var M,k,B,q,K,Q,_e=new Array(arguments.length),ge=A.event.fix(x),ke=(Ee.get(this,"events")||Object.create(null))[ge.type]||[],ot=A.event.special[ge.type]||{};for(_e[0]=ge,M=1;M<arguments.length;M++)_e[M]=arguments[M];if(ge.delegateTarget=this,!(ot.preDispatch&&ot.preDispatch.call(this,ge)===!1)){for(Q=A.event.handlers.call(this,ge,ke),M=0;(q=Q[M++])&&!ge.isPropagationStopped();)for(ge.currentTarget=q.elem,k=0;(K=q.handlers[k++])&&!ge.isImmediatePropagationStopped();)(!ge.rnamespace||K.namespace===!1||ge.rnamespace.test(K.namespace))&&(ge.handleObj=K,ge.data=K.data,B=((A.event.special[K.origType]||{}).handle||K.handler).apply(q.elem,_e),B!==void 0&&(ge.result=B)===!1&&(ge.preventDefault(),ge.stopPropagation()));return ot.postDispatch&&ot.postDispatch.call(this,ge),ge.result}},handlers:function(x,M){var k,B,q,K,Q,_e=[],ge=M.delegateCount,ke=x.target;if(ge&&ke.nodeType&&!(x.type==="click"&&x.button>=1)){for(;ke!==this;ke=ke.parentNode||this)if(ke.nodeType===1&&!(x.type==="click"&&ke.disabled===!0)){for(K=[],Q={},k=0;k<ge;k++)B=M[k],q=B.selector+" ",Q[q]===void 0&&(Q[q]=B.needsContext?A(q,this).index(ke)>-1:A.find(q,this,null,[ke]).length),Q[q]&&K.push(B);K.length&&_e.push({elem:ke,handlers:K})}}return ke=this,ge<M.length&&_e.push({elem:ke,handlers:M.slice(ge)}),_e},addProp:function(x,M){Object.defineProperty(A.Event.prototype,x,{enumerable:!0,configurable:!0,get:b(M)?function(){if(this.originalEvent)return M(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[x]},set:function(k){Object.defineProperty(this,x,{enumerable:!0,configurable:!0,writable:!0,value:k})}})},fix:function(x){return x[A.expando]?x:new A.Event(x)},special:{load:{noBubble:!0},click:{setup:function(x){var M=this||x;return Pt.test(M.type)&&M.click&&U(M,"input")&&Dn(M,"click",!0),!1},trigger:function(x){var M=this||x;return Pt.test(M.type)&&M.click&&U(M,"input")&&Dn(M,"click"),!0},_default:function(x){var M=x.target;return Pt.test(M.type)&&M.click&&U(M,"input")&&Ee.get(M,"click")||U(M,"a")}},beforeunload:{postDispatch:function(x){x.result!==void 0&&x.originalEvent&&(x.originalEvent.returnValue=x.result)}}}};function Dn(x,M,k){if(!k){Ee.get(x,M)===void 0&&A.event.add(x,M,is);return}Ee.set(x,M,!1),A.event.add(x,M,{namespace:!1,handler:function(B){var q,K=Ee.get(this,M);if(B.isTrigger&1&&this[M]){if(K)(A.event.special[M]||{}).delegateType&&B.stopPropagation();else if(K=s.call(arguments),Ee.set(this,M,K),this[M](),q=Ee.get(this,M),Ee.set(this,M,!1),K!==q)return B.stopImmediatePropagation(),B.preventDefault(),q}else K&&(Ee.set(this,M,A.event.trigger(K[0],K.slice(1),this)),B.stopPropagation(),B.isImmediatePropagationStopped=is)}})}A.removeEvent=function(x,M,k){x.removeEventListener&&x.removeEventListener(M,k)},A.Event=function(x,M){if(!(this instanceof A.Event))return new A.Event(x,M);x&&x.type?(this.originalEvent=x,this.type=x.type,this.isDefaultPrevented=x.defaultPrevented||x.defaultPrevented===void 0&&x.returnValue===!1?is:vn,this.target=x.target&&x.target.nodeType===3?x.target.parentNode:x.target,this.currentTarget=x.currentTarget,this.relatedTarget=x.relatedTarget):this.type=x,M&&A.extend(this,M),this.timeStamp=x&&x.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:vn,isPropagationStopped:vn,isImmediatePropagationStopped:vn,isSimulated:!1,preventDefault:function(){var x=this.originalEvent;this.isDefaultPrevented=is,x&&!this.isSimulated&&x.preventDefault()},stopPropagation:function(){var x=this.originalEvent;this.isPropagationStopped=is,x&&!this.isSimulated&&x.stopPropagation()},stopImmediatePropagation:function(){var x=this.originalEvent;this.isImmediatePropagationStopped=is,x&&!this.isSimulated&&x.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(x,M){function k(B){if(_.documentMode){var q=Ee.get(this,"handle"),K=A.event.fix(B);K.type=B.type==="focusin"?"focus":"blur",K.isSimulated=!0,q(B),K.target===K.currentTarget&&q(K)}else A.event.simulate(M,B.target,A.event.fix(B))}A.event.special[x]={setup:function(){var B;if(Dn(this,x,!0),_.documentMode)B=Ee.get(this,M),B||this.addEventListener(M,k),Ee.set(this,M,(B||0)+1);else return!1},trigger:function(){return Dn(this,x),!0},teardown:function(){var B;if(_.documentMode)B=Ee.get(this,M)-1,B?Ee.set(this,M,B):(this.removeEventListener(M,k),Ee.remove(this,M));else return!1},_default:function(B){return Ee.get(B.target,x)},delegateType:M},A.event.special[M]={setup:function(){var B=this.ownerDocument||this.document||this,q=_.documentMode?this:B,K=Ee.get(q,M);K||(_.documentMode?this.addEventListener(M,k):B.addEventListener(x,k,!0)),Ee.set(q,M,(K||0)+1)},teardown:function(){var B=this.ownerDocument||this.document||this,q=_.documentMode?this:B,K=Ee.get(q,M)-1;K?Ee.set(q,M,K):(_.documentMode?this.removeEventListener(M,k):B.removeEventListener(x,k,!0),Ee.remove(q,M))}}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(x,M){A.event.special[x]={delegateType:M,bindType:M,handle:function(k){var B,q=this,K=k.relatedTarget,Q=k.handleObj;return(!K||K!==q&&!A.contains(q,K))&&(k.type=Q.origType,B=Q.handler.apply(this,arguments),k.type=M),B}}}),A.fn.extend({on:function(x,M,k,B){return In(this,x,M,k,B)},one:function(x,M,k,B){return In(this,x,M,k,B,1)},off:function(x,M,k){var B,q;if(x&&x.preventDefault&&x.handleObj)return B=x.handleObj,A(x.delegateTarget).off(B.namespace?B.origType+"."+B.namespace:B.origType,B.selector,B.handler),this;if(typeof x=="object"){for(q in x)this.off(q,M,x[q]);return this}return(M===!1||typeof M=="function")&&(k=M,M=void 0),k===!1&&(k=vn),this.each(function(){A.event.remove(this,x,k,M)})}});var Et=/<script|<style|<link/i,Mn=/checked\s*(?:[^=]|=\s*.checked.)/i,xn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ir(x,M){return U(x,"table")&&U(M.nodeType!==11?M:M.firstChild,"tr")&&A(x).children("tbody")[0]||x}function Ur(x){return x.type=(x.getAttribute("type")!==null)+"/"+x.type,x}function Y(x){return(x.type||"").slice(0,5)==="true/"?x.type=x.type.slice(5):x.removeAttribute("type"),x}function O(x,M){var k,B,q,K,Q,_e,ge;if(M.nodeType===1){if(Ee.hasData(x)&&(K=Ee.get(x),ge=K.events,ge)){Ee.remove(M,"handle events");for(q in ge)for(k=0,B=ge[q].length;k<B;k++)A.event.add(M,q,ge[q][k])}Ze.hasData(x)&&(Q=Ze.access(x),_e=A.extend({},Q),Ze.set(M,_e))}}function Z(x,M){var k=M.nodeName.toLowerCase();k==="input"&&Pt.test(x.type)?M.checked=x.checked:(k==="input"||k==="textarea")&&(M.defaultValue=x.defaultValue)}function ie(x,M,k,B){M=o(M);var q,K,Q,_e,ge,ke,ot=0,ht=x.length,$e=ht-1,wt=M[0],Hn=b(wt);if(Hn||ht>1&&typeof wt=="string"&&!y.checkClone&&Mn.test(wt))return x.each(function(yr){var ar=x.eq(yr);Hn&&(M[0]=wt.call(this,yr,ar.html())),ie(ar,M,k,B)});if(ht&&(q=Kn(M,x[0].ownerDocument,!1,x,B),K=q.firstChild,q.childNodes.length===1&&(q=K),K||B)){for(Q=A.map(kn(q,"script"),Ur),_e=Q.length;ot<ht;ot++)ge=q,ot!==$e&&(ge=A.clone(ge,!0,!0),_e&&A.merge(Q,kn(ge,"script"))),k.call(x[ot],ge,ot);if(_e)for(ke=Q[Q.length-1].ownerDocument,A.map(Q,Y),ot=0;ot<_e;ot++)ge=Q[ot],gn.test(ge.type||"")&&!Ee.access(ge,"globalEval")&&A.contains(ke,ge)&&(ge.src&&(ge.type||"").toLowerCase()!=="module"?A._evalUrl&&!ge.noModule&&A._evalUrl(ge.src,{nonce:ge.nonce||ge.getAttribute("nonce")},ke):C(ge.textContent.replace(xn,""),ge,ke))}return x}function le(x,M,k){for(var B,q=M?A.filter(M,x):x,K=0;(B=q[K])!=null;K++)!k&&B.nodeType===1&&A.cleanData(kn(B)),B.parentNode&&(k&&Ae(B)&&Fn(kn(B,"script")),B.parentNode.removeChild(B));return x}A.extend({htmlPrefilter:function(x){return x},clone:function(x,M,k){var B,q,K,Q,_e=x.cloneNode(!0),ge=Ae(x);if(!y.noCloneChecked&&(x.nodeType===1||x.nodeType===11)&&!A.isXMLDoc(x))for(Q=kn(_e),K=kn(x),B=0,q=K.length;B<q;B++)Z(K[B],Q[B]);if(M)if(k)for(K=K||kn(x),Q=Q||kn(_e),B=0,q=K.length;B<q;B++)O(K[B],Q[B]);else O(x,_e);return Q=kn(_e,"script"),Q.length>0&&Fn(Q,!ge&&kn(x,"script")),_e},cleanData:function(x){for(var M,k,B,q=A.event.special,K=0;(k=x[K])!==void 0;K++)if(de(k)){if(M=k[Ee.expando]){if(M.events)for(B in M.events)q[B]?A.event.remove(k,B):A.removeEvent(k,B,M.handle);k[Ee.expando]=void 0}k[Ze.expando]&&(k[Ze.expando]=void 0)}}}),A.fn.extend({detach:function(x){return le(this,x,!0)},remove:function(x){return le(this,x)},text:function(x){return Ut(this,function(M){return M===void 0?A.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=M)})},null,x,arguments.length)},append:function(){return ie(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var M=ir(this,x);M.appendChild(x)}})},prepend:function(){return ie(this,arguments,function(x){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var M=ir(this,x);M.insertBefore(x,M.firstChild)}})},before:function(){return ie(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this)})},after:function(){return ie(this,arguments,function(x){this.parentNode&&this.parentNode.insertBefore(x,this.nextSibling)})},empty:function(){for(var x,M=0;(x=this[M])!=null;M++)x.nodeType===1&&(A.cleanData(kn(x,!1)),x.textContent="");return this},clone:function(x,M){return x=x??!1,M=M??x,this.map(function(){return A.clone(this,x,M)})},html:function(x){return Ut(this,function(M){var k=this[0]||{},B=0,q=this.length;if(M===void 0&&k.nodeType===1)return k.innerHTML;if(typeof M=="string"&&!Et.test(M)&&!En[(Bn.exec(M)||["",""])[1].toLowerCase()]){M=A.htmlPrefilter(M);try{for(;B<q;B++)k=this[B]||{},k.nodeType===1&&(A.cleanData(kn(k,!1)),k.innerHTML=M);k=0}catch{}}k&&this.empty().append(M)},null,x,arguments.length)},replaceWith:function(){var x=[];return ie(this,arguments,function(M){var k=this.parentNode;A.inArray(this,x)<0&&(A.cleanData(kn(this)),k&&k.replaceChild(M,this))},x)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(x,M){A.fn[x]=function(k){for(var B,q=[],K=A(k),Q=K.length-1,_e=0;_e<=Q;_e++)B=_e===Q?this:this.clone(!0),A(K[_e])[M](B),a.apply(q,B.get());return this.pushStack(q)}});var ce=new RegExp("^("+bn+")(?!px)[a-z%]+$","i"),Ve=/^--/,He=function(x){var M=x.ownerDocument.defaultView;return(!M||!M.opener)&&(M=e),M.getComputedStyle(x)},Qe=function(x,M,k){var B,q,K={};for(q in M)K[q]=x.style[q],x.style[q]=M[q];B=k.call(x);for(q in M)x.style[q]=K[q];return B},it=new RegExp(St.join("|"),"i");(function(){function x(){if(ke){ge.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Vt.appendChild(ge).appendChild(ke);var ot=e.getComputedStyle(ke);k=ot.top!=="1%",_e=M(ot.marginLeft)===12,ke.style.right="60%",K=M(ot.right)===36,B=M(ot.width)===36,ke.style.position="absolute",q=M(ke.offsetWidth/3)===12,Vt.removeChild(ge),ke=null}}function M(ot){return Math.round(parseFloat(ot))}var k,B,q,K,Q,_e,ge=_.createElement("div"),ke=_.createElement("div");ke.style&&(ke.style.backgroundClip="content-box",ke.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle=ke.style.backgroundClip==="content-box",A.extend(y,{boxSizingReliable:function(){return x(),B},pixelBoxStyles:function(){return x(),K},pixelPosition:function(){return x(),k},reliableMarginLeft:function(){return x(),_e},scrollboxSize:function(){return x(),q},reliableTrDimensions:function(){var ot,ht,$e,wt;return Q==null&&(ot=_.createElement("table"),ht=_.createElement("tr"),$e=_.createElement("div"),ot.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ht.style.cssText="box-sizing:content-box;border:1px solid",ht.style.height="1px",$e.style.height="9px",$e.style.display="block",Vt.appendChild(ot).appendChild(ht).appendChild($e),wt=e.getComputedStyle(ht),Q=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===ht.offsetHeight,Vt.removeChild(ot)),Q}}))})();function at(x,M,k){var B,q,K,Q,_e=Ve.test(M),ge=x.style;return k=k||He(x),k&&(Q=k.getPropertyValue(M)||k[M],_e&&Q&&(Q=Q.replace(me,"$1")||void 0),Q===""&&!Ae(x)&&(Q=A.style(x,M)),!y.pixelBoxStyles()&&ce.test(Q)&&it.test(M)&&(B=ge.width,q=ge.minWidth,K=ge.maxWidth,ge.minWidth=ge.maxWidth=ge.width=Q,Q=k.width,ge.width=B,ge.minWidth=q,ge.maxWidth=K)),Q!==void 0?Q+"":Q}function st(x,M){return{get:function(){if(x()){delete this.get;return}return(this.get=M).apply(this,arguments)}}}var Gt=["Webkit","Moz","ms"],Lt=_.createElement("div").style,Bt={};function un(x){for(var M=x[0].toUpperCase()+x.slice(1),k=Gt.length;k--;)if(x=Gt[k]+M,x in Lt)return x}function yn(x){var M=A.cssProps[x]||Bt[x];return M||(x in Lt?x:Bt[x]=un(x)||x)}var qt=/^(none|table(?!-c[ea]).+)/,Nt={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"};function Ht(x,M,k){var B=Yt.exec(M);return B?Math.max(0,B[2]-(k||0))+(B[3]||"px"):M}function Fe(x,M,k,B,q,K){var Q=M==="width"?1:0,_e=0,ge=0,ke=0;if(k===(B?"border":"content"))return 0;for(;Q<4;Q+=2)k==="margin"&&(ke+=A.css(x,k+St[Q],!0,q)),B?(k==="content"&&(ge-=A.css(x,"padding"+St[Q],!0,q)),k!=="margin"&&(ge-=A.css(x,"border"+St[Q]+"Width",!0,q))):(ge+=A.css(x,"padding"+St[Q],!0,q),k!=="padding"?ge+=A.css(x,"border"+St[Q]+"Width",!0,q):_e+=A.css(x,"border"+St[Q]+"Width",!0,q));return!B&&K>=0&&(ge+=Math.max(0,Math.ceil(x["offset"+M[0].toUpperCase()+M.slice(1)]-K-ge-_e-.5))||0),ge+ke}function Mt(x,M,k){var B=He(x),q=!y.boxSizingReliable()||k,K=q&&A.css(x,"boxSizing",!1,B)==="border-box",Q=K,_e=at(x,M,B),ge="offset"+M[0].toUpperCase()+M.slice(1);if(ce.test(_e)){if(!k)return _e;_e="auto"}return(!y.boxSizingReliable()&&K||!y.reliableTrDimensions()&&U(x,"tr")||_e==="auto"||!parseFloat(_e)&&A.css(x,"display",!1,B)==="inline")&&x.getClientRects().length&&(K=A.css(x,"boxSizing",!1,B)==="border-box",Q=ge in x,Q&&(_e=x[ge])),_e=parseFloat(_e)||0,_e+Fe(x,M,k||(K?"border":"content"),Q,B,_e)+"px"}A.extend({cssHooks:{opacity:{get:function(x,M){if(M){var k=at(x,"opacity");return k===""?"1":k}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(x,M,k,B){if(!(!x||x.nodeType===3||x.nodeType===8||!x.style)){var q,K,Q,_e=ve(M),ge=Ve.test(M),ke=x.style;if(ge||(M=yn(_e)),Q=A.cssHooks[M]||A.cssHooks[_e],k!==void 0){if(K=typeof k,K==="string"&&(q=Yt.exec(k))&&q[1]&&(k=ye(x,M,q),K="number"),k==null||k!==k)return;K==="number"&&!ge&&(k+=q&&q[3]||(A.cssNumber[_e]?"":"px")),!y.clearCloneStyle&&k===""&&M.indexOf("background")===0&&(ke[M]="inherit"),(!Q||!("set"in Q)||(k=Q.set(x,k,B))!==void 0)&&(ge?ke.setProperty(M,k):ke[M]=k)}else return Q&&"get"in Q&&(q=Q.get(x,!1,B))!==void 0?q:ke[M]}},css:function(x,M,k,B){var q,K,Q,_e=ve(M),ge=Ve.test(M);return ge||(M=yn(_e)),Q=A.cssHooks[M]||A.cssHooks[_e],Q&&"get"in Q&&(q=Q.get(x,!0,k)),q===void 0&&(q=at(x,M,B)),q==="normal"&&M in pn&&(q=pn[M]),k===""||k?(K=parseFloat(q),k===!0||isFinite(K)?K||0:q):q}}),A.each(["height","width"],function(x,M){A.cssHooks[M]={get:function(k,B,q){if(B)return qt.test(A.css(k,"display"))&&(!k.getClientRects().length||!k.getBoundingClientRect().width)?Qe(k,Nt,function(){return Mt(k,M,q)}):Mt(k,M,q)},set:function(k,B,q){var K,Q=He(k),_e=!y.scrollboxSize()&&Q.position==="absolute",ge=_e||q,ke=ge&&A.css(k,"boxSizing",!1,Q)==="border-box",ot=q?Fe(k,M,q,ke,Q):0;return ke&&_e&&(ot-=Math.ceil(k["offset"+M[0].toUpperCase()+M.slice(1)]-parseFloat(Q[M])-Fe(k,M,"border",!1,Q)-.5)),ot&&(K=Yt.exec(B))&&(K[3]||"px")!=="px"&&(k.style[M]=B,B=A.css(k,M)),Ht(k,B,ot)}}}),A.cssHooks.marginLeft=st(y.reliableMarginLeft,function(x,M){if(M)return(parseFloat(at(x,"marginLeft"))||x.getBoundingClientRect().left-Qe(x,{marginLeft:0},function(){return x.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(x,M){A.cssHooks[x+M]={expand:function(k){for(var B=0,q={},K=typeof k=="string"?k.split(" "):[k];B<4;B++)q[x+St[B]+M]=K[B]||K[B-2]||K[0];return q}},x!=="margin"&&(A.cssHooks[x+M].set=Ht)}),A.fn.extend({css:function(x,M){return Ut(this,function(k,B,q){var K,Q,_e={},ge=0;if(Array.isArray(B)){for(K=He(k),Q=B.length;ge<Q;ge++)_e[B[ge]]=A.css(k,B[ge],!1,K);return _e}return q!==void 0?A.style(k,B,q):A.css(k,B)},x,M,arguments.length>1)}});function kt(x,M,k,B,q){return new kt.prototype.init(x,M,k,B,q)}A.Tween=kt,kt.prototype={constructor:kt,init:function(x,M,k,B,q,K){this.elem=x,this.prop=k,this.easing=q||A.easing._default,this.options=M,this.start=this.now=this.cur(),this.end=B,this.unit=K||(A.cssNumber[k]?"":"px")},cur:function(){var x=kt.propHooks[this.prop];return x&&x.get?x.get(this):kt.propHooks._default.get(this)},run:function(x){var M,k=kt.propHooks[this.prop];return this.options.duration?this.pos=M=A.easing[this.easing](x,this.options.duration*x,0,1,this.options.duration):this.pos=M=x,this.now=(this.end-this.start)*M+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):kt.propHooks._default.set(this),this}},kt.prototype.init.prototype=kt.prototype,kt.propHooks={_default:{get:function(x){var M;return x.elem.nodeType!==1||x.elem[x.prop]!=null&&x.elem.style[x.prop]==null?x.elem[x.prop]:(M=A.css(x.elem,x.prop,""),!M||M==="auto"?0:M)},set:function(x){A.fx.step[x.prop]?A.fx.step[x.prop](x):x.elem.nodeType===1&&(A.cssHooks[x.prop]||x.elem.style[yn(x.prop)]!=null)?A.style(x.elem,x.prop,x.now+x.unit):x.elem[x.prop]=x.now}}},kt.propHooks.scrollTop=kt.propHooks.scrollLeft={set:function(x){x.elem.nodeType&&x.elem.parentNode&&(x.elem[x.prop]=x.now)}},A.easing={linear:function(x){return x},swing:function(x){return .5-Math.cos(x*Math.PI)/2},_default:"swing"},A.fx=kt.prototype.init,A.fx.step={};var Yn,er,Sr=/^(?:toggle|show|hide)$/,hn=/queueHooks$/;function on(){er&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(on):e.setTimeout(on,A.fx.interval),A.fx.tick())}function Wr(){return e.setTimeout(function(){Yn=void 0}),Yn=Date.now()}function sr(x,M){var k,B=0,q={height:x};for(M=M?1:0;B<4;B+=2-M)k=St[B],q["margin"+k]=q["padding"+k]=x;return M&&(q.opacity=q.width=x),q}function Nn(x,M,k){for(var B,q=(Cr.tweeners[M]||[]).concat(Cr.tweeners["*"]),K=0,Q=q.length;K<Q;K++)if(B=q[K].call(k,M,x))return B}function si(x,M,k){var B,q,K,Q,_e,ge,ke,ot,ht="width"in M||"height"in M,$e=this,wt={},Hn=x.style,yr=x.nodeType&&pt(x),ar=Ee.get(x,"fxshow");k.queue||(Q=A._queueHooks(x,"fx"),Q.unqueued==null&&(Q.unqueued=0,_e=Q.empty.fire,Q.empty.fire=function(){Q.unqueued||_e()}),Q.unqueued++,$e.always(function(){$e.always(function(){Q.unqueued--,A.queue(x,"fx").length||Q.empty.fire()})}));for(B in M)if(q=M[B],Sr.test(q)){if(delete M[B],K=K||q==="toggle",q===(yr?"hide":"show"))if(q==="show"&&ar&&ar[B]!==void 0)yr=!0;else continue;wt[B]=ar&&ar[B]||A.style(x,B)}if(ge=!A.isEmptyObject(M),!(!ge&&A.isEmptyObject(wt))){ht&&x.nodeType===1&&(k.overflow=[Hn.overflow,Hn.overflowX,Hn.overflowY],ke=ar&&ar.display,ke==null&&(ke=Ee.get(x,"display")),ot=A.css(x,"display"),ot==="none"&&(ke?ot=ke:(_t([x],!0),ke=x.style.display||ke,ot=A.css(x,"display"),_t([x]))),(ot==="inline"||ot==="inline-block"&&ke!=null)&&A.css(x,"float")==="none"&&(ge||($e.done(function(){Hn.display=ke}),ke==null&&(ot=Hn.display,ke=ot==="none"?"":ot)),Hn.display="inline-block")),k.overflow&&(Hn.overflow="hidden",$e.always(function(){Hn.overflow=k.overflow[0],Hn.overflowX=k.overflow[1],Hn.overflowY=k.overflow[2]})),ge=!1;for(B in wt)ge||(ar?"hidden"in ar&&(yr=ar.hidden):ar=Ee.access(x,"fxshow",{display:ke}),K&&(ar.hidden=!yr),yr&&_t([x],!0),$e.done(function(){yr||_t([x]),Ee.remove(x,"fxshow");for(B in wt)A.style(x,B,wt[B])})),ge=Nn(yr?ar[B]:0,B,$e),B in ar||(ar[B]=ge.start,yr&&(ge.end=ge.start,ge.start=0))}}function Ws(x,M){var k,B,q,K,Q;for(k in x)if(B=ve(k),q=M[B],K=x[k],Array.isArray(K)&&(q=K[1],K=x[k]=K[0]),k!==B&&(x[B]=K,delete x[k]),Q=A.cssHooks[B],Q&&"expand"in Q){K=Q.expand(K),delete x[B];for(k in K)k in x||(x[k]=K[k],M[k]=q)}else M[B]=q}function Cr(x,M,k){var B,q,K=0,Q=Cr.prefilters.length,_e=A.Deferred().always(function(){delete ge.elem}),ge=function(){if(q)return!1;for(var ht=Yn||Wr(),$e=Math.max(0,ke.startTime+ke.duration-ht),wt=$e/ke.duration||0,Hn=1-wt,yr=0,ar=ke.tweens.length;yr<ar;yr++)ke.tweens[yr].run(Hn);return _e.notifyWith(x,[ke,Hn,$e]),Hn<1&&ar?$e:(ar||_e.notifyWith(x,[ke,1,0]),_e.resolveWith(x,[ke]),!1)},ke=_e.promise({elem:x,props:A.extend({},M),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},k),originalProperties:M,originalOptions:k,startTime:Yn||Wr(),duration:k.duration,tweens:[],createTween:function(ht,$e){var wt=A.Tween(x,ke.opts,ht,$e,ke.opts.specialEasing[ht]||ke.opts.easing);return ke.tweens.push(wt),wt},stop:function(ht){var $e=0,wt=ht?ke.tweens.length:0;if(q)return this;for(q=!0;$e<wt;$e++)ke.tweens[$e].run(1);return ht?(_e.notifyWith(x,[ke,1,0]),_e.resolveWith(x,[ke,ht])):_e.rejectWith(x,[ke,ht]),this}}),ot=ke.props;for(Ws(ot,ke.opts.specialEasing);K<Q;K++)if(B=Cr.prefilters[K].call(ke,x,ot,ke.opts),B)return b(B.stop)&&(A._queueHooks(ke.elem,ke.opts.queue).stop=B.stop.bind(B)),B;return A.map(ot,Nn,ke),b(ke.opts.start)&&ke.opts.start.call(x,ke),ke.progress(ke.opts.progress).done(ke.opts.done,ke.opts.complete).fail(ke.opts.fail).always(ke.opts.always),A.fx.timer(A.extend(ge,{elem:x,anim:ke,queue:ke.opts.queue})),ke}A.Animation=A.extend(Cr,{tweeners:{"*":[function(x,M){var k=this.createTween(x,M);return ye(k.elem,x,Yt.exec(M),k),k}]},tweener:function(x,M){b(x)?(M=x,x=["*"]):x=x.match(Me);for(var k,B=0,q=x.length;B<q;B++)k=x[B],Cr.tweeners[k]=Cr.tweeners[k]||[],Cr.tweeners[k].unshift(M)},prefilters:[si],prefilter:function(x,M){M?Cr.prefilters.unshift(x):Cr.prefilters.push(x)}}),A.speed=function(x,M,k){var B=x&&typeof x=="object"?A.extend({},x):{complete:k||!k&&M||b(x)&&x,duration:x,easing:k&&M||M&&!b(M)&&M};return A.fx.off?B.duration=0:typeof B.duration!="number"&&(B.duration in A.fx.speeds?B.duration=A.fx.speeds[B.duration]:B.duration=A.fx.speeds._default),(B.queue==null||B.queue===!0)&&(B.queue="fx"),B.old=B.complete,B.complete=function(){b(B.old)&&B.old.call(this),B.queue&&A.dequeue(this,B.queue)},B},A.fn.extend({fadeTo:function(x,M,k,B){return this.filter(pt).css("opacity",0).show().end().animate({opacity:M},x,k,B)},animate:function(x,M,k,B){var q=A.isEmptyObject(x),K=A.speed(M,k,B),Q=function(){var _e=Cr(this,A.extend({},x),K);(q||Ee.get(this,"finish"))&&_e.stop(!0)};return Q.finish=Q,q||K.queue===!1?this.each(Q):this.queue(K.queue,Q)},stop:function(x,M,k){var B=function(q){var K=q.stop;delete q.stop,K(k)};return typeof x!="string"&&(k=M,M=x,x=void 0),M&&this.queue(x||"fx",[]),this.each(function(){var q=!0,K=x!=null&&x+"queueHooks",Q=A.timers,_e=Ee.get(this);if(K)_e[K]&&_e[K].stop&&B(_e[K]);else for(K in _e)_e[K]&&_e[K].stop&&hn.test(K)&&B(_e[K]);for(K=Q.length;K--;)Q[K].elem===this&&(x==null||Q[K].queue===x)&&(Q[K].anim.stop(k),q=!1,Q.splice(K,1));(q||!k)&&A.dequeue(this,x)})},finish:function(x){return x!==!1&&(x=x||"fx"),this.each(function(){var M,k=Ee.get(this),B=k[x+"queue"],q=k[x+"queueHooks"],K=A.timers,Q=B?B.length:0;for(k.finish=!0,A.queue(this,x,[]),q&&q.stop&&q.stop.call(this,!0),M=K.length;M--;)K[M].elem===this&&K[M].queue===x&&(K[M].anim.stop(!0),K.splice(M,1));for(M=0;M<Q;M++)B[M]&&B[M].finish&&B[M].finish.call(this);delete k.finish})}}),A.each(["toggle","show","hide"],function(x,M){var k=A.fn[M];A.fn[M]=function(B,q,K){return B==null||typeof B=="boolean"?k.apply(this,arguments):this.animate(sr(M,!0),B,q,K)}}),A.each({slideDown:sr("show"),slideUp:sr("hide"),slideToggle:sr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(x,M){A.fn[x]=function(k,B,q){return this.animate(M,k,B,q)}}),A.timers=[],A.fx.tick=function(){var x,M=0,k=A.timers;for(Yn=Date.now();M<k.length;M++)x=k[M],!x()&&k[M]===x&&k.splice(M--,1);k.length||A.fx.stop(),Yn=void 0},A.fx.timer=function(x){A.timers.push(x),A.fx.start()},A.fx.interval=13,A.fx.start=function(){er||(er=!0,on())},A.fx.stop=function(){er=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(x,M){return x=A.fx&&A.fx.speeds[x]||x,M=M||"fx",this.queue(M,function(k,B){var q=e.setTimeout(k,x);B.stop=function(){e.clearTimeout(q)}})},function(){var x=_.createElement("input"),M=_.createElement("select"),k=M.appendChild(_.createElement("option"));x.type="checkbox",y.checkOn=x.value!=="",y.optSelected=k.selected,x=_.createElement("input"),x.value="t",x.type="radio",y.radioValue=x.value==="t"}();var Rr,ys=A.expr.attrHandle;A.fn.extend({attr:function(x,M){return Ut(this,A.attr,x,M,arguments.length>1)},removeAttr:function(x){return this.each(function(){A.removeAttr(this,x)})}}),A.extend({attr:function(x,M,k){var B,q,K=x.nodeType;if(!(K===3||K===8||K===2)){if(typeof x.getAttribute>"u")return A.prop(x,M,k);if((K!==1||!A.isXMLDoc(x))&&(q=A.attrHooks[M.toLowerCase()]||(A.expr.match.bool.test(M)?Rr:void 0)),k!==void 0){if(k===null){A.removeAttr(x,M);return}return q&&"set"in q&&(B=q.set(x,k,M))!==void 0?B:(x.setAttribute(M,k+""),k)}return q&&"get"in q&&(B=q.get(x,M))!==null?B:(B=A.find.attr(x,M),B??void 0)}},attrHooks:{type:{set:function(x,M){if(!y.radioValue&&M==="radio"&&U(x,"input")){var k=x.value;return x.setAttribute("type",M),k&&(x.value=k),M}}}},removeAttr:function(x,M){var k,B=0,q=M&&M.match(Me);if(q&&x.nodeType===1)for(;k=q[B++];)x.removeAttribute(k)}}),Rr={set:function(x,M,k){return M===!1?A.removeAttr(x,k):x.setAttribute(k,k),k}},A.each(A.expr.match.bool.source.match(/\w+/g),function(x,M){var k=ys[M]||A.find.attr;ys[M]=function(B,q,K){var Q,_e,ge=q.toLowerCase();return K||(_e=ys[ge],ys[ge]=Q,Q=k(B,q,K)!=null?ge:null,ys[ge]=_e),Q}});var Oa=/^(?:input|select|textarea|button)$/i,Bo=/^(?:a|area)$/i;A.fn.extend({prop:function(x,M){return Ut(this,A.prop,x,M,arguments.length>1)},removeProp:function(x){return this.each(function(){delete this[A.propFix[x]||x]})}}),A.extend({prop:function(x,M,k){var B,q,K=x.nodeType;if(!(K===3||K===8||K===2))return(K!==1||!A.isXMLDoc(x))&&(M=A.propFix[M]||M,q=A.propHooks[M]),k!==void 0?q&&"set"in q&&(B=q.set(x,k,M))!==void 0?B:x[M]=k:q&&"get"in q&&(B=q.get(x,M))!==null?B:x[M]},propHooks:{tabIndex:{get:function(x){var M=A.find.attr(x,"tabindex");return M?parseInt(M,10):Oa.test(x.nodeName)||Bo.test(x.nodeName)&&x.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(A.propHooks.selected={get:function(x){var M=x.parentNode;return M&&M.parentNode&&M.parentNode.selectedIndex,null},set:function(x){var M=x.parentNode;M&&(M.selectedIndex,M.parentNode&&M.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this});function Xs(x){var M=x.match(Me)||[];return M.join(" ")}function co(x){return x.getAttribute&&x.getAttribute("class")||""}function fc(x){return Array.isArray(x)?x:typeof x=="string"?x.match(Me)||[]:[]}A.fn.extend({addClass:function(x){var M,k,B,q,K,Q;return b(x)?this.each(function(_e){A(this).addClass(x.call(this,_e,co(this)))}):(M=fc(x),M.length?this.each(function(){if(B=co(this),k=this.nodeType===1&&" "+Xs(B)+" ",k){for(K=0;K<M.length;K++)q=M[K],k.indexOf(" "+q+" ")<0&&(k+=q+" ");Q=Xs(k),B!==Q&&this.setAttribute("class",Q)}}):this)},removeClass:function(x){var M,k,B,q,K,Q;return b(x)?this.each(function(_e){A(this).removeClass(x.call(this,_e,co(this)))}):arguments.length?(M=fc(x),M.length?this.each(function(){if(B=co(this),k=this.nodeType===1&&" "+Xs(B)+" ",k){for(K=0;K<M.length;K++)for(q=M[K];k.indexOf(" "+q+" ")>-1;)k=k.replace(" "+q+" "," ");Q=Xs(k),B!==Q&&this.setAttribute("class",Q)}}):this):this.attr("class","")},toggleClass:function(x,M){var k,B,q,K,Q=typeof x,_e=Q==="string"||Array.isArray(x);return b(x)?this.each(function(ge){A(this).toggleClass(x.call(this,ge,co(this),M),M)}):typeof M=="boolean"&&_e?M?this.addClass(x):this.removeClass(x):(k=fc(x),this.each(function(){if(_e)for(K=A(this),q=0;q<k.length;q++)B=k[q],K.hasClass(B)?K.removeClass(B):K.addClass(B);else(x===void 0||Q==="boolean")&&(B=co(this),B&&Ee.set(this,"__className__",B),this.setAttribute&&this.setAttribute("class",B||x===!1?"":Ee.get(this,"__className__")||""))}))},hasClass:function(x){var M,k,B=0;for(M=" "+x+" ";k=this[B++];)if(k.nodeType===1&&(" "+Xs(co(k))+" ").indexOf(M)>-1)return!0;return!1}});var tl=/\r/g;A.fn.extend({val:function(x){var M,k,B,q=this[0];return arguments.length?(B=b(x),this.each(function(K){var Q;this.nodeType===1&&(B?Q=x.call(this,K,A(this).val()):Q=x,Q==null?Q="":typeof Q=="number"?Q+="":Array.isArray(Q)&&(Q=A.map(Q,function(_e){return _e==null?"":_e+""})),M=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()],(!M||!("set"in M)||M.set(this,Q,"value")===void 0)&&(this.value=Q))})):q?(M=A.valHooks[q.type]||A.valHooks[q.nodeName.toLowerCase()],M&&"get"in M&&(k=M.get(q,"value"))!==void 0?k:(k=q.value,typeof k=="string"?k.replace(tl,""):k??"")):void 0}}),A.extend({valHooks:{option:{get:function(x){var M=A.find.attr(x,"value");return M??Xs(A.text(x))}},select:{get:function(x){var M,k,B,q=x.options,K=x.selectedIndex,Q=x.type==="select-one",_e=Q?null:[],ge=Q?K+1:q.length;for(K<0?B=ge:B=Q?K:0;B<ge;B++)if(k=q[B],(k.selected||B===K)&&!k.disabled&&(!k.parentNode.disabled||!U(k.parentNode,"optgroup"))){if(M=A(k).val(),Q)return M;_e.push(M)}return _e},set:function(x,M){for(var k,B,q=x.options,K=A.makeArray(M),Q=q.length;Q--;)B=q[Q],(B.selected=A.inArray(A.valHooks.option.get(B),K)>-1)&&(k=!0);return k||(x.selectedIndex=-1),K}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(x,M){if(Array.isArray(M))return x.checked=A.inArray(A(x).val(),M)>-1}},y.checkOn||(A.valHooks[this].get=function(x){return x.getAttribute("value")===null?"on":x.value})});var Fo=e.location,Da={guid:Date.now()},pc=/\?/;A.parseXML=function(x){var M,k;if(!x||typeof x!="string")return null;try{M=new e.DOMParser().parseFromString(x,"text/xml")}catch{}return k=M&&M.getElementsByTagName("parsererror")[0],(!M||k)&&A.error("Invalid XML: "+(k?A.map(k.childNodes,function(B){return B.textContent}).join(`
`):x)),M};var Uo=/^(?:focusinfocus|focusoutblur)$/,vr=function(x){x.stopPropagation()};A.extend(A.event,{trigger:function(x,M,k,B){var q,K,Q,_e,ge,ke,ot,ht,$e=[k||_],wt=d.call(x,"type")?x.type:x,Hn=d.call(x,"namespace")?x.namespace.split("."):[];if(K=ht=Q=k=k||_,!(k.nodeType===3||k.nodeType===8)&&!Uo.test(wt+A.event.triggered)&&(wt.indexOf(".")>-1&&(Hn=wt.split("."),wt=Hn.shift(),Hn.sort()),ge=wt.indexOf(":")<0&&"on"+wt,x=x[A.expando]?x:new A.Event(wt,typeof x=="object"&&x),x.isTrigger=B?2:3,x.namespace=Hn.join("."),x.rnamespace=x.namespace?new RegExp("(^|\\.)"+Hn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,x.result=void 0,x.target||(x.target=k),M=M==null?[x]:A.makeArray(M,[x]),ot=A.event.special[wt]||{},!(!B&&ot.trigger&&ot.trigger.apply(k,M)===!1))){if(!B&&!ot.noBubble&&!w(k)){for(_e=ot.delegateType||wt,Uo.test(_e+wt)||(K=K.parentNode);K;K=K.parentNode)$e.push(K),Q=K;Q===(k.ownerDocument||_)&&$e.push(Q.defaultView||Q.parentWindow||e)}for(q=0;(K=$e[q++])&&!x.isPropagationStopped();)ht=K,x.type=q>1?_e:ot.bindType||wt,ke=(Ee.get(K,"events")||Object.create(null))[x.type]&&Ee.get(K,"handle"),ke&&ke.apply(K,M),ke=ge&&K[ge],ke&&ke.apply&&de(K)&&(x.result=ke.apply(K,M),x.result===!1&&x.preventDefault());return x.type=wt,!B&&!x.isDefaultPrevented()&&(!ot._default||ot._default.apply($e.pop(),M)===!1)&&de(k)&&ge&&b(k[wt])&&!w(k)&&(Q=k[ge],Q&&(k[ge]=null),A.event.triggered=wt,x.isPropagationStopped()&&ht.addEventListener(wt,vr),k[wt](),x.isPropagationStopped()&&ht.removeEventListener(wt,vr),A.event.triggered=void 0,Q&&(k[ge]=Q)),x.result}},simulate:function(x,M,k){var B=A.extend(new A.Event,k,{type:x,isSimulated:!0});A.event.trigger(B,null,M)}}),A.fn.extend({trigger:function(x,M){return this.each(function(){A.event.trigger(x,M,this)})},triggerHandler:function(x,M){var k=this[0];if(k)return A.event.trigger(x,M,k,!0)}});var Ll=/\[\]$/,kl=/\r?\n/g,tr=/^(?:submit|button|image|reset|file)$/i,uo=/^(?:input|select|textarea|keygen)/i;function Lr(x,M,k,B){var q;if(Array.isArray(M))A.each(M,function(K,Q){k||Ll.test(x)?B(x,Q):Lr(x+"["+(typeof Q=="object"&&Q!=null?K:"")+"]",Q,k,B)});else if(!k&&I(M)==="object")for(q in M)Lr(x+"["+q+"]",M[q],k,B);else B(x,M)}A.param=function(x,M){var k,B=[],q=function(K,Q){var _e=b(Q)?Q():Q;B[B.length]=encodeURIComponent(K)+"="+encodeURIComponent(_e??"")};if(x==null)return"";if(Array.isArray(x)||x.jquery&&!A.isPlainObject(x))A.each(x,function(){q(this.name,this.value)});else for(k in x)Lr(k,x[k],M,q);return B.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var x=A.prop(this,"elements");return x?A.makeArray(x):this}).filter(function(){var x=this.type;return this.name&&!A(this).is(":disabled")&&uo.test(this.nodeName)&&!tr.test(x)&&(this.checked||!Pt.test(x))}).map(function(x,M){var k=A(this).val();return k==null?null:Array.isArray(k)?A.map(k,function(B){return{name:M.name,value:B.replace(kl,`\r
`)}}):{name:M.name,value:k.replace(kl,`\r
`)}}).get()}});var yi=/%20/g,ho=/#.*$/,nl=/([?&])_=[^&]*/,mc=/^(.*?):[ \t]*([^\r\n]*)$/mg,Na=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ol=/^(?:GET|HEAD)$/,ss=/^\/\//,Li={},da={},Rs="*/".concat("*"),qs=_.createElement("a");qs.href=Fo.href;function he(x){return function(M,k){typeof M!="string"&&(k=M,M="*");var B,q=0,K=M.toLowerCase().match(Me)||[];if(b(k))for(;B=K[q++];)B[0]==="+"?(B=B.slice(1)||"*",(x[B]=x[B]||[]).unshift(k)):(x[B]=x[B]||[]).push(k)}}function Oe(x,M,k,B){var q={},K=x===da;function Q(_e){var ge;return q[_e]=!0,A.each(x[_e]||[],function(ke,ot){var ht=ot(M,k,B);if(typeof ht=="string"&&!K&&!q[ht])return M.dataTypes.unshift(ht),Q(ht),!1;if(K)return!(ge=ht)}),ge}return Q(M.dataTypes[0])||!q["*"]&&Q("*")}function Ke(x,M){var k,B,q=A.ajaxSettings.flatOptions||{};for(k in M)M[k]!==void 0&&((q[k]?x:B||(B={}))[k]=M[k]);return B&&A.extend(!0,x,B),x}function nn(x,M,k){for(var B,q,K,Q,_e=x.contents,ge=x.dataTypes;ge[0]==="*";)ge.shift(),B===void 0&&(B=x.mimeType||M.getResponseHeader("Content-Type"));if(B){for(q in _e)if(_e[q]&&_e[q].test(B)){ge.unshift(q);break}}if(ge[0]in k)K=ge[0];else{for(q in k){if(!ge[0]||x.converters[q+" "+ge[0]]){K=q;break}Q||(Q=q)}K=K||Q}if(K)return K!==ge[0]&&ge.unshift(K),k[K]}function Jn(x,M,k,B){var q,K,Q,_e,ge,ke={},ot=x.dataTypes.slice();if(ot[1])for(Q in x.converters)ke[Q.toLowerCase()]=x.converters[Q];for(K=ot.shift();K;)if(x.responseFields[K]&&(k[x.responseFields[K]]=M),!ge&&B&&x.dataFilter&&(M=x.dataFilter(M,x.dataType)),ge=K,K=ot.shift(),K){if(K==="*")K=ge;else if(ge!=="*"&&ge!==K){if(Q=ke[ge+" "+K]||ke["* "+K],!Q){for(q in ke)if(_e=q.split(" "),_e[1]===K&&(Q=ke[ge+" "+_e[0]]||ke["* "+_e[0]],Q)){Q===!0?Q=ke[q]:ke[q]!==!0&&(K=_e[0],ot.unshift(_e[1]));break}}if(Q!==!0)if(Q&&x.throws)M=Q(M);else try{M=Q(M)}catch(ht){return{state:"parsererror",error:Q?ht:"No conversion from "+ge+" to "+K}}}}return{state:"success",data:M}}A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fo.href,type:"GET",isLocal:Na.test(Fo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(x,M){return M?Ke(Ke(x,A.ajaxSettings),M):Ke(A.ajaxSettings,x)},ajaxPrefilter:he(Li),ajaxTransport:he(da),ajax:function(x,M){typeof x=="object"&&(M=x,x=void 0),M=M||{};var k,B,q,K,Q,_e,ge,ke,ot,ht,$e=A.ajaxSetup({},M),wt=$e.context||$e,Hn=$e.context&&(wt.nodeType||wt.jquery)?A(wt):A.event,yr=A.Deferred(),ar=A.Callbacks("once memory"),Xi=$e.statusCode||{},pi={},fo={},zo="canceled",_r={readyState:0,getResponseHeader:function(lr){var Jr;if(ge){if(!K)for(K={};Jr=mc.exec(q);)K[Jr[1].toLowerCase()+" "]=(K[Jr[1].toLowerCase()+" "]||[]).concat(Jr[2]);Jr=K[lr.toLowerCase()+" "]}return Jr==null?null:Jr.join(", ")},getAllResponseHeaders:function(){return ge?q:null},setRequestHeader:function(lr,Jr){return ge==null&&(lr=fo[lr.toLowerCase()]=fo[lr.toLowerCase()]||lr,pi[lr]=Jr),this},overrideMimeType:function(lr){return ge==null&&($e.mimeType=lr),this},statusCode:function(lr){var Jr;if(lr)if(ge)_r.always(lr[_r.status]);else for(Jr in lr)Xi[Jr]=[Xi[Jr],lr[Jr]];return this},abort:function(lr){var Jr=lr||zo;return k&&k.abort(Jr),fa(0,Jr),this}};if(yr.promise(_r),$e.url=((x||$e.url||Fo.href)+"").replace(ss,Fo.protocol+"//"),$e.type=M.method||M.type||$e.method||$e.type,$e.dataTypes=($e.dataType||"*").toLowerCase().match(Me)||[""],$e.crossDomain==null){_e=_.createElement("a");try{_e.href=$e.url,_e.href=_e.href,$e.crossDomain=qs.protocol+"//"+qs.host!=_e.protocol+"//"+_e.host}catch{$e.crossDomain=!0}}if($e.data&&$e.processData&&typeof $e.data!="string"&&($e.data=A.param($e.data,$e.traditional)),Oe(Li,$e,M,_r),ge)return _r;ke=A.event&&$e.global,ke&&A.active++===0&&A.event.trigger("ajaxStart"),$e.type=$e.type.toUpperCase(),$e.hasContent=!Ol.test($e.type),B=$e.url.replace(ho,""),$e.hasContent?$e.data&&$e.processData&&($e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&($e.data=$e.data.replace(yi,"+")):(ht=$e.url.slice(B.length),$e.data&&($e.processData||typeof $e.data=="string")&&(B+=(pc.test(B)?"&":"?")+$e.data,delete $e.data),$e.cache===!1&&(B=B.replace(nl,"$1"),ht=(pc.test(B)?"&":"?")+"_="+Da.guid+++ht),$e.url=B+ht),$e.ifModified&&(A.lastModified[B]&&_r.setRequestHeader("If-Modified-Since",A.lastModified[B]),A.etag[B]&&_r.setRequestHeader("If-None-Match",A.etag[B])),($e.data&&$e.hasContent&&$e.contentType!==!1||M.contentType)&&_r.setRequestHeader("Content-Type",$e.contentType),_r.setRequestHeader("Accept",$e.dataTypes[0]&&$e.accepts[$e.dataTypes[0]]?$e.accepts[$e.dataTypes[0]]+($e.dataTypes[0]!=="*"?", "+Rs+"; q=0.01":""):$e.accepts["*"]);for(ot in $e.headers)_r.setRequestHeader(ot,$e.headers[ot]);if($e.beforeSend&&($e.beforeSend.call(wt,_r,$e)===!1||ge))return _r.abort();if(zo="abort",ar.add($e.complete),_r.done($e.success),_r.fail($e.error),k=Oe(da,$e,M,_r),!k)fa(-1,"No Transport");else{if(_r.readyState=1,ke&&Hn.trigger("ajaxSend",[_r,$e]),ge)return _r;$e.async&&$e.timeout>0&&(Q=e.setTimeout(function(){_r.abort("timeout")},$e.timeout));try{ge=!1,k.send(pi,fa)}catch(lr){if(ge)throw lr;fa(-1,lr)}}function fa(lr,Jr,Ys,os){var Js,as,Ai,_s,qi,ki=Jr;ge||(ge=!0,Q&&e.clearTimeout(Q),k=void 0,q=os||"",_r.readyState=lr>0?4:0,Js=lr>=200&&lr<300||lr===304,Ys&&(_s=nn($e,_r,Ys)),!Js&&A.inArray("script",$e.dataTypes)>-1&&A.inArray("json",$e.dataTypes)<0&&($e.converters["text script"]=function(){}),_s=Jn($e,_s,_r,Js),Js?($e.ifModified&&(qi=_r.getResponseHeader("Last-Modified"),qi&&(A.lastModified[B]=qi),qi=_r.getResponseHeader("etag"),qi&&(A.etag[B]=qi)),lr===204||$e.type==="HEAD"?ki="nocontent":lr===304?ki="notmodified":(ki=_s.state,as=_s.data,Ai=_s.error,Js=!Ai)):(Ai=ki,(lr||!ki)&&(ki="error",lr<0&&(lr=0))),_r.status=lr,_r.statusText=(Jr||ki)+"",Js?yr.resolveWith(wt,[as,ki,_r]):yr.rejectWith(wt,[_r,ki,Ai]),_r.statusCode(Xi),Xi=void 0,ke&&Hn.trigger(Js?"ajaxSuccess":"ajaxError",[_r,$e,Js?as:Ai]),ar.fireWith(wt,[_r,ki]),ke&&(Hn.trigger("ajaxComplete",[_r,$e]),--A.active||A.event.trigger("ajaxStop")))}return _r},getJSON:function(x,M,k){return A.get(x,M,k,"json")},getScript:function(x,M){return A.get(x,void 0,M,"script")}}),A.each(["get","post"],function(x,M){A[M]=function(k,B,q,K){return b(B)&&(K=K||q,q=B,B=void 0),A.ajax(A.extend({url:k,type:M,dataType:K,data:B,success:q},A.isPlainObject(k)&&k))}}),A.ajaxPrefilter(function(x){var M;for(M in x.headers)M.toLowerCase()==="content-type"&&(x.contentType=x.headers[M]||"")}),A._evalUrl=function(x,M,k){return A.ajax({url:x,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(B){A.globalEval(B,M,k)}})},A.fn.extend({wrapAll:function(x){var M;return this[0]&&(b(x)&&(x=x.call(this[0])),M=A(x,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&M.insertBefore(this[0]),M.map(function(){for(var k=this;k.firstElementChild;)k=k.firstElementChild;return k}).append(this)),this},wrapInner:function(x){return b(x)?this.each(function(M){A(this).wrapInner(x.call(this,M))}):this.each(function(){var M=A(this),k=M.contents();k.length?k.wrapAll(x):M.append(x)})},wrap:function(x){var M=b(x);return this.each(function(k){A(this).wrapAll(M?x.call(this,k):x)})},unwrap:function(x){return this.parent(x).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(x){return!A.expr.pseudos.visible(x)},A.expr.pseudos.visible=function(x){return!!(x.offsetWidth||x.offsetHeight||x.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var dn={0:200,1223:204},Pr=A.ajaxSettings.xhr();y.cors=!!Pr&&"withCredentials"in Pr,y.ajax=Pr=!!Pr,A.ajaxTransport(function(x){var M,k;if(y.cors||Pr&&!x.crossDomain)return{send:function(B,q){var K,Q=x.xhr();if(Q.open(x.type,x.url,x.async,x.username,x.password),x.xhrFields)for(K in x.xhrFields)Q[K]=x.xhrFields[K];x.mimeType&&Q.overrideMimeType&&Q.overrideMimeType(x.mimeType),!x.crossDomain&&!B["X-Requested-With"]&&(B["X-Requested-With"]="XMLHttpRequest");for(K in B)Q.setRequestHeader(K,B[K]);M=function(_e){return function(){M&&(M=k=Q.onload=Q.onerror=Q.onabort=Q.ontimeout=Q.onreadystatechange=null,_e==="abort"?Q.abort():_e==="error"?typeof Q.status!="number"?q(0,"error"):q(Q.status,Q.statusText):q(dn[Q.status]||Q.status,Q.statusText,(Q.responseType||"text")!=="text"||typeof Q.responseText!="string"?{binary:Q.response}:{text:Q.responseText},Q.getAllResponseHeaders()))}},Q.onload=M(),k=Q.onerror=Q.ontimeout=M("error"),Q.onabort!==void 0?Q.onabort=k:Q.onreadystatechange=function(){Q.readyState===4&&e.setTimeout(function(){M&&k()})},M=M("abort");try{Q.send(x.hasContent&&x.data||null)}catch(_e){if(M)throw _e}},abort:function(){M&&M()}}}),A.ajaxPrefilter(function(x){x.crossDomain&&(x.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(x){return A.globalEval(x),x}}}),A.ajaxPrefilter("script",function(x){x.cache===void 0&&(x.cache=!1),x.crossDomain&&(x.type="GET")}),A.ajaxTransport("script",function(x){if(x.crossDomain||x.scriptAttrs){var M,k;return{send:function(B,q){M=A("<script>").attr(x.scriptAttrs||{}).prop({charset:x.scriptCharset,src:x.url}).on("load error",k=function(K){M.remove(),k=null,K&&q(K.type==="error"?404:200,K.type)}),_.head.appendChild(M[0])},abort:function(){k&&k()}}}});var Vn=[],or=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var x=Vn.pop()||A.expando+"_"+Da.guid++;return this[x]=!0,x}}),A.ajaxPrefilter("json jsonp",function(x,M,k){var B,q,K,Q=x.jsonp!==!1&&(or.test(x.url)?"url":typeof x.data=="string"&&(x.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&or.test(x.data)&&"data");if(Q||x.dataTypes[0]==="jsonp")return B=x.jsonpCallback=b(x.jsonpCallback)?x.jsonpCallback():x.jsonpCallback,Q?x[Q]=x[Q].replace(or,"$1"+B):x.jsonp!==!1&&(x.url+=(pc.test(x.url)?"&":"?")+x.jsonp+"="+B),x.converters["script json"]=function(){return K||A.error(B+" was not called"),K[0]},x.dataTypes[0]="json",q=e[B],e[B]=function(){K=arguments},k.always(function(){q===void 0?A(e).removeProp(B):e[B]=q,x[B]&&(x.jsonpCallback=M.jsonpCallback,Vn.push(B)),K&&b(q)&&q(K[0]),K=q=void 0}),"script"}),y.createHTMLDocument=function(){var x=_.implementation.createHTMLDocument("").body;return x.innerHTML="<form></form><form></form>",x.childNodes.length===2}(),A.parseHTML=function(x,M,k){if(typeof x!="string")return[];typeof M=="boolean"&&(k=M,M=!1);var B,q,K;return M||(y.createHTMLDocument?(M=_.implementation.createHTMLDocument(""),B=M.createElement("base"),B.href=_.location.href,M.head.appendChild(B)):M=_),q=ze.exec(x),K=!k&&[],q?[M.createElement(q[1])]:(q=Kn([x],M,K),K&&K.length&&A(K).remove(),A.merge([],q.childNodes))},A.fn.load=function(x,M,k){var B,q,K,Q=this,_e=x.indexOf(" ");return _e>-1&&(B=Xs(x.slice(_e)),x=x.slice(0,_e)),b(M)?(k=M,M=void 0):M&&typeof M=="object"&&(q="POST"),Q.length>0&&A.ajax({url:x,type:q||"GET",dataType:"html",data:M}).done(function(ge){K=arguments,Q.html(B?A("<div>").append(A.parseHTML(ge)).find(B):ge)}).always(k&&function(ge,ke){Q.each(function(){k.apply(this,K||[ge.responseText,ke,ge])})}),this},A.expr.pseudos.animated=function(x){return A.grep(A.timers,function(M){return x===M.elem}).length},A.offset={setOffset:function(x,M,k){var B,q,K,Q,_e,ge,ke,ot=A.css(x,"position"),ht=A(x),$e={};ot==="static"&&(x.style.position="relative"),_e=ht.offset(),K=A.css(x,"top"),ge=A.css(x,"left"),ke=(ot==="absolute"||ot==="fixed")&&(K+ge).indexOf("auto")>-1,ke?(B=ht.position(),Q=B.top,q=B.left):(Q=parseFloat(K)||0,q=parseFloat(ge)||0),b(M)&&(M=M.call(x,k,A.extend({},_e))),M.top!=null&&($e.top=M.top-_e.top+Q),M.left!=null&&($e.left=M.left-_e.left+q),"using"in M?M.using.call(x,$e):ht.css($e)}},A.fn.extend({offset:function(x){if(arguments.length)return x===void 0?this:this.each(function(q){A.offset.setOffset(this,x,q)});var M,k,B=this[0];if(B)return B.getClientRects().length?(M=B.getBoundingClientRect(),k=B.ownerDocument.defaultView,{top:M.top+k.pageYOffset,left:M.left+k.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var x,M,k,B=this[0],q={top:0,left:0};if(A.css(B,"position")==="fixed")M=B.getBoundingClientRect();else{for(M=this.offset(),k=B.ownerDocument,x=B.offsetParent||k.documentElement;x&&(x===k.body||x===k.documentElement)&&A.css(x,"position")==="static";)x=x.parentNode;x&&x!==B&&x.nodeType===1&&(q=A(x).offset(),q.top+=A.css(x,"borderTopWidth",!0),q.left+=A.css(x,"borderLeftWidth",!0))}return{top:M.top-q.top-A.css(B,"marginTop",!0),left:M.left-q.left-A.css(B,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var x=this.offsetParent;x&&A.css(x,"position")==="static";)x=x.offsetParent;return x||Vt})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(x,M){var k=M==="pageYOffset";A.fn[x]=function(B){return Ut(this,function(q,K,Q){var _e;if(w(q)?_e=q:q.nodeType===9&&(_e=q.defaultView),Q===void 0)return _e?_e[M]:q[K];_e?_e.scrollTo(k?_e.pageXOffset:Q,k?Q:_e.pageYOffset):q[K]=Q},x,B,arguments.length)}}),A.each(["top","left"],function(x,M){A.cssHooks[M]=st(y.pixelPosition,function(k,B){if(B)return B=at(k,M),ce.test(B)?A(k).position()[M]+"px":B})}),A.each({Height:"height",Width:"width"},function(x,M){A.each({padding:"inner"+x,content:M,"":"outer"+x},function(k,B){A.fn[B]=function(q,K){var Q=arguments.length&&(k||typeof q!="boolean"),_e=k||(q===!0||K===!0?"margin":"border");return Ut(this,function(ge,ke,ot){var ht;return w(ge)?B.indexOf("outer")===0?ge["inner"+x]:ge.document.documentElement["client"+x]:ge.nodeType===9?(ht=ge.documentElement,Math.max(ge.body["scroll"+x],ht["scroll"+x],ge.body["offset"+x],ht["offset"+x],ht["client"+x])):ot===void 0?A.css(ge,ke,_e):A.style(ge,ke,ot,_e)},M,Q?q:void 0,Q)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(x,M){A.fn[M]=function(k){return this.on(M,k)}}),A.fn.extend({bind:function(x,M,k){return this.on(x,null,M,k)},unbind:function(x,M){return this.off(x,null,M)},delegate:function(x,M,k,B){return this.on(M,x,k,B)},undelegate:function(x,M,k){return arguments.length===1?this.off(x,"**"):this.off(M,x||"**",k)},hover:function(x,M){return this.on("mouseenter",x).on("mouseleave",M||x)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(x,M){A.fn[M]=function(k,B){return arguments.length>0?this.on(M,null,k,B):this.trigger(M)}});var $i=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(x,M){var k,B,q;if(typeof M=="string"&&(k=x[M],M=x,x=k),!!b(x))return B=s.call(arguments,2),q=function(){return x.apply(M||this,B.concat(s.call(arguments)))},q.guid=x.guid=x.guid||A.guid++,q},A.holdReady=function(x){x?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=U,A.isFunction=b,A.isWindow=w,A.camelCase=ve,A.type=I,A.now=Date.now,A.isNumeric=function(x){var M=A.type(x);return(M==="number"||M==="string")&&!isNaN(x-parseFloat(x))},A.trim=function(x){return x==null?"":(x+"").replace($i,"$1")};var Wi=e.jQuery,Ks=e.$;return A.noConflict=function(x){return e.$===A&&(e.$=Ks),x&&e.jQuery===A&&(e.jQuery=Wi),A},typeof n>"u"&&(e.jQuery=e.$=A),A})})(bne);var tVe=bne.exports;const MD=_f(tVe),nVe=async(t,e)=>{try{const n=hm(jv,"users",t);await qB(n,{balance:e}),console.log("Balance actualizado exitosamente")}catch(n){console.error("Error al actualizar el balance: ",n)}},Df=G.createContext(),rVe=t=>{const[e,n]=G.useState([{id:"1",min:"355",max:"360",turn:"1",value:"0",class:"button-green",ga:"1 / 1 / 4 / 2",betAmount:0,multiple:36},{id:"2",min:"335.6",max:"345",turn:"36",value:"3",class:"button-red",ga:"1 / 2 / 2 / 3",betAmount:0,multiple:36},{id:"3",min:"92.6",max:"102.5",turn:"11",value:"6",class:"button-dark",ga:"1 / 3 / 2 / 4",betAmount:0,multiple:36},{id:"4",min:"260.1",max:"269.5",turn:"28",value:"9",class:"button-red",ga:"1 / 4 / 2 / 5",betAmount:0,multiple:36},{id:"5",min:"316.6",max:"326",turn:"34",value:"12",class:"button-red",ga:"1 / 5 / 2 / 6",betAmount:0,multiple:36},{id:"6",min:"13.6",max:"23.5",turn:"3",value:"15",class:"button-dark",ga:"1 / 6 / 2 / 7",betAmount:0,multiple:36},{id:"7",min:"278.6",max:"288",turn:"30",value:"18",class:"button-red",ga:"1 / 7 / 2 / 8",betAmount:0,multiple:36},{id:"8",min:"43.3",max:"52.7",turn:"6",value:"21",class:"button-red",ga:"1 / 8 / 2 / 9",betAmount:0,multiple:36},{id:"9",min:"191.6",max:"202",turn:"21",value:"24",class:"button-dark",ga:"1 / 9 / 2 / 10",betAmount:0,multiple:36},{id:"10",min:"102.6",max:"112",turn:"12",value:"27",class:"button-red",ga:"1 / 10 / 2 / 11",betAmount:0,multiple:36},{id:"11",min:"142.6",max:"152",turn:"16",value:"30",class:"button-red",ga:"1 / 11 / 2 / 12",betAmount:0,multiple:36},{id:"12",min:"211.1",max:"221.5",turn:"23",value:"33",class:"button-dark",ga:"1 / 12 / 2 / 13",betAmount:0,multiple:36},{id:"13",min:"122.6",max:"132",turn:"14",value:"36",class:"button-red",ga:"1 / 13 / 2 / 14",betAmount:0,multiple:36},{id:"14",turn:"",value:"3:1",class:"button-cluster",nums:["3","6","9","12","15","18","21","24","27","30","33","36"],ga:"1 / 14 / 2 / 15",betAmount:0,multiple:3},{id:"15",min:"52.8",max:"62.5",turn:"7",value:"2",class:"button-dark",ga:"2 / 2 / 3 / 3",betAmount:0,multiple:36},{id:"16",min:"182.1",max:"191.5",turn:"20",value:"5",class:"button-red",ga:"2 / 3 / 3 / 4",betAmount:0,multiple:36},{id:"17",min:"152.1",max:"162",turn:"17",value:"8",class:"button-dark",ga:"2 / 4 / 3 / 5",betAmount:0,multiple:36},{id:"18",min:"132.1",max:"142.5",turn:"15",value:"11",class:"button-dark",ga:"2 / 5 / 3 / 6",betAmount:0,multiple:36},{id:"19",min:"240.6",max:"250",turn:"26",value:"14",class:"button-red",ga:"2 / 6 / 3 / 7",betAmount:0,multiple:36},{id:"20",min:"72.1",max:"82.5",turn:"9",value:"17",class:"button-dark",ga:"2 / 7 / 3 / 8",betAmount:0,multiple:36},{id:"21",min:"230.6",max:"240.5",turn:"25",value:"20",class:"button-dark",ga:"2 / 8 / 3 / 9",betAmount:0,multiple:36},{id:"22",min:"162.1",max:"172",turn:"18",value:"23",class:"button-red",ga:"2 / 9 / 3 / 10",betAmount:0,multiple:36},{id:"23",min:"345.1",max:"354.9",turn:"37",value:"26",class:"button-dark",ga:"2 / 10 / 3 / 11",betAmount:0,multiple:36},{id:"24",min:"288.1",max:"297.5",turn:"31",value:"29",class:"button-dark",ga:"2 / 11 / 3 / 12",betAmount:0,multiple:36},{id:"25",min:"4.6",max:"13.5",turn:"2",value:"32",class:"button-red",ga:"2 / 12 / 3 / 13",betAmount:0,multiple:36},{id:"26",min:"326.1",max:"335.5",turn:"35",value:"35",class:"button-dark",ga:"2 / 13 / 3 / 14",betAmount:0,multiple:36},{id:"27",turn:"",value:"3:1",class:"button-cluster",nums:["2","5","8","11","14","17","20","23","26","29","32","35"],ga:"2 / 14 / 3 / 15",betAmount:0,multiple:3},{id:"28",min:"221.6",max:"230.5",turn:"24",value:"1",class:"button-red",ga:"3 / 2 / 4 / 3",betAmount:0,multiple:36},{id:"29",min:"33.6",max:"43.2",turn:"5",value:"4",class:"button-dark",ga:"3 / 3 / 4 / 4",betAmount:0,multiple:36},{id:"30",min:"297.6",max:"306.5",turn:"32",value:"7",class:"button-red",ga:"3 / 4 / 4 / 5",betAmount:0,multiple:36},{id:"31",min:"172.1",max:"182",turn:"19",value:"10",class:"button-dark",ga:"3 / 5 / 4 / 6",betAmount:0,multiple:36},{id:"32",min:"112.1",max:"122.5",turn:"13",value:"13",class:"button-dark",ga:"3 / 6 / 4 / 7",betAmount:0,multiple:36},{id:"33",min:"202.1",max:"211",turn:"22",value:"16",class:"button-red",ga:"3 / 7 / 4 / 8",betAmount:0,multiple:36},{id:"34",min:"23.6",max:"33.5",turn:"4",value:"19",class:"button-red",ga:"3 / 8 / 4 / 9",betAmount:0,multiple:36},{id:"35",min:"269.6",max:"278.5",turn:"29",value:"22",class:"button-dark",ga:"3 / 9 / 4 / 10",betAmount:0,multiple:36},{id:"36",min:"62.6",max:"72",turn:"8",value:"25",class:"button-red",ga:"3 / 10 / 4 / 11",betAmount:0,multiple:36},{id:"37",min:"306.6",max:"316.5",turn:"33",value:"28",class:"button-dark",ga:"3 / 11 / 4 / 12",betAmount:0,multiple:36},{id:"38",min:"250.1",max:"260",turn:"27",value:"31",class:"button-dark",ga:"3 / 12 / 4 / 13",betAmount:0,multiple:36},{id:"39",min:"82.6",max:"92.5",turn:"10",value:"34",class:"button-red",ga:"3 / 13 / 4 / 14",betAmount:0,multiple:36},{id:"40",turn:"",value:"3:1",class:"button-cluster",nums:["1","4","7","10","13","16","19","22","25","28","31","34"],ga:"3 / 14 / 4 / 15",betAmount:0,multiple:3},{id:"41",turn:"",value:"1 to 12",class:"button-cluster",nums:["1","2","3","4","5","6","7","8","9","10","11","12"],ga:"4 / 2 / 5 / 6",betAmount:0,multiple:3},{id:"42",turn:"",value:"13 to 24",class:"button-cluster",nums:["13","14","15","16","17","18","19","20","21","22","23","24"],ga:"4 / 6 / 5 / 10",betAmount:0,multiple:3},{id:"43",turn:"",value:"25 to 36",class:"button-cluster",nums:["25","26","27","28","29","30","31","32","33","34","35","36"],ga:"4 / 10 / 5 / 14",betAmount:0,multiple:3},{id:"44",turn:"",value:"1 to 18",class:"button-cluster",nums:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"],ga:"5 / 2 / 6 / 4",betAmount:0,multiple:2},{id:"45",turn:"",value:"Even",class:"button-cluster",nums:["2","4","6","8","10","12","14","16","18","20","22","24","26","28","30","32","34","36"],ga:"5 / 4 / 6 / 6",betAmount:0,multiple:2},{id:"46",turn:"",value:"",class:"button-red no-border",nums:["1","3","5","7","9","12","14","16","18","19","21","23","25","27","30","32","34","36"],ga:"5 / 6 / 6 / 8",betAmount:0,multiple:2},{id:"47",turn:"",value:"",class:"button-dark no-border",nums:["2","4","6","8","10","11","13","15","17","20","22","24","26","28","29","31","33","35"],ga:"5 / 8 / 6 / 10",betAmount:0,multiple:2},{id:"48",turn:"",value:"Odd",class:"button-cluster",nums:["1","3","5","7","9","11","13","15","17","19","21","23","25","27","29","31","33","35"],ga:"5 / 10 / 6 / 12",betAmount:0,multiple:2},{id:"49",turn:"",value:"19 to 36",class:"button-cluster",nums:["19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36"],ga:"5 / 12 / 6 / 14",betAmount:0,multiple:2}]),r=360/37,[i,s]=G.useState([]),[o,a]=G.useState(e),[l,c]=G.useState(20),u=ve=>{c(ve)},{user:d,logOut:f}=G.useContext(Pu),[v,y]=G.useState(null);G.useEffect(()=>{(async()=>{if(d)try{const de=await XB(hm(jv,"users",d.uid));de.exists()?y(de.data().balance):console.log("No such document!")}catch(de){console.error("Error fetching user balance:",de)}})()},[d]);const[b,w]=G.useState(!1),[_,S]=G.useState(!1),[C,I]=G.useState(!1),[z,N]=G.useState(0),[A,W]=G.useState(0),[U,F]=G.useState(!1),[ee,se]=G.useState(!1),[ne,me]=G.useState(""),[be,Se]=G.useState(0),[Ue,J]=G.useState(0),[fe,re]=G.useState(!0),[Ce,ze]=G.useState(!0),[tt,Ie]=G.useState(!0),[Xe,Re]=G.useState(0),[qe,Ot]=G.useState(!1),[ln,Me]=G.useState("none"),[rn,We]=G.useState(0),{userId:rt}=G.useContext(Pu),lt=()=>{F(!1),se(!1),I(!0),S(!1),Me("none"),a(e.map(Ze=>Ze.id?{...Ze,betAmount:e.filter(vt=>vt.id===Ze.id)[0].betAmount,class:e.filter(vt=>vt.id===Ze.id)[0].class}:null)),J(be);let ve=Math.floor(Math.random()*(r*200+z-(r*100+z)))+(r*100+z),de=Math.floor(Math.random()*(A-1500-A))+A,xe=parseFloat((ve-de)%360),Ee=e.filter(Ze=>parseFloat(Ze.min)<=xe&&parseFloat(Ze.max)>=xe)[0];Ee=Ee||(Ee=e[0]),N(ve),W(de),me(Ee.value),console.log(Ee.value),setTimeout(()=>{Se(0),s([Ee.value,...i]),F(!0),se(!0),I(!1),Rt(Ee.value),We(rn+1)},10200)};G.useEffect(()=>{be>0?(S(!0),re(!1),Ie(!0),v+be>=be*2?ze(!1):ze(!0)):(S(!1),re(!0),ze(!0),be===0&&Ue<=v&&rn>0?Ie(!1):Ie(!0))},[be,v]);const bt=(ve,de,xe)=>{const Ee=e.filter(Ze=>Ze.id===de)[0];v>=l&&xe==="add"?(Ee.betAmount+=l,Ee.class.includes("bet-active")?Ee.class+="":Ee.class+=" bet-active",y(v-l),Se(be+l)):xe==="del"&&(ve.preventDefault(),Ee.betAmount-l<=0?(y(v+Ee.betAmount),Se(be-Ee.betAmount),Ee.betAmount=0,Ee.class=Ee.class.replace("bet-active","")):(Ee.betAmount-=l,y(v+l),Se(be-l))),Ee.class=mt(Ee.class,Ee.betAmount),n(e.map(Ze=>Ze.id===de?Ee:Ze))},mt=(ve,de)=>{let xe;if(de<5?xe="chip-1":de<20?xe="chip-5":de<50?xe="chip-20":de<100?xe="chip-50":xe="chip-100",de>0&&!ve.includes("chip-"))return ve+" "+xe;if(de>0&&ve.includes("chip-"))return ve.split(" ")[0]+" bet-active "+xe;if(de===0)return ve.split(" ")[0]},Rt=async ve=>{let de=0;const xe=["14","27","40","41","42","43","44","45","46","47","48","49"];e.forEach(Ee=>{Ee.value===ve&&Ee.betAmount!==0&&(de=de+Ee.betAmount*Ee.multiple),xe.includes(Ee.id)&&Ee.nums.includes(ve)&&Ee.betAmount!==0&&(de=de+Ee.betAmount*Ee.multiple),Ee.class=Ee.class.replace("bet-active",""),Ee.betAmount=0}),Re(de),de>0?Me("gained"):Me("lost"),y(v+de),await nVe(rt,newBalance)},Ut=()=>{n(e.map(ve=>ve?{...ve,class:ve.class.replace("bet-active",""),betAmount:0}:null)),y(v+be),Se(0)},X=()=>{v+be>=be*2&&(n(e.map(ve=>ve?{...ve,class:mt(ve.class,ve.betAmount*2),betAmount:ve.betAmount*2}:null)),y(v-be),Se(be*2))},j=()=>{Ue<=v&&(y(v+be),n(o.map(ve=>ve.id?{...ve,betAmount:o.filter(de=>de.id===ve.id)[0].betAmount,class:o.filter(de=>de.id===ve.id)[0].class}:null)),y(v-Ue),Se(Ue))};G.useEffect(()=>{ln==="gained"&&(Ot(!0),setTimeout(()=>{Ot(!1)},3e3))},[ln]);const ae=G.useRef();return MD(function(){var ve=ae.current,de=Math.random,xe=Math.cos,Ee=Math.sin,Ze=Math.PI,vt=Ze*2,Xt=void 0,yt=void 0,zt=[],bn=115,Yt=250,St=2,Vt=7-St,Ae=10,dt=100,pt=-.1,ye=-pt-pt,ct=.13,Le=.18,_t=.4,Pt=.7-_t,Bn=[function(){return gn(200*de()|0,200*de()|0,200*de()|0)},function(){var vn=200*de()|0;return gn(200,vn,vn)},function(){var vn=200*de()|0;return gn(vn,200,vn)},function(){var vn=200*de()|0;return gn(vn,vn,200)},function(){return gn(200,100,200*de()|0)},function(){return gn(200*de()|0,200,200)},function(){var vn=256*de()|0;return gn(vn,vn,vn)},function(){return Bn[de()<.5?1:2]()},function(){return Bn[de()<.5?3:5]()},function(){return Bn[de()<.5?2:4]()}];function gn(vn,In,Dn){return"rgb("+vn+","+In+","+Dn+")"}function En(vn,In,Dn){return(1-xe(Ze*Dn))/2*(In-vn)+vn}var kn=1/Ae,Fn=kn+kn;function Gr(){for(var vn=[kn,1-kn],In=1-Fn,Dn=[0,1];In;){var Et=In*de(),Mn,xn,ir,Ur,Y,O,Z;for(Mn=0,xn=vn.length,In=0;Mn<xn;Mn+=2){if(Ur=vn[Mn],Y=vn[Mn+1],ir=Y-Ur,Et<In+ir){Dn.push(Et+=Ur-In);break}In+=ir}for(O=Et-kn,Z=Et+kn,Mn=vn.length-1;Mn>0;Mn-=2)xn=Mn-1,Ur=vn[xn],Y=vn[Mn],Ur>=O&&Ur<Z?Y>Z?vn[xn]=Z:vn.splice(xn,2):Ur<O&&Y>O&&(Y<=Z?vn[Mn]=O:vn.splice(Mn,0,O,Z));for(Mn=0,xn=vn.length,In=0;Mn<xn;Mn+=2)In+=vn[Mn+1]-vn[Mn]}return Dn.sort()}var Kn=document.createElement("div");Kn.style.position="fixed",Kn.style.top="0",Kn.style.left="0",Kn.style.width="100%",Kn.style.height="0",Kn.style.overflow="visible",Kn.style.zIndex="9999";function vi(vn){this.frame=0,this.outer=document.createElement("div"),this.inner=document.createElement("div"),this.outer.appendChild(this.inner);var In=this.outer.style,Dn=this.inner.style;In.position="absolute",In.width=St+Vt*de()+"px",In.height=St+Vt*de()+"px",Dn.width="100%",Dn.height="100%",Dn.backgroundColor=vn(),In.perspective="50px",In.transform="rotate("+360*de()+"deg)",this.axis="rotate3D("+xe(360*de())+","+xe(360*de())+",0,",this.theta=360*de(),this.dTheta=_t+Pt*de(),Dn.transform=this.axis+this.theta+"deg)",this.x=ve.clientWidth*de(),this.y=-dt,this.dx=Ee(pt+ye*de()),this.dy=ct+Le*de(),In.left=this.x+"px",In.top=this.y+"px",this.splineX=Gr(),this.splineY=[];for(var Et=1,Mn=this.splineX.length-1;Et<Mn;++Et)this.splineY[Et]=dt*de();this.splineY[0]=this.splineY[Mn]=dt*de(),this.update=function(xn,ir){this.frame+=ir,this.x+=this.dx*ir,this.y+=this.dy*ir,this.theta+=this.dTheta*ir;for(var Ur=this.frame%7777/7777,Y=0,O=1;Ur>=this.splineX[O];)Y=O++;var Z=En(this.splineY[Y],this.splineY[O],(Ur-this.splineX[Y])/(this.splineX[O]-this.splineX[Y]));return Ur*=vt,In.left=this.x+Z*xe(Ur)+"px",In.top=this.y+Z*Ee(Ur)+"px",Dn.transform=this.axis+this.theta+"deg)",this.y>xn+dt}}function is(){if(!yt){ae.current.appendChild(Kn);var vn=Bn[qe?Bn.length*de()|0:0],In=0;(function Et(){if(qe&&++In>bn)return Xt=void 0;var Mn=new vi(vn);zt.push(Mn),Kn.appendChild(Mn.outer),Xt=setTimeout(Et,Yt*de())})();var Dn=void 0;requestAnimationFrame(function Et(Mn){var xn=Dn?Mn-Dn:0;Dn=Mn;for(var ir=ve.clientHeight,Ur=zt.length-1;Ur>=0;--Ur)zt[Ur].update(ir,xn)&&(Kn.removeChild(zt[Ur].outer),zt.splice(Ur,1));if(Xt||zt.length)return yt=requestAnimationFrame(Et);ae.current.removeChild(Kn),yt=void 0})}}qe&&is()}),V.jsx(Df.Provider,{value:{buttons:e,lastNums:i,chip:l,bet:bt,selectChip:u,balance:v,setBalance:y,faucetModal:b,setFaucetModal:w,gain:Xe,winnerEffect:ln,svgContainer:ae,animation:qe,fadeBtn:fe,fadeBtn2:Ce,fadeBtn3:tt,play:lt,playable:_,setPlayable:S,bConState:C,rotate:z,setRotate:N,rotate2:A,hideBall:U,showItemBall:ee,winnerNumber:ne,clearBet:Ut,doubleBet:X,reBet:j},children:t.children})},iVe=()=>{const{buttons:t,bet:e,bConState:n,clearBet:r,doubleBet:i,reBet:s,fadeBtn:o,fadeBtn2:a,fadeBtn3:l}=G.useContext(Df);return V.jsx(Te.Fragment,{children:V.jsxs("div",{className:n?"bet-container disabled-container":"bet-container",children:[t.map(c=>V.jsxs("div",{className:c.class,style:{gridArea:c.ga},onClick:u=>e(u,c.id,"add"),onContextMenu:u=>e(u,c.id,"del"),children:[c.value,V.jsx("div",{className:"bet-chip",children:c.betAmount})]},c.id)),V.jsx("button",{type:"button",title:"Clear Bet",className:o?"subBtn delBtn disabled-container":"subBtn delBtn",onClick:()=>r(),children:V.jsx("i",{className:"fa-solid fa-x"})}),V.jsx("button",{type:"button",title:"Double Bet",className:a?"subBtn x2Btn disabled-container":"subBtn x2Btn",onClick:()=>i(),children:"2x"}),V.jsx("button",{type:"button",className:"subBtn",style:{opacity:"0",pointerEvents:"none"}}),V.jsx("button",{type:"button",title:"Replay",className:l?"subBtn agnBtn disabled-container":"subBtn agnBtn",onClick:()=>s(),children:V.jsx("i",{className:"fa-solid fa-rotate-right"})})]})})},sVe=G.memo(iVe),oVe=()=>{const{lastNums:t,buttons:e}=G.useContext(Df);return V.jsx("div",{className:"last-numbers",children:t.reverse().map((n,r)=>r<5?V.jsx("div",{className:e.filter(i=>i.value===n)[0].class,children:n},r):null)})},aVe=G.memo(oVe),lVe=()=>{const{selectChip:t,chip:e,bConState:n}=G.useContext(Df),r=[{id:"1",number:1,color:"#204b99"},{id:"2",number:5,color:"#ab1853"},{id:"3",number:20,color:"#18ab79"},{id:"4",number:50,color:"#cea92a"},{id:"5",number:100,color:"#6e43af"}];return V.jsx("div",{className:n?"chips-container disabled-container":"chips-container",children:r.map(i=>V.jsx("div",{className:`chip-${i.number} ${e===i.number?"activeChip":null}`,onClick:()=>t(i.number),children:i.number},i.id))})},cVe=G.memo(lVe),uVe=()=>{const{balance:t,setBalance:e,setFaucetModal:n}=G.useContext(Df),{userId:r}=G.useContext(Pu);return G.useEffect(()=>{(async()=>{if(r){const s=await qB(hm(db,"users",user.uid),{balance:newBalance});s!==null&&e(s)}})()},[r,e]),V.jsxs("div",{className:"balance",children:[V.jsxs("div",{className:"icon-balance",children:[V.jsx("i",{className:"fa-sharp fa-solid fa-coins"}),V.jsx("span",{children:t})]}),V.jsx("div",{className:"add-balance",onClick:()=>n(!0),children:V.jsx("i",{className:"fa-solid fa-plus"})})]})},hVe=G.memo(uVe),dVe=()=>{const{balance:t,setBalance:e,faucetModal:n,setFaucetModal:r}=G.useContext(Df),[i,s]=G.useState(100),[o,a]=G.useState(!1);let l=parseInt(t)+parseInt(i);const c=()=>{a(!0),e(l),setTimeout(()=>{a(!1),r(!1)},1500)};return V.jsx(V.Fragment,{children:n===!0?V.jsxs("div",{className:"faucet",children:[V.jsx("div",{className:"faucet-background",onClick:()=>r(!1)}),V.jsxs("div",{className:"faucet-content",children:[V.jsxs("div",{className:"faucet-content-top",children:[V.jsx("div",{}),V.jsx("span",{children:"Chip Faucet"}),V.jsx("div",{})]}),V.jsxs("div",{className:"faucet-content-middle",children:[V.jsxs("div",{className:"fcm-part1",children:[V.jsx("div",{className:"adding-balance",children:i}),V.jsx("div",{className:"new-balance",children:l})]}),V.jsxs("div",{className:"faucet-content-shape",children:[V.jsx("div",{className:"fcs1"}),V.jsx("div",{className:"fcs2"})]}),V.jsx("div",{className:"faucet-content-range",children:V.jsx("input",{onChange:u=>s(u.target.value),type:"range",min:"0",max:"500",step:"50",id:"range",value:i})})]}),V.jsx("div",{className:"faucet-content-bottom",children:V.jsx("button",{type:"button",className:o?"add-balance-button adb-done":"add-balance-button",onClick:()=>c(),children:o?"UPDATED ✓":"ADD BALANCE"})})]})]}):null})},fVe=G.memo(dVe),pVe=()=>{const{buttons:t,play:e,playable:n,rotate:r,rotate2:i,hideBall:s,showItemBall:o,winnerNumber:a,gain:l,animation:c,winnerEffect:u}=G.useContext(Df);let d=[];return((v,y,b,w,_)=>{let S=360/v,C=0;const I=document.styleSheets;I[0].insertRule(".innerCircle{  width: "+String(y*2+w)+"px; height: "+String(y*2+w)+"px; }",1),I[0].insertRule(".board-item{width: "+w+"px;}",1);for(var z=1;z<v+1;z++){var N={class:"",number:"",topStyle:"",leftStyle:"",rotStyle:""};let A=z;const W=t.filter(U=>U.turn===A.toString())[0];N.class=`board-item ${W.class}`,N.number=W.value,N.topStyle=String(y+-y*Math.cos(360/v/180*(z+b)*Math.PI))+"px",N.leftStyle=String(y+y*(_?Math.sin(360/v/180*(z+b)*Math.PI):-Math.sin(360/v/180*(z+b)*Math.PI)))+"px",C+=S,N.rotStyle=C+"deg",d.push(N)}})(37,210,0,40,!0),V.jsx("div",{className:"board-container",children:V.jsxs("div",{className:`board ${u}`,children:[V.jsxs("div",{className:c?"profitContainer addOpacity":"profitContainer",children:[V.jsx("span",{id:"winnerN",children:a}),V.jsx("span",{className:"divider"}),V.jsxs("span",{id:"gained",children:[V.jsx("font",{color:"#2fe2e1",children:"Gained: "}),l,"$"]})]}),V.jsx("div",{className:"board-middle-vector"}),V.jsx("div",{className:"board-ball",style:{rotate:r+"deg"},children:V.jsx("div",{className:"ball",style:{opacity:s?"0":"1"}})}),V.jsx("div",{className:n?"spin-container":"spin-container disabled-btn",children:V.jsx("button",{type:"button",className:"spin",onClick:()=>e(),children:"PLAY"})}),V.jsx("div",{className:"outterCircle",style:{rotate:i+"deg"},children:V.jsx("div",{className:"innerCircle",children:d.map((v,y)=>V.jsxs("div",{className:o&&v.number===a?v.class+" activeItem":v.class,style:{top:v.topStyle,left:v.leftStyle,rotate:v.rotStyle},children:[V.jsx("span",{children:v.number}),V.jsx("div",{className:"board-item-top a"})]},y))})})]})})},mVe=G.memo(pVe),gVe=()=>{const{animation:t,svgContainer:e}=G.useContext(Df);return V.jsx("div",{className:"svgContainer",style:{opacity:t?"1":"0"},ref:e})},vVe=G.memo(gVe);function yVe(){return V.jsxs("div",{className:"App",children:[V.jsx(Cm,{title:"Roulette"}),V.jsxs(rVe,{children:[V.jsxs("div",{children:[V.jsx(hVe,{}),V.jsx(fVe,{})]}),V.jsxs("div",{className:"upper-container",children:[V.jsx(mVe,{}),V.jsx(vVe,{})]}),V.jsxs("div",{className:"bottom-conteiner",children:[V.jsx(aVe,{}),V.jsx(sVe,{}),V.jsx(cVe,{})]})]})]})}function _Ve(){return V.jsx("div",{id:"deck"})}const xVe="/CryptoCasino/assets/BlackJack-a3KtsrMD.glb";function bVe(t){const{scene:e}=A1(xVe);return V.jsx("primitive",{object:e,scale:t.scale||[1,1,1]})}function wVe(){return V.jsxs(Wte,{style:{height:"100vh",width:"100vw"},children:[V.jsx("ambientLight",{intensity:.5}),V.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),V.jsx("pointLight",{position:[-10,-10,-10]}),V.jsx(rne,{}),V.jsx(une,{preset:"sunset"}),V.jsx(bVe,{scale:[3,3,3]})," "]})}function SVe(){const[t,e]=G.useState(""),[n,r]=G.useState("https://i.pinimg.com/originals/09/a5/8d/09a58d561b2a7b92bd506c83414ef1ab.png"),[i,s]=G.useState(""),[o,a]=G.useState(""),[l,c]=G.useState(""),[u,d]=G.useState(""),[f,v]=G.useState(""),[y,b]=G.useState(""),[w,_]=G.useState(""),[S,C]=G.useState(""),[I,z]=G.useState(""),[N,A]=G.useState("- Pincha en Jugar para jugar"),[W,U]=G.useState(""),[F,ee]=G.useState("hidden"),[se,ne]=G.useState(0),[me,be]=G.useState(0),[Se,Ue]=G.useState("hidden"),[J,fe]=G.useState(0),[re,Ce]=G.useState(0),[ze,tt]=G.useState("hidden"),[Ie,Xe]=G.useState(0),[Re,qe]=G.useState(0),[Ot,ln]=G.useState("hidden"),[Me,rn]=G.useState(0),[We,rt]=G.useState(0),[lt,bt]=G.useState(0),[mt,Rt]=G.useState(0),[Ut,X]=G.useState(0),[j,ae]=G.useState(0),[ve,de]=G.useState(0),{user:xe,logOut:Ee}=G.useContext(Pu);py();const[Ze,vt]=G.useState(null);G.useEffect(()=>{(async()=>{if(xe)try{const Mt=await XB(hm(jv,"users",xe.uid));Mt.exists()?vt(Mt.data().balance):console.log("No such document!")}catch(Mt){console.error("Error fetching user balance:",Mt)}})()},[xe]);let Xt="",yt="",zt="",bn="",Yt="";const[St,Vt]=G.useState("hidden"),[Ae,dt]=G.useState("hidden"),[pt,ye]=G.useState("hidden"),[ct,Le]=G.useState("hidden"),[_t,Pt]=G.useState("hidden"),[Bn,gn]=G.useState("hidden");let En="",kn="",Fn="",Gr="",Kn="",vi="";function is(){se===0&&J===0&&Ie===0&&Me===0?alert(`¡No tienes ninguna ficha!
Compra fichas abajo en la sección de compra.`):(MD.ajax({url:"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1",dataType:"json",async:!1,success:function(Fe){console.log("shuffled, deck_id: "+Fe.deck_id),Xt="https://deckofcardsapi.com/api/deck/"+Fe.deck_id+"/draw/?count=10",console.log(Xt)},error:function(Fe){alert("AJAX Error"),console.log(Fe)}}),MD.ajax({url:Xt,dataType:"json",async:!1,success:function(Fe){for(let kt=0;kt<10;kt++)yt===""?(document.querySelector("#dc1").style.visibility="visible",yt=Fe.cards[kt].image,e(yt)):zt===""?(document.querySelector("#dc2").style.visibility="visible",zt=Fe.cards[kt].image,s(zt)):bn===""?(document.querySelector("#pc1").style.visibility="visible",bn=Fe.cards[kt].image,a(bn)):Yt===""?(document.querySelector("#pc2").style.visibility="visible",Yt=Fe.cards[kt].image,c(Yt)):En===""?(En=Fe.cards[kt].image,d(En)):kn===""?(kn=Fe.cards[kt].image,v(kn)):Fn===""?(Fn=Fe.cards[kt].image,b(Fn)):Gr===""?(Gr=Fe.cards[kt].image,_(Gr)):Kn===""?(Kn=Fe.cards[kt].image,C(Kn)):(vi=Fe.cards[kt].image,z(vi));document.querySelector("#game-start").style.pointerEvents="none",document.querySelector("#game-start").style.backgroundColor="#8b1b22",document.querySelector("#game-start").style.borderColor="#8b1b22",document.querySelectorAll(".hit-pass").forEach(kt=>{kt.style.visibility="visible"}),A("- Apuesta y luego pide o pasa"),console.log(yt+", "+zt+", "+bn+", "+Yt)},error:function(Fe){alert("AJAX Error."),console.log(Fe)}}))}function vn(Fe){return Fe=Fe.toUpperCase(),Fe.indexOf("J")>-1||Fe.indexOf("Q")>-1||Fe.indexOf("K")>-1||Fe.indexOf("0")>-1||Fe.indexOf("1")>-1?10:Fe.indexOf("A")>-1?1:parseInt(Fe)}const In=vn(o.substr(38,1)),Dn=vn(l.substr(38,1)),Et=vn(u.substr(38,1)),Mn=vn(f.substr(38,1)),xn=vn(y.substr(38,1));let ir=0;function Ur(){In+Dn===21?alert("WIN!"):St==="hidden"?(Vt("visible"),In+Dn+Et>=21&&(alert("¡Te pasaste de 21!"),ir=In+Dn+Et,A("- Total: "+ir),document.querySelectorAll(".hit-pass").forEach(Mt=>{Mt.style.visibility="hidden"}),U("- turno"),A("- Total: "+ir),setTimeout(O,2e3))):Ae==="hidden"?(dt("visible"),In+Dn+Et+Mn>=21&&(alert("¡Te pasaste de 21!"),ir=In+Dn+Et+Mn,A("- Total: "+ir),document.querySelectorAll(".hit-pass").forEach(Mt=>{Mt.style.visibility="hidden"}),U("- turno"),A("- Total: "+ir),setTimeout(O,2e3))):pt==="hidden"&&(ye("visible"),ir=In+Dn+Et+Mn+xn,A("- Total: "+ir),U("- turn"),setTimeout(O,2e3))}function Y(){In+Dn===21?alert("WIN!"):(pt==="visible"?(ir=In+Dn+Et+Mn+xn,A("- Total: "+ir)):Ae==="visible"?(ir=In+Dn+Et+Mn,A("- Total: "+ir)):St==="visible"?(ir=In+Dn+Et,A("- Total: "+ir)):(ir=In+Dn,A("- Total: "+ir)),document.querySelectorAll(".hit-pass").forEach(Mt=>{Mt.style.visibility="hidden"}),U("- turno"),setTimeout(O,2e3))}function O(){U("- igualas o pasas"),r(i),setTimeout(Z,2e3),U("- doble"),setTimeout(le,2e3)}function Z(){be(parseInt(me)*2),Ce(parseInt(re)*2),qe(parseInt(Re)*2),rt(parseInt(We)*2)}let ie=0;function le(){const Fe=vn(t.substr(38,1)),Mt=vn(i.substr(38,1)),kt=vn(w.substr(38,1)),Yn=vn(S.substr(38,1)),er=vn(I.substr(38,1));ie=Fe+Mt;for(let Sr=0;Sr<5;Sr++)Fe+Mt<17&&(Le("visible"),ie=Fe+Mt+kt),ct==="visible"&&Fe+Mt+kt<17&&(Pt("visible"),ie=Fe+Mt+kt+Yn),_t==="visible"&&Fe+Mt+kt+Yn<17&&(gn("visible"),ie=Fe+Mt+kt+Yn+er);U("- Total: "+ie),setTimeout(ce,1e3)}function ce(){let Fe=me*1+re*5+Re*25+We*50;if(ir>21)alert(`Gana la casa, ¡suerte la próxima vez!
Te pasaste de 21.
Perdiste `+Fe+"€."),Fe*=-1;else if(ir>ie&&ie<=21)alert(`¿Ganaste?
Ganaste `+Fe+"€.");else if(ir<ie&&ie<=21)alert(`Gana la casa, ¡suerte la próxima vez!
Perdiste `+Fe+"€."),Fe*=-1;else if(ir===ie&&ie<=21){let Mt=Fe/2;alert("Habéis empatado. Recibirás la mitad del dinero, unos "+Mt+"€."),Fe=Mt}vt(Ze+Fe),Ve()}function Ve(){A("- Haz click en DEAL para jugar de nuevo"),document.querySelectorAll(".hit-pass").forEach(Mt=>{Mt.style.visibility="hidden"}),document.querySelector("#game-start").style.pointerEvents="auto",document.querySelector("#game-start").style.backgroundColor="#d12d36",document.querySelector("#game-start").style.borderColor="#d12d36",document.querySelector("#pc1").style.visibility="visible",document.querySelector("#pc2").style.visibility="visible",document.querySelector("#dc1").style.visibility="visible",document.querySelector("#dc1").style.visibility="visible",Vt("hidden"),dt("hidden"),ye("hidden"),Le("hidden"),Pt("hidden"),gn("hidden"),be(0),Ce(0),qe(0),rt(0),ee("hidden"),Ue("hidden"),tt("hidden"),ln("hidden")}function He(){se>0&&(ee("visible"),ne(se-1),be(me+1))}function Qe(){J>0&&(Ue("visible"),fe(J-1),Ce(re+1))}function it(){Ie>0&&(tt("visible"),Xe(Ie-1),qe(Re+1))}function at(){Me>0&&(ln("visible"),rn(Me-1),rt(We+1))}return V.jsxs("div",{className:"App",children:[V.jsx(Cm,{title:"Blackjack"}),V.jsxs("div",{className:"section",id:"game",children:[V.jsxs("h2",{children:["Dealer ",V.jsx("em",{children:W})]}),V.jsx("img",{className:"card",id:"dc1",src:t,alt:"dealer card 1"}),V.jsx("img",{className:"card",id:"dc2",src:n,alt:"dealer card 2"}),V.jsx("img",{className:"card",id:"dec1",src:w,alt:"dealer extra card 1",style:{visibility:ct}}),V.jsx("img",{className:"card",id:"dec2",src:S,alt:"dealer extra card 2",style:{visibility:_t}}),V.jsx("img",{className:"card",id:"dec3",src:I,alt:"dealer extra card 3",style:{visibility:Bn}}),V.jsxs("div",{id:"bets-placed",children:[V.jsxs("div",{id:"player-turn",children:[V.jsx("div",{className:"hit-pass",onClick:Ur,children:"Pedir"}),V.jsx("div",{className:"hit-pass",onClick:Y,children:"Pasar"})]}),V.jsx(_Ve,{}),V.jsx(st,{amount:me,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/2.png",bgSize:"cover",show:F,unique:"red",price:"1"}),V.jsx(st,{amount:re,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/4.png",bgSize:"cover",show:Se,unique:"black",price:"5"}),V.jsx(st,{amount:Re,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/1.png",bgSize:"cover",show:ze,unique:"blue",price:"25"}),V.jsx(st,{amount:We,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/3.png",bgSize:"cover",show:Ot,unique:"green",price:"50"}),V.jsx("div",{className:"button",id:"game-start",onClick:is,children:"Jugar"})]}),V.jsxs("h2",{children:["Tu ",V.jsxs("em",{children:[" ",N]})]}),V.jsx("img",{className:"card",id:"pc1",src:o,alt:"player card 1"}),V.jsx("img",{className:"card",id:"pc2",src:l,alt:"player card 2"}),V.jsx("img",{className:"card",id:"pec1",src:u,alt:"player extra card 1",style:{visibility:St}}),V.jsx("img",{className:"card",id:"pec2",src:f,alt:"player extra card 2",style:{visibility:Ae}}),V.jsx("img",{className:"card",id:"pec3",src:y,alt:"player extra card 3",style:{visibility:pt}}),V.jsx("br",{}),V.jsx(Gt,{amount:se,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/2.png",bgSize:"cover",clickHandlerName:He,unique:"red",price:"1"}),V.jsx(Gt,{amount:J,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/4.png",bgSize:"cover",clickHandlerName:Qe,unique:"black",price:"5"}),V.jsx(Gt,{amount:Ie,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/1.png",bgSize:"cover",clickHandlerName:it,unique:"blue",price:"25"}),V.jsx(Gt,{amount:Me,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/3.png",bgSize:"cover",clickHandlerName:at,unique:"green",price:"50"})]}),V.jsxs("div",{className:"section",id:"cashier",children:[V.jsx("h2",{children:"Cashier"}),V.jsx(qt,{}),V.jsx(Nt,{}),V.jsxs("h3",{children:["SUBTOTAL: ",V.jsx("span",{children:ve}),"€"]}),V.jsxs("h3",{children:["Cuenta bancaria: ",V.jsx("span",{children:Ze}),"€"]}),V.jsx("div",{className:"button",id:"purchase",onClick:un,children:"Comprar"}),V.jsx("div",{className:"button",id:"refresh",onClick:yn,children:"Restablecer"})]}),V.jsx(wVe,{})]});function st(Fe){return V.jsx("div",{id:"bets",children:V.jsx("div",{id:"bet-chip",style:{backgroundImage:"url("+Fe.chipColor+")",backgroundSize:Fe.bgSize,visibility:Fe.show},children:V.jsxs("p",{id:"chip-amt",children:[Fe.amount,"x"]})})})}function Gt(Fe){return V.jsx("div",{id:"bets",children:V.jsx("div",{id:"chip",onClick:()=>Fe.clickHandlerName(),style:{backgroundImage:"url("+Fe.chipColor+")",backgroundSize:Fe.bgSize},children:V.jsxs("p",{id:"chip-amt",children:[Fe.amount,"x"]})})})}function Lt(Fe){Fe==="red"?(bt(lt+1),de(ve+1)):Fe==="black"?(Rt(mt+1),de(ve+5)):Fe==="blue"?(X(Ut+1),de(ve+25)):Fe==="green"&&(ae(j+1),de(ve+50))}function Bt(Fe){Fe==="red"&&lt>0?(bt(lt-1),de(ve-1)):Fe==="black"&&mt>0?(Rt(mt-1),de(ve-5)):Fe==="blue"&&Ut>0?(X(Ut-1),de(ve-25)):Fe==="green"&&j>0&&(ae(j-1),de(ve-50))}async function un(){try{if(ve>Ze)alert(`No tienes suficiente dinero. Selecciona menos fichas.

 Si estás en negativo, estás en bancarrota. Reinicia para volver a empezar.`);else{const Fe=Ze-ve;await qB(hm(jv,"users",xe.uid),{balance:Fe}),vt(Fe),ne(Mt=>Mt+lt),fe(Mt=>Mt+mt),Xe(Mt=>Mt+Ut),rn(Mt=>Mt+j),bt(0),Rt(0),X(0),ae(0),de(0)}}catch(Fe){console.error("Error al realizar la compra:",Fe)}}function yn(){prompt(`¿Seguro que quieres reiniciar?
Esto eliminará tu progreso.

Teclea "y" si quieres, cualquier otra cosa es un no.`).toLowerCase()==="y"&&window.location.reload(!1)}function qt(Fe){return V.jsxs("div",{id:"all-cashier-chips",children:[V.jsx(pn,{amount:lt,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/2.png",bgSize:"cover",unique:"red",price:"1"}),V.jsx(pn,{amount:mt,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/4.png",bgSize:"cover",unique:"black",price:"5"}),V.jsx(pn,{amount:Ut,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/1.png",bgSize:"cover",unique:"blue",price:"25"}),V.jsx(pn,{amount:j,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/3.png",bgSize:"cover",unique:"green",price:"50"})]})}function Nt(Fe){return V.jsxs("div",{id:"all-cashier-chips",children:[V.jsx(Ht,{amount:se,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/2.png",bgSize:"cover",unique:"red",price:"1"}),V.jsx(Ht,{amount:J,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/4.png",bgSize:"cover",unique:"black",price:"5"}),V.jsx(Ht,{amount:Ie,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/1.png",bgSize:"cover",unique:"blue",price:"25"}),V.jsx(Ht,{amount:Me,chipColor:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/containers/games/blackjack/chips/3.png",bgSize:"cover",unique:"green",price:"50"})]})}function pn(Fe){return parseInt(Fe.price)*Fe.amount,V.jsxs("div",{id:"cashier-chip-ctn",children:[V.jsx("div",{id:"minus-icon",onClick:()=>Bt(Fe.unique),children:"-"}),V.jsx("div",{id:"plus-icon",onClick:()=>Lt(Fe.unique),children:"+"}),V.jsx("div",{id:"cashier-chips",style:{backgroundImage:"url("+Fe.chipColor+")",backgroundSize:Fe.bgSize},children:V.jsxs("p",{id:"cashier-chip-value",children:[Fe.amount,"x",Fe.price,"€"]})})]})}function Ht(Fe){return V.jsx("div",{id:"cashier-chip-ctn",children:V.jsx("div",{id:"cashier-chips",style:{backgroundImage:"url("+Fe.chipColor+")",backgroundSize:Fe.bgSize},children:V.jsxs("p",{id:"cashier-chip-amt",children:["x",Fe.amount]})})})}}function C1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lZ(r.key),r)}}function M1(t,e,n){return e&&eG(t.prototype,e),n&&eG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vk(t,e)}function I1(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cn(t)}function hc(t){return hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hc(t)}const F_=/^[a-z0-9]+(-[a-z0-9]+)*$/,QM=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return e&&!QA(c)?null:c}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return e&&!QA(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return e&&!QA(a,n)?null:a}return null},QA=(t,e)=>t?!!((t.provider===""||t.provider.match(F_))&&(e&&t.prefix===""||t.prefix.match(F_))&&t.name.match(F_)):!1,wne=Object.freeze({left:0,top:0,width:16,height:16}),FT=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),IU=Object.freeze({...wne,...FT}),PD=Object.freeze({...IU,body:"",hidden:!1});function AVe(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function tG(t,e){const n=AVe(t,e);for(const r in PD)r in FT?r in t&&!(r in n)&&(n[r]=FT[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function EVe(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function TVe(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=tG(r[a]||i[a],s)}return o(e),n.forEach(o),tG(t,s)}function Sne(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=EVe(t);for(const i in r){const s=r[i];s&&(e(i,TVe(t,i,s)),n.push(i))}return n}const CVe={provider:"",aliases:{},not_found:{},...wne};function x2(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Ane(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!x2(t,CVe))return null;const n=e.icons;for(const i in n){const s=n[i];if(!i.match(F_)||typeof s.body!="string"||!x2(s,PD))return null}const r=e.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i.match(F_)||typeof o!="string"||!n[o]&&!r[o]||!x2(s,PD))return null}return e}const nG=Object.create(null);function MVe(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function _m(t,e){const n=nG[t]||(nG[t]=Object.create(null));return n[e]||(n[e]=MVe(t,e))}function RU(t,e){return Ane(e)?Sne(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function PVe(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let vb=!1;function Ene(t){return typeof t=="boolean"&&(vb=t),vb}function IVe(t){const e=typeof t=="string"?QM(t,!0,vb):t;if(e){const n=_m(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function RVe(t,e){const n=QM(t,!0,vb);if(!n)return!1;const r=_m(n.provider,n.prefix);return PVe(r,n.name,e)}function LVe(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),vb&&!e&&!t.prefix){let i=!1;return Ane(t)&&(t.prefix="",Sne(t,(s,o)=>{o&&RVe(s,o)&&(i=!0)})),i}const n=t.prefix;if(!QA({provider:e,prefix:n,name:"a"}))return!1;const r=_m(e,n);return!!RU(r,t)}const Tne=Object.freeze({width:null,height:null}),Cne=Object.freeze({...Tne,...FT}),kVe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,OVe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function rG(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(kVe);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=OVe.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}const DVe=t=>t==="unset"||t==="undefined"||t==="none";function NVe(t,e){const n={...IU,...t},r={...Cne,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(y=>{const b=[],w=y.hFlip,_=y.vFlip;let S=y.rotate;w?_?S+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):_&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let C;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:C=i.height/2+i.top,b.unshift("rotate(90 "+C.toString()+" "+C.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:C=i.width/2+i.left,b.unshift("rotate(-90 "+C.toString()+" "+C.toString()+")");break}S%2===1&&(i.left!==i.top&&(C=i.left,i.left=i.top,i.top=C),i.width!==i.height&&(C=i.width,i.width=i.height,i.height=C)),b.length&&(s='<g transform="'+b.join(" ")+'">'+s+"</g>")});const o=r.width,a=r.height,l=i.width,c=i.height;let u,d;o===null?(d=a===null?"1em":a==="auto"?c:a,u=rG(d,l/c)):(u=o==="auto"?l:o,d=a===null?rG(u,c/l):a==="auto"?c:a);const f={},v=(y,b)=>{DVe(b)||(f[y]=b.toString())};return v("width",u),v("height",d),f.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+c.toString(),{attributes:f,body:s}}const BVe=/\sid="(\S+)"/g,FVe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let UVe=0;function zVe(t,e=FVe){const n=[];let r;for(;r=BVe.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof e=="function"?e(s):e+(UVe++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const ID=Object.create(null);function VVe(t,e){ID[t]=e}function RD(t){return ID[t]||ID[""]}function LU(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const kU=Object.create(null),L0=["https://api.simplesvg.com","https://api.unisvg.com"],eE=[];for(;L0.length>0;)L0.length===1||Math.random()>.5?eE.push(L0.shift()):eE.push(L0.pop());kU[""]=LU({resources:["https://api.iconify.design"].concat(eE)});function HVe(t,e){const n=LU(e);return n===null?!1:(kU[t]=n,!0)}function OU(t){return kU[t]}const jVe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let iG=jVe();function GVe(t,e){const n=OU(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=e+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function $Ve(t){return t===404}const WVe=(t,e,n)=>{const r=[],i=GVe(t,e),s="icons";let o={type:s,provider:t,prefix:e,icons:[]},a=0;return n.forEach((l,c)=>{a+=l.length+1,a>=i&&c>0&&(r.push(o),o={type:s,provider:t,prefix:e,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function XVe(t){if(typeof t=="string"){const e=OU(t);if(e)return e.path}return"/"}const qVe=(t,e,n)=>{if(!iG){n("abort",424);return}let r=XVe(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;iG(t+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n($Ve(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},KVe={prepare:WVe,send:qVe};function YVe(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,a=i.name,l=n[s]||(n[s]=Object.create(null)),c=l[o]||(l[o]=_m(s,o));let u;a in c.icons?u=e.loaded:o===""||c.missing.has(a)?u=e.missing:u=e.pending;const d={provider:s,prefix:o,name:a};u.push(d)}),e}function Mne(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function JVe(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const c=l.name;if(t.icons[c])o.loaded.push({provider:r,prefix:i,name:c});else if(t.missing.has(c))o.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||Mne([t],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let ZVe=0;function QVe(t,e,n){const r=ZVe++,i=Mne.bind(null,n,r);if(!e.pending.length)return i;const s={id:r,icons:e,callback:t,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function e9e(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const s=typeof i=="string"?QM(i,e,n):i;s&&r.push(s)}),r}var t9e={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function n9e(t,e,n,r){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let N=t.resources.slice(0);for(o=[];N.length>1;){const A=Math.floor(Math.random()*N.length);o.push(N[A]),N=N.slice(0,A).concat(N.slice(A+1))}o=o.concat(N)}else o=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let l="pending",c=0,u,d=null,f=[],v=[];typeof r=="function"&&v.push(r);function y(){d&&(clearTimeout(d),d=null)}function b(){l==="pending"&&(l="aborted"),y(),f.forEach(N=>{N.status==="pending"&&(N.status="aborted")}),f=[]}function w(N,A){A&&(v=[]),typeof N=="function"&&v.push(N)}function _(){return{startTime:a,payload:e,status:l,queriesSent:c,queriesPending:f.length,subscribe:w,abort:b}}function S(){l="failed",v.forEach(N=>{N(void 0,u)})}function C(){f.forEach(N=>{N.status==="pending"&&(N.status="aborted")}),f=[]}function I(N,A,W){const U=A!=="success";switch(f=f.filter(F=>F!==N),l){case"pending":break;case"failed":if(U||!t.dataAfterTimeout)return;break;default:return}if(A==="abort"){u=W,S();return}if(U){u=W,f.length||(o.length?z():S());return}if(y(),C(),!t.random){const F=t.resources.indexOf(N.resource);F!==-1&&F!==t.index&&(t.index=F)}l="completed",v.forEach(F=>{F(W)})}function z(){if(l!=="pending")return;y();const N=o.shift();if(N===void 0){if(f.length){d=setTimeout(()=>{y(),l==="pending"&&(C(),S())},t.timeout);return}S();return}const A={status:"pending",resource:N,callback:(W,U)=>{I(A,W,U)}};f.push(A),c++,d=setTimeout(z,t.rotate),n(N,e,A.callback)}return setTimeout(z),_}function Pne(t){const e={...t9e,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,c){const u=n9e(e,a,l,(d,f)=>{r(),c&&c(d,f)});return n.push(u),u}function s(a){return n.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function sG(){}const b2=Object.create(null);function r9e(t){if(!b2[t]){const e=OU(t);if(!e)return;const n=Pne(e),r={config:e,redundancy:n};b2[t]=r}return b2[t]}function i9e(t,e,n){let r,i;if(typeof t=="string"){const s=RD(t);if(!s)return n(void 0,424),sG;i=s.send;const o=r9e(t);o&&(r=o.redundancy)}else{const s=LU(t);if(s){r=Pne(s);const o=t.resources?t.resources[0]:"",a=RD(o);a&&(i=a.send)}}return!r||!i?(n(void 0,424),sG):r.query(e,i,n)().abort}const oG="iconify2",yb="iconify",Ine=yb+"-count",aG=yb+"-version",Rne=36e5,s9e=168;function LD(t,e){try{return t.getItem(e)}catch{}}function DU(t,e,n){try{return t.setItem(e,n),!0}catch{}}function lG(t,e){try{t.removeItem(e)}catch{}}function kD(t,e){return DU(t,Ine,e.toString())}function OD(t){return parseInt(LD(t,Ine))||0}const eP={local:!0,session:!0},Lne={local:new Set,session:new Set};let NU=!1;function o9e(t){NU=t}let QS=typeof window>"u"?{}:window;function kne(t){const e=t+"Storage";try{if(QS&&QS[e]&&typeof QS[e].length=="number")return QS[e]}catch{}eP[t]=!1}function One(t,e){const n=kne(t);if(!n)return;const r=LD(n,aG);if(r!==oG){if(r){const a=OD(n);for(let l=0;l<a;l++)lG(n,yb+l.toString())}DU(n,aG,oG),kD(n,0);return}const i=Math.floor(Date.now()/Rne)-s9e,s=a=>{const l=yb+a.toString(),c=LD(n,l);if(typeof c=="string"){try{const u=JSON.parse(c);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>i&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&e(u,a))return!0}catch{}lG(n,l)}};let o=OD(n);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,kD(n,o)):Lne[t].add(a))}function Dne(){if(!NU){o9e(!0);for(const t in eP)One(t,e=>{const n=e.data,r=e.provider,i=n.prefix,s=_m(r,i);if(!RU(s,n).length)return!1;const o=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function a9e(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in eP)One(r,i=>{const s=i.data;return i.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function l9e(t,e){NU||Dne();function n(r){let i;if(!eP[r]||!(i=kne(r)))return;const s=Lne[r];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=OD(i),!kD(i,o+1))return;const a={cached:Math.floor(Date.now()/Rne),provider:t.provider,data:e};return DU(i,yb+o.toString(),JSON.stringify(a))}e.lastModified&&!a9e(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function cG(){}function c9e(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,JVe(t)}))}function u9e(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let s;if(!i||!(s=RD(n)))return;s.prepare(n,r,i).forEach(a=>{i9e(n,a,l=>{if(typeof l!="object")a.icons.forEach(c=>{t.missing.add(c)});else try{const c=RU(t,l);if(!c.length)return;const u=t.pendingIcons;u&&c.forEach(d=>{u.delete(d)}),l9e(t,l)}catch(c){console.error(c)}c9e(t)})})}))}const h9e=(t,e)=>{const n=e9e(t,!0,Ene()),r=YVe(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,cG)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===o)return;o=c,a=u,s.push(_m(c,u));const d=i[c]||(i[c]=Object.create(null));d[u]||(d[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:d}=l,f=_m(c,u),v=f.pendingIcons||(f.pendingIcons=new Set);v.has(d)||(v.add(d),i[c][u].push(d))}),s.forEach(l=>{const{provider:c,prefix:u}=l;i[c][u].length&&u9e(l,i[c][u])}),e?QVe(e,r,s):cG};function d9e(t,e){const n={...t};for(const r in e){const i=e[r],s=typeof i;r in Tne?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const f9e=/[\s,]+/;function p9e(t,e){e.split(f9e).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function m9e(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return e}function g9e(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function v9e(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function y9e(t){return"data:image/svg+xml,"+v9e(t)}function _9e(t){return'url("'+y9e(t)+'")'}let U_;function x9e(){try{U_=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{U_=null}}function b9e(t){return U_===void 0&&x9e(),U_?U_.createHTML(t):t}const Nne={...Cne,inline:!1},w9e={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},S9e={display:"inline-block"},DD={backgroundColor:"currentColor"},Bne={backgroundColor:"transparent"},uG={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},hG={WebkitMask:DD,mask:DD,background:Bne};for(const t in hG){const e=hG[t];for(const n in uG)e[t+n]=uG[n]}const A9e={...Nne,inline:!0};function dG(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const E9e=(t,e,n,r)=>{const i=n?A9e:Nne,s=d9e(i,e),o=e.mode||"svg",a={},l=e.style||{},c={...o==="svg"?w9e:{},ref:r};for(let _ in e){const S=e[_];if(S!==void 0)switch(_){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":s[_]=S===!0||S==="true"||S===1;break;case"flip":typeof S=="string"&&p9e(s,S);break;case"color":a.color=S;break;case"rotate":typeof S=="string"?s[_]=m9e(S):typeof S=="number"&&(s[_]=S);break;case"ariaHidden":case"aria-hidden":S!==!0&&S!=="true"&&delete c["aria-hidden"];break;default:i[_]===void 0&&(c[_]=S)}}const u=NVe(t,s),d=u.attributes;if(s.inline&&(a.verticalAlign="-0.125em"),o==="svg"){c.style={...a,...l},Object.assign(c,d);let _=0,S=e.id;return typeof S=="string"&&(S=S.replace(/-/g,"_")),c.dangerouslySetInnerHTML={__html:b9e(zVe(u.body,S?()=>S+"ID"+_++:"iconifyReact"))},Te.createElement("svg",c)}const{body:f,width:v,height:y}=t,b=o==="mask"||(o==="bg"?!1:f.indexOf("currentColor")!==-1),w=g9e(f,{...d,width:v+"",height:y+""});return c.style={...a,"--svg":_9e(w),width:dG(d.width),height:dG(d.height),...S9e,...b?DD:Bne,...l},Te.createElement("span",c)};Ene(!0);VVe("",KVe);if(typeof document<"u"&&typeof window<"u"){Dne();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!LVe(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;HVe(n,i)||console.error(r)}catch{console.error(r)}}}}class Fne extends Te.Component{constructor(e){super(e),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(e){this.state.icon!==e&&this.setState({icon:e})}_checkIcon(e){const n=this.state,r=this.props.icon;if(typeof r=="object"&&r!==null&&typeof r.body=="string"){this._icon="",this._abortLoading(),(e||n.icon===null)&&this._setData({data:r});return}let i;if(typeof r!="string"||(i=QM(r,!1,!0))===null){this._abortLoading(),this._setData(null);return}const s=IVe(i);if(!s){(!this._loading||this._loading.name!==r)&&(this._abortLoading(),this._icon="",this._setData(null),s!==null&&(this._loading={name:r,abort:h9e([i],this._checkIcon.bind(this,!1))}));return}if(this._icon!==r||n.icon===null){this._abortLoading(),this._icon=r;const o=["iconify"];i.prefix!==""&&o.push("iconify--"+i.prefix),i.provider!==""&&o.push("iconify--"+i.provider),this._setData({data:s,classes:o}),this.props.onLoad&&this.props.onLoad(r)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(e){e.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const e=this.props,n=this.state.icon;if(n===null)return e.children?e.children:Te.createElement("span",{});let r=e;return n.classes&&(r={...e,className:(typeof e.className=="string"?e.className+" ":"")+n.classes.join(" ")}),E9e({...IU,...n.data},r,e._inline,e._ref)}}const Jc=Te.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!1};return Te.createElement(Fne,r)});Te.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!0};return Te.createElement(Fne,r)});var T9e=function(e){switch(e){case"stacked":return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse";default:return"rhap_stacked"}},Une=function(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX},w2=function(e){return e>9?e.toString():"0".concat(e)},Ev=function(e,n,r){if(!isFinite(e))return null;var i=Math.floor(e/60),s=w2(i),o=w2(Math.floor(e%60)),a=w2(Math.floor(i%60)),l=Math.floor(i/60),c="".concat(s,":").concat(o),u="".concat(l,":").concat(a,":").concat(o);if(r==="auto")return n>=3600?u:c;if(r==="mm:ss")return c;if(r==="hh:mm:ss")return u};function zne(t,e){var n=!1;return function(r){n||(t(r),n=!0,setTimeout(function(){return n=!1},e))}}function C9e(t){var e=M9e();return function(){var r=hc(t),i;if(e){var s=hc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return I1(this,i)}}function M9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var P9e=function(t){P1(n,t);var e=C9e(n);function n(){var r;C1(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tn(Cn(r),"audio",void 0),Tn(Cn(r),"timeOnMouseMove",0),Tn(Cn(r),"hasAddedAudioEventListener",!1),Tn(Cn(r),"downloadProgressAnimationTimer",void 0),Tn(Cn(r),"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),Tn(Cn(r),"getCurrentProgress",function(a){var l=r.props,c=l.audio,u=l.progressBar,d=c.src.indexOf("blob:")!==0&&typeof r.props.srcDuration>"u";if(d&&(!c.src||!isFinite(c.currentTime)||!u.current))return{currentTime:0,currentTimePos:"0%"};var f=u.current.getBoundingClientRect(),v=f.width,y=Une(a)-f.left;y<0?y=0:y>v&&(y=v);var b=r.getDuration(),w=b*y/v;return{currentTime:w,currentTimePos:"".concat((y/v*100).toFixed(2),"%")}}),Tn(Cn(r),"handleContextMenu",function(a){a.preventDefault()}),Tn(Cn(r),"handleMouseDownOrTouchStartProgressBar",function(a){a.stopPropagation();var l=r.getCurrentProgress(a.nativeEvent),c=l.currentTime,u=l.currentTimePos;isFinite(c)&&(r.timeOnMouseMove=c,r.setState({isDraggingProgress:!0,currentTimePos:u}),a.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",r.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",r.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",r.handleWindowMouseOrTouchMove),window.addEventListener("touchend",r.handleWindowMouseOrTouchUp)))}),Tn(Cn(r),"handleWindowMouseOrTouchMove",function(a){a instanceof MouseEvent&&a.preventDefault(),a.stopPropagation();var l=window.getSelection();l&&l.type==="Range"&&l.empty();var c=r.state.isDraggingProgress;if(c){var u=r.getCurrentProgress(a),d=u.currentTime,f=u.currentTimePos;r.timeOnMouseMove=d,r.setState({currentTimePos:f})}}),Tn(Cn(r),"handleWindowMouseOrTouchUp",function(a){a.stopPropagation();var l=r.timeOnMouseMove,c=r.props,u=c.audio,d=c.onChangeCurrentTimeError,f=c.onSeek;if(f)r.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},function(){f(u,l).then(function(){return r.setState({waitingForSeekCallback:!1})},function(y){throw new Error(y)})});else{var v={isDraggingProgress:!1};u.readyState===u.HAVE_NOTHING||u.readyState===u.HAVE_METADATA||!isFinite(l)?(v.currentTimePos="0%",d&&d()):u.currentTime=l,r.setState(v)}a instanceof MouseEvent?(window.removeEventListener("mousemove",r.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",r.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",r.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",r.handleWindowMouseOrTouchUp))}),Tn(Cn(r),"handleAudioTimeUpdate",zne(function(a){var l=r.state.isDraggingProgress,c=a.target;if(!(l||r.state.waitingForSeekCallback===!0)){var u=c.currentTime,d=r.getDuration();r.setState({currentTimePos:"".concat((u/d*100||0).toFixed(2),"%")})}},r.props.progressUpdateInterval)),Tn(Cn(r),"handleAudioDownloadProgressUpdate",function(a){for(var l=a.target,c=r.getDuration(),u=[],d=0;d<l.buffered.length;d++){var f=l.buffered.start(d),v=l.buffered.end(d);u.push({left:"".concat(Math.round(100/c*f)||0,"%"),width:"".concat(Math.round(100/c*(v-f))||0,"%")})}clearTimeout(r.downloadProgressAnimationTimer),r.setState({downloadProgressArr:u,hasDownloadProgressAnimation:!0}),r.downloadProgressAnimationTimer=setTimeout(function(){r.setState({hasDownloadProgressAnimation:!1})},200)}),r}return M1(n,[{key:"getDuration",value:function(){var i=this.props,s=i.audio,o=i.srcDuration;return typeof o>"u"?s.duration:o}},{key:"initialize",value:function(){var i=this.props.audio;i&&!this.hasAddedAudioEventListener&&(this.audio=i,this.hasAddedAudioEventListener=!0,i.addEventListener("timeupdate",this.handleAudioTimeUpdate),i.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}},{key:"render",value:function(){var i=this.props,s=i.showDownloadProgress,o=i.showFilledProgress,a=i.progressBar,l=i.i18nProgressBar,c=this.state,u=c.currentTimePos,d=c.downloadProgressArr,f=c.hasDownloadProgressAnimation;return Te.createElement("div",{className:"rhap_progress-container",ref:a,"aria-label":l,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(u.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},Te.createElement("div",{className:"rhap_progress-bar ".concat(s?"rhap_progress-bar-show-download":"")},Te.createElement("div",{className:"rhap_progress-indicator",style:{left:u}}),o&&Te.createElement("div",{className:"rhap_progress-filled",style:{width:u}}),s&&d.map(function(v,y){var b=v.left,w=v.width;return Te.createElement("div",{key:y,className:"rhap_download-progress",style:{left:b,width:w,transitionDuration:f?".2s":"0s"}})})))}}]),n}(G.Component),I9e=function(e,n){return Te.createElement(P9e,fm({},e,{progressBar:n}))};const R9e=G.forwardRef(I9e);function L9e(t){var e=k9e();return function(){var r=hc(t),i;if(e){var s=hc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return I1(this,i)}}function k9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var fG=function(t){P1(n,t);var e=L9e(n);function n(r){var i;C1(this,n),i=e.call(this,r),Tn(Cn(i),"audio",void 0),Tn(Cn(i),"hasAddedAudioEventListener",!1),Tn(Cn(i),"state",{currentTime:i.props.defaultCurrentTime}),Tn(Cn(i),"handleAudioCurrentTimeChange",function(u){var d=u.target,f=i.props,v=f.isLeftTime,y=f.timeFormat,b=f.defaultCurrentTime;i.setState({currentTime:Ev(v?d.duration-d.currentTime:d.currentTime,d.duration,y)||b})}),Tn(Cn(i),"addAudioEventListeners",function(){var u=i.props.audio;u&&!i.hasAddedAudioEventListener&&(i.audio=u,i.hasAddedAudioEventListener=!0,u.addEventListener("timeupdate",i.handleAudioCurrentTimeChange),u.addEventListener("loadedmetadata",i.handleAudioCurrentTimeChange))});var s=r.audio,o=r.defaultCurrentTime,a=r.isLeftTime,l=r.timeFormat,c=o;return s&&(c=Ev(a?s.duration-s.currentTime:s.currentTime,s.duration,l)),i.state={currentTime:c},i}return M1(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}},{key:"render",value:function(){return this.state.currentTime}}]),n}(G.PureComponent);function O9e(t){var e=D9e();return function(){var r=hc(t),i;if(e){var s=hc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return I1(this,i)}}function D9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var N9e=function(t){P1(n,t);var e=O9e(n);function n(r){var i;C1(this,n),i=e.call(this,r),Tn(Cn(i),"audio",void 0),Tn(Cn(i),"hasAddedAudioEventListener",!1),Tn(Cn(i),"state",{duration:i.props.audio?Ev(i.props.audio.duration,i.props.audio.duration,i.props.timeFormat):i.props.defaultDuration}),Tn(Cn(i),"handleAudioDurationChange",function(l){var c=l.target,u=i.props,d=u.timeFormat,f=u.defaultDuration;i.setState({duration:Ev(c.duration,c.duration,d)||f})}),Tn(Cn(i),"addAudioEventListeners",function(){var l=i.props.audio;l&&!i.hasAddedAudioEventListener&&(i.audio=l,i.hasAddedAudioEventListener=!0,l.addEventListener("durationchange",i.handleAudioDurationChange),l.addEventListener("abort",i.handleAudioDurationChange))});var s=r.audio,o=r.timeFormat,a=r.defaultDuration;return i.state={duration:s?Ev(s.duration,s.duration,o):a},i}return M1(n,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}},{key:"render",value:function(){return this.state.duration}}]),n}(G.PureComponent);function B9e(t){var e=F9e();return function(){var r=hc(t),i;if(e){var s=hc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return I1(this,i)}}function F9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var U9e=function(t){P1(n,t);var e=B9e(n);function n(){var r;C1(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tn(Cn(r),"audio",void 0),Tn(Cn(r),"hasAddedAudioEventListener",!1),Tn(Cn(r),"volumeBar",G.createRef()),Tn(Cn(r),"volumeAnimationTimer",0),Tn(Cn(r),"lastVolume",r.props.volume),Tn(Cn(r),"state",{currentVolumePos:"".concat((r.lastVolume/1*100||0).toFixed(2),"%"),hasVolumeAnimation:!1,isDraggingVolume:!1}),Tn(Cn(r),"getCurrentVolume",function(a){var l=r.props.audio;if(!r.volumeBar.current)return{currentVolume:l.volume,currentVolumePos:r.state.currentVolumePos};var c=r.volumeBar.current.getBoundingClientRect(),u=c.width,d=Une(a)-c.left,f,v;return d<0?(f=0,v="0%"):d>c.width?(f=1,v="100%"):(f=d/u,v="".concat(d/u*100,"%")),{currentVolume:f,currentVolumePos:v}}),Tn(Cn(r),"handleContextMenu",function(a){a.preventDefault()}),Tn(Cn(r),"handleClickVolumeButton",function(){var a=r.props.audio;a.volume>0?(r.lastVolume=a.volume,a.volume=0):a.volume=r.lastVolume}),Tn(Cn(r),"handleVolumnControlMouseOrTouchDown",function(a){a.stopPropagation();var l=r.props.audio,c=r.getCurrentVolume(a.nativeEvent),u=c.currentVolume,d=c.currentVolumePos;l.volume=u,r.setState({isDraggingVolume:!0,currentVolumePos:d}),a.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",r.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",r.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",r.handleWindowMouseOrTouchMove),window.addEventListener("touchend",r.handleWindowMouseOrTouchUp))}),Tn(Cn(r),"handleWindowMouseOrTouchMove",function(a){a instanceof MouseEvent&&a.preventDefault(),a.stopPropagation();var l=r.props.audio,c=window.getSelection();c&&c.type==="Range"&&c.empty();var u=r.state.isDraggingVolume;if(u){var d=r.getCurrentVolume(a),f=d.currentVolume,v=d.currentVolumePos;l.volume=f,r.setState({currentVolumePos:v})}}),Tn(Cn(r),"handleWindowMouseOrTouchUp",function(a){a.stopPropagation(),r.setState({isDraggingVolume:!1}),a instanceof MouseEvent?(window.removeEventListener("mousemove",r.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",r.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",r.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",r.handleWindowMouseOrTouchUp))}),Tn(Cn(r),"handleAudioVolumeChange",function(a){var l=r.state.isDraggingVolume,c=a.target,u=c.volume;(r.lastVolume>0&&u===0||r.lastVolume===0&&u>0)&&r.props.onMuteChange(),r.lastVolume=u,!l&&(r.setState({hasVolumeAnimation:!0,currentVolumePos:"".concat((u/1*100||0).toFixed(2),"%")}),clearTimeout(r.volumeAnimationTimer),r.volumeAnimationTimer=setTimeout(function(){r.setState({hasVolumeAnimation:!1})},100))}),r}return M1(n,[{key:"componentDidUpdate",value:function(){var i=this.props.audio;i&&!this.hasAddedAudioEventListener&&(this.audio=i,this.hasAddedAudioEventListener=!0,i.addEventListener("volumechange",this.handleAudioVolumeChange))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}},{key:"render",value:function(){var i=this.props,s=i.audio,o=i.showFilledVolume,a=i.i18nVolumeControl,l=this.state,c=l.currentVolumePos,u=l.hasVolumeAnimation,d=s||{},f=d.volume;return Te.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":a,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((f*100).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},Te.createElement("div",{className:"rhap_volume-bar"},Te.createElement("div",{className:"rhap_volume-indicator",style:{left:c,transitionDuration:u?".1s":"0s"}}),o&&Te.createElement("div",{className:"rhap_volume-filled",style:{width:c}})))}}]),n}(G.Component),Ds;(function(t){t.CURRENT_TIME="CURRENT_TIME",t.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",t.PROGRESS_BAR="PROGRESS_BAR",t.DURATION="DURATION",t.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",t.MAIN_CONTROLS="MAIN_CONTROLS",t.VOLUME_CONTROLS="VOLUME_CONTROLS",t.LOOP="LOOP",t.VOLUME="VOLUME"})(Ds||(Ds={}));function z9e(t){var e=V9e();return function(){var r=hc(t),i;if(e){var s=hc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return I1(this,i)}}function V9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Vne=function(t){P1(n,t);var e=z9e(n);function n(){var r;C1(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Tn(Cn(r),"audio",G.createRef()),Tn(Cn(r),"progressBar",G.createRef()),Tn(Cn(r),"container",G.createRef()),Tn(Cn(r),"lastVolume",r.props.volume),Tn(Cn(r),"listenTracker",void 0),Tn(Cn(r),"volumeAnimationTimer",void 0),Tn(Cn(r),"downloadProgressAnimationTimer",void 0),Tn(Cn(r),"togglePlay",function(a){a.stopPropagation();var l=r.audio.current;(l.paused||l.ended)&&l.src?r.playAudioPromise():l.paused||l.pause()}),Tn(Cn(r),"playAudioPromise",function(){var a=r.audio.current.play();a?a.then(null).catch(function(l){var c=r.props.onPlayError;c&&c(new Error(l))}):r.forceUpdate()}),Tn(Cn(r),"isPlaying",function(){var a=r.audio.current;return a?!a.paused&&!a.ended:!1}),Tn(Cn(r),"handlePlay",function(a){r.forceUpdate(),r.props.onPlay&&r.props.onPlay(a)}),Tn(Cn(r),"handlePause",function(a){r.audio&&(r.forceUpdate(),r.props.onPause&&r.props.onPause(a))}),Tn(Cn(r),"handleEnded",function(a){r.audio&&(r.forceUpdate(),r.props.onEnded&&r.props.onEnded(a))}),Tn(Cn(r),"handleAbort",function(a){r.props.onAbort&&r.props.onAbort(a)}),Tn(Cn(r),"handleClickVolumeButton",function(){var a=r.audio.current;a.volume>0?(r.lastVolume=a.volume,a.volume=0):a.volume=r.lastVolume}),Tn(Cn(r),"handleMuteChange",function(){r.forceUpdate()}),Tn(Cn(r),"handleClickLoopButton",function(){r.audio.current.loop=!r.audio.current.loop,r.forceUpdate()}),Tn(Cn(r),"handleClickRewind",function(){var a=r.props,l=a.progressJumpSteps,c=a.progressJumpStep,u=l.backward||c;r.setJumpTime(-u)}),Tn(Cn(r),"handleClickForward",function(){var a=r.props,l=a.progressJumpSteps,c=a.progressJumpStep,u=l.forward||c;r.setJumpTime(u)}),Tn(Cn(r),"setJumpTime",function(a){var l=r.audio.current,c=l.duration,u=l.currentTime;if(l.readyState===l.HAVE_NOTHING||l.readyState===l.HAVE_METADATA||!isFinite(c)||!isFinite(u))return r.props.onChangeCurrentTimeError&&r.props.onChangeCurrentTimeError();var d=u+a/1e3;d<0?(l.currentTime=0,d=0):d>c?(l.currentTime=c,d=c):l.currentTime=d}),Tn(Cn(r),"setJumpVolume",function(a){var l=r.audio.current.volume+a;l<0?l=0:l>1&&(l=1),r.audio.current.volume=l}),Tn(Cn(r),"handleKeyDown",function(a){if(r.props.hasDefaultKeyBindings)switch(a.key){case" ":(a.target===r.container.current||a.target===r.progressBar.current)&&(a.preventDefault(),r.togglePlay(a));break;case"ArrowLeft":r.handleClickRewind();break;case"ArrowRight":r.handleClickForward();break;case"ArrowUp":a.preventDefault(),r.setJumpVolume(r.props.volumeJumpStep);break;case"ArrowDown":a.preventDefault(),r.setJumpVolume(-r.props.volumeJumpStep);break;case"l":r.handleClickLoopButton();break;case"m":r.handleClickVolumeButton();break}}),Tn(Cn(r),"renderUIModules",function(a){return a.map(function(l,c){return r.renderUIModule(l,c)})}),Tn(Cn(r),"renderUIModule",function(a,l){var c=r.props,u=c.defaultCurrentTime,d=c.progressUpdateInterval,f=c.showDownloadProgress,v=c.showFilledProgress,y=c.showFilledVolume,b=c.defaultDuration,w=c.customIcons,_=c.showSkipControls,S=c.onClickPrevious,C=c.onClickNext,I=c.onChangeCurrentTimeError,z=c.showJumpControls,N=c.customAdditionalControls,A=c.customVolumeControls,W=c.muted,U=c.timeFormat,F=c.volume,ee=c.loop,se=c.mse,ne=c.i18nAriaLabels;switch(a){case Ds.CURRENT_TIME:return Te.createElement("div",{key:l,id:"rhap_current-time",className:"rhap_time rhap_current-time"},Te.createElement(fG,{audio:r.audio.current,isLeftTime:!1,defaultCurrentTime:u,timeFormat:U}));case Ds.CURRENT_LEFT_TIME:return Te.createElement("div",{key:l,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},Te.createElement(fG,{audio:r.audio.current,isLeftTime:!0,defaultCurrentTime:u,timeFormat:U}));case Ds.PROGRESS_BAR:return Te.createElement(R9e,{key:l,ref:r.progressBar,audio:r.audio.current,progressUpdateInterval:d,showDownloadProgress:f,showFilledProgress:v,onSeek:se&&se.onSeek,onChangeCurrentTimeError:I,srcDuration:se&&se.srcDuration,i18nProgressBar:ne.progressControl});case Ds.DURATION:return Te.createElement("div",{key:l,className:"rhap_time rhap_total-time"},se&&se.srcDuration?Ev(se.srcDuration,se.srcDuration,r.props.timeFormat):Te.createElement(N9e,{audio:r.audio.current,defaultDuration:b,timeFormat:U}));case Ds.ADDITIONAL_CONTROLS:return Te.createElement("div",{key:l,className:"rhap_additional-controls"},r.renderUIModules(N));case Ds.MAIN_CONTROLS:{var me=r.isPlaying(),be;return me?be=w.pause?w.pause:Te.createElement(Jc,{icon:"mdi:pause-circle"}):be=w.play?w.play:Te.createElement(Jc,{icon:"mdi:play-circle"}),Te.createElement("div",{key:l,className:"rhap_main-controls"},_&&Te.createElement("button",{"aria-label":ne.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:S},w.previous?w.previous:Te.createElement(Jc,{icon:"mdi:skip-previous"})),z&&Te.createElement("button",{"aria-label":ne.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:r.handleClickRewind},w.rewind?w.rewind:Te.createElement(Jc,{icon:"mdi:rewind"})),Te.createElement("button",{"aria-label":me?ne.pause:ne.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:r.togglePlay},be),z&&Te.createElement("button",{"aria-label":ne.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:r.handleClickForward},w.forward?w.forward:Te.createElement(Jc,{icon:"mdi:fast-forward"})),_&&Te.createElement("button",{"aria-label":ne.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:C},w.next?w.next:Te.createElement(Jc,{icon:"mdi:skip-next"})))}case Ds.VOLUME_CONTROLS:return Te.createElement("div",{key:l,className:"rhap_volume-controls"},r.renderUIModules(A));case Ds.LOOP:{var Se=r.audio.current?r.audio.current.loop:ee,Ue;return Se?Ue=w.loop?w.loop:Te.createElement(Jc,{icon:"mdi:repeat"}):Ue=w.loopOff?w.loopOff:Te.createElement(Jc,{icon:"mdi:repeat-off"}),Te.createElement("button",{key:l,"aria-label":Se?ne.loop:ne.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:r.handleClickLoopButton},Ue)}case Ds.VOLUME:{var J=r.audio.current||{},fe=J.volume,re=fe===void 0?W?0:F:fe,Ce;return re?Ce=w.volume?w.volume:Te.createElement(Jc,{icon:"mdi:volume-high"}):Ce=w.volume?w.volumeMute:Te.createElement(Jc,{icon:"mdi:volume-mute"}),Te.createElement("div",{key:l,className:"rhap_volume-container"},Te.createElement("button",{"aria-label":re?ne.volume:ne.volumeMute,onClick:r.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},Ce),Te.createElement(U9e,{audio:r.audio.current,volume:re,onMuteChange:r.handleMuteChange,showFilledVolume:y,i18nVolumeControl:ne.volumeControl}))}default:return G.isValidElement(a)?a.key?a:G.cloneElement(a,{key:l}):null}}),r}return M1(n,[{key:"componentDidMount",value:function(){var i=this;this.forceUpdate();var s=this.audio.current;this.props.muted?s.volume=0:s.volume=this.lastVolume,s.addEventListener("error",function(o){i.props.onError&&i.props.onError(o)}),s.addEventListener("canplay",function(o){i.props.onCanPlay&&i.props.onCanPlay(o)}),s.addEventListener("canplaythrough",function(o){i.props.onCanPlayThrough&&i.props.onCanPlayThrough(o)}),s.addEventListener("play",this.handlePlay),s.addEventListener("abort",this.handleAbort),s.addEventListener("ended",this.handleEnded),s.addEventListener("playing",function(o){i.props.onPlaying&&i.props.onPlaying(o)}),s.addEventListener("seeking",function(o){i.props.onSeeking&&i.props.onSeeking(o)}),s.addEventListener("seeked",function(o){i.props.onSeeked&&i.props.onSeeked(o)}),s.addEventListener("waiting",function(o){i.props.onWaiting&&i.props.onWaiting(o)}),s.addEventListener("emptied",function(o){i.props.onEmptied&&i.props.onEmptied(o)}),s.addEventListener("stalled",function(o){i.props.onStalled&&i.props.onStalled(o)}),s.addEventListener("suspend",function(o){i.props.onSuspend&&i.props.onSuspend(o)}),s.addEventListener("loadstart",function(o){i.props.onLoadStart&&i.props.onLoadStart(o)}),s.addEventListener("loadedmetadata",function(o){i.props.onLoadedMetaData&&i.props.onLoadedMetaData(o)}),s.addEventListener("loadeddata",function(o){i.props.onLoadedData&&i.props.onLoadedData(o)}),s.addEventListener("pause",this.handlePause),s.addEventListener("timeupdate",zne(function(o){i.props.onListen&&i.props.onListen(o)},this.props.listenInterval)),s.addEventListener("volumechange",function(o){i.props.onVolumeChange&&i.props.onVolumeChange(o)}),s.addEventListener("encrypted",function(o){var a=i.props.mse;a&&a.onEcrypted&&a.onEcrypted(o)})}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.src,a=s.autoPlayAfterSrcChange;i.src!==o&&(a?this.playAudioPromise():this.forceUpdate())}},{key:"render",value:function(){var i=this.props,s=i.className,o=i.src,a=i.loop,l=i.preload,c=i.autoPlay,u=i.crossOrigin,d=i.mediaGroup,f=i.header,v=i.footer,y=i.layout,b=i.customProgressBarSection,w=i.customControlsSection,_=i.children,S=i.style,C=i.i18nAriaLabels,I=this.audio.current?this.audio.current.loop:a,z=I?"rhap_loop--on":"rhap_loop--off",N=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return Te.createElement("div",{role:"group",tabIndex:0,"aria-label":C.player,className:"rhap_container ".concat(z," ").concat(N," ").concat(s),onKeyDown:this.handleKeyDown,ref:this.container,style:S},Te.createElement("audio",{src:o,controls:!1,loop:I,autoPlay:c,preload:l,crossOrigin:u,mediaGroup:d,ref:this.audio},_),f&&Te.createElement("div",{className:"rhap_header"},f),Te.createElement("div",{className:"rhap_main ".concat(T9e(y))},Te.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(b)),Te.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(w))),v&&Te.createElement("div",{className:"rhap_footer"},v))}}]),n}(G.Component);Tn(Vne,"defaultProps",{autoPlay:!1,autoPlayAfterSrcChange:!0,listenInterval:1e3,progressJumpStep:5e3,progressJumpSteps:{},volumeJumpStep:.1,loop:!1,muted:!1,preload:"auto",progressUpdateInterval:20,defaultCurrentTime:"--:--",defaultDuration:"--:--",timeFormat:"auto",volume:1,className:"",showJumpControls:!0,showSkipControls:!1,showDownloadProgress:!0,showFilledProgress:!0,showFilledVolume:!1,customIcons:{},customProgressBarSection:[Ds.CURRENT_TIME,Ds.PROGRESS_BAR,Ds.DURATION],customControlsSection:[Ds.ADDITIONAL_CONTROLS,Ds.MAIN_CONTROLS,Ds.VOLUME_CONTROLS],customAdditionalControls:[Ds.LOOP],customVolumeControls:[Ds.VOLUME],layout:"stacked",hasDefaultKeyBindings:!0,i18nAriaLabels:{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"}});function H9e({audioFile:t}){const[e,n]=G.useState(!1),r=()=>{n(!e)};return V.jsx(Vne,{src:t,autoPlay:e,controls:!0,onPlay:r})}const j9e="/CryptoCasino/assets/ageofwar-BxUdsHjh.mp3";function G9e(){const t=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsxs(Lh.div,{style:t,className:"App",children:[V.jsx(Cm,{title:"Juegos"}),V.jsxs("div",{className:"menu",children:[V.jsx(Xg.div,{whileHover:{scale:1.1},children:V.jsxs(ra,{to:"/BlackJack",children:[V.jsx(Xg.img,{className:"imagen-juego",src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/jack.jpg",alt:"juego 1",whileHover:{boxShadow:"0px 0px 20px 10px rgba(0, 0, 0, 0.75)"}}),V.jsx("div",{className:"descripcion-juego",children:"BlackJack"})]})}),V.jsx(Xg.div,{whileHover:{scale:1.1},children:V.jsxs(ra,{to:"/Roulette",children:[V.jsx(Xg.img,{className:"imagen-juego",src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Roulette.png",alt:"juego 2",whileHover:{boxShadow:"0px 0px 20px 10px rgba(0, 0, 0, 0.75)"}}),V.jsx("div",{className:"descripcion-juego",children:"Roulette"})]})})]}),V.jsx("div",{style:{position:"absolute",bottom:"30px",right:"0px",width:"250px",height:"50px",zIndex:1e3},children:V.jsx(H9e,{audioFile:j9e,controls:!0})})]})}function $9e(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(u){s(u)}}function a(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof n?u:new n(function(d){d(u)})).then(o,a)}l((r=r.apply(t,e||[])).next())})}const pG=(t,e,n,r)=>{t.style.transition=`${e} ${n}ms ${r}`},eh=(t,e,n)=>Math.min(Math.max(t,e),n);class W9e{constructor(e,n){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:a,height:l}=o,c=Math.sqrt(Math.pow(a,2)+Math.pow(l,2));return{width:c,height:c}},this.setSize=o=>{const a=this.calculateGlareSize(o);this.glareEl.style.width=`${a.width}px`,this.glareEl.style.height=`${a.height}px`},this.update=(o,a,l,c)=>{this.updateAngle(o,a.glareReverse),this.updateOpacity(o,a,l,c)},this.updateAngle=(o,a)=>{const{xPercentage:l,yPercentage:c}=o,u=180/Math.PI,d=l?Math.atan2(c,-l)*u:0;this.glareAngle=d-(a?180:0)},this.updateOpacity=(o,a,l,c)=>{const{xPercentage:u,yPercentage:d}=o,{glarePosition:f,glareReverse:v,glareMaxOpacity:y}=a,b=l?-1:1,w=c?-1:1,_=v?-1:1;let S=0;switch(f){case"top":S=-u*b*_;break;case"right":S=d*w*_;break;case"bottom":case void 0:S=u*b*_;break;case"left":S=-d*w*_;break;case"all":S=Math.hypot(u,d)}const C=eh(S,0,100);this.glareOpacity=C*y/100},this.render=o=>{const{glareColor:a}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${a} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const r={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:n,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},i=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${i.width}px`,height:`${i.height}px`};Object.assign(this.glareWrapperEl.style,r),Object.assign(this.glareEl.style,s)}}class X9e{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,n)=>{this.updateTilt(e,n),this.updateTiltManualInput(e,n),this.updateTiltReverse(n),this.updateTiltLimits(n)},this.updateTilt=(e,n)=>{const{xPercentage:r,yPercentage:i}=e,{tiltMaxAngleX:s,tiltMaxAngleY:o}=n;this.tiltAngleX=r*s/100,this.tiltAngleY=i*o/100*-1},this.updateTiltManualInput=(e,n)=>{const{tiltAngleXManual:r,tiltAngleYManual:i,tiltMaxAngleX:s,tiltMaxAngleY:o}=n;(r!==null||i!==null)&&(this.tiltAngleX=r!==null?r:0,this.tiltAngleY=i!==null?i:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const n=e.tiltReverse?-1:1;this.tiltAngleX=n*this.tiltAngleX,this.tiltAngleY=n*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:n}=e;this.tiltAngleX=eh(this.tiltAngleX,-90,90),this.tiltAngleY=eh(this.tiltAngleY,-90,90),n&&(this.tiltAngleX=n==="x"?this.tiltAngleX:0,this.tiltAngleY=n==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:n,tiltMaxAngleY:r}=e;this.tiltAngleXPercentage=this.tiltAngleX/n*100,this.tiltAngleYPercentage=this.tiltAngleY/r*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const q9e=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class e_ extends G.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>$9e(this,void 0,void 0,function*(){if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?(yield e())==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)}),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:n}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),n&&n(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:n}=this.props;if(this.setTransitions(),n&&n(e.type),this.props.reset){const r=new CustomEvent("autoreset");this.onMove(r)}},this.processInput=e=>{const{scale:n}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=n;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=n;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=n;break;case"autoreset":const{tiltAngleXInitial:r,tiltAngleYInitial:i,tiltMaxAngleX:s,tiltMaxAngleY:o}=this.props,a=i/o*100;this.wrapperEl.clientPosition.xPercentage=eh(r/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=eh(a,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:n,tiltMaxAngleY:r}=this.props,i=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/n*100,this.wrapperEl.clientPosition.yPercentage=i/r*100,this.wrapperEl.clientPosition.xPercentage=eh(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=eh(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:n,flipVertically:r,flipHorizontally:i}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),n&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,r,i)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let n,r;if(e){const{x:i,y:s}=this.wrapperEl.clientPosition;n=s/window.innerHeight*200-100,r=i/window.innerWidth*200-100}else{const{size:{width:i,height:s,left:o,top:a},clientPosition:{x:l,y:c}}=this.wrapperEl;n=(c-a)/s*200-100,r=(l-o)/i*200-100}this.wrapperEl.clientPosition.xPercentage=eh(n,-100,100),this.wrapperEl.clientPosition.yPercentage=eh(r,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:n}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),n&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new X9e,this.initGlare(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const n=new CustomEvent("initial");this.emitOnMove(n)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:n}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),n&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:n}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),n&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:n}=this.props;e&&(this.glare=new W9e(this.wrapperEl.size,n),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:n}=this.props;if(!n)return;let r=0,i=0;this.glare&&(r=this.glare.glareAngle,i=this.glare.glareOpacity),n({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:r,glareOpacity:i,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:n}=this.props;pG(this.wrapperEl.node,"all",e,n),this.glare&&pG(this.glare.glareEl,"opacity",e,n)}render(){const{children:e,className:n,style:r}=this.props;return Te.createElement("div",{ref:i=>this.wrapperEl.node=i,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:n,style:r},e)}}e_.defaultProps=q9e;function K9e(){const t=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsxs(Lh.div,{style:t,className:"App",children:[V.jsx(Cm,{title:"Promociones"}),V.jsxs("div",{className:"menu",children:[V.jsxs(e_,{children:[V.jsx("img",{className:"imagen-juego",src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/Promocion1.webp",alt:"juego 1"}),V.jsx("p",{className:"imagen-juego-text",children:"Deposita 100 y gana 20 euros extra."})]}),V.jsxs(e_,{children:[V.jsx("img",{className:"imagen-juego",src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/promocion2.webp",alt:"juego 2"}),V.jsx("p",{className:"imagen-juego-text",children:"Deposita 100 y gana 200 fichas extra."})]}),V.jsxs(e_,{children:[V.jsx("img",{className:"imagen-juego",src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/promocion3",alt:"juego 3"}),V.jsx("p",{className:"imagen-juego-text",children:"Deposita cualquier cantidad como nuevo usuario y gana 100 fichas extra."})]}),V.jsxs(e_,{children:[V.jsx("img",{className:"imagen-juego",src:"https://github.com/Annihilation78/CryptoCasino/raw/main/src/assets/promocion4.jpg",alt:"juego 3"}),V.jsx("p",{className:"imagen-juego-text",children:"Deposita mínimo 20 fichas.Y podrás ganar X fichas extra"})]})]})," "]})}function Hne(t,e){const n=G.useRef(e);G.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const Y9e=1;function J9e(t){return Object.freeze({__version:Y9e,map:t})}function Z9e(t,e){return Object.freeze({...t,...e})}const jne=G.createContext(null),Gne=jne.Provider;function $ne(){const t=G.useContext(jne);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Q9e(t){function e(n,r){const{instance:i,context:s}=t(n).current;return G.useImperativeHandle(r,()=>i),n.children==null?null:Te.createElement(Gne,{value:s},n.children)}return G.forwardRef(e)}function eHe(t){function e(n,r){const[i,s]=G.useState(!1),{instance:o}=t(n,s).current;G.useImperativeHandle(r,()=>o),G.useEffect(function(){i&&o.update()},[o,i,n.children]);const a=o._contentNode;return a?Ab.createPortal(n.children,a):null}return G.forwardRef(e)}function tHe(t){function e(n,r){const{instance:i}=t(n).current;return G.useImperativeHandle(r,()=>i),null}return G.forwardRef(e)}function Wne(t,e){const n=G.useRef();G.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function BU(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function nHe(t,e){return function(r,i){const s=$ne(),o=t(BU(r,s),s);return Hne(s.map,r.attribution),Wne(o.current,r.eventHandlers),e(o.current,s,r,i),o}}var ND={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(wg,function(n){var r="1.9.4";function i(h){var g,E,R,H;for(E=1,R=arguments.length;E<R;E++){H=arguments[E];for(g in H)h[g]=H[g]}return h}var s=Object.create||function(){function h(){}return function(g){return h.prototype=g,new h}}();function o(h,g){var E=Array.prototype.slice;if(h.bind)return h.bind.apply(h,E.call(arguments,1));var R=E.call(arguments,2);return function(){return h.apply(g,R.length?R.concat(E.call(arguments)):arguments)}}var a=0;function l(h){return"_leaflet_id"in h||(h._leaflet_id=++a),h._leaflet_id}function c(h,g,E){var R,H,te,we;return we=function(){R=!1,H&&(te.apply(E,H),H=!1)},te=function(){R?H=arguments:(h.apply(E,arguments),setTimeout(we,g),R=!0)},te}function u(h,g,E){var R=g[1],H=g[0],te=R-H;return h===R&&E?h:((h-H)%te+te)%te+H}function d(){return!1}function f(h,g){if(g===!1)return h;var E=Math.pow(10,g===void 0?6:g);return Math.round(h*E)/E}function v(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function y(h){return v(h).split(/\s+/)}function b(h,g){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?s(h.options):{});for(var E in g)h.options[E]=g[E];return h.options}function w(h,g,E){var R=[];for(var H in h)R.push(encodeURIComponent(E?H.toUpperCase():H)+"="+encodeURIComponent(h[H]));return(!g||g.indexOf("?")===-1?"?":"&")+R.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function S(h,g){return h.replace(_,function(E,R){var H=g[R];if(H===void 0)throw new Error("No value provided for variable "+E);return typeof H=="function"&&(H=H(g)),H})}var C=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function I(h,g){for(var E=0;E<h.length;E++)if(h[E]===g)return E;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var A=0;function W(h){var g=+new Date,E=Math.max(0,16-(g-A));return A=g+E,window.setTimeout(h,E)}var U=window.requestAnimationFrame||N("RequestAnimationFrame")||W,F=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function ee(h,g,E){if(E&&U===W)h.call(g);else return U.call(window,o(h,g))}function se(h){h&&F.call(window,h)}var ne={__proto__:null,extend:i,create:s,bind:o,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:d,formatNum:f,trim:v,splitWords:y,setOptions:b,getParamString:w,template:S,isArray:C,indexOf:I,emptyImageUrl:z,requestFn:U,cancelFn:F,requestAnimFrame:ee,cancelAnimFrame:se};function me(){}me.extend=function(h){var g=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=g.__super__=this.prototype,R=s(E);R.constructor=g,g.prototype=R;for(var H in this)Object.prototype.hasOwnProperty.call(this,H)&&H!=="prototype"&&H!=="__super__"&&(g[H]=this[H]);return h.statics&&i(g,h.statics),h.includes&&(be(h.includes),i.apply(null,[R].concat(h.includes))),i(R,h),delete R.statics,delete R.includes,R.options&&(R.options=E.options?s(E.options):{},i(R.options,h.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var te=0,we=R._initHooks.length;te<we;te++)R._initHooks[te].call(this)}},g},me.include=function(h){var g=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=g,this.mergeOptions(h.options)),this},me.mergeOptions=function(h){return i(this.prototype.options,h),this},me.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),E=typeof h=="function"?h:function(){this[h].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function be(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=C(h)?h:[h];for(var g=0;g<h.length;g++)h[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(h,g,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],g);else{h=y(h);for(var H=0,te=h.length;H<te;H++)this._on(h[H],g,E)}return this},off:function(h,g,E){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var R in h)this._off(R,h[R],g);else{h=y(h);for(var H=arguments.length===1,te=0,we=h.length;te<we;te++)H?this._off(h[te]):this._off(h[te],g,E)}return this},_on:function(h,g,E,R){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(h,g,E)===!1){E===this&&(E=void 0);var H={fn:g,ctx:E};R&&(H.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(H)}},_off:function(h,g,E){var R,H,te;if(this._events&&(R=this._events[h],!!R)){if(arguments.length===1){if(this._firingCount)for(H=0,te=R.length;H<te;H++)R[H].fn=d;delete this._events[h];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var we=this._listens(h,g,E);if(we!==!1){var Ge=R[we];this._firingCount&&(Ge.fn=d,this._events[h]=R=R.slice()),R.splice(we,1)}}},fire:function(h,g,E){if(!this.listens(h,E))return this;var R=i({},g,{type:h,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var H=this._events[h];if(H){this._firingCount=this._firingCount+1||1;for(var te=0,we=H.length;te<we;te++){var Ge=H[te],nt=Ge.fn;Ge.once&&this.off(h,nt,Ge.ctx),nt.call(Ge.ctx||this,R)}this._firingCount--}}return E&&this._propagateEvent(R),this},listens:function(h,g,E,R){typeof h!="string"&&console.warn('"string" type argument expected');var H=g;typeof g!="function"&&(R=!!g,H=void 0,E=void 0);var te=this._events&&this._events[h];if(te&&te.length&&this._listens(h,H,E)!==!1)return!0;if(R){for(var we in this._eventParents)if(this._eventParents[we].listens(h,g,E,R))return!0}return!1},_listens:function(h,g,E){if(!this._events)return!1;var R=this._events[h]||[];if(!g)return!!R.length;E===this&&(E=void 0);for(var H=0,te=R.length;H<te;H++)if(R[H].fn===g&&R[H].ctx===E)return H;return!1},once:function(h,g,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],g,!0);else{h=y(h);for(var H=0,te=h.length;H<te;H++)this._on(h[H],g,E,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[l(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[l(h)],this},_propagateEvent:function(h){for(var g in this._eventParents)this._eventParents[g].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var Ue=me.extend(Se);function J(h,g,E){this.x=E?Math.round(h):h,this.y=E?Math.round(g):g}var fe=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(h){return this.clone()._add(re(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(re(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new J(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new J(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(h){h=re(h);var g=h.x-this.x,E=h.y-this.y;return Math.sqrt(g*g+E*E)},equals:function(h){return h=re(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=re(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function re(h,g,E){return h instanceof J?h:C(h)?new J(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new J(h.x,h.y):new J(h,g,E)}function Ce(h,g){if(h)for(var E=g?[h,g]:h,R=0,H=E.length;R<H;R++)this.extend(E[R])}Ce.prototype={extend:function(h){var g,E;if(!h)return this;if(h instanceof J||typeof h[0]=="number"||"x"in h)g=E=re(h);else if(h=ze(h),g=h.min,E=h.max,!g||!E)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=E.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(h){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var g,E;return typeof h[0]=="number"||h instanceof J?h=re(h):h=ze(h),h instanceof Ce?(g=h.min,E=h.max):g=E=h,g.x>=this.min.x&&E.x<=this.max.x&&g.y>=this.min.y&&E.y<=this.max.y},intersects:function(h){h=ze(h);var g=this.min,E=this.max,R=h.min,H=h.max,te=H.x>=g.x&&R.x<=E.x,we=H.y>=g.y&&R.y<=E.y;return te&&we},overlaps:function(h){h=ze(h);var g=this.min,E=this.max,R=h.min,H=h.max,te=H.x>g.x&&R.x<E.x,we=H.y>g.y&&R.y<E.y;return te&&we},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var g=this.min,E=this.max,R=Math.abs(g.x-E.x)*h,H=Math.abs(g.y-E.y)*h;return ze(re(g.x-R,g.y-H),re(E.x+R,E.y+H))},equals:function(h){return h?(h=ze(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function ze(h,g){return!h||h instanceof Ce?h:new Ce(h,g)}function tt(h,g){if(h)for(var E=g?[h,g]:h,R=0,H=E.length;R<H;R++)this.extend(E[R])}tt.prototype={extend:function(h){var g=this._southWest,E=this._northEast,R,H;if(h instanceof Xe)R=h,H=h;else if(h instanceof tt){if(R=h._southWest,H=h._northEast,!R||!H)return this}else return h?this.extend(Re(h)||Ie(h)):this;return!g&&!E?(this._southWest=new Xe(R.lat,R.lng),this._northEast=new Xe(H.lat,H.lng)):(g.lat=Math.min(R.lat,g.lat),g.lng=Math.min(R.lng,g.lng),E.lat=Math.max(H.lat,E.lat),E.lng=Math.max(H.lng,E.lng)),this},pad:function(h){var g=this._southWest,E=this._northEast,R=Math.abs(g.lat-E.lat)*h,H=Math.abs(g.lng-E.lng)*h;return new tt(new Xe(g.lat-R,g.lng-H),new Xe(E.lat+R,E.lng+H))},getCenter:function(){return new Xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Xe||"lat"in h?h=Re(h):h=Ie(h);var g=this._southWest,E=this._northEast,R,H;return h instanceof tt?(R=h.getSouthWest(),H=h.getNorthEast()):R=H=h,R.lat>=g.lat&&H.lat<=E.lat&&R.lng>=g.lng&&H.lng<=E.lng},intersects:function(h){h=Ie(h);var g=this._southWest,E=this._northEast,R=h.getSouthWest(),H=h.getNorthEast(),te=H.lat>=g.lat&&R.lat<=E.lat,we=H.lng>=g.lng&&R.lng<=E.lng;return te&&we},overlaps:function(h){h=Ie(h);var g=this._southWest,E=this._northEast,R=h.getSouthWest(),H=h.getNorthEast(),te=H.lat>g.lat&&R.lat<E.lat,we=H.lng>g.lng&&R.lng<E.lng;return te&&we},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,g){return h?(h=Ie(h),this._southWest.equals(h.getSouthWest(),g)&&this._northEast.equals(h.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ie(h,g){return h instanceof tt?h:new tt(h,g)}function Xe(h,g,E){if(isNaN(h)||isNaN(g))throw new Error("Invalid LatLng object: ("+h+", "+g+")");this.lat=+h,this.lng=+g,E!==void 0&&(this.alt=+E)}Xe.prototype={equals:function(h,g){if(!h)return!1;h=Re(h);var E=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return E<=(g===void 0?1e-9:g)},toString:function(h){return"LatLng("+f(this.lat,h)+", "+f(this.lng,h)+")"},distanceTo:function(h){return Ot.distance(this,Re(h))},wrap:function(){return Ot.wrapLatLng(this)},toBounds:function(h){var g=180*h/40075017,E=g/Math.cos(Math.PI/180*this.lat);return Ie([this.lat-g,this.lng-E],[this.lat+g,this.lng+E])},clone:function(){return new Xe(this.lat,this.lng,this.alt)}};function Re(h,g,E){return h instanceof Xe?h:C(h)&&typeof h[0]!="object"?h.length===3?new Xe(h[0],h[1],h[2]):h.length===2?new Xe(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Xe(h.lat,"lng"in h?h.lng:h.lon,h.alt):g===void 0?null:new Xe(h,g,E)}var qe={latLngToPoint:function(h,g){var E=this.projection.project(h),R=this.scale(g);return this.transformation._transform(E,R)},pointToLatLng:function(h,g){var E=this.scale(g),R=this.transformation.untransform(h,E);return this.projection.unproject(R)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var g=this.projection.bounds,E=this.scale(h),R=this.transformation.transform(g.min,E),H=this.transformation.transform(g.max,E);return new Ce(R,H)},infinite:!1,wrapLatLng:function(h){var g=this.wrapLng?u(h.lng,this.wrapLng,!0):h.lng,E=this.wrapLat?u(h.lat,this.wrapLat,!0):h.lat,R=h.alt;return new Xe(E,g,R)},wrapLatLngBounds:function(h){var g=h.getCenter(),E=this.wrapLatLng(g),R=g.lat-E.lat,H=g.lng-E.lng;if(R===0&&H===0)return h;var te=h.getSouthWest(),we=h.getNorthEast(),Ge=new Xe(te.lat-R,te.lng-H),nt=new Xe(we.lat-R,we.lng-H);return new tt(Ge,nt)}},Ot=i({},qe,{wrapLng:[-180,180],R:6371e3,distance:function(h,g){var E=Math.PI/180,R=h.lat*E,H=g.lat*E,te=Math.sin((g.lat-h.lat)*E/2),we=Math.sin((g.lng-h.lng)*E/2),Ge=te*te+Math.cos(R)*Math.cos(H)*we*we,nt=2*Math.atan2(Math.sqrt(Ge),Math.sqrt(1-Ge));return this.R*nt}}),ln=6378137,Me={R:ln,MAX_LATITUDE:85.0511287798,project:function(h){var g=Math.PI/180,E=this.MAX_LATITUDE,R=Math.max(Math.min(E,h.lat),-E),H=Math.sin(R*g);return new J(this.R*h.lng*g,this.R*Math.log((1+H)/(1-H))/2)},unproject:function(h){var g=180/Math.PI;return new Xe((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*g,h.x*g/this.R)},bounds:function(){var h=ln*Math.PI;return new Ce([-h,-h],[h,h])}()};function rn(h,g,E,R){if(C(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=g,this._c=E,this._d=R}rn.prototype={transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new J((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}};function We(h,g,E,R){return new rn(h,g,E,R)}var rt=i({},Ot,{code:"EPSG:3857",projection:Me,transformation:function(){var h=.5/(Math.PI*Me.R);return We(h,.5,-h,.5)}()}),lt=i({},rt,{code:"EPSG:900913"});function bt(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function mt(h,g){var E="",R,H,te,we,Ge,nt;for(R=0,te=h.length;R<te;R++){for(Ge=h[R],H=0,we=Ge.length;H<we;H++)nt=Ge[H],E+=(H?"L":"M")+nt.x+" "+nt.y;E+=g?Et.svg?"z":"x":""}return E||"M0 0"}var Rt=document.documentElement.style,Ut="ActiveXObject"in window,X=Ut&&!document.addEventListener,j="msLaunchUri"in navigator&&!("documentMode"in document),ae=Dn("webkit"),ve=Dn("android"),de=Dn("android 2")||Dn("android 3"),xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ee=ve&&Dn("Google")&&xe<537&&!("AudioNode"in window),Ze=!!window.opera,vt=!j&&Dn("chrome"),Xt=Dn("gecko")&&!ae&&!Ze&&!Ut,yt=!vt&&Dn("safari"),zt=Dn("phantom"),bn="OTransition"in Rt,Yt=navigator.platform.indexOf("Win")===0,St=Ut&&"transition"in Rt,Vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!de,Ae="MozPerspective"in Rt,dt=!window.L_DISABLE_3D&&(St||Vt||Ae)&&!bn&&!zt,pt=typeof orientation<"u"||Dn("mobile"),ye=pt&&ae,ct=pt&&Vt,Le=!window.PointerEvent&&window.MSPointerEvent,_t=!!(window.PointerEvent||Le),Pt="ontouchstart"in window||!!window.TouchEvent,Bn=!window.L_NO_TOUCH&&(Pt||_t),gn=pt&&Ze,En=pt&&Xt,kn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fn=function(){var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",d,g),window.removeEventListener("testPassiveEventSupport",d,g)}catch{}return h}(),Gr=function(){return!!document.createElement("canvas").getContext}(),Kn=!!(document.createElementNS&&bt("svg").createSVGRect),vi=!!Kn&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),is=!Kn&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),vn=navigator.platform.indexOf("Mac")===0,In=navigator.platform.indexOf("Linux")===0;function Dn(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Et={ie:Ut,ielt9:X,edge:j,webkit:ae,android:ve,android23:de,androidStock:Ee,opera:Ze,chrome:vt,gecko:Xt,safari:yt,phantom:zt,opera12:bn,win:Yt,ie3d:St,webkit3d:Vt,gecko3d:Ae,any3d:dt,mobile:pt,mobileWebkit:ye,mobileWebkit3d:ct,msPointer:Le,pointer:_t,touch:Bn,touchNative:Pt,mobileOpera:gn,mobileGecko:En,retina:kn,passiveEvents:Fn,canvas:Gr,svg:Kn,vml:is,inlineSvg:vi,mac:vn,linux:In},Mn=Et.msPointer?"MSPointerDown":"pointerdown",xn=Et.msPointer?"MSPointerMove":"pointermove",ir=Et.msPointer?"MSPointerUp":"pointerup",Ur=Et.msPointer?"MSPointerCancel":"pointercancel",Y={touchstart:Mn,touchmove:xn,touchend:ir,touchcancel:Ur},O={touchstart:st,touchmove:at,touchend:at,touchcancel:at},Z={},ie=!1;function le(h,g,E){return g==="touchstart"&&it(),O[g]?(E=O[g].bind(this,E),h.addEventListener(Y[g],E,!1),E):(console.warn("wrong event specified:",g),d)}function ce(h,g,E){if(!Y[g]){console.warn("wrong event specified:",g);return}h.removeEventListener(Y[g],E,!1)}function Ve(h){Z[h.pointerId]=h}function He(h){Z[h.pointerId]&&(Z[h.pointerId]=h)}function Qe(h){delete Z[h.pointerId]}function it(){ie||(document.addEventListener(Mn,Ve,!0),document.addEventListener(xn,He,!0),document.addEventListener(ir,Qe,!0),document.addEventListener(Ur,Qe,!0),ie=!0)}function at(h,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var E in Z)g.touches.push(Z[E]);g.changedTouches=[g],h(g)}}function st(h,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Li(g),at(h,g)}function Gt(h){var g={},E,R;for(R in h)E=h[R],g[R]=E&&E.bind?E.bind(h):E;return h=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Lt=200;function Bt(h,g){h.addEventListener("dblclick",g);var E=0,R;function H(te){if(te.detail!==1){R=te.detail;return}if(!(te.pointerType==="mouse"||te.sourceCapabilities&&!te.sourceCapabilities.firesTouchEvents)){var we=Rs(te);if(!(we.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!we.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var Ge=Date.now();Ge-E<=Lt?(R++,R===2&&g(Gt(te))):R=1,E=Ge}}}return h.addEventListener("click",H),{dblclick:g,simDblclick:H}}function un(h,g){h.removeEventListener("dblclick",g.dblclick),h.removeEventListener("click",g.simDblclick)}var yn=Ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qt=Ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nt=qt==="webkitTransition"||qt==="OTransition"?qt+"End":"transitionend";function pn(h){return typeof h=="string"?document.getElementById(h):h}function Ht(h,g){var E=h.style[g]||h.currentStyle&&h.currentStyle[g];if((!E||E==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(h,null);E=R?R[g]:null}return E==="auto"?null:E}function Fe(h,g,E){var R=document.createElement(h);return R.className=g||"",E&&E.appendChild(R),R}function Mt(h){var g=h.parentNode;g&&g.removeChild(h)}function kt(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Yn(h){var g=h.parentNode;g&&g.lastChild!==h&&g.appendChild(h)}function er(h){var g=h.parentNode;g&&g.firstChild!==h&&g.insertBefore(h,g.firstChild)}function Sr(h,g){if(h.classList!==void 0)return h.classList.contains(g);var E=sr(h);return E.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(E)}function hn(h,g){if(h.classList!==void 0)for(var E=y(g),R=0,H=E.length;R<H;R++)h.classList.add(E[R]);else if(!Sr(h,g)){var te=sr(h);Wr(h,(te?te+" ":"")+g)}}function on(h,g){h.classList!==void 0?h.classList.remove(g):Wr(h,v((" "+sr(h)+" ").replace(" "+g+" "," ")))}function Wr(h,g){h.className.baseVal===void 0?h.className=g:h.className.baseVal=g}function sr(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Nn(h,g){"opacity"in h.style?h.style.opacity=g:"filter"in h.style&&si(h,g)}function si(h,g){var E=!1,R="DXImageTransform.Microsoft.Alpha";try{E=h.filters.item(R)}catch{if(g===1)return}g=Math.round(g*100),E?(E.Enabled=g!==100,E.Opacity=g):h.style.filter+=" progid:"+R+"(opacity="+g+")"}function Ws(h){for(var g=document.documentElement.style,E=0;E<h.length;E++)if(h[E]in g)return h[E];return!1}function Cr(h,g,E){var R=g||new J(0,0);h.style[yn]=(Et.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(E?" scale("+E+")":"")}function Rr(h,g){h._leaflet_pos=g,Et.any3d?Cr(h,g):(h.style.left=g.x+"px",h.style.top=g.y+"px")}function ys(h){return h._leaflet_pos||new J(0,0)}var Oa,Bo,Xs;if("onselectstart"in document)Oa=function(){tr(window,"selectstart",Li)},Bo=function(){Lr(window,"selectstart",Li)};else{var co=Ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oa=function(){if(co){var h=document.documentElement.style;Xs=h[co],h[co]="none"}},Bo=function(){co&&(document.documentElement.style[co]=Xs,Xs=void 0)}}function fc(){tr(window,"dragstart",Li)}function tl(){Lr(window,"dragstart",Li)}var Fo,Da;function pc(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Uo(),Fo=h,Da=h.style.outlineStyle,h.style.outlineStyle="none",tr(window,"keydown",Uo))}function Uo(){Fo&&(Fo.style.outlineStyle=Da,Fo=void 0,Da=void 0,Lr(window,"keydown",Uo))}function vr(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Ll(h){var g=h.getBoundingClientRect();return{x:g.width/h.offsetWidth||1,y:g.height/h.offsetHeight||1,boundingClientRect:g}}var kl={__proto__:null,TRANSFORM:yn,TRANSITION:qt,TRANSITION_END:Nt,get:pn,getStyle:Ht,create:Fe,remove:Mt,empty:kt,toFront:Yn,toBack:er,hasClass:Sr,addClass:hn,removeClass:on,setClass:Wr,getClass:sr,setOpacity:Nn,testProp:Ws,setTransform:Cr,setPosition:Rr,getPosition:ys,get disableTextSelection(){return Oa},get enableTextSelection(){return Bo},disableImageDrag:fc,enableImageDrag:tl,preventOutline:pc,restoreOutline:Uo,getSizedParentNode:vr,getScale:Ll};function tr(h,g,E,R){if(g&&typeof g=="object")for(var H in g)nl(h,H,g[H],E);else{g=y(g);for(var te=0,we=g.length;te<we;te++)nl(h,g[te],E,R)}return this}var uo="_leaflet_events";function Lr(h,g,E,R){if(arguments.length===1)yi(h),delete h[uo];else if(g&&typeof g=="object")for(var H in g)mc(h,H,g[H],E);else if(g=y(g),arguments.length===2)yi(h,function(Ge){return I(g,Ge)!==-1});else for(var te=0,we=g.length;te<we;te++)mc(h,g[te],E,R);return this}function yi(h,g){for(var E in h[uo]){var R=E.split(/\d/)[0];(!g||g(R))&&mc(h,R,null,null,E)}}var ho={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nl(h,g,E,R){var H=g+l(E)+(R?"_"+l(R):"");if(h[uo]&&h[uo][H])return this;var te=function(Ge){return E.call(R||h,Ge||window.event)},we=te;!Et.touchNative&&Et.pointer&&g.indexOf("touch")===0?te=le(h,g,te):Et.touch&&g==="dblclick"?te=Bt(h,te):"addEventListener"in h?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?h.addEventListener(ho[g]||g,te,Et.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(te=function(Ge){Ge=Ge||window.event,Ke(h,Ge)&&we(Ge)},h.addEventListener(ho[g],te,!1)):h.addEventListener(g,we,!1):h.attachEvent("on"+g,te),h[uo]=h[uo]||{},h[uo][H]=te}function mc(h,g,E,R,H){H=H||g+l(E)+(R?"_"+l(R):"");var te=h[uo]&&h[uo][H];if(!te)return this;!Et.touchNative&&Et.pointer&&g.indexOf("touch")===0?ce(h,g,te):Et.touch&&g==="dblclick"?un(h,te):"removeEventListener"in h?h.removeEventListener(ho[g]||g,te,!1):h.detachEvent("on"+g,te),h[uo][H]=null}function Na(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Ol(h){return nl(h,"wheel",Na),this}function ss(h){return tr(h,"mousedown touchstart dblclick contextmenu",Na),h._leaflet_disable_click=!0,this}function Li(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function da(h){return Li(h),Na(h),this}function Rs(h){if(h.composedPath)return h.composedPath();for(var g=[],E=h.target;E;)g.push(E),E=E.parentNode;return g}function qs(h,g){if(!g)return new J(h.clientX,h.clientY);var E=Ll(g),R=E.boundingClientRect;return new J((h.clientX-R.left)/E.x-g.clientLeft,(h.clientY-R.top)/E.y-g.clientTop)}var he=Et.linux&&Et.chrome?window.devicePixelRatio:Et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Oe(h){return Et.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/he:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Ke(h,g){var E=g.relatedTarget;if(!E)return!0;try{for(;E&&E!==h;)E=E.parentNode}catch{return!1}return E!==h}var nn={__proto__:null,on:tr,off:Lr,stopPropagation:Na,disableScrollPropagation:Ol,disableClickPropagation:ss,preventDefault:Li,stop:da,getPropagationPath:Rs,getMousePosition:qs,getWheelDelta:Oe,isExternalTarget:Ke,addListener:tr,removeListener:Lr},Jn=Ue.extend({run:function(h,g,E,R){this.stop(),this._el=h,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=ys(h),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(h){var g=+new Date-this._startTime,E=this._duration*1e3;g<E?this._runFrame(this._easeOut(g/E),h):(this._runFrame(1),this._complete())},_runFrame:function(h,g){var E=this._startPos.add(this._offset.multiplyBy(h));g&&E._round(),Rr(this._el,E),this.fire("step")},_complete:function(){se(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),dn=Ue.extend({options:{crs:rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,g){g=b(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(Re(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qt&&Et.any3d&&!Et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tr(this._proxy,Nt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,g,E){if(g=g===void 0?this._zoom:this._limitZoom(g),h=this._limitCenter(Re(h),g,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var R=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,g,E.zoom):this._tryAnimatedPan(h,E.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(h,g,E.pan&&E.pan.noMoveStart),this},setZoom:function(h,g){return this._loaded?this.setView(this.getCenter(),h,{zoom:g}):(this._zoom=h,this)},zoomIn:function(h,g){return h=h||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,g)},zoomOut:function(h,g){return h=h||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,g)},setZoomAround:function(h,g,E){var R=this.getZoomScale(g),H=this.getSize().divideBy(2),te=h instanceof J?h:this.latLngToContainerPoint(h),we=te.subtract(H).multiplyBy(1-1/R),Ge=this.containerPointToLatLng(H.add(we));return this.setView(Ge,g,{zoom:E})},_getBoundsCenterZoom:function(h,g){g=g||{},h=h.getBounds?h.getBounds():Ie(h);var E=re(g.paddingTopLeft||g.padding||[0,0]),R=re(g.paddingBottomRight||g.padding||[0,0]),H=this.getBoundsZoom(h,!1,E.add(R));if(H=typeof g.maxZoom=="number"?Math.min(g.maxZoom,H):H,H===1/0)return{center:h.getCenter(),zoom:H};var te=R.subtract(E).divideBy(2),we=this.project(h.getSouthWest(),H),Ge=this.project(h.getNorthEast(),H),nt=this.unproject(we.add(Ge).divideBy(2).add(te),H);return{center:nt,zoom:H}},fitBounds:function(h,g){if(h=Ie(h),!h.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(h,g);return this.setView(E.center,E.zoom,g)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,g){return this.setView(h,this._zoom,{pan:g})},panBy:function(h,g){if(h=re(h).round(),g=g||{},!h.x&&!h.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){hn(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,E,g.duration||.25,g.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,g,E){if(E=E||{},E.animate===!1||!Et.any3d)return this.setView(h,g,E);this._stop();var R=this.project(this.getCenter()),H=this.project(h),te=this.getSize(),we=this._zoom;h=Re(h),g=g===void 0?we:g;var Ge=Math.max(te.x,te.y),nt=Ge*this.getZoomScale(we,g),xt=H.distanceTo(R)||1,Qt=1.42,Wn=Qt*Qt;function Ar(_i){var qc=_i?-1:1,Bm=_i?nt:Ge,Fm=nt*nt-Ge*Ge+qc*Wn*Wn*xt*xt,B1=2*Bm*Wn*xt,Fu=Fm/B1,ks=Math.sqrt(Fu*Fu+1)-Fu,nP=ks<1e-9?-18:Math.log(ks);return nP}function vo(_i){return(Math.exp(_i)-Math.exp(-_i))/2}function Ji(_i){return(Math.exp(_i)+Math.exp(-_i))/2}function jo(_i){return vo(_i)/Ji(_i)}var Go=Ar(0);function Bu(_i){return Ge*(Ji(Go)/Ji(Go+Qt*_i))}function O1(_i){return Ge*(Ji(Go)*jo(Go+Qt*_i)-vo(Go))/Wn}function D1(_i){return 1-Math.pow(1-_i,1.5)}var N1=Date.now(),Hy=(Ar(1)-Go)/Qt,Fl=E.duration?1e3*E.duration:1e3*Hy*.8;function jy(){var _i=(Date.now()-N1)/Fl,qc=D1(_i)*Hy;_i<=1?(this._flyToFrame=ee(jy,this),this._move(this.unproject(R.add(H.subtract(R).multiplyBy(O1(qc)/xt)),we),this.getScaleZoom(Ge/Bu(qc),we),{flyTo:!0})):this._move(h,g)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),jy.call(this),this},flyToBounds:function(h,g){var E=this._getBoundsCenterZoom(h,g);return this.flyTo(E.center,E.zoom,g)},setMaxBounds:function(h){return h=Ie(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var g=this.options.minZoom;return this.options.minZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var g=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var E=this.getCenter(),R=this._limitCenter(E,this._zoom,Ie(h));return E.equals(R)||this.panTo(R,g),this._enforcingBounds=!1,this},panInside:function(h,g){g=g||{};var E=re(g.paddingTopLeft||g.padding||[0,0]),R=re(g.paddingBottomRight||g.padding||[0,0]),H=this.project(this.getCenter()),te=this.project(h),we=this.getPixelBounds(),Ge=ze([we.min.add(E),we.max.subtract(R)]),nt=Ge.getSize();if(!Ge.contains(te)){this._enforcingBounds=!0;var xt=te.subtract(Ge.getCenter()),Qt=Ge.extend(te).getSize().subtract(nt);H.x+=xt.x<0?-Qt.x:Qt.x,H.y+=xt.y<0?-Qt.y:Qt.y,this.panTo(this.unproject(H),g),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),R=g.divideBy(2).round(),H=E.divideBy(2).round(),te=R.subtract(H);return!te.x&&!te.y?this:(h.animate&&h.pan?this.panBy(te):(h.pan&&this._rawPanBy(te),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,E,h):navigator.geolocation.getCurrentPosition(g,E,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var g=h.code,E=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var g=h.coords.latitude,E=h.coords.longitude,R=new Xe(g,E),H=R.toBounds(h.coords.accuracy*2),te=this._locateOptions;if(te.setView){var we=this.getBoundsZoom(H);this.setView(R,te.maxZoom?Math.min(we,te.maxZoom):we)}var Ge={latlng:R,bounds:H,timestamp:h.timestamp};for(var nt in h.coords)typeof h.coords[nt]=="number"&&(Ge[nt]=h.coords[nt]);this.fire("locationfound",Ge)}},addHandler:function(h,g){if(!g)return this;var E=this[h]=new g(this);return this._handlers.push(E),this.options[h]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(se(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Mt(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,g){var E="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),R=Fe("div",E,g||this._mapPane);return h&&(this._panes[h]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),g=this.unproject(h.getBottomLeft()),E=this.unproject(h.getTopRight());return new tt(g,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,g,E){h=Ie(h),E=re(E||[0,0]);var R=this.getZoom()||0,H=this.getMinZoom(),te=this.getMaxZoom(),we=h.getNorthWest(),Ge=h.getSouthEast(),nt=this.getSize().subtract(E),xt=ze(this.project(Ge,R),this.project(we,R)).getSize(),Qt=Et.any3d?this.options.zoomSnap:1,Wn=nt.x/xt.x,Ar=nt.y/xt.y,vo=g?Math.max(Wn,Ar):Math.min(Wn,Ar);return R=this.getScaleZoom(vo,R),Qt&&(R=Math.round(R/(Qt/100))*(Qt/100),R=g?Math.ceil(R/Qt)*Qt:Math.floor(R/Qt)*Qt),Math.max(H,Math.min(te,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,g){var E=this._getTopLeftPoint(h,g);return new Ce(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,g){var E=this.options.crs;return g=g===void 0?this._zoom:g,E.scale(h)/E.scale(g)},getScaleZoom:function(h,g){var E=this.options.crs;g=g===void 0?this._zoom:g;var R=E.zoom(h*E.scale(g));return isNaN(R)?1/0:R},project:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(Re(h),g)},unproject:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(re(h),g)},layerPointToLatLng:function(h){var g=re(h).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(Re(h))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(Re(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Ie(h))},distance:function(h,g){return this.options.crs.distance(Re(h),Re(g))},containerPointToLayerPoint:function(h){return re(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return re(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(re(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(h)))},mouseEventToContainerPoint:function(h){return qs(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var g=this._container=pn(h);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tr(g,"scroll",this._onScroll,this),this._containerId=l(g)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Et.any3d,hn(h,"leaflet-container"+(Et.touch?" leaflet-touch":"")+(Et.retina?" leaflet-retina":"")+(Et.ielt9?" leaflet-oldie":"")+(Et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Ht(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rr(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(hn(h.markerPane,"leaflet-zoom-hide"),hn(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,g,E){Rr(this._mapPane,new J(0,0));var R=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var H=this._zoom!==g;this._moveStart(H,E)._move(h,g)._moveEnd(H),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(h,g){return h&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(h,g,E,R){g===void 0&&(g=this._zoom);var H=this._zoom!==g;return this._zoom=g,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),R?E&&E.pinch&&this.fire("zoom",E):((H||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return se(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Rr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[l(this._container)]=this;var g=h?Lr:tr;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Et.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){se(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var E=[],R,H=g==="mouseout"||g==="mouseover",te=h.target||h.srcElement,we=!1;te;){if(R=this._targets[l(te)],R&&(g==="click"||g==="preclick")&&this._draggableMoved(R)){we=!0;break}if(R&&R.listens(g,!0)&&(H&&!Ke(te,h)||(E.push(R),H))||te===this._container)break;te=te.parentNode}return!E.length&&!we&&!H&&this.listens(g,!0)&&(E=[this]),E},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var g=h.target||h.srcElement;if(!(!this._loaded||g._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(g))){var E=h.type;E==="mousedown"&&pc(g),this._fireDOMEvent(h,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,g,E){if(h.type==="click"){var R=i({},h);R.type="preclick",this._fireDOMEvent(R,R.type,E)}var H=this._findEventTargets(h,g);if(E){for(var te=[],we=0;we<E.length;we++)E[we].listens(g,!0)&&te.push(E[we]);H=te.concat(H)}if(H.length){g==="contextmenu"&&Li(h);var Ge=H[0],nt={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var xt=Ge.getLatLng&&(!Ge._radius||Ge._radius<=10);nt.containerPoint=xt?this.latLngToContainerPoint(Ge.getLatLng()):this.mouseEventToContainerPoint(h),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=xt?Ge.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(we=0;we<H.length;we++)if(H[we].fire(g,nt,!0),nt.originalEvent._stopped||H[we].options.bubblingMouseEvents===!1&&I(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,g=this._handlers.length;h<g;h++)this._handlers[h].disable()},whenReady:function(h,g){return this._loaded?h.call(g||this,{target:this}):this.on("load",h,g),this},_getMapPanePos:function(){return ys(this._mapPane)||new J(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,g){var E=h&&g!==void 0?this._getNewPixelOrigin(h,g):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,g){var E=this.getSize()._divideBy(2);return this.project(h,g)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,g,E){var R=this._getNewPixelOrigin(E,g);return this.project(h,g)._subtract(R)},_latLngBoundsToNewLayerBounds:function(h,g,E){var R=this._getNewPixelOrigin(E,g);return ze([this.project(h.getSouthWest(),g)._subtract(R),this.project(h.getNorthWest(),g)._subtract(R),this.project(h.getSouthEast(),g)._subtract(R),this.project(h.getNorthEast(),g)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,g,E){if(!E)return h;var R=this.project(h,g),H=this.getSize().divideBy(2),te=new Ce(R.subtract(H),R.add(H)),we=this._getBoundsOffset(te,E,g);return Math.abs(we.x)<=1&&Math.abs(we.y)<=1?h:this.unproject(R.add(we),g)},_limitOffset:function(h,g){if(!g)return h;var E=this.getPixelBounds(),R=new Ce(E.min.add(h),E.max.add(h));return h.add(this._getBoundsOffset(R,g))},_getBoundsOffset:function(h,g,E){var R=ze(this.project(g.getNorthEast(),E),this.project(g.getSouthWest(),E)),H=R.min.subtract(h.min),te=R.max.subtract(h.max),we=this._rebound(H.x,-te.x),Ge=this._rebound(H.y,-te.y);return new J(we,Ge)},_rebound:function(h,g){return h+g>0?Math.round(h-g)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(g))},_limitZoom:function(h){var g=this.getMinZoom(),E=this.getMaxZoom(),R=Et.any3d?this.options.zoomSnap:1;return R&&(h=Math.round(h/R)*R),Math.max(g,Math.min(E,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,g){var E=this._getCenterOffset(h)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,g),!0)},_createAnimProxy:function(){var h=this._proxy=Fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(g){var E=yn,R=this._proxy.style[E];Cr(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),R===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),g=this.getZoom();Cr(this._proxy,this.project(h,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,g,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(g),H=this._getCenterOffset(h)._divideBy(1-1/R);return E.animate!==!0&&!this.getSize().contains(H)?!1:(ee(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(h,g,!0)},this),!0)},_animateZoom:function(h,g,E,R){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=g,hn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:g,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pr(h,g){return new dn(h,g)}var Vn=me.extend({options:{position:"topright"},initialize:function(h){b(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var g=this._container=this.onAdd(h),E=this.getPosition(),R=h._controlCorners[E];return hn(g,"leaflet-control"),E.indexOf("bottom")!==-1?R.insertBefore(g,R.firstChild):R.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),or=function(h){return new Vn(h)};dn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},g="leaflet-",E=this._controlContainer=Fe("div",g+"control-container",this._container);function R(H,te){var we=g+H+" "+g+te;h[H+te]=Fe("div",we,E)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Mt(this._controlCorners[h]);Mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $i=Vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,g,E,R){return E<R?-1:R<E?1:0}},initialize:function(h,g,E){b(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in h)this._addLayer(h[R],R);for(R in g)this._addLayer(g[R],R,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Vn.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,g){return this._addLayer(h,g),this._map?this._update():this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var g=this._getLayer(l(h));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){hn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(hn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",g=this._container=Fe("div",h),E=this.options.collapsed;g.setAttribute("aria-haspopup",!0),ss(g),Ol(g);var R=this._section=Fe("section",h+"-list");E&&(this._map.on("click",this.collapse,this),tr(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var H=this._layersLink=Fe("a",h+"-toggle",g);H.href="#",H.title="Layers",H.setAttribute("role","button"),tr(H,{keydown:function(te){te.keyCode===13&&this._expandSafely()},click:function(te){Li(te),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Fe("div",h+"-base",R),this._separator=Fe("div",h+"-separator",R),this._overlaysList=Fe("div",h+"-overlays",R),g.appendChild(R)},_getLayer:function(h){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&l(this._layers[g].layer)===h)return this._layers[g]},_addLayer:function(h,g,E){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:g,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(R,H){return this.options.sortFunction(R.layer,H.layer,R.name,H.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;kt(this._baseLayersList),kt(this._overlaysList),this._layerControlInputs=[];var h,g,E,R,H=0;for(E=0;E<this._layers.length;E++)R=this._layers[E],this._addItem(R),g=g||R.overlay,h=h||!R.overlay,H+=R.overlay?0:1;return this.options.hideSingleBase&&(h=h&&H>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=g&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var g=this._getLayer(l(h.target)),E=g.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;E&&this._map.fire(E,g)},_createRadioElement:function(h,g){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(g?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=E,R.firstChild},_addItem:function(h){var g=document.createElement("label"),E=this._map.hasLayer(h.layer),R;h.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=E):R=this._createRadioElement("leaflet-base-layers_"+l(this),E),this._layerControlInputs.push(R),R.layerId=l(h.layer),tr(R,"click",this._onInputClick,this);var H=document.createElement("span");H.innerHTML=" "+h.name;var te=document.createElement("span");g.appendChild(te),te.appendChild(R),te.appendChild(H);var we=h.overlay?this._overlaysList:this._baseLayersList;return we.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,g,E,R=[],H=[];this._handlingClick=!0;for(var te=h.length-1;te>=0;te--)g=h[te],E=this._getLayer(g.layerId).layer,g.checked?R.push(E):g.checked||H.push(E);for(te=0;te<H.length;te++)this._map.hasLayer(H[te])&&this._map.removeLayer(H[te]);for(te=0;te<R.length;te++)this._map.hasLayer(R[te])||this._map.addLayer(R[te]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,g,E,R=this._map.getZoom(),H=h.length-1;H>=0;H--)g=h[H],E=this._getLayer(g.layerId).layer,g.disabled=E.options.minZoom!==void 0&&R<E.options.minZoom||E.options.maxZoom!==void 0&&R>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,tr(h,"click",Li),this.expand();var g=this;setTimeout(function(){Lr(h,"click",Li),g._preventClick=!1})}}),Wi=function(h,g,E){return new $i(h,g,E)},Ks=Vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var g="leaflet-control-zoom",E=Fe("div",g+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,g+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,g+"-out",E,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,g,E,R,H){var te=Fe("a",E,R);return te.innerHTML=h,te.href="#",te.title=g,te.setAttribute("role","button"),te.setAttribute("aria-label",g),ss(te),tr(te,"click",da),tr(te,"click",H,this),tr(te,"click",this._refocusOnMap,this),te},_updateDisabled:function(){var h=this._map,g="leaflet-disabled";on(this._zoomInButton,g),on(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(hn(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(hn(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});dn.mergeOptions({zoomControl:!0}),dn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ks,this.addControl(this.zoomControl))});var x=function(h){return new Ks(h)},M=Vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var g="leaflet-control-scale",E=Fe("div",g),R=this.options;return this._addScales(R,g+"-line",E),h.on(R.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),E},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,g,E){h.metric&&(this._mScale=Fe("div",g,E)),h.imperial&&(this._iScale=Fe("div",g,E))},_update:function(){var h=this._map,g=h.getSize().y/2,E=h.distance(h.containerPointToLatLng([0,g]),h.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(E)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var g=this._getRoundNum(h),E=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,E,g/h)},_updateImperial:function(h){var g=h*3.2808399,E,R,H;g>5280?(E=g/5280,R=this._getRoundNum(E),this._updateScale(this._iScale,R+" mi",R/E)):(H=this._getRoundNum(g),this._updateScale(this._iScale,H+" ft",H/g))},_updateScale:function(h,g,E){h.style.width=Math.round(this.options.maxWidth*E)+"px",h.innerHTML=g},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),E=h/g;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,g*E}}),k=function(h){return new M(h)},B='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',q=Vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Et.inlineSvg?B+" ":"")+"Leaflet</a>"},initialize:function(h){b(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Fe("div","leaflet-control-attribution"),ss(this._container);for(var g in h._layers)h._layers[g].getAttribution&&this.addAttribution(h._layers[g].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var g in this._attributions)this._attributions[g]&&h.push(g);var E=[];this.options.prefix&&E.push(this.options.prefix),h.length&&E.push(h.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});dn.mergeOptions({attributionControl:!0}),dn.addInitHook(function(){this.options.attributionControl&&new q().addTo(this)});var K=function(h){return new q(h)};Vn.Layers=$i,Vn.Zoom=Ks,Vn.Scale=M,Vn.Attribution=q,or.layers=Wi,or.zoom=x,or.scale=k,or.attribution=K;var Q=me.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Q.addTo=function(h,g){return h.addHandler(g,this),this};var _e={Events:Se},ge=Et.touch?"touchstart mousedown":"mousedown",ke=Ue.extend({options:{clickTolerance:3},initialize:function(h,g,E,R){b(this,R),this._element=h,this._dragStartTarget=g||h,this._preventOutline=E},enable:function(){this._enabled||(tr(this._dragStartTarget,ge,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ke._dragging===this&&this.finishDrag(!0),Lr(this._dragStartTarget,ge,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Sr(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){ke._dragging===this&&this.finishDrag();return}if(!(ke._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(ke._dragging=this,this._preventOutline&&pc(this._element),fc(),Oa(),!this._moving)){this.fire("down");var g=h.touches?h.touches[0]:h,E=vr(this._element);this._startPoint=new J(g.clientX,g.clientY),this._startPos=ys(this._element),this._parentScale=Ll(E);var R=h.type==="mousedown";tr(document,R?"mousemove":"touchmove",this._onMove,this),tr(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var g=h.touches&&h.touches.length===1?h.touches[0]:h,E=new J(g.clientX,g.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Li(h),this._moved||(this.fire("dragstart"),this._moved=!0,hn(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),hn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Rr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lr(document,"mousemove touchmove",this._onMove,this),Lr(document,"mouseup touchend touchcancel",this._onUp,this),tl(),Bo();var g=this._moved&&this._moving;this._moving=!1,ke._dragging=!1,g&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function ot(h,g,E){var R,H=[1,4,2,8],te,we,Ge,nt,xt,Qt,Wn,Ar;for(te=0,Qt=h.length;te<Qt;te++)h[te]._code=lr(h[te],g);for(Ge=0;Ge<4;Ge++){for(Wn=H[Ge],R=[],te=0,Qt=h.length,we=Qt-1;te<Qt;we=te++)nt=h[te],xt=h[we],nt._code&Wn?xt._code&Wn||(Ar=fa(xt,nt,Wn,g,E),Ar._code=lr(Ar,g),R.push(Ar)):(xt._code&Wn&&(Ar=fa(xt,nt,Wn,g,E),Ar._code=lr(Ar,g),R.push(Ar)),R.push(nt));h=R}return h}function ht(h,g){var E,R,H,te,we,Ge,nt,xt,Qt;if(!h||h.length===0)throw new Error("latlngs not passed");os(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Wn=Re([0,0]),Ar=Ie(h),vo=Ar.getNorthWest().distanceTo(Ar.getSouthWest())*Ar.getNorthEast().distanceTo(Ar.getNorthWest());vo<1700&&(Wn=$e(h));var Ji=h.length,jo=[];for(E=0;E<Ji;E++){var Go=Re(h[E]);jo.push(g.project(Re([Go.lat-Wn.lat,Go.lng-Wn.lng])))}for(Ge=nt=xt=0,E=0,R=Ji-1;E<Ji;R=E++)H=jo[E],te=jo[R],we=H.y*te.x-te.y*H.x,nt+=(H.x+te.x)*we,xt+=(H.y+te.y)*we,Ge+=we*3;Ge===0?Qt=jo[0]:Qt=[nt/Ge,xt/Ge];var Bu=g.unproject(re(Qt));return Re([Bu.lat+Wn.lat,Bu.lng+Wn.lng])}function $e(h){for(var g=0,E=0,R=0,H=0;H<h.length;H++){var te=Re(h[H]);g+=te.lat,E+=te.lng,R++}return Re([g/R,E/R])}var wt={__proto__:null,clipPolygon:ot,polygonCenter:ht,centroid:$e};function Hn(h,g){if(!g||!h.length)return h.slice();var E=g*g;return h=fo(h,E),h=Xi(h,E),h}function yr(h,g,E){return Math.sqrt(Ys(h,g,E,!0))}function ar(h,g,E){return Ys(h,g,E)}function Xi(h,g){var E=h.length,R=typeof Uint8Array<"u"?Uint8Array:Array,H=new R(E);H[0]=H[E-1]=1,pi(h,H,g,0,E-1);var te,we=[];for(te=0;te<E;te++)H[te]&&we.push(h[te]);return we}function pi(h,g,E,R,H){var te=0,we,Ge,nt;for(Ge=R+1;Ge<=H-1;Ge++)nt=Ys(h[Ge],h[R],h[H],!0),nt>te&&(we=Ge,te=nt);te>E&&(g[we]=1,pi(h,g,E,R,we),pi(h,g,E,we,H))}function fo(h,g){for(var E=[h[0]],R=1,H=0,te=h.length;R<te;R++)Jr(h[R],h[H])>g&&(E.push(h[R]),H=R);return H<te-1&&E.push(h[te-1]),E}var zo;function _r(h,g,E,R,H){var te=R?zo:lr(h,E),we=lr(g,E),Ge,nt,xt;for(zo=we;;){if(!(te|we))return[h,g];if(te&we)return!1;Ge=te||we,nt=fa(h,g,Ge,E,H),xt=lr(nt,E),Ge===te?(h=nt,te=xt):(g=nt,we=xt)}}function fa(h,g,E,R,H){var te=g.x-h.x,we=g.y-h.y,Ge=R.min,nt=R.max,xt,Qt;return E&8?(xt=h.x+te*(nt.y-h.y)/we,Qt=nt.y):E&4?(xt=h.x+te*(Ge.y-h.y)/we,Qt=Ge.y):E&2?(xt=nt.x,Qt=h.y+we*(nt.x-h.x)/te):E&1&&(xt=Ge.x,Qt=h.y+we*(Ge.x-h.x)/te),new J(xt,Qt,H)}function lr(h,g){var E=0;return h.x<g.min.x?E|=1:h.x>g.max.x&&(E|=2),h.y<g.min.y?E|=4:h.y>g.max.y&&(E|=8),E}function Jr(h,g){var E=g.x-h.x,R=g.y-h.y;return E*E+R*R}function Ys(h,g,E,R){var H=g.x,te=g.y,we=E.x-H,Ge=E.y-te,nt=we*we+Ge*Ge,xt;return nt>0&&(xt=((h.x-H)*we+(h.y-te)*Ge)/nt,xt>1?(H=E.x,te=E.y):xt>0&&(H+=we*xt,te+=Ge*xt)),we=h.x-H,Ge=h.y-te,R?we*we+Ge*Ge:new J(H,te)}function os(h){return!C(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Js(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),os(h)}function as(h,g){var E,R,H,te,we,Ge,nt,xt;if(!h||h.length===0)throw new Error("latlngs not passed");os(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Qt=Re([0,0]),Wn=Ie(h),Ar=Wn.getNorthWest().distanceTo(Wn.getSouthWest())*Wn.getNorthEast().distanceTo(Wn.getNorthWest());Ar<1700&&(Qt=$e(h));var vo=h.length,Ji=[];for(E=0;E<vo;E++){var jo=Re(h[E]);Ji.push(g.project(Re([jo.lat-Qt.lat,jo.lng-Qt.lng])))}for(E=0,R=0;E<vo-1;E++)R+=Ji[E].distanceTo(Ji[E+1])/2;if(R===0)xt=Ji[0];else for(E=0,te=0;E<vo-1;E++)if(we=Ji[E],Ge=Ji[E+1],H=we.distanceTo(Ge),te+=H,te>R){nt=(te-R)/H,xt=[Ge.x-nt*(Ge.x-we.x),Ge.y-nt*(Ge.y-we.y)];break}var Go=g.unproject(re(xt));return Re([Go.lat+Qt.lat,Go.lng+Qt.lng])}var Ai={__proto__:null,simplify:Hn,pointToSegmentDistance:yr,closestPointOnSegment:ar,clipSegment:_r,_getEdgeIntersection:fa,_getBitCode:lr,_sqClosestPointOnSegment:Ys,isFlat:os,_flat:Js,polylineCenter:as},_s={project:function(h){return new J(h.lng,h.lat)},unproject:function(h){return new Xe(h.y,h.x)},bounds:new Ce([-180,-90],[180,90])},qi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var g=Math.PI/180,E=this.R,R=h.lat*g,H=this.R_MINOR/E,te=Math.sqrt(1-H*H),we=te*Math.sin(R),Ge=Math.tan(Math.PI/4-R/2)/Math.pow((1-we)/(1+we),te/2);return R=-E*Math.log(Math.max(Ge,1e-10)),new J(h.lng*g*E,R)},unproject:function(h){for(var g=180/Math.PI,E=this.R,R=this.R_MINOR/E,H=Math.sqrt(1-R*R),te=Math.exp(-h.y/E),we=Math.PI/2-2*Math.atan(te),Ge=0,nt=.1,xt;Ge<15&&Math.abs(nt)>1e-7;Ge++)xt=H*Math.sin(we),xt=Math.pow((1-xt)/(1+xt),H/2),nt=Math.PI/2-2*Math.atan(te*xt)-we,we+=nt;return new Xe(we*g,h.x*g/E)}},ki={__proto__:null,LonLat:_s,Mercator:qi,SphericalMercator:Me},rl=i({},Ot,{code:"EPSG:3395",projection:qi,transformation:function(){var h=.5/(Math.PI*qi.R);return We(h,.5,-h,.5)}()}),pa=i({},Ot,{code:"EPSG:4326",projection:_s,transformation:We(1/180,1,-1/180,.5)}),ma=i({},qe,{projection:_s,transformation:We(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,g){var E=g.lng-h.lng,R=g.lat-h.lat;return Math.sqrt(E*E+R*R)},infinite:!0});qe.Earth=Ot,qe.EPSG3395=rl,qe.EPSG3857=rt,qe.EPSG900913=lt,qe.EPSG4326=pa,qe.Simple=ma;var po=Ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[l(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[l(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var g=h.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var E=this.getEvents();g.on(E,this),this.once("remove",function(){g.off(E,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});dn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var g=l(h);return this._layers[g]?this:(this._layers[g]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var g=l(h);return this._layers[g]?(this._loaded&&h.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return l(h)in this._layers},eachLayer:function(h,g){for(var E in this._layers)h.call(g,this._layers[E]);return this},_addLayers:function(h){h=h?C(h)?h:[h]:[];for(var g=0,E=h.length;g<E;g++)this.addLayer(h[g])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[l(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var g=l(h);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,g=-1/0,E=this._getZoomSpan();for(var R in this._zoomBoundLayers){var H=this._zoomBoundLayers[R].options;h=H.minZoom===void 0?h:Math.min(h,H.minZoom),g=H.maxZoom===void 0?g:Math.max(g,H.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=h===1/0?void 0:h,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ki=po.extend({initialize:function(h,g){b(this,g),this._layers={};var E,R;if(h)for(E=0,R=h.length;E<R;E++)this.addLayer(h[E])},addLayer:function(h){var g=this.getLayerId(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(h){var g=typeof h=="number"?h:this.getLayerId(h);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var g=Array.prototype.slice.call(arguments,1),E,R;for(E in this._layers)R=this._layers[E],R[h]&&R[h].apply(R,g);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,g){for(var E in this._layers)h.call(g,this._layers[E]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return l(h)}}),mo=function(h,g){return new Ki(h,g)},_n=Ki.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Ki.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Ki.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new tt;for(var g in this._layers){var E=this._layers[g];h.extend(E.getBounds?E.getBounds():E.getLatLng())}return h}}),Dl=function(h,g){return new _n(h,g)},oi=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){b(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,g){var E=this._getIconUrl(h);if(!E){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(E,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(R,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(h,g){var E=this.options,R=E[g+"Size"];typeof R=="number"&&(R=[R,R]);var H=re(R),te=re(g==="shadow"&&E.shadowAnchor||E.iconAnchor||H&&H.divideBy(2,!0));h.className="leaflet-marker-"+g+" "+(E.className||""),te&&(h.style.marginLeft=-te.x+"px",h.style.marginTop=-te.y+"px"),H&&(h.style.width=H.x+"px",h.style.height=H.y+"px")},_createImg:function(h,g){return g=g||document.createElement("img"),g.src=h,g},_getIconUrl:function(h){return Et.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function gc(h){return new oi(h)}var $c=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof $c.imagePath!="string"&&($c.imagePath=this._detectIconPath()),(this.options.imagePath||$c.imagePath)+oi.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var g=function(E,R,H){var te=R.exec(E);return te&&te[H]};return h=g(h,/^url\((['"])?(.+)\1\)$/,2),h&&g(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Fe("div","leaflet-default-icon-path",document.body),g=Ht(h,"background-image")||Ht(h,"backgroundImage");if(document.body.removeChild(h),g=this._stripUrl(g),g)return g;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),Hh=Q.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new ke(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),hn(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var g=this._marker,E=g._map,R=this._marker.options.autoPanSpeed,H=this._marker.options.autoPanPadding,te=ys(g._icon),we=E.getPixelBounds(),Ge=E.getPixelOrigin(),nt=ze(we.min._subtract(Ge).add(H),we.max._subtract(Ge).subtract(H));if(!nt.contains(te)){var xt=re((Math.max(nt.max.x,te.x)-nt.max.x)/(we.max.x-nt.max.x)-(Math.min(nt.min.x,te.x)-nt.min.x)/(we.min.x-nt.min.x),(Math.max(nt.max.y,te.y)-nt.max.y)/(we.max.y-nt.max.y)-(Math.min(nt.min.y,te.y)-nt.min.y)/(we.min.y-nt.min.y)).multiplyBy(R);E.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),Rr(g._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=ee(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(se(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,h)))},_onDrag:function(h){var g=this._marker,E=g._shadow,R=ys(g._icon),H=g._map.layerPointToLatLng(R);E&&Rr(E,R),g._latlng=H,h.latlng=H,h.oldLatLng=this._oldLatLng,g.fire("move",h).fire("drag",h)},_onDragEnd:function(h){se(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),vc=po.extend({options:{icon:new $c,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,g){b(this,g),this._latlng=Re(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var g=this._latlng;return this._latlng=Re(h),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=h.icon.createIcon(this._icon),R=!1;E!==this._icon&&(this._icon&&this._removeIcon(),R=!0,h.title&&(E.title=h.title),E.tagName==="IMG"&&(E.alt=h.alt||"")),hn(E,g),h.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tr(E,"focus",this._panOnFocus,this);var H=h.icon.createShadow(this._shadow),te=!1;H!==this._shadow&&(this._removeShadow(),te=!0),H&&(hn(H,g),H.alt=""),this._shadow=H,h.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),H&&te&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lr(this._icon,"focus",this._panOnFocus,this),Mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mt(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Rr(this._icon,h),this._shadow&&Rr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(hn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hh)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hh(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Nn(this._icon,h),this._shadow&&Nn(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var g=this.options.icon.options,E=g.iconSize?re(g.iconSize):re(0,0),R=g.iconAnchor?re(g.iconAnchor):re(0,0);h.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:E.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nl(h,g){return new vc(h,g)}var Zs=po.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return b(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xs=Zs.extend({options:{fill:!0,radius:10},initialize:function(h,g){b(this,g),this._latlng=Re(h),this._radius=this.options.radius},setLatLng:function(h){var g=this._latlng;return this._latlng=Re(h),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var g=h&&h.radius||this._radius;return Zs.prototype.setStyle.call(this,h),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,g=this._radiusY||h,E=this._clickTolerance(),R=[h+E,g+E];this._pxBounds=new Ce(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jh(h,g){return new xs(h,g)}var ga=xs.extend({initialize:function(h,g,E){if(typeof g=="number"&&(g=i({},E,{radius:g})),b(this,g),this._latlng=Re(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:Zs.prototype.setStyle,_project:function(){var h=this._latlng.lng,g=this._latlng.lat,E=this._map,R=E.options.crs;if(R.distance===Ot.distance){var H=Math.PI/180,te=this._mRadius/Ot.R/H,we=E.project([g+te,h]),Ge=E.project([g-te,h]),nt=we.add(Ge).divideBy(2),xt=E.unproject(nt).lat,Qt=Math.acos((Math.cos(te*H)-Math.sin(g*H)*Math.sin(xt*H))/(Math.cos(g*H)*Math.cos(xt*H)))/H;(isNaN(Qt)||Qt===0)&&(Qt=te/Math.cos(Math.PI/180*g)),this._point=nt.subtract(E.getPixelOrigin()),this._radius=isNaN(Qt)?0:nt.x-E.project([xt,h-Qt]).x,this._radiusY=nt.y-we.y}else{var Wn=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Wn).x}this._updateBounds()}});function yc(h,g,E){return new ga(h,g,E)}var go=Zs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,g){b(this,g),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var g=1/0,E=null,R=Ys,H,te,we=0,Ge=this._parts.length;we<Ge;we++)for(var nt=this._parts[we],xt=1,Qt=nt.length;xt<Qt;xt++){H=nt[xt-1],te=nt[xt];var Wn=R(h,H,te,!0);Wn<g&&(g=Wn,E=R(h,H,te))}return E&&(E.distance=Math.sqrt(g)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return as(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,g){return g=g||this._defaultShape(),h=Re(h),g.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new tt,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return os(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var g=[],E=os(h),R=0,H=h.length;R<H;R++)E?(g[R]=Re(h[R]),this._bounds.extend(g[R])):g[R]=this._convertLatLngs(h[R]);return g},_project:function(){var h=new Ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),g=new J(h,h);this._rawPxBounds&&(this._pxBounds=new Ce([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(h,g,E){var R=h[0]instanceof Xe,H=h.length,te,we;if(R){for(we=[],te=0;te<H;te++)we[te]=this._map.latLngToLayerPoint(h[te]),E.extend(we[te]);g.push(we)}else for(te=0;te<H;te++)this._projectLatlngs(h[te],g,E)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,E,R,H,te,we,Ge,nt;for(E=0,H=0,te=this._rings.length;E<te;E++)for(nt=this._rings[E],R=0,we=nt.length;R<we-1;R++)Ge=_r(nt[R],nt[R+1],h,R,!0),Ge&&(g[H]=g[H]||[],g[H].push(Ge[0]),(Ge[1]!==nt[R+1]||R===we-2)&&(g[H].push(Ge[1]),H++))}},_simplifyPoints:function(){for(var h=this._parts,g=this.options.smoothFactor,E=0,R=h.length;E<R;E++)h[E]=Hn(h[E],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,g){var E,R,H,te,we,Ge,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(E=0,te=this._parts.length;E<te;E++)for(Ge=this._parts[E],R=0,we=Ge.length,H=we-1;R<we;H=R++)if(!(!g&&R===0)&&yr(h,Ge[H],Ge[R])<=nt)return!0;return!1}});function Gh(h,g){return new go(h,g)}go._flat=Js;var va=go.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ht(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var g=go.prototype._convertLatLngs.call(this,h),E=g.length;return E>=2&&g[0]instanceof Xe&&g[0].equals(g[E-1])&&g.pop(),g},_setLatLngs:function(h){go.prototype._setLatLngs.call(this,h),os(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return os(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,g=this.options.weight,E=new J(g,g);if(h=new Ce(h.min.subtract(E),h.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,H=this._rings.length,te;R<H;R++)te=ot(this._rings[R],h,!0),te.length&&this._parts.push(te)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var g=!1,E,R,H,te,we,Ge,nt,xt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(te=0,nt=this._parts.length;te<nt;te++)for(E=this._parts[te],we=0,xt=E.length,Ge=xt-1;we<xt;Ge=we++)R=E[we],H=E[Ge],R.y>h.y!=H.y>h.y&&h.x<(H.x-R.x)*(h.y-R.y)/(H.y-R.y)+R.x&&(g=!g);return g||go.prototype._containsPoint.call(this,h,!0)}});function Nu(h,g){return new va(h,g)}var Ls=_n.extend({initialize:function(h,g){b(this,g),this._layers={},h&&this.addData(h)},addData:function(h){var g=C(h)?h:h.features,E,R,H;if(g){for(E=0,R=g.length;E<R;E++)H=g[E],(H.geometries||H.geometry||H.features||H.coordinates)&&this.addData(H);return this}var te=this.options;if(te.filter&&!te.filter(h))return this;var we=ls(h,te);return we?(we.feature=Ye(h),we.defaultOptions=we.options,this.resetStyle(we),te.onEachFeature&&te.onEachFeature(h,we),this.addLayer(we)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(g){this._setLayerStyle(g,h)},this)},_setLayerStyle:function(h,g){h.setStyle&&(typeof g=="function"&&(g=g(h.feature)),h.setStyle(g))}});function ls(h,g){var E=h.type==="Feature"?h.geometry:h,R=E?E.coordinates:null,H=[],te=g&&g.pointToLayer,we=g&&g.coordsToLatLng||Ba,Ge,nt,xt,Qt;if(!R&&!E)return null;switch(E.type){case"Point":return Ge=we(R),Wc(te,h,Ge,g);case"MultiPoint":for(xt=0,Qt=R.length;xt<Qt;xt++)Ge=we(R[xt]),H.push(Wc(te,h,Ge,g));return new _n(H);case"LineString":case"MultiLineString":return nt=Qs(R,E.type==="LineString"?0:1,we),new go(nt,g);case"Polygon":case"MultiPolygon":return nt=Qs(R,E.type==="Polygon"?1:2,we),new va(nt,g);case"GeometryCollection":for(xt=0,Qt=E.geometries.length;xt<Qt;xt++){var Wn=ls({geometry:E.geometries[xt],type:"Feature",properties:h.properties},g);Wn&&H.push(Wn)}return new _n(H);case"FeatureCollection":for(xt=0,Qt=E.features.length;xt<Qt;xt++){var Ar=ls(E.features[xt],g);Ar&&H.push(Ar)}return new _n(H);default:throw new Error("Invalid GeoJSON object.")}}function Wc(h,g,E,R){return h?h(g,E):new vc(E,R&&R.markersInheritOptions&&R)}function Ba(h){return new Xe(h[1],h[0],h[2])}function Qs(h,g,E){for(var R=[],H=0,te=h.length,we;H<te;H++)we=g?Qs(h[H],g-1,E):(E||Ba)(h[H]),R.push(we);return R}function ue(h,g){return h=Re(h),h.alt!==void 0?[f(h.lng,g),f(h.lat,g),f(h.alt,g)]:[f(h.lng,g),f(h.lat,g)]}function Pe(h,g,E,R){for(var H=[],te=0,we=h.length;te<we;te++)H.push(g?Pe(h[te],os(h[te])?0:g-1,E,R):ue(h[te],R));return!g&&E&&H.length>0&&H.push(H[0].slice()),H}function je(h,g){return h.feature?i({},h.feature,{geometry:g}):Ye(g)}function Ye(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var et={toGeoJSON:function(h){return je(this,{type:"Point",coordinates:ue(this.getLatLng(),h)})}};vc.include(et),ga.include(et),xs.include(et),go.include({toGeoJSON:function(h){var g=!os(this._latlngs),E=Pe(this._latlngs,g?1:0,!1,h);return je(this,{type:(g?"Multi":"")+"LineString",coordinates:E})}}),va.include({toGeoJSON:function(h){var g=!os(this._latlngs),E=g&&!os(this._latlngs[0]),R=Pe(this._latlngs,E?2:g?1:0,!0,h);return g||(R=[R]),je(this,{type:(E?"Multi":"")+"Polygon",coordinates:R})}}),Ki.include({toMultiPoint:function(h){var g=[];return this.eachLayer(function(E){g.push(E.toGeoJSON(h).geometry.coordinates)}),je(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(h){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(h);var E=g==="GeometryCollection",R=[];return this.eachLayer(function(H){if(H.toGeoJSON){var te=H.toGeoJSON(h);if(E)R.push(te.geometry);else{var we=Ye(te);we.type==="FeatureCollection"?R.push.apply(R,we.features):R.push(we)}}}),E?je(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function It(h,g){return new Ls(h,g)}var Kt=It,cn=po.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,g,E){this._url=h,this._bounds=Ie(g),b(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(hn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Yn(this._image),this},bringToBack:function(){return this._map&&er(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Ie(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",g=this._image=h?this._url:Fe("img");if(hn(g,"leaflet-image-layer"),this._zoomAnimated&&hn(g,"leaflet-zoom-animated"),this.options.className&&hn(g,this.options.className),g.onselectstart=d,g.onmousemove=d,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(h){var g=this._map.getZoomScale(h.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Cr(this._image,E,g)},_reset:function(){var h=this._image,g=new Ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=g.getSize();Rr(h,g.min),h.style.width=E.x+"px",h.style.height=E.y+"px"},_updateOpacity:function(){Nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Wt=function(h,g,E){return new cn(h,g,E)},zn=cn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",g=this._image=h?this._url:Fe("video");if(hn(g,"leaflet-image-layer"),this._zoomAnimated&&hn(g,"leaflet-zoom-animated"),this.options.className&&hn(g,this.options.className),g.onselectstart=d,g.onmousemove=d,g.onloadeddata=o(this.fire,this,"load"),h){for(var E=g.getElementsByTagName("source"),R=[],H=0;H<E.length;H++)R.push(E[H].src);this._url=E.length>0?R:[g.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var te=0;te<this._url.length;te++){var we=Fe("source");we.src=this._url[te],g.appendChild(we)}}});function Rn(h,g,E){return new zn(h,g,E)}var an=cn.extend({_initImage:function(){var h=this._image=this._url;hn(h,"leaflet-image-layer"),this._zoomAnimated&&hn(h,"leaflet-zoom-animated"),this.options.className&&hn(h,this.options.className),h.onselectstart=d,h.onmousemove=d}});function On(h,g,E){return new an(h,g,E)}var $t=po.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,g){h&&(h instanceof Xe||C(h))?(this._latlng=Re(h),b(this,g)):(b(this,h),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Nn(this._container,1),this.bringToFront(),this.options.interactive&&(hn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Nn(this._container,0),this._removeTimeout=setTimeout(o(Mt,void 0,this._container),200)):Mt(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=Re(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yn(this._container),this},bringToBack:function(){return this._map&&er(this._container),this},_prepareOpen:function(h){var g=this._source;if(!g._map)return!1;if(g instanceof _n){g=null;var E=this._source._layers;for(var R in E)if(E[R]._map){g=E[R];break}if(!g)return!1;this._source=g}if(!h)if(g.getCenter)h=g.getCenter();else if(g.getLatLng)h=g.getLatLng();else if(g.getBounds)h=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")h.innerHTML=g;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),g=re(this.options.offset),E=this._getAnchor();this._zoomAnimated?Rr(this._container,h.add(E)):g=g.add(h).add(E);var R=this._containerBottom=-g.y,H=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=R+"px",this._container.style.left=H+"px"}},_getAnchor:function(){return[0,0]}});dn.include({_initOverlay:function(h,g,E,R){var H=g;return H instanceof h||(H=new h(R).setContent(g)),E&&H.setLatLng(E),H}}),po.include({_initOverlay:function(h,g,E,R){var H=E;return H instanceof h?(b(H,R),H._source=this):(H=g&&!R?g:new h(R,this),H.setContent(E)),H}});var kr=$t.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,$t.prototype.openOn.call(this,h)},onAdd:function(h){$t.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zs||this._source.on("preclick",Na))},onRemove:function(h){$t.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zs||this._source.off("preclick",Na))},getEvents:function(){var h=$t.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",g=this._container=Fe("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Fe("div",h+"-content-wrapper",g);if(this._contentNode=Fe("div",h+"-content",E),ss(g),Ol(this._contentNode),tr(g,"contextmenu",Na),this._tipContainer=Fe("div",h+"-tip-container",g),this._tip=Fe("div",h+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Fe("a",h+"-close-button",g);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',tr(R,"click",function(H){Li(H),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,g=h.style;g.width="",g.whiteSpace="nowrap";var E=h.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),g.width=E+1+"px",g.whiteSpace="",g.height="";var R=h.offsetHeight,H=this.options.maxHeight,te="leaflet-popup-scrolled";H&&R>H?(g.height=H+"px",hn(h,te)):on(h,te),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),E=this._getAnchor();Rr(this._container,g.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,g=parseInt(Ht(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+g,R=this._containerWidth,H=new J(this._containerLeft,-E-this._containerBottom);H._add(ys(this._container));var te=h.layerPointToContainerPoint(H),we=re(this.options.autoPanPadding),Ge=re(this.options.autoPanPaddingTopLeft||we),nt=re(this.options.autoPanPaddingBottomRight||we),xt=h.getSize(),Qt=0,Wn=0;te.x+R+nt.x>xt.x&&(Qt=te.x+R-xt.x+nt.x),te.x-Qt-Ge.x<0&&(Qt=te.x-Ge.x),te.y+E+nt.y>xt.y&&(Wn=te.y+E-xt.y+nt.y),te.y-Wn-Ge.y<0&&(Wn=te.y-Ge.y),(Qt||Wn)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Qt,Wn]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yi=function(h,g){return new kr(h,g)};dn.mergeOptions({closePopupOnClick:!0}),dn.include({openPopup:function(h,g,E){return this._initOverlay(kr,h,g,E).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),po.include({bindPopup:function(h,g){return this._popup=this._initOverlay(kr,this._popup,h,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof _n||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){da(h);var g=h.layer||h.target;if(this._popup._source===g&&!(g instanceof Zs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=g,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var mi=$t.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){$t.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){$t.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=$t.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",g=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fe("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var g,E,R=this._map,H=this._container,te=R.latLngToContainerPoint(R.getCenter()),we=R.layerPointToContainerPoint(h),Ge=this.options.direction,nt=H.offsetWidth,xt=H.offsetHeight,Qt=re(this.options.offset),Wn=this._getAnchor();Ge==="top"?(g=nt/2,E=xt):Ge==="bottom"?(g=nt/2,E=0):Ge==="center"?(g=nt/2,E=xt/2):Ge==="right"?(g=0,E=xt/2):Ge==="left"?(g=nt,E=xt/2):we.x<te.x?(Ge="right",g=0,E=xt/2):(Ge="left",g=nt+(Qt.x+Wn.x)*2,E=xt/2),h=h.subtract(re(g,E,!0)).add(Qt).add(Wn),on(H,"leaflet-tooltip-right"),on(H,"leaflet-tooltip-left"),on(H,"leaflet-tooltip-top"),on(H,"leaflet-tooltip-bottom"),hn(H,"leaflet-tooltip-"+Ge),Rr(H,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Nn(this._container,h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(g)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vo=function(h,g){return new mi(h,g)};dn.include({openTooltip:function(h,g,E){return this._initOverlay(mi,h,g,E).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),po.include({bindTooltip:function(h,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mi,this._tooltip,h,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var g=h?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[g](E),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof _n||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&(tr(g,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),tr(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var g=h.latlng,E,R;this._tooltip.options.sticky&&h.originalEvent&&(E=this._map.mouseEventToContainerPoint(h.originalEvent),R=this._map.containerPointToLayerPoint(E),g=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(g)}});var ai=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var g=h&&h.tagName==="DIV"?h:document.createElement("div"),E=this.options;if(E.html instanceof Element?(kt(g),g.appendChild(E.html)):g.innerHTML=E.html!==!1?E.html:"",E.bgPos){var R=re(E.bgPos);g.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Bl(h){return new ai(h)}oi.Default=$c;var Ei=po.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){b(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Mt(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(er(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof J?h:new J(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var g=this.getPane().children,E=-h(-1/0,1/0),R=0,H=g.length,te;R<H;R++)te=g[R].style.zIndex,g[R]!==this._container&&te&&(E=h(E,+te));isFinite(E)&&(this.options.zIndex=E+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Et.ielt9){Nn(this._container,this.options.opacity);var h=+new Date,g=!1,E=!1;for(var R in this._tiles){var H=this._tiles[R];if(!(!H.current||!H.loaded)){var te=Math.min(1,(h-H.loaded)/200);Nn(H.el,te),te<1?g=!0:(H.active?E=!0:this._onOpaqueTile(H),H.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),g&&(se(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,g=this.options.maxZoom;if(h!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===h?(this._levels[E].el.style.zIndex=g-Math.abs(h-E),this._onUpdateLevel(E)):(Mt(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var R=this._levels[h],H=this._map;return R||(R=this._levels[h]={},R.el=Fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=g,R.origin=H.project(H.unproject(H.getPixelOrigin()),h).round(),R.zoom=h,this._setZoomTransform(R,H.getCenter(),H.getZoom()),d(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var h,g,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)g=this._tiles[h],g.retain=g.current;for(h in this._tiles)if(g=this._tiles[h],g.current&&!g.active){var R=g.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var g in this._tiles)this._tiles[g].coords.z===h&&this._removeTile(g)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Mt(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,g,E,R){var H=Math.floor(h/2),te=Math.floor(g/2),we=E-1,Ge=new J(+H,+te);Ge.z=+we;var nt=this._tileCoordsToKey(Ge),xt=this._tiles[nt];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),we>R?this._retainParent(H,te,we,R):!1)},_retainChildren:function(h,g,E,R){for(var H=2*h;H<2*h+2;H++)for(var te=2*g;te<2*g+2;te++){var we=new J(H,te);we.z=E+1;var Ge=this._tileCoordsToKey(we),nt=this._tiles[Ge];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);E+1<R&&this._retainChildren(H,te,E+1,R)}},_resetView:function(h){var g=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var g=this.options;return g.minNativeZoom!==void 0&&h<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<h?g.maxNativeZoom:h},_setView:function(h,g,E,R){var H=Math.round(g);this.options.maxZoom!==void 0&&H>this.options.maxZoom||this.options.minZoom!==void 0&&H<this.options.minZoom?H=void 0:H=this._clampZoom(H);var te=this.options.updateWhenZooming&&H!==this._tileZoom;(!R||te)&&(this._tileZoom=H,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),H!==void 0&&this._update(h),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(h,g)},_setZoomTransforms:function(h,g){for(var E in this._levels)this._setZoomTransform(this._levels[E],h,g)},_setZoomTransform:function(h,g,E){var R=this._map.getZoomScale(E,h.zoom),H=h.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(g,E)).round();Et.any3d?Cr(h.el,H,R):Rr(h.el,H)},_resetGrid:function(){var h=this._map,g=h.options.crs,E=this._tileSize=this.getTileSize(),R=this._tileZoom,H=this._map.getPixelWorldBounds(this._tileZoom);H&&(this._globalTileRange=this._pxBoundsToTileRange(H)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,g.wrapLng[0]],R).x/E.x),Math.ceil(h.project([0,g.wrapLng[1]],R).x/E.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([g.wrapLat[0],0],R).y/E.x),Math.ceil(h.project([g.wrapLat[1],0],R).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var g=this._map,E=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),R=g.getZoomScale(E,this._tileZoom),H=g.project(h,this._tileZoom).floor(),te=g.getSize().divideBy(R*2);return new Ce(H.subtract(te),H.add(te))},_update:function(h){var g=this._map;if(g){var E=this._clampZoom(g.getZoom());if(h===void 0&&(h=g.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(h),H=this._pxBoundsToTileRange(R),te=H.getCenter(),we=[],Ge=this.options.keepBuffer,nt=new Ce(H.getBottomLeft().subtract([Ge,-Ge]),H.getTopRight().add([Ge,-Ge]));if(!(isFinite(H.min.x)&&isFinite(H.min.y)&&isFinite(H.max.x)&&isFinite(H.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var Qt=this._tiles[xt].coords;(Qt.z!==this._tileZoom||!nt.contains(new J(Qt.x,Qt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(h,E);return}for(var Wn=H.min.y;Wn<=H.max.y;Wn++)for(var Ar=H.min.x;Ar<=H.max.x;Ar++){var vo=new J(Ar,Wn);if(vo.z=this._tileZoom,!!this._isValidTile(vo)){var Ji=this._tiles[this._tileCoordsToKey(vo)];Ji?Ji.current=!0:we.push(vo)}}if(we.sort(function(Go,Bu){return Go.distanceTo(te)-Bu.distanceTo(te)}),we.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jo=document.createDocumentFragment();for(Ar=0;Ar<we.length;Ar++)this._addTile(we[Ar],jo);this._level.el.appendChild(jo)}}}},_isValidTile:function(h){var g=this._map.options.crs;if(!g.infinite){var E=this._globalTileRange;if(!g.wrapLng&&(h.x<E.min.x||h.x>E.max.x)||!g.wrapLat&&(h.y<E.min.y||h.y>E.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(h);return Ie(this.options.bounds).overlaps(R)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var g=this._map,E=this.getTileSize(),R=h.scaleBy(E),H=R.add(E),te=g.unproject(R,h.z),we=g.unproject(H,h.z);return[te,we]},_tileCoordsToBounds:function(h){var g=this._tileCoordsToNwSe(h),E=new tt(g[0],g[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var g=h.split(":"),E=new J(+g[0],+g[1]);return E.z=+g[2],E},_removeTile:function(h){var g=this._tiles[h];g&&(Mt(g.el),delete this._tiles[h],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){hn(h,"leaflet-tile");var g=this.getTileSize();h.style.width=g.x+"px",h.style.height=g.y+"px",h.onselectstart=d,h.onmousemove=d,Et.ielt9&&this.options.opacity<1&&Nn(h,this.options.opacity)},_addTile:function(h,g){var E=this._getTilePos(h),R=this._tileCoordsToKey(h),H=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(H),this.createTile.length<2&&ee(o(this._tileReady,this,h,null,H)),Rr(H,E),this._tiles[R]={el:H,coords:h,current:!0},g.appendChild(H),this.fire("tileloadstart",{tile:H,coords:h})},_tileReady:function(h,g,E){g&&this.fire("tileerror",{error:g,tile:E,coords:h});var R=this._tileCoordsToKey(h);E=this._tiles[R],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Nn(E.el,0),se(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),g||(hn(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Et.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var g=new J(this._wrapX?u(h.x,this._wrapX):h.x,this._wrapY?u(h.y,this._wrapY):h.y);return g.z=h.z,g},_pxBoundsToTileRange:function(h){var g=this.getTileSize();return new Ce(h.min.unscaleBy(g).floor(),h.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function Dy(h){return new Ei(h)}var Ho=Ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,g){this._url=h,g=b(this,g),g.detectRetina&&Et.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,g){return this._url===h&&g===void 0&&(g=!0),this._url=h,g||this.redraw(),this},createTile:function(h,g){var E=document.createElement("img");return tr(E,"load",o(this._tileOnLoad,this,g,E)),tr(E,"error",o(this._tileOnError,this,g,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(h),E},getTileUrl:function(h){var g={r:Et.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-h.y;this.options.tms&&(g.y=E),g["-y"]=E}return S(this._url,i(g,this.options))},_tileOnLoad:function(h,g){Et.ielt9?setTimeout(o(h,this,null,g),0):h(null,g)},_tileOnError:function(h,g,E){var R=this.options.errorTileUrl;R&&g.getAttribute("src")!==R&&(g.src=R),h(E,g)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,g=this.options.maxZoom,E=this.options.zoomReverse,R=this.options.zoomOffset;return E&&(h=g-h),h+R},_getSubdomain:function(h){var g=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var h,g;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(g=this._tiles[h].el,g.onload=d,g.onerror=d,!g.complete)){g.src=z;var E=this._tiles[h].coords;Mt(g),delete this._tiles[h],this.fire("tileabort",{tile:g,coords:E})}},_removeTile:function(h){var g=this._tiles[h];if(g)return g.el.setAttribute("src",z),Ei.prototype._removeTile.call(this,h)},_tileReady:function(h,g,E){if(!(!this._map||E&&E.getAttribute("src")===z))return Ei.prototype._tileReady.call(this,h,g,E)}});function il(h,g){return new Ho(h,g)}var Xc=Ho.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,g){this._url=h;var E=i({},this.defaultWmsParams);for(var R in g)R in this.options||(E[R]=g[R]);g=b(this,g);var H=g.detectRetina&&Et.retina?2:1,te=this.getTileSize();E.width=te.x*H,E.height=te.y*H,this.wmsParams=E},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Ho.prototype.onAdd.call(this,h)},getTileUrl:function(h){var g=this._tileCoordsToNwSe(h),E=this._crs,R=ze(E.project(g[0]),E.project(g[1])),H=R.min,te=R.max,we=(this._wmsVersion>=1.3&&this._crs===pa?[H.y,H.x,te.y,te.x]:[H.x,H.y,te.x,te.y]).join(","),Ge=Ho.prototype.getTileUrl.call(this,h);return Ge+w(this.wmsParams,Ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+we},setParams:function(h,g){return i(this.wmsParams,h),g||this.redraw(),this}});function Om(h,g){return new Xc(h,g)}Ho.WMS=Xc,il.wms=Om;var Fa=po.extend({options:{padding:.1},initialize:function(h){b(this,h),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),hn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,g){var E=this._map.getZoomScale(g,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),H=this._map.project(this._center,g),te=R.multiplyBy(-E).add(H).subtract(this._map._getNewPixelOrigin(h,g));Et.any3d?Cr(this._container,te,E):Rr(this._container,te)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,g=this._map.getSize(),E=this._map.containerPointToLayerPoint(g.multiplyBy(-h)).round();this._bounds=new Ce(E,E.add(g.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ny=Fa.extend({options:{tolerance:0},getEvents:function(){var h=Fa.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");tr(h,"mousemove",this._onMouseMove,this),tr(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tr(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){se(this._redrawRequest),delete this._ctx,Mt(this._container),Lr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var g in this._layers)h=this._layers[g],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fa.prototype._update.call(this);var h=this._bounds,g=this._container,E=h.getSize(),R=Et.retina?2:1;Rr(g,h.min),g.width=R*E.x,g.height=R*E.y,g.style.width=E.x+"px",g.style.height=E.y+"px",Et.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[l(h)]=h;var g=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var g=h._order,E=g.next,R=g.prev;E?E.prev=R:this._drawLast=R,R?R.next=E:this._drawFirst=E,delete h._order,delete this._layers[l(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var g=h.options.dashArray.split(/[, ]+/),E=[],R,H;for(H=0;H<g.length;H++){if(R=Number(g[H]),isNaN(R))return;E.push(R)}h.options._dashArray=E}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var g=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ce,this._redrawBounds.extend(h._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(h._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var g=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,g=this._redrawBounds;if(this._ctx.save(),g){var E=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)h=R.layer,(!g||h._pxBounds&&h._pxBounds.intersects(g))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,g){if(this._drawing){var E,R,H,te,we=h._parts,Ge=we.length,nt=this._ctx;if(Ge){for(nt.beginPath(),E=0;E<Ge;E++){for(R=0,H=we[E].length;R<H;R++)te=we[E][R],nt[R?"lineTo":"moveTo"](te.x,te.y);g&&nt.closePath()}this._fillStroke(nt,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var g=h._point,E=this._ctx,R=Math.max(Math.round(h._radius),1),H=(Math.max(Math.round(h._radiusY),1)||R)/R;H!==1&&(E.save(),E.scale(1,H)),E.beginPath(),E.arc(g.x,g.y/H,R,0,Math.PI*2,!1),H!==1&&E.restore(),this._fillStroke(E,h)}},_fillStroke:function(h,g){var E=g.options;E.fill&&(h.globalAlpha=E.fillOpacity,h.fillStyle=E.fillColor||E.color,h.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(h.setLineDash&&h.setLineDash(g.options&&g.options._dashArray||[]),h.globalAlpha=E.opacity,h.lineWidth=E.weight,h.strokeStyle=E.color,h.lineCap=E.lineCap,h.lineJoin=E.lineJoin,h.stroke())},_onClick:function(h){for(var g=this._map.mouseEventToLayerPoint(h),E,R,H=this._drawFirst;H;H=H.next)E=H.layer,E.options.interactive&&E._containsPoint(g)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(E))&&(R=E);this._fireEvent(R?[R]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,g)}},_handleMouseOut:function(h){var g=this._hoveredLayer;g&&(on(this._container,"leaflet-interactive"),this._fireEvent([g],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,g){if(!this._mouseHoverThrottled){for(var E,R,H=this._drawFirst;H;H=H.next)E=H.layer,E.options.interactive&&E._containsPoint(g)&&(R=E);R!==this._hoveredLayer&&(this._handleMouseOut(h),R&&(hn(this._container,"leaflet-interactive"),this._fireEvent([R],h,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,g,E){this._map._fireDOMEvent(g,E||g.type,h)},_bringToFront:function(h){var g=h._order;if(g){var E=g.next,R=g.prev;if(E)E.prev=R;else return;R?R.next=E:E&&(this._drawFirst=E),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(h)}},_bringToBack:function(h){var g=h._order;if(g){var E=g.next,R=g.prev;if(R)R.next=E;else return;E?E.prev=R:R&&(this._drawLast=R),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(h)}}});function By(h){return Et.canvas?new Ny(h):null}var $h=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),R1={_initContainer:function(){this._container=Fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fa.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var g=h._container=$h("shape");hn(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",h._path=$h("path"),g.appendChild(h._path),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){var g=h._container;this._container.appendChild(g),h.options.interactive&&h.addInteractiveTarget(g)},_removePath:function(h){var g=h._container;Mt(g),h.removeInteractiveTarget(g),delete this._layers[l(h)]},_updateStyle:function(h){var g=h._stroke,E=h._fill,R=h.options,H=h._container;H.stroked=!!R.stroke,H.filled=!!R.fill,R.stroke?(g||(g=h._stroke=$h("stroke")),H.appendChild(g),g.weight=R.weight+"px",g.color=R.color,g.opacity=R.opacity,R.dashArray?g.dashStyle=C(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=R.lineCap.replace("butt","flat"),g.joinstyle=R.lineJoin):g&&(H.removeChild(g),h._stroke=null),R.fill?(E||(E=h._fill=$h("fill")),H.appendChild(E),E.color=R.fillColor||R.color,E.opacity=R.fillOpacity):E&&(H.removeChild(E),h._fill=null)},_updateCircle:function(h){var g=h._point.round(),E=Math.round(h._radius),R=Math.round(h._radiusY||E);this._setPath(h,h._empty()?"M0 0":"AL "+g.x+","+g.y+" "+E+","+R+" 0,"+65535*360)},_setPath:function(h,g){h._path.v=g},_bringToFront:function(h){Yn(h._container)},_bringToBack:function(h){er(h._container)}},Nf=Et.vml?$h:bt,Wh=Fa.extend({_initContainer:function(){this._container=Nf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mt(this._container),Lr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fa.prototype._update.call(this);var h=this._bounds,g=h.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,E.setAttribute("width",g.x),E.setAttribute("height",g.y)),Rr(E,h.min),E.setAttribute("viewBox",[h.min.x,h.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(h){var g=h._path=Nf("path");h.options.className&&hn(g,h.options.className),h.options.interactive&&hn(g,"leaflet-interactive"),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Mt(h._path),h.removeInteractiveTarget(h._path),delete this._layers[l(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var g=h._path,E=h.options;g&&(E.stroke?(g.setAttribute("stroke",E.color),g.setAttribute("stroke-opacity",E.opacity),g.setAttribute("stroke-width",E.weight),g.setAttribute("stroke-linecap",E.lineCap),g.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?g.setAttribute("stroke-dasharray",E.dashArray):g.removeAttribute("stroke-dasharray"),E.dashOffset?g.setAttribute("stroke-dashoffset",E.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),E.fill?(g.setAttribute("fill",E.fillColor||E.color),g.setAttribute("fill-opacity",E.fillOpacity),g.setAttribute("fill-rule",E.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(h,g){this._setPath(h,mt(h._parts,g))},_updateCircle:function(h){var g=h._point,E=Math.max(Math.round(h._radius),1),R=Math.max(Math.round(h._radiusY),1)||E,H="a"+E+","+R+" 0 1,0 ",te=h._empty()?"M0 0":"M"+(g.x-E)+","+g.y+H+E*2+",0 "+H+-E*2+",0 ";this._setPath(h,te)},_setPath:function(h,g){h._path.setAttribute("d",g)},_bringToFront:function(h){Yn(h._path)},_bringToBack:function(h){er(h._path)}});Et.vml&&Wh.include(R1);function Dm(h){return Et.svg||Et.vml?new Wh(h):null}dn.include({getRenderer:function(h){var g=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var g=this._paneRenderers[h];return g===void 0&&(g=this._createRenderer({pane:h}),this._paneRenderers[h]=g),g},_createRenderer:function(h){return this.options.preferCanvas&&By(h)||Dm(h)}});var Xh=va.extend({initialize:function(h,g){va.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Ie(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function L1(h,g){return new Xh(h,g)}Wh.create=Nf,Wh.pointsToPath=mt,Ls.geometryToLayer=ls,Ls.coordsToLatLng=Ba,Ls.coordsToLatLngs=Qs,Ls.latLngToCoords=ue,Ls.latLngsToCoords=Pe,Ls.getFeature=je,Ls.asFeature=Ye,dn.mergeOptions({boxZoom:!0});var Bf=Q.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){tr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oa(),fc(),this._startPoint=this._map.mouseEventToContainerPoint(h),tr(document,{contextmenu:da,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Fe("div","leaflet-zoom-box",this._container),hn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var g=new Ce(this._point,this._startPoint),E=g.getSize();Rr(this._box,g.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Mt(this._box),on(this._container,"leaflet-crosshair")),Bo(),tl(),Lr(document,{contextmenu:da,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});dn.addInitHook("addHandler","boxZoom",Bf),dn.mergeOptions({doubleClickZoom:!0});var Ff=Q.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var g=this._map,E=g.getZoom(),R=g.options.zoomDelta,H=h.originalEvent.shiftKey?E-R:E+R;g.options.doubleClickZoom==="center"?g.setZoom(H):g.setZoomAround(h.containerPoint,H)}});dn.addInitHook("addHandler","doubleClickZoom",Ff),dn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nm=Q.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new ke(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}hn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=Ie(this._map.options.maxBounds);this._offsetLimit=ze(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var g=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(g),this._prunePositions(g)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,g){return h-(h-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;h.x<g.min.x&&(h.x=this._viscousLimit(h.x,g.min.x)),h.y<g.min.y&&(h.y=this._viscousLimit(h.y,g.min.y)),h.x>g.max.x&&(h.x=this._viscousLimit(h.x,g.max.x)),h.y>g.max.y&&(h.y=this._viscousLimit(h.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,g=Math.round(h/2),E=this._initialWorldOffset,R=this._draggable._newPos.x,H=(R-g+E)%h+g-E,te=(R+g+E)%h-g-E,we=Math.abs(H+E)<Math.abs(te+E)?H:te;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=we},_onDragEnd:function(h){var g=this._map,E=g.options,R=!E.inertia||h.noInertia||this._times.length<2;if(g.fire("dragend",h),R)g.fire("moveend");else{this._prunePositions(+new Date);var H=this._lastPos.subtract(this._positions[0]),te=(this._lastTime-this._times[0])/1e3,we=E.easeLinearity,Ge=H.multiplyBy(we/te),nt=Ge.distanceTo([0,0]),xt=Math.min(E.inertiaMaxSpeed,nt),Qt=Ge.multiplyBy(xt/nt),Wn=xt/(E.inertiaDeceleration*we),Ar=Qt.multiplyBy(-Wn/2).round();!Ar.x&&!Ar.y?g.fire("moveend"):(Ar=g._limitOffset(Ar,g.options.maxBounds),ee(function(){g.panBy(Ar,{duration:Wn,easeLinearity:we,noMoveStart:!0,animate:!0})}))}}});dn.addInitHook("addHandler","dragging",Nm),dn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qh=Q.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),tr(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,g=document.documentElement,E=h.scrollTop||g.scrollTop,R=h.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(R,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var g=this._panKeys={},E=this.keyCodes,R,H;for(R=0,H=E.left.length;R<H;R++)g[E.left[R]]=[-1*h,0];for(R=0,H=E.right.length;R<H;R++)g[E.right[R]]=[h,0];for(R=0,H=E.down.length;R<H;R++)g[E.down[R]]=[0,h];for(R=0,H=E.up.length;R<H;R++)g[E.up[R]]=[0,-1*h]},_setZoomDelta:function(h){var g=this._zoomKeys={},E=this.keyCodes,R,H;for(R=0,H=E.zoomIn.length;R<H;R++)g[E.zoomIn[R]]=h;for(R=0,H=E.zoomOut.length;R<H;R++)g[E.zoomOut[R]]=-h},_addHooks:function(){tr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var g=h.keyCode,E=this._map,R;if(g in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(R=this._panKeys[g],h.shiftKey&&(R=re(R).multiplyBy(3)),E.options.maxBounds&&(R=E._limitOffset(re(R),E.options.maxBounds)),E.options.worldCopyJump){var H=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(R)));E.panTo(H)}else E.panBy(R)}else if(g in this._zoomKeys)E.setZoom(E.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;da(h)}}});dn.addInitHook("addHandler","keyboard",qh),dn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fy=Q.extend({addHooks:function(){tr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var g=Oe(h),E=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var R=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),da(h)},_performZoom:function(){var h=this._map,g=h.getZoom(),E=this._map.options.zoomSnap||0;h._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),H=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,te=E?Math.ceil(H/E)*E:H,we=h._limitZoom(g+(this._delta>0?te:-te))-g;this._delta=0,this._startTime=null,we&&(h.options.scrollWheelZoom==="center"?h.setZoom(g+we):h.setZoomAround(this._lastMousePos,g+we))}});dn.addInitHook("addHandler","scrollWheelZoom",Fy);var k1=600;dn.mergeOptions({tapHold:Et.touchNative&&Et.safari&&Et.mobile,tapTolerance:15});var Uy=Q.extend({addHooks:function(){tr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var g=h.touches[0];this._startPos=this._newPos=new J(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tr(document,"touchend",Li),tr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),k1),tr(document,"touchend touchcancel contextmenu",this._cancel,this),tr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Lr(document,"touchend",Li),Lr(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Lr(document,"touchend touchcancel contextmenu",this._cancel,this),Lr(document,"touchmove",this._onMove,this)},_onMove:function(h){var g=h.touches[0];this._newPos=new J(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,g){var E=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});E._simulated=!0,g.target.dispatchEvent(E)}});dn.addInitHook("addHandler","tapHold",Uy),dn.mergeOptions({touchZoom:Et.touch,bounceAtZoomLimits:!0});var zy=Q.extend({addHooks:function(){hn(this._map._container,"leaflet-touch-zoom"),tr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),Lr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var g=this._map;if(!(!h.touches||h.touches.length!==2||g._animatingZoom||this._zooming)){var E=g.mouseEventToContainerPoint(h.touches[0]),R=g.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(E.add(R)._divideBy(2))),this._startDist=E.distanceTo(R),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),tr(document,"touchmove",this._onTouchMove,this),tr(document,"touchend touchcancel",this._onTouchEnd,this),Li(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var g=this._map,E=g.mouseEventToContainerPoint(h.touches[0]),R=g.mouseEventToContainerPoint(h.touches[1]),H=E.distanceTo(R)/this._startDist;if(this._zoom=g.getScaleZoom(H,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&H<1||this._zoom>g.getMaxZoom()&&H>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,H===1)return}else{var te=E._add(R)._divideBy(2)._subtract(this._centerPoint);if(H===1&&te.x===0&&te.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(te),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),se(this._animRequest);var we=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(we,this,!0),Li(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,se(this._animRequest),Lr(document,"touchmove",this._onTouchMove,this),Lr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});dn.addInitHook("addHandler","touchZoom",zy),dn.BoxZoom=Bf,dn.DoubleClickZoom=Ff,dn.Drag=Nm,dn.Keyboard=qh,dn.ScrollWheelZoom=Fy,dn.TapHold=Uy,dn.TouchZoom=zy,n.Bounds=Ce,n.Browser=Et,n.CRS=qe,n.Canvas=Ny,n.Circle=ga,n.CircleMarker=xs,n.Class=me,n.Control=Vn,n.DivIcon=ai,n.DivOverlay=$t,n.DomEvent=nn,n.DomUtil=kl,n.Draggable=ke,n.Evented=Ue,n.FeatureGroup=_n,n.GeoJSON=Ls,n.GridLayer=Ei,n.Handler=Q,n.Icon=oi,n.ImageOverlay=cn,n.LatLng=Xe,n.LatLngBounds=tt,n.Layer=po,n.LayerGroup=Ki,n.LineUtil=Ai,n.Map=dn,n.Marker=vc,n.Mixin=_e,n.Path=Zs,n.Point=J,n.PolyUtil=wt,n.Polygon=va,n.Polyline=go,n.Popup=kr,n.PosAnimation=Jn,n.Projection=ki,n.Rectangle=Xh,n.Renderer=Fa,n.SVG=Wh,n.SVGOverlay=an,n.TileLayer=Ho,n.Tooltip=mi,n.Transformation=rn,n.Util=ne,n.VideoOverlay=zn,n.bind=o,n.bounds=ze,n.canvas=By,n.circle=yc,n.circleMarker=jh,n.control=or,n.divIcon=Bl,n.extend=i,n.featureGroup=Dl,n.geoJSON=It,n.geoJson=Kt,n.gridLayer=Dy,n.icon=gc,n.imageOverlay=Wt,n.latLng=Re,n.latLngBounds=Ie,n.layerGroup=mo,n.map=Pr,n.marker=Nl,n.point=re,n.polygon=Nu,n.polyline=Gh,n.popup=Yi,n.rectangle=L1,n.setOptions=b,n.stamp=l,n.svg=Dm,n.svgOverlay=On,n.tileLayer=il,n.tooltip=Vo,n.transformation=We,n.version=r,n.videoOverlay=Rn;var Vy=window.L;n.noConflict=function(){return window.L=Vy,this},window.L=n})})(ND,ND.exports);var tP=ND.exports;function FU(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function UU(t,e){return e==null?function(r,i){const s=G.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=G.useRef();s.current||(s.current=t(r,i));const o=G.useRef(r),{instance:a}=s.current;return G.useEffect(function(){o.current!==r&&(e(a,r,o.current),o.current=r)},[a,r,i]),s}}function rHe(t,e){G.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Xne(t){return function(n){const r=$ne(),i=t(BU(n,r),r);return Hne(r.map,n.attribution),Wne(i.current,n.eventHandlers),rHe(i.current,r),i}}function iHe(t,e){const n=UU(t,e),r=Xne(n);return Q9e(r)}function sHe(t,e){const n=UU(t),r=nHe(n,e);return eHe(r)}function oHe(t,e){const n=UU(t,e),r=Xne(n);return tHe(r)}function aHe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function BD(){return BD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BD.apply(this,arguments)}function lHe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:o,style:a,whenReady:l,zoom:c,...u},d){const[f]=G.useState({className:i,id:s,style:a}),[v,y]=G.useState(null);G.useImperativeHandle(d,()=>(v==null?void 0:v.map)??null,[v]);const b=G.useCallback(_=>{if(_!==null&&v===null){const S=new tP.Map(_,u);n!=null&&c!=null?S.setView(n,c):t!=null&&S.fitBounds(t,e),l!=null&&S.whenReady(l),y(J9e(S))}},[]);G.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const w=v?Te.createElement(Gne,{value:v},r):o??null;return Te.createElement("div",BD({},f,{ref:b}),w)}const cHe=G.forwardRef(lHe),uHe=iHe(function({position:e,...n},r){const i=new tP.Marker(e,n);return FU(i,Z9e(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),hHe=sHe(function(e,n){const r=new tP.Popup(e,n.overlayContainer);return FU(r,n)},function(e,n,{position:r},i){G.useEffect(function(){const{instance:o}=e;function a(c){c.popup===o&&(o.update(),i(!0))}function l(c){c.popup===o&&i(!1)}return n.map.on({popupopen:a,popupclose:l}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var u;n.map.off({popupopen:a,popupclose:l}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,r])}),dHe=oHe(function({url:e,...n},r){const i=new tP.TileLayer(e,BU(n,r));return FU(i,r)},function(e,n,r){aHe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});function fHe(){const t=[35.652832,139.839478];return V.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"30vh"},children:V.jsxs(cHe,{center:t,zoom:13,style:{height:"300px",width:"500px"},children:[V.jsx(dHe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),V.jsx(uHe,{position:t,children:V.jsxs(hHe,{children:["A pretty CSS3 popup. ",V.jsx("br",{})," Easily customizable."]})})]})})}var qne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mG=Te.createContext&&Te.createContext(qne),pHe=["attr","size","title"];function mHe(t,e){if(t==null)return{};var n=gHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(this,arguments)}function gG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gG(Object(n),!0).forEach(function(r){vHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vHe(t,e,n){return e=yHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yHe(t){var e=_He(t,"string");return typeof e=="symbol"?e:e+""}function _He(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t){return t&&t.map((e,n)=>Te.createElement(e.tag,zT({key:n},e.attr),Kne(e.child)))}function zU(t){return e=>Te.createElement(xHe,UT({attr:zT({},t.attr)},e),Kne(t.child))}function xHe(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=mHe(t,pHe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Te.createElement("svg",UT({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:zT(zT({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Te.createElement("title",null,s),t.children)};return mG!==void 0?Te.createElement(mG.Consumer,null,n=>e(n)):e(qne)}function bHe(t){return zU({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function wHe(t){return zU({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function SHe(t){return zU({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function AHe(){const t=Rh({from:{opacity:0},to:{opacity:1},config:{duration:500}});return V.jsxs(Lh.div,{style:t,className:"App",children:[V.jsx(Cm,{title:"Soporte"}),V.jsxs("main",{className:"support-main",children:[V.jsx("section",{className:"support-intro",children:V.jsx("p",{className:"support-text",children:"Bienvenido a nuestra página de soporte. Aquí puedes encontrar ayuda y recursos relacionados con nuestros productos y servicios."})}),V.jsxs("section",{className:"support-faq",children:[V.jsx("h1",{className:"support-title",children:"Preguntas Frecuentes (FAQ)"}),V.jsxs(aZ,{allowMultiple:!0,children:[V.jsxs(zA,{children:[V.jsx("h2",{children:V.jsxs(FA,{className:"accordion-button",_expanded:{bg:"linear-gradient(90deg, rgba(34,193,195,1) 0%, rgba(253,187,45,1) 100%)",color:"#ff69b4"},children:[V.jsx($p,{flex:"1",textAlign:"left",fontSize:"2xl",fontWeight:"bold",children:"Cuenta y Registro"}),V.jsx(UA,{})]})}),V.jsx(VA,{pb:4,fontSize:"lg",children:V.jsxs("ul",{children:[V.jsx("li",{className:"support-list-item",children:"¿Cómo creo una cuenta?"}),V.jsx("li",{className:"support-list-item",children:"¿Cómo restablezco mi contraseña?"}),V.jsx("li",{className:"support-list-item",children:"¿Qué hago si olvido mi nombre de usuario?"})]})})]}),V.jsxs(zA,{children:[V.jsx("h2",{children:V.jsxs(FA,{className:"accordion-button",_expanded:{bg:"linear-gradient(90deg, rgba(34,193,195,1) 0%, rgba(253,187,45,1) 100%)",color:"#ff69b4"},children:[V.jsx($p,{flex:"1",textAlign:"left",fontSize:"2xl",fontWeight:"bold",children:"Depósitos y Retiros"}),V.jsx(UA,{})]})}),V.jsx(VA,{pb:4,fontSize:"lg",children:V.jsxs("ul",{children:[V.jsx("li",{className:"support-list-item",children:"¿Cuáles son los métodos de pago disponibles?"}),V.jsx("li",{className:"support-list-item",children:"¿Cómo realizo un depósito?"}),V.jsx("li",{className:"support-list-item",children:"¿Cómo solicito un retiro?"})]})})]}),V.jsxs(zA,{children:[V.jsx("h2",{children:V.jsxs(FA,{className:"accordion-button",_expanded:{bg:"linear-gradient(90deg, rgba(34,193,195,1) 0%, rgba(253,187,45,1) 100%)",color:"#ff69b4"},children:[V.jsx($p,{flex:"1",textAlign:"left",fontSize:"2xl",fontWeight:"bold",children:"Bonos y Promociones"}),V.jsx(UA,{})]})}),V.jsx(VA,{pb:4,fontSize:"lg",children:V.jsxs("ul",{children:[V.jsx("li",{className:"support-list-item",children:"¿Cómo reclamo un bono?"}),V.jsx("li",{className:"support-list-item",children:"¿Cuáles son los términos y condiciones de los bonos?"})]})})]})]})]}),V.jsxs("section",{className:"support-contact",children:[V.jsx("h1",{className:"support-title",children:"Contacto Directo"}),V.jsxs("article",{className:"support-contact-method",children:[V.jsx("h2",{className:"support-subtitle",children:"Chat en Vivo"}),V.jsx("p",{className:"support-contact-detail",children:"Habla en tiempo real con uno de nuestros agentes. Disponible 24/7."})]}),V.jsxs("article",{className:"support-contact-method",children:[V.jsx("h2",{className:"support-subtitle",children:"Correo Electrónico"}),V.jsx("p",{className:"support-contact-detail",children:"Envíanos un correo a info@quantumbetbot.com y responderemos en menos de 24 horas."})]}),V.jsxs("article",{className:"support-contact-method",children:[V.jsx("h2",{className:"support-subtitle",children:"Teléfono"}),V.jsx("p",{className:"support-contact-detail",children:"Llámanos al +34 911 21 00 90. Atención disponible de 8 AM a 10 PM (horario local)."})]})]}),V.jsx("section",{className:"support-map",children:V.jsx(fHe,{})}),V.jsx("section",{className:"support-social",children:V.jsxs("div",{className:"social-icons",children:[V.jsx(SHe,{}),V.jsx(bHe,{}),V.jsx(wHe,{})]})})]})]})}function EHe(){return V.jsx(Foe,{children:V.jsx(Yq,{children:V.jsxs(Roe,{children:[V.jsx(Ec,{path:"/Contact",element:V.jsx(J5e,{})}),V.jsx(Ec,{path:"/Login",element:V.jsx(Z5e,{})}),V.jsx(Ec,{path:"/",element:V.jsx(R5e,{})}),V.jsx(Ec,{path:"/Promotions",element:V.jsx(K9e,{})}),V.jsx(Ec,{path:"/Support",element:V.jsx(AHe,{})}),V.jsx(Ec,{path:"/Register",element:V.jsx(Q5e,{})}),V.jsx(Ec,{path:"/BlackJack",element:V.jsx(SVe,{})}),V.jsx(Ec,{path:"/Roulette",element:V.jsx(yVe,{})}),V.jsx(Ec,{path:"/Games",element:V.jsx(CD,{children:V.jsx(G9e,{})})}),V.jsx(Ec,{path:"/Profile",element:V.jsx(CD,{children:V.jsx(eVe,{})})})]})})})}const THe=A2.createRoot(document.getElementById("root"));THe.render(V.jsx(Te.StrictMode,{children:V.jsx(EHe,{})}));
